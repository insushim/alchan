{"version":3,"file":"static/js/614.cbecdb64.chunk.js","mappings":"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","sources":["components/LoginWarning.js","components/modals/TransferModal.js","pages/my-assets/MyAssets.js"],"sourcesContent":["// src/LoginWarning.js\r\nimport React from \"react\";\r\n\r\nconst LoginWarning = () => {\r\n  return (\r\n    <div className=\"login-warning\">\r\n      <h3>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</h3>\r\n      <p>ì•„ì´í…œì„ êµ¬ë§¤í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ë ¤ë©´ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginWarning;\r\n","// src/TransferModal.js\n// ğŸ”¥ ì„±ëŠ¥ ìµœì í™”: React.memo ì ìš©\nimport React, { memo } from \"react\";\n\nconst TransferModal = memo(function TransferModal({\n  showTransferModal,\n  setShowTransferModal,\n  recipients = [],\n  transferRecipient,\n  setTransferRecipient,\n  transferAmount,\n  setTransferAmount,\n  handleTransfer,\n  userId,\n  userCash = 0,\n}) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handleTransfer();\n  };\n\n  // ìœ íš¨í•œ ìˆ˜ì‹ ì ëª©ë¡ í•„í„°ë§ (ë³¸ì¸ ì œì™¸) ë° ê°€ë‚˜ë‹¤ìˆœ ì •ë ¬\n  const validRecipients = recipients\n    .filter((r) => r && r.id && r.id !== userId)\n    .sort((a, b) => {\n      const nameA = a.name || a.nickname || `ì‚¬ìš©ì ${a.id.substring(0, 6)}`;\n      const nameB = b.name || b.nickname || `ì‚¬ìš©ì ${b.id.substring(0, 6)}`;\n      return nameA.localeCompare(nameB, \"ko\");\n    });\n\n  return (\n    <div\n      className={`${showTransferModal ? \"flex\" : \"hidden\"} fixed inset-0 bg-black/60 items-center justify-center z-[1000] p-5`}\n      onClick={() => setShowTransferModal(false)}\n    >\n      <div\n        className=\"rounded-xl p-8 max-w-[450px] w-full relative\"\n        style={{\n          backgroundColor: \"#1a1a2e\",\n          border: \"1px solid rgba(0, 255, 242, 0.25)\",\n          boxShadow:\n            \"0 10px 40px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 255, 242, 0.1)\",\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button\n          onClick={() => setShowTransferModal(false)}\n          className=\"absolute top-4 right-4 bg-transparent border-0 text-2xl cursor-pointer p-0 w-8 h-8 flex items-center justify-center\"\n          style={{ color: \"#9999bb\" }}\n          aria-label=\"ë‹«ê¸°\"\n        >\n          Ã—\n        </button>\n\n        <h2\n          className=\"text-xl font-semibold mb-6\"\n          style={{\n            color: \"#00fff2\",\n            textShadow: \"0 0 10px rgba(0, 255, 242, 0.4)\",\n          }}\n        >\n          ğŸ’¸ ì†¡ê¸ˆí•˜ê¸°\n        </h2>\n\n        <div\n          className=\"rounded-lg p-3 mb-5\"\n          style={{\n            backgroundColor: \"rgba(0, 255, 242, 0.06)\",\n            border: \"1px solid rgba(0, 255, 242, 0.15)\",\n          }}\n        >\n          <p className=\"text-sm m-0\" style={{ color: \"#9999bb\" }}>\n            í˜„ì¬ ë³´ìœ  í˜„ê¸ˆ:{\" \"}\n            <strong style={{ color: \"#00fff2\" }}>\n              {userCash.toLocaleString()}ì›\n            </strong>\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-5\">\n            <label\n              className=\"block mb-2 text-sm font-medium\"\n              style={{ color: \"#e8e8ff\" }}\n            >\n              ë°›ëŠ” ì‚¬ëŒ\n            </label>\n            <select\n              value={transferRecipient}\n              onChange={(e) => setTransferRecipient(e.target.value)}\n              className=\"w-full px-3 py-2.5 rounded-lg text-sm outline-none cursor-pointer\"\n              style={{\n                backgroundColor: \"#0f0f23\",\n                border: \"1px solid rgba(0, 255, 242, 0.2)\",\n                color: \"#e8e8ff\",\n              }}\n              required\n            >\n              <option value=\"\">ë°›ëŠ” ë¶„ì„ ì„ íƒí•˜ì„¸ìš”</option>\n              {validRecipients.length > 0 ? (\n                validRecipients.map((recipient) => (\n                  <option key={recipient.id} value={recipient.id}>\n                    {recipient.name ||\n                      recipient.nickname ||\n                      `ì‚¬ìš©ì ${recipient.id.substring(0, 6)}`}\n                  </option>\n                ))\n              ) : (\n                <option value=\"\" disabled>\n                  ì†¡ê¸ˆ ê°€ëŠ¥í•œ í•™ê¸‰ ì¹œêµ¬ê°€ ì—†ìŠµë‹ˆë‹¤\n                </option>\n              )}\n            </select>\n            {validRecipients.length === 0 && (\n              <p className=\"mt-2 text-xs\" style={{ color: \"#ff3366\" }}>\n                âš ï¸ ê°™ì€ í•™ê¸‰ì˜ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ì—†ê±°ë‚˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.\n              </p>\n            )}\n          </div>\n\n          <div className=\"mb-6\">\n            <label\n              className=\"block mb-2 text-sm font-medium\"\n              style={{ color: \"#e8e8ff\" }}\n            >\n              ì†¡ê¸ˆ ê¸ˆì•¡\n            </label>\n            <input\n              type=\"number\"\n              value={transferAmount}\n              onChange={(e) => setTransferAmount(e.target.value)}\n              placeholder=\"ì†¡ê¸ˆí•  ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”\"\n              className=\"w-full px-3 py-2.5 rounded-lg text-sm outline-none\"\n              style={{\n                backgroundColor: \"#0f0f23\",\n                border: \"1px solid rgba(0, 255, 242, 0.2)\",\n                color: \"#e8e8ff\",\n              }}\n              min=\"1\"\n              max={userCash}\n              required\n            />\n            {transferAmount && parseInt(transferAmount) > userCash && (\n              <p className=\"mt-2 text-xs\" style={{ color: \"#ff3366\" }}>\n                ë³´ìœ  í˜„ê¸ˆë³´ë‹¤ ë§ì€ ê¸ˆì•¡ì€ ì†¡ê¸ˆí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n              </p>\n            )}\n          </div>\n\n          <div\n            className=\"flex justify-end pt-4\"\n            style={{ borderTop: \"1px solid rgba(0, 255, 242, 0.1)\" }}\n          >\n            <button\n              type=\"button\"\n              onClick={() => setShowTransferModal(false)}\n              className=\"px-5 py-2.5 rounded-lg border-0 text-sm font-medium cursor-pointer mr-2.5\"\n              style={{\n                backgroundColor: \"rgba(255, 255, 255, 0.08)\",\n                color: \"#9999bb\",\n              }}\n            >\n              ì·¨ì†Œ\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-5 py-2.5 rounded-lg border-0 text-sm font-medium cursor-pointer disabled:cursor-not-allowed disabled:opacity-40\"\n              style={{\n                background: \"linear-gradient(135deg, #00fff2, #8b5cf6)\",\n                color: \"#0a0a12\",\n                fontWeight: 700,\n              }}\n              disabled={\n                !transferRecipient ||\n                !transferAmount ||\n                parseInt(transferAmount) > userCash ||\n                validRecipients.length === 0\n              }\n            >\n              ì†¡ê¸ˆ\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n});\n\nexport default TransferModal;\n","// src/pages/my-assets/MyAssets.js - Firestore ì§ì ‘ ì¡°íšŒ ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •ëœ ìµœì¢… ë²„ì „\nimport React, {\n  useState,\n  useEffect,\n  useCallback,\n  useRef,\n  useMemo,\n} from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport {\n  db,\n  doc,\n  getDoc,\n  setDoc,\n  serverTimestamp,\n  increment,\n  writeBatch,\n  arrayUnion,\n  getDocs,\n  collection,\n  query,\n  where,\n  functions,\n  httpsCallable,\n} from \"../../firebase\";\nimport { limit, runTransaction } from \"firebase/firestore\";\nimport { formatKoreanCurrency } from \"../../utils/numberFormatter\";\nimport {\n  logActivity,\n  ACTIVITY_TYPES,\n  safeTimestampToDate,\n  getCachedFirestoreData,\n  setCachedFirestoreData,\n} from \"../../utils/firestoreHelpers\";\nimport LoginWarning from \"../../components/LoginWarning\";\nimport TransferModal from \"../../components/modals/TransferModal\";\nimport { AlchanLoading } from \"../../components/AlchanLayout\";\nimport { DailyRewardBanner } from \"../../components/DailyReward\";\n\nimport { logger } from \"../../utils/logger\";\nexport default function MyAssets() {\n  const {\n    user,\n    userDoc,\n    users, // ì „ì²´ ì‚¬ìš©ì ëª©ë¡ (ì†¡ê¸ˆ ëŒ€ìƒ ì°¾ê¸° ë“±ì—ì„œ í•„ìš”)\n    classmates, // 'ë‚˜'ë¥¼ ì œì™¸í•œ í•™ê¸‰ ì¹œêµ¬ ëª©ë¡ (ì†¡ê¸ˆ, ì„ ë¬¼ ëª¨ë‹¬ìš©)\n    allClassMembers, // ğŸ”¥ [ì¶”ê°€] 'ë‚˜'ë¥¼ í¬í•¨í•œ í•™ê¸‰ ì „ì²´ êµ¬ì„±ì› ëª©ë¡ (ê¸°ë¶€ ë‚´ì—­ ëª¨ë‹¬ìš©)\n    loading: authLoading,\n    updateUser: updateUserInAuth,\n    addCashToUserById,\n    deductCash,\n    optimisticUpdate,\n  } = useAuth();\n\n  const userId = user?.uid;\n  const userName =\n    userDoc?.name || userDoc?.nickname || user?.displayName || \"ì‚¬ìš©ì\";\n  const currentUserClassCode = userDoc?.classCode;\n\n  // ğŸ”¥ [ìµœì í™” 1] ìƒíƒœ ë° ë ˆí¼ëŸ°ìŠ¤\n  const [assetsLoading, setAssetsLoading] = useState(true);\n  const loadingRef = useRef(false); // ë¡œë”© ì¤‘ë³µ ë°©ì§€ìš© í”Œë˜ê·¸\n  const dataFetchRef = useRef({}); // ë°ì´í„° í˜ì¹˜ ì‹œê°„ ì¶”ì ìš©\n  const [parkingBalance, setParkingBalance] = useState(0);\n  const [deposits, setDeposits] = useState([]); // ì˜ˆê¸ˆ ìƒí’ˆ ëª©ë¡\n  const [savings, setSavings] = useState([]); // ì ê¸ˆ ìƒí’ˆ ëª©ë¡\n  const [loans, setLoans] = useState([]);\n  const [realEstateAssets, setRealEstateAssets] = useState([]);\n  const [totalNetAssets, setTotalNetAssets] = useState(0);\n  const [goalDonations, setGoalDonations] = useState([]);\n  const [transactionHistory, setTransactionHistory] = useState([]);\n  const [forceReload, setForceReload] = useState(0); // ìºì‹œ ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ìƒíƒœ ë³€ìˆ˜\n\n  // ğŸ”¥ [ìµœì í™” 2] Firebase Functions í˜¸ì¶œ í•¨ìˆ˜ë“¤ (ê¸°ë¶€ ì œì™¸) - ë©”ëª¨ì´ì œì´ì…˜\n  const getUserAssetsDataFunction = useMemo(\n    () => httpsCallable(functions, \"getUserAssetsData\"),\n    [],\n  );\n  const sellCouponFunction = useMemo(\n    () => httpsCallable(functions, \"sellCoupon\"),\n    [],\n  );\n  const giftCouponFunction = useMemo(\n    () => httpsCallable(functions, \"giftCoupon\"),\n    [],\n  );\n\n  // ğŸ”¥ [ìµœì í™” 4] ìºì‹œ ìœ íš¨ ì‹œê°„ ì„¤ì •\n  const CACHE_DURATION = 60 * 60 * 1000; // ğŸ”¥ [ìµœì í™”] 1ì‹œê°„ (Firestore ì½ê¸° ìµœì†Œí™”)\n\n  const currentGoalId = currentUserClassCode\n    ? `${currentUserClassCode}_goal`\n    : null;\n\n  const [classCouponGoal, setClassCouponGoal] = useState(1000);\n  const [couponValue, setCouponValue] = useState(1000);\n\n  // ğŸ”¥ [ë²„ê·¸ ìˆ˜ì •] Firestoreì—ì„œ ì¿ í° ê°€ì¹˜ ì„¤ì • ë¡œë“œ\n  useEffect(() => {\n    const loadCouponValueFromSettings = async () => {\n      try {\n        const settingsRef = doc(db, \"settings\", \"mainSettings\");\n        const settingsSnap = await getDoc(settingsRef);\n        if (settingsSnap.exists()) {\n          const settingsData = settingsSnap.data();\n          if (settingsData.couponValue) {\n            setCouponValue(Number(settingsData.couponValue));\n          }\n        }\n      } catch (error) {\n        logger.error(\"[MyAssets] ì¿ í° ê°€ì¹˜ ì„¤ì • ë¡œë“œ ì‹¤íŒ¨:\", error);\n      }\n    };\n\n    if (userId) {\n      loadCouponValueFromSettings();\n    }\n  }, [userId]);\n\n  const [goalProgress, setGoalProgress] = useState(0);\n  const [myContribution, setMyContribution] = useState(0);\n  const [goalAchieved, setGoalAchieved] = useState(false);\n  const [isResettingGoal, setIsResettingGoal] = useState(false);\n\n  const [showDonateModal, setShowDonateModal] = useState(false);\n  const [showSellCouponModal, setShowSellCouponModal] = useState(false);\n  const [sellAmount, setSellAmount] = useState(\"\");\n  const [showGiftCouponModal, setShowGiftCouponModal] = useState(false);\n  const [giftRecipient, setGiftRecipient] = useState(\"\");\n  const [giftAmount, setGiftAmount] = useState(\"\");\n  const [showDonationHistoryModal, setShowDonationHistoryModal] =\n    useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [showTransferModal, setShowTransferModal] = useState(false);\n  const [transferRecipient, setTransferRecipient] = useState(\"\");\n  const [transferAmount, setTransferAmount] = useState(\"\");\n  const [showAllTransactions, setShowAllTransactions] = useState(false); // ê±°ë˜ ë‚´ì—­ í¼ì¹˜ê¸°/ì ‘ê¸° ìƒíƒœ\n\n  // URL íŒŒë¼ë¯¸í„°ë¡œ ì†¡ê¸ˆ ëª¨ë‹¬ ìë™ ì—´ê¸°\n  useEffect(() => {\n    if (searchParams.get(\"transfer\") === \"true\") {\n      setShowTransferModal(true);\n      setSearchParams({}, { replace: true });\n    }\n  }, [searchParams, setSearchParams]);\n\n  // ğŸ”¥ [ìµœì í™” 5] ìºì‹œ ìœ íš¨ì„± í™•ì¸ í•¨ìˆ˜\n  const isCacheValid = (cacheKey) => {\n    const cachedTime = dataFetchRef.current[cacheKey];\n    return cachedTime && Date.now() - cachedTime < CACHE_DURATION;\n  };\n\n  // ğŸ”¥ [ìˆ˜ì • 2] ì•ˆì „í•œ íŠ¸ëœì­ì…˜ ê¸°ë¡ í•¨ìˆ˜ - ë¡œì»¬ì—ì„œë§Œ ì²˜ë¦¬í•˜ê³  ë‚˜ì¤‘ì— ë°°ì¹˜ë¡œ ë™ê¸°í™”\n  const addTransaction = async (userId, amount, description) => {\n    try {\n      // ë¨¼ì € ë¡œì»¬ ì €ì¥ì†Œì— ì €ì¥\n      const localKey = `pending_transactions_${userId}`;\n      const existing = localStorage.getItem(localKey);\n      const pendingTransactions = existing ? JSON.parse(existing) : [];\n\n      // ğŸ”¥ ì¼ê´€ëœ timestamp í˜•ì‹ ì‚¬ìš© - Date ê°ì²´ ìƒì„±\n      const now = new Date();\n      const newTransaction = {\n        id: `local_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`,\n        amount: Number(amount) || 0, // ìˆ«ìë¡œ ì•ˆì „í•˜ê²Œ ë³€í™˜\n        description: String(description) || \"ê±°ë˜ ë‚´ì—­\", // ë¬¸ìì—´ë¡œ ì•ˆì „í•˜ê²Œ ë³€í™˜\n        timestamp: now, // Date ê°ì²´ë¡œ ì§ì ‘ ì €ì¥\n        timestampISO: now.toISOString(), // ISO ë¬¸ìì—´ë„ ë³´ê´€\n        synced: false,\n      };\n\n      pendingTransactions.push(newTransaction);\n      localStorage.setItem(\n        localKey,\n        JSON.stringify(pendingTransactions, (key, value) => {\n          // Date ê°ì²´ë¥¼ JSONìœ¼ë¡œ ì§ë ¬í™”í•  ë•Œ ISO ë¬¸ìì—´ë¡œ ë³€í™˜\n          if (key === \"timestamp\" && value instanceof Date) {\n            return value.toISOString();\n          }\n          return value;\n        }),\n      );\n\n      // ë¡œì»¬ ìƒíƒœ ì¦‰ì‹œ ì—…ë°ì´íŠ¸\n      setTransactionHistory((prev) => [newTransaction, ...prev.slice(0, 4)]);\n\n      // ğŸ”¥ [ìˆ˜ì • 3] ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë¹„ë™ê¸° ë™ê¸°í™” (ì‹¤íŒ¨í•´ë„ ë©”ì¸ ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ)\n      setTimeout(async () => {\n        try {\n          await syncPendingTransactions(userId);\n        } catch (error) {\n          logger.warn(\"[MyAssets] syncPendingTransactions failed:\", error);\n        }\n      }, 1000);\n    } catch (error) {\n      logger.warn(\"[MyAssets] addTransaction failed:\", error);\n    }\n  };\n\n  // ğŸ”¥ [ìˆ˜ì • 4] ë³´ë¥˜ ì¤‘ì¸ íŠ¸ëœì­ì…˜ ë™ê¸°í™” í•¨ìˆ˜\n  const syncPendingTransactions = async (userId) => {\n    const localKey = `pending_transactions_${userId}`;\n    const pendingStr = localStorage.getItem(localKey);\n\n    if (!pendingStr) return;\n\n    try {\n      const pendingTransactions = JSON.parse(pendingStr, (key, value) => {\n        // JSONì—ì„œ Date ê°ì²´ë¡œ ë³µì›\n        if (key === \"timestamp\" && typeof value === \"string\") {\n          return new Date(value);\n        }\n        return value;\n      });\n\n      const unsyncedTransactions = pendingTransactions.filter(\n        (tx) => !tx.synced,\n      );\n\n      if (unsyncedTransactions.length === 0) return;\n\n      const batch = writeBatch(db);\n      const userTransactionsRef = collection(\n        db,\n        \"users\",\n        userId,\n        \"transactions\",\n      );\n\n      unsyncedTransactions.forEach((tx) => {\n        const docRef = doc(userTransactionsRef);\n        batch.set(docRef, {\n          amount: tx.amount,\n          description: tx.description,\n          timestamp: serverTimestamp(), // Firestoreì—ëŠ” serverTimestamp ì‚¬ìš©\n          localTimestamp: tx.timestampISO || tx.timestamp, // ë¡œì»¬ íƒ€ì„ìŠ¤íƒ¬í”„ë„ ë³´ì¡´\n          syncedAt: serverTimestamp(),\n        });\n      });\n\n      await batch.commit();\n\n      // ë™ê¸°í™” ì™„ë£Œ í‘œì‹œ\n      const updatedTransactions = pendingTransactions.map((tx) =>\n        unsyncedTransactions.find((utx) => utx.id === tx.id)\n          ? { ...tx, synced: true }\n          : tx,\n      );\n\n      localStorage.setItem(\n        localKey,\n        JSON.stringify(updatedTransactions, (key, value) => {\n          if (key === \"timestamp\" && value instanceof Date) {\n            return value.toISOString();\n          }\n          return value;\n        }),\n      );\n    } catch (error) {\n      logger.warn(\"[MyAssets] syncPendingTransactions failed:\", error);\n    }\n  };\n\n  // ğŸ”¥ [í•µì‹¬ ìˆ˜ì •] ë°ì´í„° ë®ì–´ì“°ê¸° ë°©ì§€ë¥¼ ìœ„í•´ íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•œ ì•ˆì „í•œ ëª©í‘œ ìƒì„± í•¨ìˆ˜\n  const createDefaultGoalForClass = useCallback(\n    async (classCode, goalId) => {\n      try {\n        const goalDocRef = doc(db, \"goals\", goalId);\n        const defaultGoalData = {\n          classCode: classCode,\n          targetAmount: 1000,\n          progress: 0,\n          donations: [],\n          donationCount: 0,\n          title: `${classCode} í•™ê¸‰ ëª©í‘œ`,\n          description: `${classCode} í•™ê¸‰ì˜ ì¿ í° ëª©í‘œì…ë‹ˆë‹¤.`,\n          createdAt: serverTimestamp(),\n          updatedAt: serverTimestamp(),\n          createdBy: userId,\n        };\n\n        // íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ì„œê°€ ì—†ì„ ë•Œë§Œ ì•ˆì „í•˜ê²Œ ìƒì„± (ë®ì–´ì“°ê¸° ë°©ì§€)\n        await runTransaction(db, async (transaction) => {\n          const goalDoc = await transaction.get(goalDocRef);\n          if (!goalDoc.exists()) {\n            transaction.set(goalDocRef, defaultGoalData);\n            setCachedFirestoreData(`goal_${goalId}`, userId, defaultGoalData);\n          } else {\n            const existingData = goalDoc.data();\n            setCachedFirestoreData(`goal_${goalId}`, userId, existingData);\n          }\n        });\n      } catch (error) {\n        throw error;\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    },\n    [userId],\n  );\n\n  // ğŸ”¥ [ìˆ˜ì •] ëª©í‘œ ë°ì´í„° ë¡œë“œ í•¨ìˆ˜ - ìºì‹œ ì¶”ê°€ ë° ìµœì í™”\n  const loadGoalData = useCallback(async () => {\n    if (!currentGoalId || !currentUserClassCode) {\n      return;\n    }\n\n    // ğŸ”¥ ìºì‹œ ë¨¼ì € í™•ì¸\n    const cacheKey = `goal_${currentGoalId}`;\n    const cachedData = getCachedFirestoreData(cacheKey, userId, CACHE_DURATION);\n\n    if (cachedData) {\n      setClassCouponGoal(Number(cachedData.targetAmount) || 1000);\n      setGoalProgress(Number(cachedData.progress) || 0);\n\n      const donations = Array.isArray(cachedData.donations)\n        ? cachedData.donations\n        : [];\n      setGoalDonations(donations);\n\n      const myDonations = donations.filter((d) => d.userId === userId);\n      const myTotal = myDonations.reduce((sum, d) => sum + d.amount, 0);\n      setMyContribution(myTotal);\n\n      return;\n    }\n\n    try {\n      const goalDocRef = doc(db, \"goals\", currentGoalId);\n      const goalDocSnap = await getDoc(goalDocRef);\n\n      if (goalDocSnap.exists()) {\n        const goalData = goalDocSnap.data();\n\n        // ëª©í‘œ ì •ë³´ ì—…ë°ì´íŠ¸\n        setClassCouponGoal(Number(goalData.targetAmount) || 1000);\n        setGoalProgress(Number(goalData.progress) || 0);\n\n        // ê¸°ë¶€ ë‚´ì—­ ì²˜ë¦¬\n        const donations = Array.isArray(goalData.donations)\n          ? goalData.donations.map((donation) => {\n              let processedTimestamp;\n              if (donation.timestamp && donation.timestamp.toDate) {\n                processedTimestamp = donation.timestamp.toDate().toISOString();\n              } else if (donation.timestamp && donation.timestamp.seconds) {\n                processedTimestamp = new Date(\n                  donation.timestamp.seconds * 1000,\n                ).toISOString();\n              } else if (donation.timestampISO) {\n                processedTimestamp = donation.timestampISO;\n              } else if (typeof donation.timestamp === \"string\") {\n                processedTimestamp = donation.timestamp;\n              } else {\n                processedTimestamp = new Date().toISOString();\n              }\n\n              return {\n                ...donation,\n                amount: Number(donation.amount) || 0,\n                timestamp: processedTimestamp,\n                userId: donation.userId || \"\",\n                userName: donation.userName || \"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì\",\n                message: donation.message || \"\",\n                classCode: donation.classCode || currentUserClassCode,\n              };\n            })\n          : [];\n\n        setGoalDonations(donations);\n\n        // ë‚´ ê¸°ì—¬ ê³„ì‚°\n        const myDonations = donations.filter((d) => d.userId === userId);\n        const myTotal = myDonations.reduce((sum, d) => sum + d.amount, 0);\n        setMyContribution(myTotal);\n\n        // ğŸ”¥ ìºì‹œì— ì €ì¥\n        setCachedFirestoreData(cacheKey, userId, goalData);\n      } else {\n        // ëª©í‘œ ë¬¸ì„œê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ìƒì„±\n        logger.log(\"[MyAssets] ëª©í‘œ ë¬¸ì„œê°€ ì—†ì–´ ê¸°ë³¸ê°’ ìƒì„±\");\n        await createDefaultGoalForClass(currentUserClassCode, currentGoalId);\n      }\n    } catch (error) {\n      logger.error(\"[MyAssets] ëª©í‘œ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:\", error);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentGoalId, currentUserClassCode, userId, createDefaultGoalForClass]);\n\n  const loadMyAssetsData = useCallback(async () => {\n    if (!userId || !db) {\n      setAssetsLoading(false);\n      return;\n    }\n\n    // ì´ë¯¸ ë¡œë”© ì¤‘ì´ë©´ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€\n    if (loadingRef.current) {\n      return;\n    }\n\n    loadingRef.current = true;\n\n    // ğŸ”¥ [ìµœì í™”] ìºì‹œ ë°ì´í„°ê°€ ìˆìœ¼ë©´ ì¦‰ì‹œ í‘œì‹œ (ë¡œë”© ìŠ¤í”¼ë„ˆ ì—†ì´)\n    const cachedAssets = getCachedFirestoreData(\n      \"myAssets\",\n      userId,\n      CACHE_DURATION,\n    );\n    if (cachedAssets) {\n      setParkingBalance(cachedAssets.parkingBalance || 0);\n      setDeposits(cachedAssets.deposits || []);\n      setSavings(cachedAssets.savings || []);\n      setLoans(cachedAssets.loans || []);\n      setRealEstateAssets(cachedAssets.realEstateAssets || []);\n      setTransactionHistory(cachedAssets.transactionHistory || []);\n      setAssetsLoading(false); // ìºì‹œë¡œ ì¦‰ì‹œ ë¡œë”© í•´ì œ\n    } else {\n      setAssetsLoading(true);\n    }\n\n    try {\n      // ğŸ”¥ [ìµœì í™”] ëª¨ë“  ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ì˜ Promise.allë¡œ ë³‘ë ¬ ì‹¤í–‰\n      const realEstateRef1 = query(\n        collection(db, \"classes\", currentUserClassCode, \"realEstateProperties\"),\n        where(\"owner\", \"==\", userId),\n        limit(50),\n      );\n      const realEstateRef2 = query(\n        collection(\n          db,\n          \"ClassStock\",\n          currentUserClassCode,\n          \"students\",\n          userId,\n          \"realestates\",\n        ),\n        limit(50),\n      );\n      const realEstateRef3 = query(\n        collection(db, \"realEstate\"),\n        where(\"ownerId\", \"==\", userId),\n        limit(50),\n      );\n      const parkingRef1 = doc(\n        db,\n        \"users\",\n        userId,\n        \"financials\",\n        \"parkingAccount\",\n      );\n      const parkingRef2 = collection(\n        db,\n        \"ClassStock\",\n        currentUserClassCode,\n        \"students\",\n        userId,\n        \"parkingAccounts\",\n      );\n      const productsRef = query(\n        collection(db, \"users\", userId, \"products\"),\n        limit(50),\n      );\n      const activityLogsRef = query(\n        collection(db, \"activity_logs\"),\n        where(\"classCode\", \"==\", currentUserClassCode),\n        where(\"userId\", \"==\", userId),\n        limit(50),\n      );\n      const transactionsRef = query(\n        collection(db, \"users\", userId, \"transactions\"),\n        limit(50),\n      );\n\n      const [\n        snap1,\n        snap2,\n        snap3,\n        parkingSnap1,\n        parkingSnap2,\n        productsSnap,\n        activityLogsSnap,\n        transactionsSnap,\n      ] = await Promise.all([\n        getDocs(realEstateRef1),\n        getDocs(realEstateRef2),\n        getDocs(realEstateRef3),\n        getDoc(parkingRef1),\n        getDocs(parkingRef2),\n        getDocs(productsRef),\n        getDocs(activityLogsRef).catch(() => ({ docs: [] })),\n        getDocs(transactionsRef).catch(() => ({ docs: [] })),\n      ]);\n\n      // ë¶€ë™ì‚° ì²˜ë¦¬\n      const allRealEstateAssets = [];\n      snap1.forEach((doc) =>\n        allRealEstateAssets.push({ id: doc.id, ...doc.data() }),\n      );\n      snap2.forEach((doc) =>\n        allRealEstateAssets.push({ id: doc.id, ...doc.data() }),\n      );\n      snap3.forEach((doc) =>\n        allRealEstateAssets.push({ id: doc.id, ...doc.data() }),\n      );\n\n      // íŒŒí‚¹í†µì¥ ì²˜ë¦¬\n      let totalParkingBalance = 0;\n      if (parkingSnap1.exists()) {\n        totalParkingBalance += parkingSnap1.data().balance || 0;\n      }\n      parkingSnap2.forEach((doc) => {\n        totalParkingBalance += doc.data().balance || 0;\n      });\n      setParkingBalance(totalParkingBalance);\n\n      // ìƒí’ˆ(ì˜ˆê¸ˆ/ì ê¸ˆ/ëŒ€ì¶œ) ì²˜ë¦¬\n      const depositsData = [];\n      const savingsData = [];\n      const loansData = [];\n      productsSnap.forEach((docSnap) => {\n        const product = {\n          id: docSnap.id,\n          ...docSnap.data(),\n          maturityDate: docSnap.data().maturityDate?.toDate\n            ? docSnap.data().maturityDate.toDate()\n            : docSnap.data().maturityDate,\n        };\n        if (product.type === \"deposit\") depositsData.push(product);\n        else if (product.type === \"savings\") savingsData.push(product);\n        else if (product.type === \"loan\") loansData.push(product);\n      });\n      setDeposits(depositsData);\n      setSavings(savingsData);\n      setLoans(loansData);\n      setRealEstateAssets(allRealEstateAssets);\n\n      // ê±°ë˜ ë‚´ì—­ ì²˜ë¦¬\n      const activityData = (activityLogsSnap.docs || [])\n        .map((doc) => {\n          const data = doc.data();\n          const desc = data.description || data.type || \"ê±°ë˜ ë‚´ì—­\";\n          return {\n            id: doc.id,\n            amount: data.amount || 0,\n            description: desc === \"undefined\" ? \"ê±°ë˜ ë‚´ì—­\" : desc,\n            timestamp: data.timestamp,\n            type: data.type,\n            couponAmount: data.couponAmount || 0,\n            source: \"activity_logs\",\n          };\n        })\n        .filter((tx) => tx.amount !== 0 || tx.couponAmount !== 0);\n\n      const transactionsData = (transactionsSnap.docs || [])\n        .map((doc) => {\n          const data = doc.data();\n          const desc = data.description || \"ê±°ë˜ ë‚´ì—­\";\n          return {\n            id: doc.id,\n            amount: data.amount || 0,\n            description: !desc || desc === \"undefined\" ? \"ê±°ë˜ ë‚´ì—­\" : desc,\n            timestamp: data.timestamp || data.createdAt,\n            type: data.type || \"transaction\",\n            source: \"transactions\",\n          };\n        })\n        .filter((tx) => tx.amount !== 0);\n\n      const allTransactions = [...activityData, ...transactionsData];\n      allTransactions.sort((a, b) => {\n        const dateA = a.timestamp?.toDate\n          ? a.timestamp.toDate()\n          : new Date(a.timestamp?.seconds * 1000 || 0);\n        const dateB = b.timestamp?.toDate\n          ? b.timestamp.toDate()\n          : new Date(b.timestamp?.seconds * 1000 || 0);\n        return dateB - dateA;\n      });\n      const recentTransactions = allTransactions.slice(0, 20);\n      setTransactionHistory(recentTransactions);\n\n      // ğŸ”¥ [ìµœì í™”] ê²°ê³¼ë¥¼ localStorageì— ìºì‹œ (ë‹¤ìŒ ë¡œë“œì‹œ ì¦‰ì‹œ í‘œì‹œ)\n      setCachedFirestoreData(\"myAssets\", userId, {\n        parkingBalance: totalParkingBalance,\n        deposits: depositsData,\n        savings: savingsData,\n        loans: loansData,\n        realEstateAssets: allRealEstateAssets,\n        transactionHistory: recentTransactions.map((tx) => ({\n          ...tx,\n          timestamp: tx.timestamp?.toDate\n            ? tx.timestamp.toDate().toISOString()\n            : tx.timestamp?.seconds\n              ? new Date(tx.timestamp.seconds * 1000).toISOString()\n              : null,\n        })),\n      });\n    } catch (fallbackError) {\n      logger.error(\n        \"[MyAssets] ğŸš¨ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì§ì ‘ ì¡°íšŒ ì‹¤íŒ¨:\",\n        fallbackError,\n      );\n    } finally {\n      setAssetsLoading(false);\n      loadingRef.current = false;\n    }\n  }, [userId, currentUserClassCode, CACHE_DURATION]); // loadGoalData ì œê±°í•˜ì—¬ ë¬´í•œ ë£¨í”„ ë°©ì§€\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    if (!authLoading && user) {\n      loadMyAssetsData();\n    } else if (!authLoading && !user) {\n      setAssetsLoading(false);\n      setParkingBalance(0);\n      setLoans([]);\n      setRealEstateAssets([]);\n      setTotalNetAssets(0);\n      setMyContribution(0);\n      setClassCouponGoal(1000);\n      setGoalProgress(0);\n      setCouponValue(1000);\n      setGoalDonations([]);\n      setTransactionHistory([]);\n    } else if (authLoading) {\n      setAssetsLoading(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [authLoading, user]); // loadMyAssetsData ì œê±°í•˜ì—¬ ë¬´í•œ ë£¨í”„ ë°©ì§€\n\n  useEffect(() => {\n    const cashValue = Number(userDoc?.cash) || 0;\n    const couponMonetaryValue =\n      (Number(userDoc?.coupons) || 0) * Number(couponValue);\n    const realEstateValue = realEstateAssets.reduce(\n      (sum, asset) => sum + (Number(asset.price) || 0),\n      0,\n    );\n    // ì˜ˆê¸ˆ ì´ì•¡ (balance ê¸°ì¤€)\n    const depositsTotal = deposits.reduce(\n      (sum, deposit) => sum + (Number(deposit.balance) || 0),\n      0,\n    );\n    // ì ê¸ˆ ì´ì•¡ (balance ê¸°ì¤€)\n    const savingsTotal = savings.reduce(\n      (sum, saving) => sum + (Number(saving.balance) || 0),\n      0,\n    );\n    // ëŒ€ì¶œ ì´ì•¡ (balance ê¸°ì¤€ - remainingPrincipalì´ ì—†ìœ¼ë©´ balance ì‚¬ìš©)\n    const loanTotal = loans.reduce(\n      (sum, loan) =>\n        sum + (Number(loan.remainingPrincipal) || Number(loan.balance) || 0),\n      0,\n    );\n    const calculatedTotalAssets =\n      cashValue +\n      couponMonetaryValue +\n      Number(parkingBalance) +\n      depositsTotal +\n      savingsTotal +\n      realEstateValue -\n      loanTotal;\n\n    setTotalNetAssets(calculatedTotalAssets);\n  }, [\n    userDoc?.cash,\n    userDoc?.coupons,\n    couponValue,\n    parkingBalance,\n    deposits,\n    savings,\n    realEstateAssets,\n    loans,\n  ]);\n\n  useEffect(() => {\n    setGoalAchieved(goalProgress >= classCouponGoal && classCouponGoal > 0);\n  }, [goalProgress, classCouponGoal]);\n\n  // ğŸ”¥ [ìˆ˜ì •] ëª©í‘œ ë°ì´í„° í´ë§ ì œê±° - ìºì‹œë¡œ ì¶©ë¶„í•¨\n  // ì´ˆê¸° ë¡œë“œë§Œ ìˆ˜í–‰í•˜ê³  í´ë§ì€ í•˜ì§€ ì•ŠìŒ (ë¶ˆí•„ìš”í•œ Firestore ì¡°íšŒ ë°©ì§€)\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    if (!user || !currentGoalId) {\n      return;\n    }\n\n    loadGoalData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user, currentGoalId]); // loadGoalData ì œê±°í•˜ì—¬ ë¬´í•œ ë£¨í”„ ë°©ì§€\n\n  // ğŸ”¥ [ìˆ˜ì •] ê¸°ë¶€ ì²˜ë¦¬ í•¨ìˆ˜ - ìºì‹œ ë¬´íš¨í™” ê°œì„ \n  const handleDonateCoupon = async (amount, memo) => {\n    if (!userId || !currentUserClassCode) {\n      alert(\"ì‚¬ìš©ì ë˜ëŠ” í•™ê¸‰ ì •ë³´ê°€ ì—†ì–´ ê¸°ë¶€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return false;\n    }\n\n    const donationAmount = parseInt(amount, 10);\n    if (isNaN(donationAmount) || donationAmount <= 0) {\n      alert(\"ìœ íš¨í•œ ì¿ í° ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return false;\n    }\n\n    // ì¿ í° ë³´ìœ ëŸ‰ í™•ì¸\n    const currentCoupons = Number(userDoc?.coupons) || 0;\n    if (currentCoupons < donationAmount) {\n      alert(\n        `ì¿ í°ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (ë³´ìœ : ${currentCoupons}ê°œ, í•„ìš”: ${donationAmount}ê°œ)`,\n      );\n      return false;\n    }\n\n    setAssetsLoading(true);\n\n    // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ (UI ì¦‰ì‹œ ë°˜ì˜)\n    const previousProgress = goalProgress;\n    const previousMyContribution = myContribution;\n    const previousDonations = goalDonations;\n\n    const newDonation = {\n      userId: userId,\n      userName: userName,\n      amount: donationAmount,\n      timestamp: new Date().toISOString(),\n      timestampISO: new Date().toISOString(),\n      message: memo || \"\",\n      classCode: currentUserClassCode,\n    };\n\n    setGoalProgress((prev) => prev + donationAmount);\n    setMyContribution((prev) => prev + donationAmount);\n    setGoalDonations((prev) => [...prev, newDonation]);\n\n    // ğŸ”¥ ì¿ í° ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸)\n    if (optimisticUpdate) {\n      optimisticUpdate({ coupons: -donationAmount });\n    }\n\n    try {\n      // 1. ì‚¬ìš©ì ì¿ í° ì°¨ê° (AuthContext ì‚¬ìš©)\n      const couponDeducted = await updateUserInAuth({\n        coupons: increment(-donationAmount),\n      });\n\n      if (!couponDeducted) {\n        throw new Error(\"ì¿ í° ì°¨ê°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n      }\n\n      // 2. Firestore íŠ¸ëœì­ì…˜ìœ¼ë¡œ ëª©í‘œ ì—…ë°ì´íŠ¸\n      const goalDocRef = doc(db, \"goals\", currentGoalId);\n\n      await runTransaction(db, async (transaction) => {\n        const goalDoc = await transaction.get(goalDocRef);\n\n        if (!goalDoc.exists()) {\n          throw new Error(\"ëª©í‘œ ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n        }\n\n        const firestoreDonation = {\n          userId: userId,\n          userName: userName,\n          amount: donationAmount,\n          timestamp: serverTimestamp(),\n          timestampISO: new Date().toISOString(),\n          message: memo || \"\",\n          classCode: currentUserClassCode,\n        };\n\n        // progress ì¦ê°€ ë° donations ë°°ì—´ì— ì¶”ê°€\n        transaction.update(goalDocRef, {\n          progress: increment(donationAmount),\n          donations: arrayUnion(firestoreDonation),\n          updatedAt: serverTimestamp(),\n        });\n      });\n\n      // 3. donations ì»¬ë ‰ì…˜ì—ë„ ê¸°ë¡ (ì„ íƒì‚¬í•­, íˆìŠ¤í† ë¦¬ ì¶”ì ìš©)\n      const donationRecordRef = doc(collection(db, \"donations\"));\n      await setDoc(donationRecordRef, {\n        userId: userId,\n        userName: userName,\n        amount: donationAmount,\n        timestamp: serverTimestamp(),\n        timestampISO: new Date().toISOString(),\n        message: memo || \"\",\n        classCode: currentUserClassCode,\n        goalId: currentGoalId,\n      });\n\n      // 4. íŠ¸ëœì­ì…˜ ê¸°ë¡\n      await addTransaction(\n        userId,\n        -donationAmount * couponValue,\n        `í•™ê¸‰ ëª©í‘œì— ${donationAmount}ì¿ í° ê¸°ë¶€`,\n      );\n\n      // ğŸ”¥ í™œë™ ë¡œê·¸ ê¸°ë¡ (ì¿ í° ê¸°ë¶€)\n      logActivity(db, {\n        classCode: currentUserClassCode,\n        userId: userId,\n        userName: userName,\n        type: ACTIVITY_TYPES.COUPON_DONATE,\n        description: `í•™ê¸‰ ëª©í‘œì— ì¿ í° ${donationAmount}ê°œ ê¸°ë¶€`,\n        couponAmount: -donationAmount,\n        metadata: {\n          goalId: currentGoalId,\n          goalProgress: goalProgress + donationAmount,\n          message: memo || \"\",\n        },\n      });\n\n      // ğŸ”¥ 5. ìºì‹œ ë¬´íš¨í™” (ëª¨ë“  ê´€ë ¨ ìºì‹œ ì‚­ì œ)\n      const cacheKey = `goal_${currentGoalId}`;\n      localStorage.removeItem(`firestore_cache_${cacheKey}_${userId}`);\n      localStorage.removeItem(\n        `goalDonationHistory_${currentUserClassCode}_goal`,\n      );\n\n      alert(`${donationAmount}ê°œ ì¿ í° ê¸°ë¶€ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!`);\n      setShowDonateModal(false);\n\n      // ğŸ”¥ 6. ìµœì‹  ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ (ìºì‹œê°€ ì‚­ì œë˜ì—ˆìœ¼ë¯€ë¡œ Firestoreì—ì„œ ê°€ì ¸ì˜´)\n      setTimeout(() => {\n        loadGoalData();\n      }, 500);\n\n      return true;\n    } catch (error) {\n      logger.error(\"[MyAssets] ê¸°ë¶€ ì˜¤ë¥˜:\", error);\n      alert(`ê¸°ë¶€ ì˜¤ë¥˜: ${error.message}`);\n\n      // ì—ëŸ¬ ë°œìƒ ì‹œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ë¡¤ë°±\n      setGoalProgress(previousProgress);\n      setMyContribution(previousMyContribution);\n      setGoalDonations(previousDonations);\n\n      // ì¿ í°ë„ ë¡¤ë°±\n      if (optimisticUpdate) {\n        optimisticUpdate({ coupons: donationAmount });\n      }\n\n      return false;\n    } finally {\n      setAssetsLoading(false);\n    }\n  };\n\n  // ğŸ”¥ [ìˆ˜ì •] ê¸°ë¶€ ë‚´ì—­ ë³µêµ¬ë¥¼ ìœ„í•œ ê°•ì œ ìƒˆë¡œê³ ì¹¨ í•¨ìˆ˜\n  const forceRefreshGoalData = async () => {\n    if (!currentGoalId || !currentUserClassCode) {\n      alert(\"í•™ê¸‰ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n\n    setAssetsLoading(true);\n\n    try {\n      // ëª¨ë“  ê´€ë ¨ ìºì‹œ ì‚­ì œ\n      const cacheKey = `goal_${currentGoalId}`;\n      localStorage.removeItem(`firestore_cache_${cacheKey}_${userId}`);\n      localStorage.removeItem(`firestore_cache_settings_${userId}`);\n      localStorage.removeItem(\n        `goalDonationHistory_${currentUserClassCode}_goal`,\n      );\n\n      logger.log(\n        \"[MyAssets] ìºì‹œ ì‚­ì œ ì™„ë£Œ, Firestoreì—ì„œ ìµœì‹  ë°ì´í„° ë¡œë“œ ì¤‘...\",\n      );\n\n      // ğŸ”¥ Firestoreì—ì„œ ì§ì ‘ ìµœì‹  ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n      const goalDocRef = doc(db, \"goals\", currentGoalId);\n      const goalDocSnap = await getDoc(goalDocRef);\n\n      if (goalDocSnap.exists()) {\n        const latestGoalData = goalDocSnap.data();\n\n        setClassCouponGoal(Number(latestGoalData.targetAmount) || 1000);\n        setGoalProgress(Number(latestGoalData.progress) || 0);\n\n        const freshDonations = Array.isArray(latestGoalData.donations)\n          ? latestGoalData.donations.map((donation) => {\n              let processedTimestamp;\n              if (donation.timestamp && donation.timestamp.toDate) {\n                processedTimestamp = donation.timestamp.toDate().toISOString();\n              } else if (donation.timestamp && donation.timestamp.seconds) {\n                processedTimestamp = new Date(\n                  donation.timestamp.seconds * 1000,\n                ).toISOString();\n              } else if (donation.timestampISO) {\n                processedTimestamp = donation.timestampISO;\n              } else if (typeof donation.timestamp === \"string\") {\n                processedTimestamp = donation.timestamp;\n              } else {\n                processedTimestamp = new Date().toISOString();\n              }\n\n              return {\n                ...donation,\n                amount: Number(donation.amount) || 0,\n                timestamp: processedTimestamp,\n                userId: donation.userId || \"\",\n                userName: donation.userName || \"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì\",\n                message: donation.message || \"\",\n                classCode: donation.classCode || currentUserClassCode,\n              };\n            })\n          : [];\n\n        setGoalDonations(freshDonations);\n\n        // ë‚´ ê¸°ì—¬ë„ ì¬ê³„ì‚°\n        const myDonations = freshDonations.filter((d) => d.userId === userId);\n        const myTotal = myDonations.reduce((sum, d) => sum + d.amount, 0);\n        setMyContribution(myTotal);\n\n        // ìºì‹œì— ì €ì¥\n        setCachedFirestoreData(cacheKey, userId, latestGoalData);\n\n        alert(\n          `ëª©í‘œ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ!\\nëª©í‘œ ì§„í–‰ë¥ : ${latestGoalData.progress || 0}/${latestGoalData.targetAmount || 1000}\\nê¸°ë¶€ ë‚´ì—­: ${freshDonations.length}ê°œ\\në‚´ ê¸°ì—¬ë„: ${myTotal}ê°œ`,\n        );\n      } else {\n        alert(\"ëª©í‘œ ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.\");\n      }\n    } catch (error) {\n      logger.error(\"[MyAssets] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì˜¤ë¥˜:\", error);\n      alert(`ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);\n    } finally {\n      setAssetsLoading(false);\n    }\n  };\n\n  // ğŸ”¥ [ì¶”ê°€] ê°œë°œììš© ë””ë²„ê·¸ ì •ë³´ í‘œì‹œ í•¨ìˆ˜\n  const showDebugInfo = () => {\n    const debugInfo = {\n      userId,\n      currentUserClassCode,\n      currentGoalId,\n      goalProgress,\n      classCouponGoal,\n      myContribution,\n      donationsCount: goalDonations.length,\n      donations: goalDonations,\n      userCoupons: userDoc?.coupons,\n      userCash: userDoc?.cash,\n    };\n\n    alert(\n      `ë””ë²„ê·¸ ì •ë³´ê°€ ì½˜ì†”ì— ì¶œë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.\\nê¸°ë¶€ ë‚´ì—­: ${goalDonations.length}ê°œ\\nëª©í‘œ ì§„í–‰ë¥ : ${goalProgress}/${classCouponGoal}`,\n    );\n  };\n\n  // ğŸ”¥ [í•µì‹¬ ìˆ˜ì •] 'resetCouponGoal' í•¨ìˆ˜ì— async í‚¤ì›Œë“œ ì¶”ê°€\n  const resetCouponGoal = async () => {\n    if (!userDoc?.isAdmin && !userDoc?.isSuperAdmin) {\n      alert(\"ê´€ë¦¬ìë§Œ ì´ˆê¸°í™” ê°€ëŠ¥í•©ë‹ˆë‹¤.\");\n      return;\n    }\n    if (!currentUserClassCode || !currentGoalId) {\n      alert(\"í•™ê¸‰ ì½”ë“œë‚˜ ëª©í‘œ ì •ë³´ê°€ ì—†ì–´ ì´ˆê¸°í™”í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    if (\n      !window.confirm(\n        `ì •ë§ë¡œ ${currentUserClassCode} í•™ê¸‰ì˜ ì¿ í° ëª©í‘œì™€ ê¸°ì—¬ ê¸°ë¡ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`,\n      )\n    )\n      return;\n\n    setIsResettingGoal(true);\n    try {\n      const batch = writeBatch(db);\n      const goalRef = doc(db, \"goals\", currentGoalId);\n\n      // ğŸ”¥ [ìµœì í™”] ì‚¬ìš©ì ì¡°íšŒì— limit ì¶”ê°€\n      const usersQuery = query(\n        collection(db, \"users\"),\n        where(\"classCode\", \"==\", currentUserClassCode),\n        limit(100),\n      );\n      const usersSnapshot = await getDocs(usersQuery);\n\n      usersSnapshot.forEach((userDocument) => {\n        const userRef = doc(db, \"users\", userDocument.id);\n        batch.update(userRef, {\n          myContribution: 0,\n          updatedAt: serverTimestamp(),\n        });\n      });\n\n      batch.update(goalRef, {\n        progress: 0,\n        donations: [],\n        donationCount: 0,\n        updatedAt: serverTimestamp(),\n        resetAt: serverTimestamp(),\n        resetBy: userId,\n      });\n\n      await batch.commit();\n\n      // ğŸ”¥ [ìµœì í™” 23] ì´ˆê¸°í™” í›„ ê´€ë ¨ ìºì‹œ ëª¨ë‘ ì‚­ì œ\n      localStorage.removeItem(\n        `goalDonationHistory_${currentUserClassCode}_goal`,\n      );\n      localStorage.removeItem(\n        `firestore_cache_goal_${currentGoalId}_${userId}`,\n      );\n\n      setMyContribution(0);\n      setGoalProgress(0);\n      setGoalDonations([]);\n\n      alert(\n        `í•™ê¸‰(${currentUserClassCode})ì˜ ì¿ í° ëª©í‘œì™€ ê¸°ì—¬ ê¸°ë¡ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.`,\n      );\n    } catch (error) {\n      alert(`ëª©í‘œ ì´ˆê¸°í™” ì˜¤ë¥˜: ${error.message}`);\n    } finally {\n      setIsResettingGoal(false);\n    }\n  };\n\n  const handleSellCoupon = async () => {\n    const amount = parseInt(sellAmount, 10);\n    if (isNaN(amount) || amount <= 0) {\n      alert(\"ìœ íš¨í•œ ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n\n    // ğŸ”¥ ì¿ í° ì°¨ê° ë° í˜„ê¸ˆ ì¦ê°€ ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸)\n    const cashGained = amount * couponValue;\n    if (optimisticUpdate) {\n      optimisticUpdate({ coupons: -amount, cash: cashGained });\n    }\n\n    setAssetsLoading(true);\n    try {\n      await sellCouponFunction({ amount });\n\n      // ğŸ”¥ í™œë™ ë¡œê·¸ ê¸°ë¡ (ì¿ í° íŒë§¤)\n      logActivity(db, {\n        classCode: currentUserClassCode,\n        userId: userId,\n        userName: userName,\n        type: ACTIVITY_TYPES.COUPON_USE,\n        description: `ì¿ í° ${amount}ê°œ íŒë§¤ (${cashGained.toLocaleString()}ì›)`,\n        amount: cashGained,\n        couponAmount: -amount,\n        metadata: {\n          couponsSold: amount,\n          cashReceived: cashGained,\n          couponValue: couponValue,\n        },\n      });\n\n      alert(`${amount}ê°œ ì¿ í°ì„ íŒë§¤í–ˆìŠµë‹ˆë‹¤.`);\n      setShowSellCouponModal(false);\n      setSellAmount(\"\");\n      // ğŸ”¥ [ìµœì í™”] Firebase Functionì´ ìë™ìœ¼ë¡œ userDocë¥¼ ì—…ë°ì´íŠ¸í•˜ë¯€ë¡œ\n      // AuthContextì˜ ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆê°€ ìë™ìœ¼ë¡œ UIë¥¼ ê°±ì‹ í•¨ (loadMyAssetsData ì œê±°)\n    } catch (error) {\n      alert(`íŒë§¤ ì˜¤ë¥˜: ${error.message}`);\n\n      // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±\n      if (optimisticUpdate) {\n        optimisticUpdate({ coupons: amount, cash: -cashGained });\n      }\n    } finally {\n      setAssetsLoading(false);\n    }\n  };\n\n  const handleGiftCoupon = async () => {\n    const recipientUser = users.find((u) => u.id === giftRecipient);\n    const amount = parseInt(giftAmount, 10);\n\n    if (!recipientUser) {\n      alert(\"ë°›ëŠ” ì‚¬ëŒì„ ì„ íƒí•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n    if (isNaN(amount) || amount <= 0) {\n      alert(\"ì˜¬ë°”ë¥¸ ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n\n    if (\n      window.confirm(\n        `${recipientUser.name}ë‹˜ì—ê²Œ ì¿ í° ${amount}ê°œë¥¼ ì„ ë¬¼í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`,\n      )\n    ) {\n      // ğŸ”¥ ì¿ í° ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸)\n      if (optimisticUpdate) {\n        optimisticUpdate({ coupons: -amount });\n      }\n\n      setAssetsLoading(true);\n      try {\n        await giftCouponFunction({\n          recipientId: recipientUser.id,\n          amount,\n          message: \"\",\n        });\n\n        // ğŸ”¥ í™œë™ ë¡œê·¸ ê¸°ë¡ (ì¿ í° ì„ ë¬¼ ë°œì†¡)\n        logActivity(db, {\n          classCode: currentUserClassCode,\n          userId: userId,\n          userName: userName,\n          type: ACTIVITY_TYPES.COUPON_GIFT_SEND,\n          description: `${recipientUser.name}ë‹˜ì—ê²Œ ì¿ í° ${amount}ê°œ ì„ ë¬¼`,\n          couponAmount: -amount,\n          metadata: {\n            recipientId: recipientUser.id,\n            recipientName: recipientUser.name,\n          },\n        });\n\n        // ğŸ”¥ í™œë™ ë¡œê·¸ ê¸°ë¡ (ì¿ í° ì„ ë¬¼ ìˆ˜ì‹ ) - ë°›ëŠ” ì‚¬ëŒë„ ê¸°ë¡\n        logActivity(db, {\n          classCode: currentUserClassCode,\n          userId: recipientUser.id,\n          userName: recipientUser.name,\n          type: ACTIVITY_TYPES.COUPON_GIFT_RECEIVE,\n          description: `${userName}ë‹˜ìœ¼ë¡œë¶€í„° ì¿ í° ${amount}ê°œ ìˆ˜ì‹ `,\n          couponAmount: amount,\n          metadata: {\n            senderId: userId,\n            senderName: userName,\n          },\n        });\n\n        alert(\"ì¿ í° ì„ ë¬¼ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\");\n        setShowGiftCouponModal(false);\n        setGiftRecipient(\"\");\n        setGiftAmount(\"\");\n        // ğŸ”¥ [ìµœì í™”] Firebase Functionì´ ìë™ìœ¼ë¡œ userDocë¥¼ ì—…ë°ì´íŠ¸í•˜ë¯€ë¡œ\n        // AuthContextì˜ ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆê°€ ìë™ìœ¼ë¡œ UIë¥¼ ê°±ì‹ í•¨ (loadMyAssetsData ì œê±°)\n      } catch (error) {\n        alert(`ì„ ë¬¼ ì˜¤ë¥˜: ${error.message}`);\n\n        // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±\n        if (optimisticUpdate) {\n          optimisticUpdate({ coupons: amount });\n        }\n      } finally {\n        setAssetsLoading(false);\n      }\n    }\n  };\n\n  const handleTransferMoney = async () => {\n    setAssetsLoading(true);\n    try {\n      if (\n        !userDoc ||\n        !userId ||\n        !db ||\n        !users ||\n        !deductCash ||\n        !addCashToUserById\n      ) {\n        alert(\"í•„ìˆ˜ ì •ë³´ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\");\n        return;\n      }\n\n      const amount = parseInt(transferAmount, 10);\n      if (isNaN(amount) || amount <= 0) {\n        alert(\"ì˜¬ë°”ë¥¸ ì†¡ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n        return;\n      }\n\n      if ((Number(userDoc.cash) || 0) < amount) {\n        alert(\"ë³´ìœ  í˜„ê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.\");\n        return;\n      }\n\n      const recipientUser = users.find((u) => u.id === transferRecipient);\n      if (!recipientUser) {\n        alert(\n          \"ì†¡ê¸ˆ ëŒ€ìƒì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ëª©ë¡ì„ ìƒˆë¡œê³ ì¹¨í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\",\n        );\n        return;\n      }\n\n      if (recipientUser.id === userId) {\n        alert(\"ìê¸° ìì‹ ì—ê²ŒëŠ” ì†¡ê¸ˆí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n        return;\n      }\n\n      const recipientName =\n        recipientUser.name || recipientUser.nickname || \"ì‚¬ìš©ì\";\n\n      // ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ í™•ì¸ ì°½ì„ ì œê±°í•©ë‹ˆë‹¤.\n      const deductSuccess = await deductCash(\n        amount,\n        `${recipientName}ë‹˜ì—ê²Œ ì†¡ê¸ˆ`,\n      );\n      if (deductSuccess) {\n        const addSuccess = await addCashToUserById(\n          recipientUser.id,\n          amount,\n          `${userName}ë‹˜ìœ¼ë¡œë¶€í„° ì…ê¸ˆ`,\n        );\n        if (addSuccess) {\n          // ğŸ”¥ í™œë™ ë¡œê·¸ ê¸°ë¡ (ì†¡ê¸ˆ ë°œì†¡)\n          logActivity(db, {\n            classCode: currentUserClassCode,\n            userId: userId,\n            userName: userName,\n            type: ACTIVITY_TYPES.TRANSFER_SEND,\n            description: `${recipientName}ë‹˜ì—ê²Œ ${amount.toLocaleString()}ì› ì†¡ê¸ˆ`,\n            amount: -amount,\n            metadata: {\n              recipientId: recipientUser.id,\n              recipientName: recipientName,\n            },\n          });\n\n          // ğŸ”¥ í™œë™ ë¡œê·¸ ê¸°ë¡ (ì†¡ê¸ˆ ìˆ˜ì‹ ) - ë°›ëŠ” ì‚¬ëŒë„ ê¸°ë¡\n          logActivity(db, {\n            classCode: currentUserClassCode,\n            userId: recipientUser.id,\n            userName: recipientName,\n            type: ACTIVITY_TYPES.TRANSFER_RECEIVE,\n            description: `${userName}ë‹˜ìœ¼ë¡œë¶€í„° ${amount.toLocaleString()}ì› ì…ê¸ˆ`,\n            amount: amount,\n            metadata: {\n              senderId: userId,\n              senderName: userName,\n            },\n          });\n\n          alert(\"ì†¡ê¸ˆì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\");\n          setShowTransferModal(false);\n          setTransferRecipient(\"\");\n          setTransferAmount(\"\");\n        } else {\n          alert(\n            \"ë°›ëŠ” ì‚¬ëŒì—ê²Œ í˜„ê¸ˆì„ ì „ë‹¬í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì†¡ê¸ˆì´ ì·¨ì†Œë©ë‹ˆë‹¤.\",\n          );\n          // ì†¡ê¸ˆ ì‹¤íŒ¨ ì‹œ ì°¨ê°í–ˆë˜ ê¸ˆì•¡ì„ ë‹¤ì‹œ ë³µì›í•©ë‹ˆë‹¤.\n          await addCashToUserById(userId, amount, \"ì†¡ê¸ˆ ì‹¤íŒ¨ë¡œ ì¸í•œ ë³µì›\");\n        }\n      } else {\n        alert(\"ê³„ì¢Œì—ì„œ í˜„ê¸ˆì„ ì¸ì¶œí•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n      }\n    } catch (error) {\n      logger.error(\"!!! ì†¡ê¸ˆ ì²˜ë¦¬ ì¤‘ ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ ë°œìƒ !!!\", error);\n      alert(`ì†¡ê¸ˆ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);\n      // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±\n      if (optimisticUpdate) {\n        optimisticUpdate({ cash: parseInt(transferAmount, 10) || 0 });\n      }\n    } finally {\n      setAssetsLoading(false);\n    }\n  };\n\n  const handleForceRefresh = () => {\n    // ìºì‹œ ì‚­ì œ\n    const cacheKey = `myAssets_${userId}`;\n    localStorage.removeItem(`firestore_cache_${cacheKey}_${userId}`);\n\n    logger.log(\"[MyAssets] ğŸ”„ ìºì‹œ ì‚­ì œ ë° ê°•ì œ ìƒˆë¡œê³ ì¹¨\");\n\n    // ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ\n    loadMyAssetsData();\n  };\n\n  const renderTitle = () => (\n    <div className=\"flex justify-between items-center mb-5\">\n      <h2 className=\"text-2xl font-bold text-cyber-cyan border-b-2 border-cyber-cyan/20 pb-2.5 m-0 drop-shadow-[0_0_10px_rgba(0,255,242,0.3)]\">\n        ë‚˜ì˜ ìì‚° í˜„í™© ğŸ’³\n      </h2>\n      <button\n        onClick={handleForceRefresh}\n        disabled={assetsLoading}\n        className={`px-4 py-2 bg-cyber-cyan/10 text-cyber-cyan border border-cyber-cyan/30 rounded-lg text-sm font-semibold transition-all duration-200 ${\n          assetsLoading\n            ? \"cursor-not-allowed opacity-60\"\n            : \"cursor-pointer hover:bg-cyber-cyan/20\"\n        }`}\n      >\n        ğŸ”„ ìƒˆë¡œê³ ì¹¨\n      </button>\n    </div>\n  );\n\n  const renderAssetSummary = () => {\n    const displayCash = Number(userDoc?.cash) || 0;\n    const displayCoupons = Number(userDoc?.coupons) || 0;\n\n    // ê±°ë˜ ë‚´ì—­ í‘œì‹œ ê°œìˆ˜ ê²°ì •\n    const displayedTransactions = showAllTransactions\n      ? transactionHistory\n      : transactionHistory.slice(0, 5);\n\n    return (\n      <div className=\"p-0 bg-transparent mb-6\">\n        {/* ë³´ìœ  í˜„ê¸ˆ - ë©”ì¸ ê°•ì¡° ì¹´ë“œ */}\n        <div className=\"bg-gradient-to-br from-[#667eea] to-[#764ba2] rounded-[20px] p-[30px] mb-5 shadow-[0_10px_30px_rgba(102,126,234,0.3)] border-none\">\n          <div className=\"mb-2.5\">\n            <span className=\"text-white/90 text-base font-medium\">\n              ğŸ’° ë³´ìœ  í˜„ê¸ˆ\n            </span>\n          </div>\n          <div className=\"text-[42px] font-extrabold text-white tracking-tight mb-4 text-right\">\n            {displayCash.toLocaleString()}{\" \"}\n            <span className=\"text-[28px] font-semibold\">ì›</span>\n          </div>\n          <div className=\"flex justify-end\">\n            <button\n              onClick={() => setShowTransferModal(true)}\n              className=\"px-7 py-3.5 bg-white/95 text-[#667eea] border-none rounded-xl text-base font-bold cursor-pointer shadow-[0_4px_15px_rgba(0,0,0,0.1)] transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(0,0,0,0.15)]\"\n              disabled={assetsLoading || authLoading}\n            >\n              ğŸ’¸ ì†¡ê¸ˆí•˜ê¸°\n            </button>\n          </div>\n        </div>\n\n        {/* ìµœê·¼ ì…ì¶œê¸ˆ ë‚´ì—­ - ë³´ìœ  í˜„ê¸ˆ ë°”ë¡œ ë°‘ì— ë°°ì¹˜ */}\n        <div className=\"mb-5\">\n          <h4 className=\"text-[15px] text-[#e8e8ff] font-bold mb-3\">\n            ğŸ’³ ìµœê·¼ ì…ì¶œê¸ˆ ë‚´ì—­\n          </h4>\n          {transactionHistory.length > 0 ? (\n            <div>\n              <div className=\"flex flex-col gap-2\">\n                {displayedTransactions.map((tx) => {\n                  let displayDate = \"ë‚ ì§œ ì—†ìŒ\";\n                  try {\n                    const validDate = safeTimestampToDate(tx.timestamp);\n                    displayDate = validDate.toLocaleDateString(\"ko-KR\", {\n                      month: \"2-digit\",\n                      day: \"2-digit\",\n                    });\n                  } catch (dateError) {\n                    displayDate = \"ì˜¤ëŠ˜\";\n                  }\n\n                  const txAmount = Number(tx.amount) || 0;\n                  const rawDesc = tx.description;\n                  const txDescription =\n                    !rawDesc || rawDesc === \"undefined\" || rawDesc === \"null\"\n                      ? \"ê±°ë˜ ë‚´ì—­\"\n                      : String(rawDesc);\n\n                  return (\n                    <div\n                      key={tx.id || Math.random()}\n                      className={`flex justify-between items-center text-sm text-[#a0a0c0] px-4 py-3.5 rounded-[10px] ${\n                        txAmount > 0\n                          ? \"bg-emerald-600/10 border border-emerald-600/30\"\n                          : \"bg-red-600/10 border border-red-600/30\"\n                      }`}\n                    >\n                      <span className=\"flex-1 whitespace-nowrap overflow-hidden text-ellipsis mr-2.5 font-medium text-[#e8e8ff]\">\n                        {displayDate} â€¢ {txDescription}\n                      </span>\n                      <span\n                        className={`font-bold text-[15px] min-w-[110px] text-right ${\n                          txAmount > 0 ? \"text-emerald-400\" : \"text-red-400\"\n                        }`}\n                      >\n                        {txAmount > 0 ? \"+\" : \"\"}\n                        {txAmount.toLocaleString()}ì›\n                      </span>\n                    </div>\n                  );\n                })}\n              </div>\n              {transactionHistory.length > 5 && (\n                <button\n                  onClick={() => setShowAllTransactions(!showAllTransactions)}\n                  className=\"w-full mt-3 p-3 bg-white/5 text-[#a0a0c0] border border-white/10 rounded-[10px] text-sm font-semibold cursor-pointer transition-all duration-200 hover:bg-white/10\"\n                >\n                  {showAllTransactions\n                    ? \"â–² ì ‘ê¸°\"\n                    : `â–¼ ${transactionHistory.length - 5}ê°œ ë” ë³´ê¸°`}\n                </button>\n              )}\n            </div>\n          ) : (\n            <div className=\"text-[13px] text-gray-500 text-center p-5 bg-white/[0.03] rounded-[10px] border border-dashed border-white/10\">\n              ìµœê·¼ ê±°ë˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.\n            </div>\n          )}\n        </div>\n\n        {/* ì´ ìˆœìì‚° - ë‘ ë²ˆì§¸ ê°•ì¡° ì¹´ë“œ */}\n        <div className=\"bg-gradient-to-br from-[#f093fb] to-[#f5576c] rounded-[20px] py-6 px-[30px] mb-5 shadow-[0_10px_30px_rgba(240,147,251,0.3)] border-none\">\n          <div className=\"mb-2\">\n            <span className=\"text-white/90 text-base font-medium\">\n              ğŸ“Š ì´ ìˆœìì‚°\n            </span>\n          </div>\n          <div className=\"text-[38px] font-extrabold text-white tracking-tight text-right\">\n            {Number(totalNetAssets).toLocaleString()}{\" \"}\n            <span className=\"text-2xl font-semibold\">ì›</span>\n          </div>\n          <p className=\"mt-2 text-xs text-white/80\">\n            í˜„ê¸ˆ + ì¿ í°ê°€ì¹˜ + íŒŒí‚¹í†µì¥ + ì˜ˆê¸ˆ + ì ê¸ˆ + ë¶€ë™ì‚° - ëŒ€ì¶œ\n          </p>\n        </div>\n\n        {/* íŒŒí‚¹í†µì¥ */}\n        <div className=\"mb-5\">\n          <h4 className=\"text-[15px] text-[#e8e8ff] font-bold mb-3\">\n            ğŸ…¿ï¸ íŒŒí‚¹í†µì¥\n          </h4>\n          <div className=\"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-[14px] p-5 border-none shadow-[0_4px_15px_rgba(6,182,212,0.2)]\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-white/90 font-medium text-sm\">ì”ì•¡</span>\n              <span className=\"font-extrabold text-[26px] text-white tracking-tight text-right block\">\n                {Number(parkingBalance).toLocaleString()}\n                <span className=\"text-lg font-semibold\">ì›</span>\n              </span>\n            </div>\n          </div>\n          <p className=\"mt-2.5 text-xs text-gray-400 text-center\">\n            íŒŒí‚¹í†µì¥ ë©”ë‰´ì—ì„œ ì…ì¶œê¸ˆ ë° ìƒí’ˆ ê°€ì… ê°€ëŠ¥\n          </p>\n        </div>\n\n        {/* ê¸°íƒ€ ìì‚° ì •ë³´ - ê¹”ë”í•œ ì¹´ë“œ */}\n        <div className=\"p-6 bg-[rgba(20,20,35,0.4)] rounded-2xl border border-cyber-cyan/10 shadow-[0_4px_12px_rgba(0,0,0,0.2)]\">\n          {/* ë³´ìœ  ì¿ í° */}\n          <div className=\"mb-5\">\n            <h4 className=\"text-[15px] text-gray-700 font-bold mb-3\">\n              ğŸŸï¸ ë³´ìœ  ì¿ í°\n            </h4>\n            <div className=\"bg-gradient-to-br from-amber-400 to-amber-500 rounded-[14px] p-5 border-none shadow-[0_4px_15px_rgba(251,191,36,0.2)]\">\n              <div className=\"flex justify-between items-center\">\n                <div className=\"w-full\">\n                  <div className=\"text-[26px] font-extrabold text-white tracking-tight text-right\">\n                    {displayCoupons.toLocaleString()}{\" \"}\n                    <span className=\"text-lg font-semibold\">ê°œ</span>\n                  </div>\n                  <div className=\"text-xs text-white/85 font-medium mt-1 text-right\">\n                    1ì¿ í° = {Number(couponValue).toLocaleString()}ì›\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  if (authLoading || assetsLoading) {\n    return <AlchanLoading />;\n  }\n  if (!user) {\n    return <LoginWarning />;\n  }\n  if (!userDoc && !authLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-[80vh] text-[1.2em] text-red-500\">\n        ì‚¬ìš©ì ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ì—ë„ ì´ ë©”ì‹œì§€ê°€ ë³´ì´ë©´ ì•±ì„\n        ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ ì¬ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.\n      </div>\n    );\n  }\n  if (!currentUserClassCode && !authLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-[80vh] text-[1.2em] text-red-500\">\n        í•™ê¸‰ ì½”ë“œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì—¬ í•™ê¸‰ ì½”ë“œë¥¼ í• ë‹¹ë°›ìœ¼ì„¸ìš”.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full min-h-full bg-cyber-dark\">\n      <div className=\"w-full px-4 md:px-6 lg:px-8 py-6\">\n        {renderTitle()}\n\n        {/* ì¼ì¼ ì¶œì„ ë³´ìƒ ë°°ë„ˆ */}\n        <DailyRewardBanner\n          userId={userId}\n          onClaim={async (reward) => {\n            try {\n              // ì‹¤ì œ í˜„ê¸ˆ ì§€ê¸‰\n              const userRef = doc(db, \"users\", userId);\n              await setDoc(\n                userRef,\n                {\n                  cash: increment(reward),\n                  updatedAt: serverTimestamp(),\n                },\n                { merge: true },\n              );\n\n              // í™œë™ ë¡œê·¸ ê¸°ë¡\n              await logActivity(db, {\n                userId,\n                userName,\n                classCode: currentUserClassCode,\n                type: \"ì¼ì¼ ì¶œì„ ë³´ìƒ\",\n                description: `ì¼ì¼ ì¶œì„ ë³´ìƒìœ¼ë¡œ ${reward.toLocaleString()}ì› íšë“`,\n                amount: reward,\n                metadata: { rewardType: \"daily_streak\" },\n              });\n\n              // ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸\n              if (optimisticUpdate) {\n                optimisticUpdate({ cash: (userDoc?.cash || 0) + reward });\n              }\n\n              logger.log(`Daily reward claimed and added: ${reward}`);\n            } catch (error) {\n              logger.error(\"ì¼ì¼ ë³´ìƒ ì§€ê¸‰ ì˜¤ë¥˜:\", error);\n              alert(\"ë³´ìƒ ì§€ê¸‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\");\n            }\n          }}\n        />\n\n        {renderAssetSummary()}\n        {showTransferModal && (\n          <TransferModal\n            showTransferModal={showTransferModal}\n            setShowTransferModal={setShowTransferModal}\n            recipients={classmates}\n            transferRecipient={transferRecipient}\n            setTransferRecipient={setTransferRecipient}\n            transferAmount={transferAmount}\n            setTransferAmount={setTransferAmount}\n            handleTransfer={handleTransferMoney}\n            userId={userId}\n            userCash={Number(userDoc?.cash) || 0}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["LoginWarning","_jsxs","className","children","_jsx","memo","_ref","showTransferModal","setShowTransferModal","recipients","transferRecipient","setTransferRecipient","transferAmount","setTransferAmount","handleTransfer","userId","userCash","validRecipients","filter","r","id","sort","a","b","nameA","name","nickname","concat","substring","nameB","localeCompare","onClick","style","backgroundColor","border","boxShadow","e","stopPropagation","color","textShadow","toLocaleString","onSubmit","preventDefault","value","onChange","target","required","length","map","recipient","disabled","type","placeholder","min","max","parseInt","borderTop","background","fontWeight","MyAssets","user","userDoc","users","classmates","allClassMembers","loading","authLoading","updateUser","updateUserInAuth","addCashToUserById","deductCash","optimisticUpdate","useAuth","uid","userName","displayName","currentUserClassCode","classCode","assetsLoading","setAssetsLoading","useState","loadingRef","useRef","parkingBalance","setParkingBalance","deposits","setDeposits","savings","setSavings","loans","setLoans","realEstateAssets","setRealEstateAssets","totalNetAssets","setTotalNetAssets","goalDonations","setGoalDonations","transactionHistory","setTransactionHistory","forceReload","setForceReload","CACHE_DURATION","useMemo","httpsCallable","functions","currentGoalId","classCouponGoal","setClassCouponGoal","couponValue","setCouponValue","useEffect","async","settingsRef","doc","db","settingsSnap","getDoc","exists","settingsData","data","Number","error","logger","loadCouponValueFromSettings","goalProgress","setGoalProgress","myContribution","setMyContribution","goalAchieved","setGoalAchieved","isResettingGoal","setIsResettingGoal","showDonateModal","setShowDonateModal","showSellCouponModal","setShowSellCouponModal","sellAmount","setSellAmount","showGiftCouponModal","setShowGiftCouponModal","giftRecipient","setGiftRecipient","giftAmount","setGiftAmount","showDonationHistoryModal","setShowDonationHistoryModal","searchParams","setSearchParams","useSearchParams","showAllTransactions","setShowAllTransactions","get","replace","createDefaultGoalForClass","useCallback","goalId","goalDocRef","defaultGoalData","targetAmount","progress","donations","donationCount","title","description","createdAt","serverTimestamp","updatedAt","createdBy","runTransaction","goalDoc","transaction","existingData","setCachedFirestoreData","set","loadGoalData","cacheKey","cachedData","getCachedFirestoreData","Array","isArray","myTotal","d","reduce","sum","amount","goalDocSnap","goalData","donation","processedTimestamp","timestamp","toDate","toISOString","seconds","Date","timestampISO","_objectSpread","message","log","loadMyAssetsData","current","cachedAssets","realEstateRef1","query","collection","where","limit","realEstateRef2","realEstateRef3","parkingRef1","parkingRef2","productsRef","activityLogsRef","transactionsRef","snap1","snap2","snap3","parkingSnap1","parkingSnap2","productsSnap","activityLogsSnap","transactionsSnap","Promise","all","getDocs","catch","docs","allRealEstateAssets","forEach","push","totalParkingBalance","balance","depositsData","savingsData","loansData","docSnap","_docSnap$data$maturit","product","maturityDate","activityData","desc","couponAmount","source","tx","transactionsData","allTransactions","_a$timestamp","_a$timestamp2","_b$timestamp","_b$timestamp2","dateA","recentTransactions","slice","_tx$timestamp","_tx$timestamp2","fallbackError","cashValue","cash","couponMonetaryValue","coupons","realEstateValue","asset","price","depositsTotal","deposit","savingsTotal","saving","loanTotal","loan","remainingPrincipal","calculatedTotalAssets","handleForceRefresh","localStorage","removeItem","AlchanLoading","DailyRewardBanner","onClaim","userRef","setDoc","increment","reward","merge","logActivity","metadata","rewardType","alert","renderAssetSummary","displayCash","displayCoupons","displayedTransactions","displayDate","safeTimestampToDate","toLocaleDateString","month","day","dateError","txAmount","rawDesc","txDescription","String","Math","random","TransferModal","isNaN","recipientUser","find","u","recipientName","ACTIVITY_TYPES","TRANSFER_SEND","recipientId","TRANSFER_RECEIVE","senderId","senderName"],"ignoreList":[],"sourceRoot":""}