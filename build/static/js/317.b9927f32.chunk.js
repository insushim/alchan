"use strict";(self.webpackChunkinconomysu_class=self.webpackChunkinconomysu_class||[]).push([[317],{956(){},5317(e,a,t){t.r(a),t.d(a,{default:()=>f});var s=t(2555),n=t(5043),l=(t(956),t(2419)),r=t(5472),o=t(577),i=t(8343),c=t(5452),d=t(579);const x=e=>{if(!e)return"-";const a=e.toDate?e.toDate():new Date(e);return isNaN(a.getTime())?"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ub0a0\uc9dc":a.toLocaleString("ko-KR")},b={totalAmount:0,stockTaxRevenue:0,stockCommissionRevenue:0,realEstateTransactionTaxRevenue:0,vatRevenue:0,auctionTaxRevenue:0,propertyHoldingTaxRevenue:0,itemMarketTaxRevenue:0,incomeTaxRevenue:0,corporateTaxRevenue:0,otherTaxRevenue:0,lastUpdated:null},m={stockTransactionTaxRate:.01,realEstateTransactionTaxRate:.03,itemStoreVATRate:.1,auctionTransactionTaxRate:.03,propertyHoldingTaxRate:.002,propertyHoldingTaxInterval:"weekly",itemMarketTransactionTaxRate:.03,lastUpdated:null},g=e=>{let{classCode:a}=e;const[t,g]=(0,n.useState)(b),[u,p]=(0,n.useState)(m),[h,v]=(0,n.useState)(0),[f,y]=(0,n.useState)(!0),[j,N]=(0,n.useState)(!0),[w,R]=(0,n.useState)("overview"),[T,k]=(0,n.useState)(m),S=(0,n.useCallback)(async()=>{if(a)try{const e=(0,r.rJ)(l.db,"users"),t=(0,r.query)(e,(0,r.where)("classCode","==",a),(0,r.where)("isAdmin","==",!0)),s=await(0,r.getDocs)(t);if(s.empty)v(0);else{const e=s.docs[0].data();v(e.cash||0)}}catch(e){c.vF.error("[".concat(a,"] \uad00\ub9ac\uc790 \ud604\uae08(\uad6d\uace0) \ub85c\ub4dc \uc2e4\ud328:"),e),v(0)}else v(0)},[a]),A=(0,n.useCallback)(async()=>{if(!a)return y(!1),void g(b);y(!0),await S();const e=(0,r.H9)(l.db,"nationalTreasuries",a);try{const t=await(0,l.gn)("nationalTreasuries",a,3e5);if(t)return g((0,s.A)((0,s.A)({},b),t)),void y(!1);const n=await(0,r.x7)(e);n.exists()?(g((0,s.A)((0,s.A)({},b),n.data())),(0,l.gm)("doc_nationalTreasuries_".concat(a))):(await(0,r.BN)(e,(0,s.A)((0,s.A)({},b),{},{createdAt:(0,r.O5)(),lastUpdated:(0,r.O5)()})),(0,l.gm)("doc_nationalTreasuries_".concat(a)),g((0,s.A)((0,s.A)({},b),{},{lastUpdated:new Date}))),y(!1)}catch(t){c.vF.error("[".concat(a,"] \uc138\uc218 \ud1b5\uacc4 \ub370\uc774\ud130 \ub85c\ub4dc \uc2e4\ud328:"),t),y(!1)}},[a,S]),{refetch:F}=(0,o.nm)(A,{interval:9e5,enabled:!!a}),C=(0,n.useCallback)(async()=>{if(!a)return N(!1),p(m),void k(m);N(!0);const e=(0,r.H9)(l.db,"governmentSettings",a);try{const t=await(0,l.gn)("governmentSettings",a,3e5);if(null!==t&&void 0!==t&&t.taxSettings){const e=(0,s.A)((0,s.A)({},m),t.taxSettings);return p(e),k(e),void N(!1)}const n=await(0,r.x7)(e);if(n.exists()&&n.data().taxSettings){const e=(0,s.A)((0,s.A)({},m),n.data().taxSettings);p(e),k(e),(0,l.gm)("doc_governmentSettings_".concat(a))}else await(0,r.BN)(e,{taxSettings:(0,s.A)((0,s.A)({},m),{},{lastUpdated:(0,r.O5)()})},{merge:!0}),(0,l.gm)("doc_governmentSettings_".concat(a)),p(m),k(m);N(!1)}catch(t){c.vF.error("[".concat(a,"] \uc138\uae08 \uc815\ucc45 \ub85c\ub4dc \uc2e4\ud328:"),t),N(!1)}},[a]),{refetch:D}=(0,o.nm)(C,{interval:36e5,enabled:!!a}),H=e=>{const{name:a,value:t}=e.target,n=""===t?"":parseFloat(t);k(e=>(0,s.A)((0,s.A)({},e),{},{[a]:n}))},M=e=>{const{name:a,value:t}=e.target;k(e=>(0,s.A)((0,s.A)({},e),{},{[a]:t}))};if(!a)return(0,d.jsxs)("div",{className:"p-8 text-center",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"\ud559\uae09 \ucf54\ub4dc\uac00 \ud544\uc694\ud569\ub2c8\ub2e4"}),(0,d.jsx)("p",{className:"text-slate-500",children:"\uc815\ubd80 \uba54\ub274\uc5d0\uc11c \uad6d\uc138\uccad \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 \ud559\uae09\uc5d0 \uba3c\uc800 \ucc38\uc5ec\ud574\uc57c \ud569\ub2c8\ub2e4."})]});if(f||j)return(0,d.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,d.jsxs)("p",{className:"text-slate-500 font-medium",children:["\uad6d\uc138\uccad \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 (\ud559\uae09: ",a,")..."]})]})});const _=Object.keys(t).filter(e=>e.endsWith("Revenue")&&"totalAmount"!==e).reduce((e,a)=>e+(t[a]||0),0);return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"relative overflow-hidden rounded-2xl p-8 text-white shadow-xl",style:{background:"linear-gradient(135deg, rgba(15, 15, 30, 0.95), rgba(30, 30, 60, 0.9))",border:"1px solid rgba(0, 255, 242, 0.2)"},children:[(0,d.jsx)("div",{className:"absolute inset-0 opacity-10",style:{background:"radial-gradient(circle at 80% 20%, rgba(0, 136, 255, 0.4), transparent 60%)"}}),(0,d.jsxs)("div",{className:"relative z-10",children:[(0,d.jsxs)("h1",{className:"text-2xl font-bold mb-1",style:{fontFamily:"Orbitron, sans-serif",textShadow:"0 0 12px rgba(0, 255, 242, 0.3)"},children:[a," \ud559\uae09 \uad6d\uc138\uccad"]}),(0,d.jsx)("p",{className:"text-sm",style:{color:"rgba(148, 163, 184, 0.9)"},children:"\uc138\uae08 \uc815\ucc45 \uad00\ub9ac \ubc0f \uad6d\uace0 \uc6b4\uc601"})]})]}),(0,d.jsx)("div",{className:"flex gap-2 p-1 rounded-xl",style:{background:"rgba(10, 10, 18, 0.6)",border:"1px solid rgba(0, 255, 242, 0.08)"},children:[{id:"overview",label:"\uac1c\uc694",icon:"\ud83d\udcca"},{id:"revenue",label:"\uc138\uc218 \ud604\ud669",icon:"\ud83d\udcb0"},{id:"policy",label:"\uc138\uae08 \uc815\ucc45",icon:"\ud83d\udccb"},{id:"analytics",label:"\ubd84\uc11d",icon:"\ud83d\udcc8"}].map(e=>(0,d.jsxs)("button",{onClick:()=>R(e.id),className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg font-bold text-sm transition-all duration-300",style:w===e.id?{background:"linear-gradient(135deg, rgba(0, 136, 255, 0.2), rgba(0, 255, 242, 0.1))",color:"#fff",border:"1px solid rgba(0, 255, 242, 0.3)",boxShadow:"0 0 15px rgba(0, 136, 255, 0.15), inset 0 1px 0 rgba(255,255,255,0.05)",textShadow:"0 0 8px rgba(0, 255, 242, 0.4)",fontFamily:"Rajdhani, sans-serif",letterSpacing:"0.5px"}:{background:"transparent",color:"rgba(148, 163, 184, 0.7)",border:"1px solid transparent",fontFamily:"Rajdhani, sans-serif",letterSpacing:"0.5px"},children:[(0,d.jsx)("span",{className:"text-base",children:e.icon}),(0,d.jsx)("span",{children:e.label})]},e.id))}),"overview"===w&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[{icon:"\ud83d\udcb0",label:"\ucd1d \uad6d\uace0",value:h,sub:"= \ud559\uae09 \uad00\ub9ac\uc790 \ud604\uae08",accent:"#00fff2",bg:"rgba(0, 255, 242, 0.08)",border:"rgba(0, 255, 242, 0.25)"},{icon:"\ud83d\udcc8",label:"\uc8fc\uc2dd \uac70\ub798\uc138 \uc218\uc785",value:t.stockTaxRevenue,accent:"#60a5fa",bg:"rgba(96, 165, 250, 0.08)",border:"rgba(96, 165, 250, 0.25)"},{icon:"\ud83d\udcca",label:"\uc8fc\uc2dd \uc218\uc218\ub8cc \uc218\uc785",value:t.stockCommissionRevenue,accent:"#818cf8",bg:"rgba(129, 140, 248, 0.08)",border:"rgba(129, 140, 248, 0.25)"},{icon:"\ud83c\udfe0",label:"\ubd80\ub3d9\uc0b0 \uac70\ub798\uc138",value:t.realEstateTransactionTaxRevenue,accent:"#fbbf24",bg:"rgba(251, 191, 36, 0.08)",border:"rgba(251, 191, 36, 0.25)"},{icon:"\ud83d\uded2",label:"\ubd80\uac00\uc138 \uc218\uc785",value:t.vatRevenue,accent:"#f472b6",bg:"rgba(244, 114, 182, 0.08)",border:"rgba(244, 114, 182, 0.25)"},{icon:"\ud83d\udd28",label:"\uacbd\ub9e4\uc7a5 \uac70\ub798\uc138",value:t.auctionTaxRevenue,accent:"#22d3ee",bg:"rgba(34, 211, 238, 0.08)",border:"rgba(34, 211, 238, 0.25)"},{icon:"\ud83c\udfd8\ufe0f",label:"\ubd80\ub3d9\uc0b0 \ubcf4\uc720\uc138",value:t.propertyHoldingTaxRevenue,accent:"#a3e635",bg:"rgba(163, 230, 53, 0.08)",border:"rgba(163, 230, 53, 0.25)"},{icon:"\ud83c\udfea",label:"\uc544\uc774\ud15c \uc2dc\uc7a5\uc138",value:t.itemMarketTaxRevenue,accent:"#fb923c",bg:"rgba(251, 146, 60, 0.08)",border:"rgba(251, 146, 60, 0.25)"}].map(e=>(0,d.jsxs)("div",{className:"rounded-xl p-5 transition-all duration-300 hover:scale-[1.02]",style:{background:"linear-gradient(135deg, ".concat(e.bg,", rgba(15, 15, 25, 0.9))"),border:"1px solid ".concat(e.border),boxShadow:"0 0 12px ".concat(e.bg)},children:[(0,d.jsxs)("p",{className:"text-xs font-semibold mb-2 tracking-wide",style:{color:e.accent,fontFamily:"Rajdhani, sans-serif",letterSpacing:"1px"},children:[e.icon," ",e.label]}),(0,d.jsx)("p",{className:"text-xl font-bold text-white",style:{fontFamily:"Rajdhani, sans-serif",textShadow:"0 0 8px ".concat(e.bg)},children:(0,i.bL)(e.value)}),e.sub&&(0,d.jsx)("p",{className:"text-xs mt-1",style:{color:"rgba(148, 163, 184, 0.6)"},children:e.sub})]},e.label))}),(0,d.jsxs)("div",{className:"rounded-xl p-5",style:{background:"rgba(15, 15, 25, 0.8)",border:"1px solid rgba(0, 255, 242, 0.12)"},children:[(0,d.jsx)("h3",{className:"text-sm font-bold mb-3",style:{color:"#00fff2",fontFamily:"Rajdhani, sans-serif",letterSpacing:"1px"},children:"\ud83d\udcc5 \ucd5c\uadfc \uc5c5\ub370\uc774\ud2b8"}),(0,d.jsxs)("div",{className:"space-y-1.5 text-sm",style:{color:"rgba(148, 163, 184, 0.8)"},children:[(0,d.jsxs)("p",{children:["\uad6d\uace0 \ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: ",(0,d.jsx)("span",{className:"font-medium text-white",children:x(t.lastUpdated)})]}),(0,d.jsxs)("p",{children:["\uc138\uae08 \uc815\ucc45 \ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: ",(0,d.jsx)("span",{className:"font-medium text-white",children:x(u.lastUpdated)})]})]})]})]}),"revenue"===w&&(0,d.jsxs)("div",{className:"rounded-xl p-6",style:{background:"rgba(15, 15, 25, 0.8)",border:"1px solid rgba(0, 255, 242, 0.12)"},children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h3",{className:"text-lg font-bold",style:{color:"#00fff2",fontFamily:"Rajdhani, sans-serif",letterSpacing:"1px"},children:"\ud83d\udcb0 \uc138\uc218 \ud604\ud669 \ubd84\uc11d"}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"text-xs",style:{color:"rgba(148, 163, 184, 0.6)"},children:"\uc138\uc218 \ucd1d\ud569"}),(0,d.jsx)("p",{className:"text-xl font-bold text-white",style:{fontFamily:"Rajdhani, sans-serif"},children:(0,i.bL)(_)})]})]}),(0,d.jsx)("div",{className:"space-y-3",children:[{label:"\uc8fc\uc2dd \uac70\ub798\uc138",amount:t.stockTaxRevenue,color:"#60a5fa"},{label:"\uc8fc\uc2dd \uc218\uc218\ub8cc",amount:t.stockCommissionRevenue,color:"#818cf8"},{label:"\ubd80\ub3d9\uc0b0 \uac70\ub798\uc138",amount:t.realEstateTransactionTaxRevenue,color:"#fbbf24"},{label:"\ubd80\uac00\uc138",amount:t.vatRevenue,color:"#f472b6"},{label:"\uacbd\ub9e4\uc7a5 \uac70\ub798\uc138",amount:t.auctionTaxRevenue,color:"#22d3ee"},{label:"\ubd80\ub3d9\uc0b0 \ubcf4\uc720\uc138",amount:t.propertyHoldingTaxRevenue,color:"#a3e635"},{label:"\uc544\uc774\ud15c \uc2dc\uc7a5\uc138",amount:t.itemMarketTaxRevenue,color:"#fb923c"}].map(e=>{const a=_>0?(e.amount/_*100).toFixed(1):"0.0";return(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-28 text-xs font-semibold",style:{color:e.color,fontFamily:"Rajdhani, sans-serif"},children:e.label}),(0,d.jsx)("div",{className:"flex-1 h-5 rounded-md overflow-hidden",style:{background:"rgba(30, 30, 50, 0.8)",border:"1px solid rgba(255,255,255,0.04)"},children:(0,d.jsx)("div",{className:"h-full rounded-md transition-all duration-700",style:{width:"".concat(Math.max(parseFloat(a),.5),"%"),background:"linear-gradient(90deg, ".concat(e.color,"40, ").concat(e.color,"90)"),boxShadow:"0 0 8px ".concat(e.color,"30")}})}),(0,d.jsxs)("div",{className:"w-36 text-right text-xs",children:[(0,d.jsx)("span",{className:"font-bold text-white",children:(0,i.bL)(e.amount)}),(0,d.jsxs)("span",{className:"ml-1.5",style:{color:"rgba(148, 163, 184, 0.5)"},children:["(",a,"%)"]})]})]},e.label)})})]}),"policy"===w&&(0,d.jsxs)("div",{className:"space-y-5",children:[(0,d.jsxs)("div",{className:"rounded-xl p-6",style:{background:"rgba(15, 15, 25, 0.8)",border:"1px solid rgba(0, 255, 242, 0.12)"},children:[(0,d.jsxs)("h3",{className:"text-lg font-bold mb-5",style:{color:"#00fff2",fontFamily:"Rajdhani, sans-serif",letterSpacing:"1px"},children:["\ud83d\udccb \ud604\ud589 \uc138\uae08 \uc815\ucc45 (",a,")"]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[{name:"stockTransactionTaxRate",label:"\uc8fc\uc2dd \uac70\ub798\uc138\uc728",type:"number",step:"0.001",min:"0",max:"1"},{name:"realEstateTransactionTaxRate",label:"\ubd80\ub3d9\uc0b0 \uac70\ub798\uc138\uc728",type:"number",step:"0.001",min:"0",max:"1"},{name:"itemStoreVATRate",label:"\uc544\uc774\ud15c \uc0c1\uc810 \ubd80\uac00\uc138\uc728",type:"number",step:"0.01",min:"0",max:"1"},{name:"auctionTransactionTaxRate",label:"\uacbd\ub9e4\uc7a5 \uac70\ub798\uc138\uc728",type:"number",step:"0.001",min:"0",max:"1"},{name:"propertyHoldingTaxRate",label:"\ubd80\ub3d9\uc0b0 \ubcf4\uc720\uc138\uc728",type:"number",step:"0.0001",min:"0",max:"1"},{name:"propertyHoldingTaxInterval",label:"\ubd80\ub3d9\uc0b0 \ubcf4\uc720\uc138 \uc9d5\uc218 \uc8fc\uae30",type:"select",options:["daily","weekly","monthly"]},{name:"itemMarketTransactionTaxRate",label:"\uc544\uc774\ud15c \uc2dc\uc7a5 \uac70\ub798\uc138\uc728",type:"number",step:"0.001",min:"0",max:"1"}].map(e=>(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-xs font-bold mb-2",style:{color:"rgba(148, 163, 184, 0.9)",fontFamily:"Rajdhani, sans-serif",letterSpacing:"0.5px"},children:[e.label,(0,d.jsxs)("span",{className:"ml-2",style:{color:"#00fff2",fontWeight:400},children:["(\ud604\uc7ac: ","select"===e.type?u[e.name]:"".concat((100*(u[e.name]||0)).toFixed(e.name.includes("propertyHoldingTaxRate")?2:1),"%"),")"]})]}),"select"===e.type?(0,d.jsx)("select",{name:e.name,value:T[e.name]||m[e.name],onChange:M,className:"w-full px-4 py-2.5 rounded-lg text-white text-sm transition-all duration-200",style:{background:"rgba(10, 10, 18, 0.8)",border:"1px solid rgba(100, 116, 139, 0.3)",outline:"none"},onFocus:e=>e.target.style.borderColor="rgba(0, 255, 242, 0.5)",onBlur:e=>e.target.style.borderColor="rgba(100, 116, 139, 0.3)",children:e.options.map(e=>(0,d.jsx)("option",{value:e,children:"daily"===e?"\ub9e4\uc77c":"weekly"===e?"\ub9e4\uc8fc":"\ub9e4\uc6d4"},e))}):(0,d.jsx)("input",{type:e.type,name:e.name,value:""===T[e.name]?"":T[e.name],onChange:H,step:e.step,min:e.min,max:e.max,placeholder:"\uc608: ".concat(e.label.includes("\ubd80\uac00")?"0.1 (10%)":"0.03 (3%)"),className:"w-full px-4 py-2.5 rounded-lg text-white text-sm transition-all duration-200",style:{background:"rgba(10, 10, 18, 0.8)",border:"1px solid rgba(100, 116, 139, 0.3)",outline:"none"},onFocus:e=>e.target.style.borderColor="rgba(0, 255, 242, 0.5)",onBlur:e=>e.target.style.borderColor="rgba(100, 116, 139, 0.3)"})]},e.name))}),(0,d.jsx)("button",{onClick:async()=>{if(!a)return;for(const a in T)if(a.endsWith("Rate")&&(T[a]<0||T[a]>1)&&""!==T[a]&&!("itemStoreVATRate"===a&&T[a]>1))return void alert("".concat(a," \uc138\uc728\uc740 0\uacfc 1 \uc0ac\uc774\uc758 \uac12\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4 (\uc608: 3%\ub294 0.03). \ud604\uc7ac\uac12: ").concat(T[a]));const e=(0,r.H9)(l.db,"governmentSettings",a);try{await(0,r.mZ)(e,{taxSettings:(0,s.A)((0,s.A)({},T),{},{lastUpdated:(0,r.O5)()})}),D(),alert("\uc138\uae08 \uc815\ucc45\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(t){c.vF.error("\uc138\uae08 \uc815\ucc45 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328:",t),alert("\uc138\uae08 \uc815\ucc45 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},className:"mt-5 px-7 py-2.5 rounded-lg font-bold text-sm text-white transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(0, 136, 255, 0.3), rgba(0, 255, 242, 0.2))",border:"1px solid rgba(0, 255, 242, 0.35)",fontFamily:"Rajdhani, sans-serif",letterSpacing:"1px",boxShadow:"0 0 12px rgba(0, 136, 255, 0.15)"},onMouseEnter:e=>{e.target.style.background="linear-gradient(135deg, rgba(0, 136, 255, 0.5), rgba(0, 255, 242, 0.35))",e.target.style.boxShadow="0 0 20px rgba(0, 255, 242, 0.25)",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(135deg, rgba(0, 136, 255, 0.3), rgba(0, 255, 242, 0.2))",e.target.style.boxShadow="0 0 12px rgba(0, 136, 255, 0.15)",e.target.style.transform="translateY(0)"},children:"\uc138\uae08 \uc815\ucc45 \uc800\uc7a5"})]}),(0,d.jsxs)("div",{className:"rounded-xl p-5",style:{background:"rgba(10, 10, 18, 0.6)",border:"1px solid rgba(96, 165, 250, 0.15)"},children:[(0,d.jsx)("h3",{className:"text-sm font-bold mb-2",style:{color:"#60a5fa",fontFamily:"Rajdhani, sans-serif"},children:"\ud83d\udca1 \uc138\uae08 \uc815\ucc45 \ubaa9\ud45c"}),(0,d.jsxs)("ul",{className:"space-y-1 text-xs",style:{color:"rgba(148, 163, 184, 0.7)"},children:[(0,d.jsx)("li",{children:"\u2022 \uacf5\uc815\ud55c \uc2dc\uc7a5 \uacbd\uc81c \uc9c8\uc11c \ud655\ub9bd"}),(0,d.jsx)("li",{children:"\u2022 \uc548\uc815\uc801\uc778 \ud559\uae09 \uc7ac\uc815 \ubc0f \uacf5\uacf5 \uc11c\ube44\uc2a4 \ud22c\uc790"}),(0,d.jsx)("li",{children:"\u2022 \uacbd\uc81c \ud65c\ub3d9 \ucc38\uc5ec\uc640 \uc138\uae08\uc758 \ud615\ud3c9\uc131 \uc81c\uace0"})]})]})]}),"analytics"===w&&(0,d.jsxs)("div",{className:"rounded-xl p-6",style:{background:"rgba(15, 15, 25, 0.8)",border:"1px solid rgba(0, 255, 242, 0.12)"},children:[(0,d.jsxs)("h3",{className:"text-lg font-bold mb-5",style:{color:"#00fff2",fontFamily:"Rajdhani, sans-serif",letterSpacing:"1px"},children:["\ud83d\udcc8 \uc138\uc218 \ubd84\uc11d (",a,")"]}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-5",children:[{label:"\uc8fc\uc2dd \uad00\ub828",amount:(t.stockTaxRevenue||0)+(t.stockCommissionRevenue||0),color:"#60a5fa"},{label:"\ubd80\ub3d9\uc0b0 \uad00\ub828",amount:(t.realEstateTransactionTaxRevenue||0)+(t.propertyHoldingTaxRevenue||0),color:"#fbbf24"},{label:"\uc544\uc774\ud15c/\uc0c1\uc810",amount:(t.vatRevenue||0)+(t.itemMarketTaxRevenue||0),color:"#f472b6"},{label:"\uacbd\ub9e4/\uae30\ud0c0",amount:(t.auctionTaxRevenue||0)+(t.otherTaxRevenue||0),color:"#22d3ee"}].map(e=>{const a=_>0?(e.amount/_*100).toFixed(1):"0.0";return(0,d.jsxs)("div",{className:"rounded-lg p-4 text-center",style:{background:"".concat(e.color,"08"),border:"1px solid ".concat(e.color,"25")},children:[(0,d.jsxs)("p",{className:"text-2xl font-bold",style:{color:e.color,fontFamily:"Rajdhani, sans-serif"},children:[a,"%"]}),(0,d.jsx)("p",{className:"text-xs mt-1",style:{color:"rgba(148, 163, 184, 0.7)"},children:e.label}),(0,d.jsx)("p",{className:"text-xs font-semibold mt-0.5 text-white",children:(0,i.bL)(e.amount)})]},e.label)})}),(0,d.jsx)("div",{className:"rounded-lg p-6 text-center",style:{background:"rgba(10, 10, 18, 0.6)",border:"1px solid rgba(100, 116, 139, 0.15)"},children:(0,d.jsx)("p",{className:"text-xs",style:{color:"rgba(148, 163, 184, 0.5)"},children:"\ucd94\ud6c4 \uc2dc\uac04\ubcc4 \uc138\uc218 \ubcc0\ud654 \ucd94\uc774, \uce74\ud14c\uace0\ub9ac\ubcc4 \uc0c1\uc138 \ubd84\uc11d\uc774 \ucd94\uac00\ub420 \uc608\uc815\uc785\ub2c8\ub2e4."})})]})]})};var u=t(5016),p=t(3122);const h=e=>{if(!e)return"\uc815\ubcf4 \uc5c6\uc74c";try{const a=new Date(e);return isNaN(a.getTime())?"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ub0a0\uc9dc":"".concat(a.getFullYear(),"\ub144 ").concat(a.getMonth()+1,"\uc6d4 ").concat(a.getDate(),"\uc77c")}catch(a){return"\ub0a0\uc9dc \ubcc0\ud658 \uc624\ub958"}},v=e=>{let{classCode:a}=e;const[t,i]=(0,n.useState)([]),{isAdmin:x,userDoc:b}=(0,u.As)(),{data:m}=(0,o.nm)(async()=>{if(!a)return[];const e=(0,r.rJ)(l.db,"jobs"),t=(0,r.query)(e,(0,r.where)("classCode","==",a));return(await(0,r.getDocs)(t)).docs.map(e=>(0,s.A)({id:e.id},e.data()))},{interval:18e5,enabled:!!a,deps:[a]}),g=(0,n.useCallback)(()=>{if(x())return!0;if(null===b||void 0===b||!b.selectedJobIds||!m||0===m.length)return!1;return m.filter(e=>b.selectedJobIds.includes(e.id)).some(e=>"\ub300\ud1b5\ub839"===e.title)},[x,b,m]),{loading:v,refetch:f}=(0,o.nm)(async()=>{if(a)try{const e=(0,r.rJ)(l.db,"classes",a,"nationalAssemblyLaws"),t=(0,r.query)(e,(0,r.where)("status","==","pending_government_approval")),n=(await(0,r.getDocs)(t)).docs.map(e=>(0,s.A)({id:e.id},e.data()));i(n)}catch(e){c.vF.error("Error fetching pending laws:",e),alert("\uc815\ubd80 \uc774\uc1a1 \ubc95\uc548\uc744 \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ucf58\uc194\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.")}},{interval:9e5,enabled:!!a});return v?(0,d.jsx)(p.AlchanLoading,{}):(0,d.jsxs)("div",{className:"law-management-container",children:[(0,d.jsx)("h2",{children:"\uc815\ubd80 \uc774\uc1a1 \ubc95\uc548 \ubaa9\ub85d"}),0===t.length?(0,d.jsx)("div",{className:"empty-state",children:"\ud604\uc7ac \uc815\ubd80\ub85c \uc774\uc1a1\ub41c \ubc95\uc548\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,d.jsx)("div",{className:"law-list",children:t.map(e=>{var t;return(0,d.jsx)("div",{className:"law-card pending-gov",children:(0,d.jsxs)("div",{className:"law-content-wrapper",children:[(0,d.jsxs)("div",{className:"law-header",children:[(0,d.jsx)("h3",{className:"law-title",children:e.title}),(0,d.jsx)("span",{className:"law-status pending-gov",children:"\uc815\ubd80 \uc2ec\uc758\uc911"})]}),(0,d.jsxs)("div",{className:"law-content",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\uc81c\uc548\uc790:"})," ",e.proposerName||"\uc815\ubcf4 \uc5c6\uc74c"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\ucde8\uc9c0:"})," ",e.purpose]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\uc124\uba85:"})," ",e.description]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"\ubc8c\uae08:"})," ",e.fine]}),(0,d.jsxs)("p",{className:"law-timestamp",children:["\uad6d\ud68c \ud1b5\uacfc\uc77c: ",h(null===(t=e.approvalDate)||void 0===t?void 0:t.toDate().toISOString())]})]}),g()&&(0,d.jsxs)("div",{className:"law-footer government-actions",children:[(0,d.jsx)("button",{onClick:()=>(async e=>{if(g()){if(window.confirm("\uc774 \ubc95\uc548\uc744 \ucd5c\uc885 \uc2b9\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){const s=(0,r.H9)(l.db,"classes",a,"nationalAssemblyLaws",e);try{await(0,r.mZ)(s,{status:"approved",finalStatus:"final_approved",finalApprovalDate:(0,r.O5)()}),alert("\ubc95\uc548\uc774 \ucd5c\uc885 \uc2b9\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),f()}catch(t){c.vF.error("Error approving law:",t),alert("\ubc95\uc548 \uc2b9\uc778 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}}else alert("\ub300\ud1b5\ub839 \ub610\ub294 \uad00\ub9ac\uc790\ub9cc \ubc95\uc548\uc744 \uc2b9\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")})(e.id),className:"gov-action-button approve",children:"\uc2b9\uc778"}),(0,d.jsx)("button",{onClick:()=>(async e=>{if(!g())return void alert("\ub300\ud1b5\ub839 \ub610\ub294 \uad00\ub9ac\uc790\ub9cc \uac70\ubd80\uad8c\uc744 \ud589\uc0ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");const t=prompt("\uac70\ubd80\uad8c \ud589\uc0ac \uc0ac\uc720\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(t&&""!==t.trim()){const n=(0,r.H9)(l.db,"classes",a,"nationalAssemblyLaws",e),o=new Date;o.setDate(o.getDate()+7);try{await(0,r.mZ)(n,{status:"vetoed",vetoReason:t,vetoDate:(0,r.O5)(),vetoDeadline:o,approvals:0,disapprovals:0,voters:{}}),alert("\uac70\ubd80\uad8c\uc774 \ud589\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud574\ub2f9 \ubc95\uc548\uc740 \uad6d\ud68c\uc5d0\uc11c \uc7ac\uc758\uacb0 \uc808\ucc28\ub97c \uac70\uce69\ub2c8\ub2e4."),f()}catch(s){c.vF.error("Error vetoing law:",s),alert("\uac70\ubd80\uad8c \ud589\uc0ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}else alert("\uac70\ubd80 \uc0ac\uc720\ub97c \ubc18\ub4dc\uc2dc \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.")})(e.id),className:"gov-action-button veto",children:"\uac70\ubd80\uad8c \ud589\uc0ac"})]})]})},e.id)})})]})},f=()=>{const{userDoc:e}=(0,u.As)(),a=null===e||void 0===e?void 0:e.classCode,[t,s]=(0,n.useState)("lawManage"),l=e=>{s(e)};return(0,d.jsxs)("div",{className:"government-container",children:[(0,d.jsxs)("h1",{className:"government-header",children:["\uc815\ubd80 (",a?"\ud559\uae09: ".concat(a):"\ud559\uae09 \uc815\ubcf4 \uc5c6\uc74c",")"]}),(0,d.jsxs)("div",{className:"government-tabs",children:[(0,d.jsxs)("button",{className:"gov-tab-button ".concat("lawManage"===t?"active":""),onClick:()=>l("lawManage"),disabled:!a,children:[(0,d.jsx)("span",{className:"gov-tab-icon",children:"\ud83d\udcdc"}),(0,d.jsx)("span",{className:"gov-tab-label",children:"\ubc95\uc548 \uad00\ub9ac"})]}),(0,d.jsxs)("button",{className:"gov-tab-button ".concat("tax"===t?"active":""),onClick:()=>l("tax"),disabled:!a,children:[(0,d.jsx)("span",{className:"gov-tab-icon",children:"\ud83c\udfdb\ufe0f"}),(0,d.jsx)("span",{className:"gov-tab-label",children:"\uad6d\uc138\uccad"})]})]}),(0,d.jsx)("div",{className:"government-tab-content",children:(()=>{if(!a)return(0,d.jsx)(p.AlchanLoading,{});switch(t){case"lawManage":default:return(0,d.jsx)(v,{classCode:a});case"tax":return(0,d.jsx)(g,{classCode:a})}})()})]})}}}]);
//# sourceMappingURL=317.b9927f32.chunk.js.map