{"version":3,"file":"static/js/433.71b3da91.chunk.js","mappings":"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","sources":["components/PageWrapper.js","components/TaskItem.js","utils/jobTaskRewards.js","components/JobList.js","components/CommonTaskList.js","services/optimizedFirebaseService.js","pages/admin/SystemMonitoring.js","components/modals/AdminSettingsModal.js","hooks/useOptimizedAdminData.js","pages/dashboard/Dashboard.js"],"sourcesContent":["// src/components/PageWrapper.js\n//    -     \n\nimport React from \"react\";\nimport { Loader2, CheckSquare } from \"lucide-react\";\nimport { AlchanLoadingScreen } from \"./ui/Skeleton\";\n\n// ============================================\n//  \n// ============================================\nexport const PageContainer = ({ children, className = \"\" }) => (\n  <div className={`min-h-full w-full bg-[#0a0a12] ${className}`}>\n    <div className=\"w-full max-w-none px-2 md:px-3 lg:px-4 py-1 md:py-2\">\n      {children}\n    </div>\n  </div>\n);\n\n// ============================================\n//   -  \n// ============================================\nexport const PageHeader = ({\n  title,\n  subtitle,\n  icon: Icon,\n  badge,\n  action,\n  backButton,\n  className = \"\",\n}) => (\n  <section\n    className={`bg-[#14142380] backdrop-blur-sm rounded-lg px-3 py-1.5 md:px-4 md:py-2 shadow-lg border border-cyan-900/30 flex flex-col md:flex-row md:items-center justify-between gap-1.5 md:gap-2 mb-2 md:mb-3 ${className}`}\n  >\n    <div className=\"flex items-center gap-3\">\n      {backButton}\n      {Icon && (\n        <div className=\"w-9 h-9 md:w-10 md:h-10 bg-cyan-900/30 rounded-lg flex items-center justify-center text-cyan-400 shrink-0 shadow-sm border border-cyan-500/30\">\n          <Icon className=\"w-5 h-5\" />\n        </div>\n      )}\n      <div>\n        <div className=\"flex items-center gap-2\">\n          <h2 className=\"text-lg md:text-xl font-bold text-white tracking-tight\">\n            {title}\n          </h2>\n          {badge}\n        </div>\n        {subtitle && (\n          <p className=\"text-xs md:text-sm text-slate-400 font-medium\">\n            {subtitle}\n          </p>\n        )}\n      </div>\n    </div>\n    {action && (\n      <div className=\"flex flex-wrap items-center gap-2 md:gap-3 md:ml-auto\">\n        {action}\n      </div>\n    )}\n  </section>\n);\n\n// ============================================\n//  \n// ============================================\nexport const SectionTitle = ({\n  children,\n  icon: Icon,\n  action,\n  className = \"\",\n}) => (\n  <div className={`flex items-center justify-between px-1 mb-4 ${className}`}>\n    <h3 className=\"text-lg md:text-xl font-bold text-white flex items-center gap-2\">\n      {Icon && <Icon className=\"w-5 h-5 text-cyan-400\" />}\n      {children}\n    </h3>\n    {action}\n  </div>\n);\n\n// ============================================\n//   - null (HTML  )\n// ============================================\nexport const LoadingState = ({ message = \"  ...\" }) => null;\n\n// ============================================\n//  \n// ============================================\nexport const ErrorState = ({\n  title = \" \",\n  message,\n  onRetry,\n}) => (\n  <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n    <div className=\"w-16 h-16 bg-red-900/30 rounded-full flex items-center justify-center mb-4\">\n      <span className=\"text-3xl text-red-400\">!</span>\n    </div>\n    <h3 className=\"text-lg font-semibold text-white mb-2\">{title}</h3>\n    {message && <p className=\"text-slate-400 mb-4 max-w-md\">{message}</p>}\n    {onRetry && (\n      <button\n        onClick={onRetry}\n        className=\"px-5 py-2.5 bg-cyan-500 hover:bg-cyan-400 text-slate-900 rounded-xl font-bold text-sm transition-all shadow-lg shadow-cyan-500/30\"\n      >\n         \n      </button>\n    )}\n  </div>\n);\n\n// ============================================\n//  \n// ============================================\nexport const EmptyState = ({ icon: Icon, title, description, action }) => (\n  <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n    {Icon && (\n      <div className=\"w-16 h-16 rounded-full bg-[#14142380] shadow-lg flex items-center justify-center mb-4 border border-cyan-900/30\">\n        <Icon className=\"w-8 h-8 text-slate-400\" />\n      </div>\n    )}\n    {title && (\n      <h3 className=\"text-lg font-bold text-slate-300 mb-2\">{title}</h3>\n    )}\n    {description && (\n      <p className=\"text-slate-400 font-medium mb-6 max-w-md\">{description}</p>\n    )}\n    {action}\n  </div>\n);\n\n// ============================================\n//  \n// ============================================\nexport const CardGrid = ({ children, cols = 3, className = \"\" }) => {\n  const colsClass = {\n    1: \"grid-cols-1\",\n    2: \"grid-cols-1 md:grid-cols-2\",\n    3: \"grid-cols-1 md:grid-cols-2 xl:grid-cols-3\",\n    4: \"grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4\",\n  };\n\n  return (\n    <div\n      className={`grid ${colsClass[cols] || colsClass[3]} gap-6 ${className}`}\n    >\n      {children}\n    </div>\n  );\n};\n\n// ============================================\n//   -  \n// ============================================\nexport const StatCard = ({\n  icon: Icon,\n  label,\n  value,\n  subValue,\n  trend,\n  iconBg = \"bg-cyan-900/30\",\n  iconColor = \"text-cyan-400\",\n  onClick,\n}) => (\n  <div\n    className={`bg-[#14142380] backdrop-blur-sm rounded-2xl p-6 border border-cyan-900/30 shadow-lg hover:shadow-xl hover:shadow-cyan-500/10 transition-all duration-300 ${\n      onClick ? \"cursor-pointer\" : \"\"\n    }`}\n    onClick={onClick}\n  >\n    <div className=\"flex items-start justify-between\">\n      <div\n        className={`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${iconBg}`}\n      >\n        <Icon className={`w-6 h-6 ${iconColor}`} />\n      </div>\n      {trend && (\n        <span\n          className={`text-xs font-bold px-2.5 py-1 rounded-lg ${\n            trend.type === \"up\"\n              ? \"bg-emerald-900/30 text-emerald-400\"\n              : \"bg-red-900/30 text-red-400\"\n          }`}\n        >\n          {trend.type === \"up\" ? \"+\" : \"-\"}\n          {trend.value}%\n        </span>\n      )}\n    </div>\n    <div className=\"mt-4\">\n      <p className=\"text-sm text-slate-400 font-medium\">{label}</p>\n      <p className=\"text-2xl font-bold text-white mt-1 tracking-tight\">\n        {value}\n      </p>\n      {subValue && <p className=\"text-sm text-slate-500 mt-1\">{subValue}</p>}\n    </div>\n  </div>\n);\n\n// ============================================\n//   - \n// ============================================\nexport const AssetCard = ({ icon: Icon, label, value, color, iconColor }) => (\n  <div\n    className={`hidden lg:flex items-center gap-3 px-3 py-1.5 rounded-xl ${color} bg-opacity-50 border border-transparent`}\n  >\n    <div\n      className={`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${iconColor}`}\n    >\n      <Icon className=\"w-5 h-5\" />\n    </div>\n    <div>\n      <p className=\"text-[10px] font-bold opacity-70 mb-0 leading-tight\">\n        {label}\n      </p>\n      <p className=\"text-lg font-black tracking-tight leading-tight\">{value}</p>\n    </div>\n  </div>\n);\n\n// ============================================\n//  \n// ============================================\nexport const TabGroup = ({ tabs, activeTab, onChange, className = \"\" }) => (\n  <div\n    className={`flex gap-1 p-1 bg-[#0a0a12] rounded-xl border border-cyan-900/30 ${className}`}\n  >\n    {tabs.map((tab) => (\n      <button\n        key={tab.id}\n        onClick={() => onChange(tab.id)}\n        className={`flex-1 px-4 py-2.5 text-sm font-bold rounded-lg transition-all duration-200 ${\n          activeTab === tab.id\n            ? \"bg-cyan-500 text-slate-900 shadow-lg shadow-cyan-500/30\"\n            : \"text-slate-400 hover:text-white hover:bg-white/5\"\n        }`}\n      >\n        {tab.icon && <tab.icon className=\"w-4 h-4 mr-2 inline-block\" />}\n        {tab.label}\n        {tab.count !== undefined && (\n          <span\n            className={`ml-2 px-1.5 py-0.5 text-xs rounded-full ${\n              activeTab === tab.id\n                ? \"bg-slate-900 text-cyan-400\"\n                : \"bg-slate-800 text-slate-400\"\n            }`}\n          >\n            {tab.count}\n          </span>\n        )}\n      </button>\n    ))}\n  </div>\n);\n\n// ============================================\n//   -  \n// ============================================\nexport const ActionButton = ({\n  children,\n  icon: Icon,\n  variant = \"primary\",\n  size = \"md\",\n  loading = false,\n  disabled = false,\n  onClick,\n  className = \"\",\n  title,\n}) => {\n  const variants = {\n    primary:\n      \"bg-cyan-500 text-slate-900 hover:bg-cyan-400 ring-1 ring-cyan-400 shadow-cyan-500/30\",\n    secondary: \"bg-slate-800 hover:bg-slate-700 text-slate-200\",\n    outline:\n      \"bg-transparent text-slate-300 ring-1 ring-slate-600 hover:bg-slate-800 hover:ring-slate-500 shadow-sm\",\n    \"outline-green\":\n      \"bg-transparent text-emerald-400 ring-1 ring-emerald-600 hover:bg-emerald-900/30 hover:ring-emerald-500 shadow-sm\",\n    \"outline-red\":\n      \"bg-transparent text-rose-400 ring-1 ring-rose-600 hover:bg-rose-900/30 hover:ring-rose-500 shadow-sm\",\n    danger:\n      \"bg-transparent text-rose-400 ring-1 ring-rose-600 hover:bg-rose-900/30 hover:ring-rose-500 shadow-sm\",\n    success:\n      \"bg-transparent text-emerald-400 ring-1 ring-emerald-600 hover:bg-emerald-900/30 hover:ring-emerald-500 shadow-sm\",\n    ghost: \"text-slate-400 hover:bg-slate-800 hover:text-white\",\n    indigo: \"bg-purple-900/30 text-purple-300 hover:bg-purple-900/50\",\n  };\n\n  const sizes = {\n    sm: \"px-4 py-2 text-sm\",\n    md: \"px-5 py-2.5 text-sm\",\n    lg: \"px-6 py-3 text-base\",\n  };\n\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled || loading}\n      title={title}\n      className={`inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-200 active:scale-95 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${variants[variant]} ${sizes[size]} ${className}`}\n    >\n      {loading ? (\n        <Loader2 className=\"w-4 h-4 animate-spin\" />\n      ) : Icon ? (\n        <Icon className=\"w-4 h-4\" />\n      ) : null}\n      {children}\n    </button>\n  );\n};\n\n// ============================================\n//  \n// ============================================\nexport const InfoBadge = ({\n  children,\n  variant = \"default\",\n  className = \"\",\n}) => {\n  const variants = {\n    default: \"bg-slate-800 text-slate-300\",\n    primary: \"bg-indigo-900/50 text-indigo-300\",\n    success: \"bg-emerald-900/50 text-emerald-300\",\n    warning: \"bg-amber-900/50 text-amber-300\",\n    danger: \"bg-red-900/50 text-red-300\",\n  };\n\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-1 text-xs font-bold rounded-lg ${variants[variant]} ${className}`}\n    >\n      {children}\n    </span>\n  );\n};\n\n// ============================================\n//  \n// ============================================\nexport const AlertBanner = ({\n  children,\n  variant = \"info\",\n  icon: Icon,\n  onClose,\n  className = \"\",\n}) => {\n  const variants = {\n    info: \"bg-blue-900/30 border-blue-500/30 text-blue-300\",\n    success: \"bg-emerald-900/30 border-emerald-500/30 text-emerald-300\",\n    warning: \"bg-amber-900/30 border-amber-500/30 text-amber-300\",\n    danger: \"bg-red-900/30 border-red-500/30 text-red-300\",\n  };\n\n  return (\n    <div\n      className={`flex items-start gap-3 p-4 rounded-xl border ${variants[variant]} ${className}`}\n    >\n      {Icon && <Icon className=\"w-5 h-5 flex-shrink-0 mt-0.5\" />}\n      <div className=\"flex-1 text-sm font-medium\">{children}</div>\n      {onClose && (\n        <button\n          onClick={onClose}\n          className=\"text-current opacity-50 hover:opacity-100\"\n        >\n          \n        </button>\n      )}\n    </div>\n  );\n};\n\n// ============================================\n//   /  \n// ============================================\nexport const ListItem = ({\n  children,\n  icon: Icon,\n  onClick,\n  active,\n  className = \"\",\n}) => (\n  <div\n    className={`flex items-center gap-3 p-4 rounded-xl transition-all ${\n      onClick ? \"cursor-pointer\" : \"\"\n    } ${\n      active\n        ? \"bg-cyan-900/30 border border-cyan-500/50\"\n        : \"bg-[#14142380] border border-cyan-900/20 hover:border-cyan-500/30 hover:shadow-lg hover:shadow-cyan-500/10\"\n    } ${className}`}\n    onClick={onClick}\n  >\n    {Icon && (\n      <div\n        className={`p-2 rounded-lg ${active ? \"bg-cyan-500\" : \"bg-slate-800\"}`}\n      >\n        <Icon\n          className={`w-5 h-5 ${active ? \"text-slate-900\" : \"text-slate-400\"}`}\n        />\n      </div>\n    )}\n    <div className=\"flex-1 min-w-0\">{children}</div>\n  </div>\n);\n\n// ============================================\n//   -  \n// ============================================\nexport const TaskItem = ({\n  task,\n  onComplete,\n  onEdit,\n  onDelete,\n  showActions = true,\n}) => (\n  <div className=\"group flex items-center justify-between p-3 rounded-xl bg-[#0a0a12] border border-cyan-900/30 hover:border-cyan-500/50 hover:bg-slate-900/50 hover:shadow-lg hover:shadow-cyan-500/10 transition-all\">\n    <div className=\"flex items-center gap-3 min-w-0\">\n      <div\n        onClick={onComplete}\n        className=\"w-5 h-5 rounded md:rounded-md border-2 border-slate-600 group-hover:border-cyan-500 cursor-pointer transition-colors flex items-center justify-center shrink-0\"\n      >\n        {/*   */}\n      </div>\n      <span className=\"font-bold text-slate-300 text-base truncate group-hover:text-cyan-400 transition-colors\">\n        {task.name}\n      </span>\n    </div>\n\n    <div className=\"flex items-center gap-2 shrink-0\">\n      {task.rewardType === \"random\" && (\n        <span className=\"px-2.5 py-1 rounded-lg bg-amber-900/30 text-amber-400 text-xs font-bold flex items-center gap-1\">\n           \n        </span>\n      )}\n      {showActions && (\n        <div className=\"opacity-0 group-hover:opacity-100 flex gap-1 transition-opacity\">\n          {onEdit && (\n            <button\n              onClick={onEdit}\n              className=\"p-1.5 text-slate-500 hover:text-cyan-400 rounded hover:bg-cyan-900/30\"\n            >\n              \n            </button>\n          )}\n          {onDelete && (\n            <button\n              onClick={onDelete}\n              className=\"p-1.5 text-slate-500 hover:text-red-400 rounded hover:bg-red-900/30\"\n            >\n              \n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  </div>\n);\n\n// ============================================\n//   -  \n// ============================================\nexport const JobCard = ({ job, children, onEdit, onDelete, onAddTask }) => {\n  const gradients = {\n    indigo: \"from-indigo-500 to-purple-600\",\n    blue: \"from-blue-500 to-cyan-500\",\n    emerald: \"from-emerald-500 to-teal-600\",\n    orange: \"from-orange-400 to-red-500\",\n    pink: \"from-pink-500 to-rose-500\",\n    violet: \"from-violet-500 to-purple-600\",\n  };\n\n  const gradient = job.color || gradients.indigo;\n\n  return (\n    <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl hover:shadow-cyan-500/10 transition-all duration-300 border border-cyan-900/30 overflow-hidden flex flex-col\">\n      {/*   */}\n      <div\n        className={`h-16 px-6 flex items-center justify-between bg-gradient-to-r ${gradient}`}\n      >\n        <h4 className=\"text-white font-bold text-lg tracking-wide flex items-center gap-2\">\n           {job.title}\n        </h4>\n        {(onEdit || onDelete) && (\n          <div className=\"flex gap-2\">\n            {onEdit && (\n              <button\n                onClick={onEdit}\n                className=\"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors\"\n              >\n                \n              </button>\n            )}\n            {onDelete && (\n              <button\n                onClick={onDelete}\n                className=\"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors\"\n              >\n                \n              </button>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/*   */}\n      <div className=\"p-6 space-y-4 flex-1\">{children}</div>\n\n      {/*   */}\n      {onAddTask && (\n        <div className=\"px-6 pb-6 pt-2\">\n          <button\n            onClick={onAddTask}\n            className=\"w-full py-3 rounded-xl bg-slate-900/50 text-slate-400 text-sm font-bold border border-cyan-900/30 hover:bg-cyan-900/30 hover:text-cyan-400 hover:border-cyan-500/50 transition-colors flex items-center justify-center gap-2\"\n          >\n                \n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// ============================================\n//   \n// ============================================\nexport const ContentSection = ({ children, className = \"\" }) => (\n  <div\n    className={`bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 p-6 ${className}`}\n  >\n    {children}\n  </div>\n);\n\n// ============================================\n//  \n// ============================================\nexport const MoneyDisplay = ({\n  amount,\n  size = \"md\",\n  showSign = false,\n  className = \"\",\n}) => {\n  const formatted = Math.abs(amount || 0).toLocaleString(\"ko-KR\");\n  const isNegative = amount < 0;\n  const isPositive = amount > 0;\n\n  const sizes = {\n    sm: \"text-sm\",\n    md: \"text-base\",\n    lg: \"text-xl\",\n    xl: \"text-2xl\",\n  };\n\n  return (\n    <span\n      className={`font-bold tabular-nums ${sizes[size]} ${\n        isNegative\n          ? \"text-red-400\"\n          : isPositive && showSign\n            ? \"text-emerald-400\"\n            : \"text-white\"\n      } ${className}`}\n    >\n      {showSign && isPositive && \"+\"}\n      {isNegative && \"-\"}\n      {formatted}\n    </span>\n  );\n};\n\n// ============================================\n//   \n// ============================================\nexport const AddCard = ({ onClick, label = \" \" }) => (\n  <button\n    onClick={onClick}\n    className=\"group relative flex flex-col items-center justify-center h-full min-h-[260px] rounded-2xl border-2 border-dashed border-cyan-900/50 bg-slate-900/30 hover:bg-cyan-900/20 hover:border-cyan-500/50 transition-all\"\n  >\n    <div className=\"w-16 h-16 rounded-full bg-slate-800 shadow-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform\">\n      <span className=\"text-3xl text-slate-500 group-hover:text-cyan-400\">\n        \n      </span>\n    </div>\n    <span className=\"text-slate-500 font-bold group-hover:text-cyan-400 text-sm\">\n      {label}\n    </span>\n  </button>\n);\n\nexport default {\n  PageContainer,\n  PageHeader,\n  SectionTitle,\n  LoadingState,\n  ErrorState,\n  EmptyState,\n  CardGrid,\n  StatCard,\n  AssetCard,\n  TabGroup,\n  ActionButton,\n  InfoBadge,\n  AlertBanner,\n  ListItem,\n  TaskItem,\n  JobCard,\n  ContentSection,\n  MoneyDisplay,\n  AddCard,\n};\n","// src/TaskItem.js\r\nimport React, { useState, useEffect, memo, useCallback } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { generateJobTaskReward } from \"../utils/jobTaskRewards\";\r\n\r\nimport { logger } from \"../utils/logger\";\r\nconst TaskItem = memo(function TaskItem({\r\n  task,\r\n  onEarnCoupon,\r\n  onRequestApproval,\r\n  isJobTask,\r\n  isAdmin,\r\n  onEditTask,\r\n  onDeleteTask,\r\n  taskId, // taskId prop \r\n  jobId = null, // jobId prop  (  )\r\n}) {\r\n  const [showBubble, setShowBubble] = useState(false);\r\n  const [bubbleText, setBubbleText] = useState(\"\");\r\n  const [showCardModal, setShowCardModal] = useState(false);\r\n  const [rewardData, setRewardData] = useState(null);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [isFlipping, setIsFlipping] = useState(false);\r\n\r\n  const handleInternalClick = () => {\r\n    logger.log(\"[TaskItem] handleInternalClick :\", { taskName: task?.name, isJobTask, taskId, jobId });\r\n\r\n    //  \r\n    if (\r\n      !task ||\r\n      typeof task.clicks !== \"number\" ||\r\n      typeof task.maxClicks !== \"number\"\r\n    ) {\r\n      logger.error(\"Invalid task prop:\", task);\r\n      return;\r\n    }\r\n    if (task.maxClicks > 0 && task.clicks >= task.maxClicks) {\r\n      return;\r\n    }\r\n\r\n    //        \r\n    logger.log(\"[TaskItem]   \");\r\n    const rewards = generateJobTaskReward();\r\n    setRewardData(rewards);\r\n    setSelectedCard(null);\r\n    setIsFlipping(false);\r\n    setShowCardModal(true);\r\n  };\r\n\r\n  const handleCardSelect = (cardType) => {\r\n    if (isFlipping || selectedCard) return;\r\n\r\n    logger.log(\"[TaskItem]  :\", { cardType, taskId, jobId, isJobTask, requiresApproval: task.requiresApproval });\r\n\r\n    setSelectedCard(cardType);\r\n    setIsFlipping(true);\r\n\r\n    // 800ms   \r\n    setTimeout(() => {\r\n      const reward = cardType === \"cash\" ? rewardData.cash : rewardData.coupon;\r\n      const rewardText = cardType === \"cash\" ? `${reward.toLocaleString()}` : `${reward}`;\r\n\r\n      //    : onRequestApproval  ( )\r\n      if (task.requiresApproval && typeof onRequestApproval === \"function\") {\r\n        logger.log(\"[TaskItem] onRequestApproval :\", { taskId, jobId, isJobTask, cardType, reward });\r\n        onRequestApproval(taskId || task.id, jobId, isJobTask, cardType, reward);\r\n        setShowCardModal(false);\r\n        setBubbleText(\"  !     .\");\r\n        setShowBubble(true);\r\n        setIsFlipping(false);\r\n        return;\r\n      }\r\n\r\n      logger.log(\"[TaskItem] onEarnCoupon  :\", { taskId, jobId, isJobTask, cardType, reward });\r\n\r\n      // onEarnCoupon  - taskId, jobId, isJobTask, cardType, reward \r\n      if (typeof onEarnCoupon === \"function\") {\r\n        onEarnCoupon(taskId || task.id, jobId, isJobTask, cardType, reward);\r\n      }\r\n\r\n      setShowCardModal(false);\r\n      setBubbleText(`${cardType === \"cash\" ? \" \" : \" \"} ${rewardText} !`);\r\n      setShowBubble(true);\r\n      setIsFlipping(false);\r\n    }, 800);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n    if (showBubble) {\r\n      timer = setTimeout(() => {\r\n        setShowBubble(false);\r\n        setBubbleText(\"\");\r\n      }, 2000);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [showBubble]);\r\n\r\n  const isCompleted =\r\n    task && task.maxClicks > 0 && task.clicks >= task.maxClicks;\r\n\r\n  if (!task) return null;\r\n\r\n  const isMobile = window.innerWidth <= 768;\r\n\r\n  const taskItemStyle = {\r\n    backgroundColor: isCompleted ? \"rgba(20, 20, 35, 0.4)\" : \"rgba(30, 30, 50, 0.6)\",\r\n    border: `1px solid ${isCompleted ? \"rgba(100, 116, 139, 0.1)\" : \"rgba(0, 255, 242, 0.15)\"}`,\r\n    opacity: isCompleted ? 0.6 : 1,\r\n    padding: isMobile ? \"8px 10px\" : \"12px\",\r\n    boxShadow: isCompleted ? \"none\" : \"0 4px 12px rgba(0, 0, 0, 0.1)\",\r\n  };\r\n\r\n  const taskInfoStyle = {\r\n    gap: isMobile ? \"6px\" : \"10px\",\r\n  };\r\n\r\n  const taskNameStyle = {\r\n    color: isCompleted ? \"#64748b\" : \"#e8e8ff\",\r\n    fontSize: isMobile ? \"12px\" : \"16px\",\r\n    lineHeight: \"1.4\",\r\n  };\r\n\r\n  const taskActionsStyle = {\r\n    gap: isMobile ? \"4px\" : \"8px\",\r\n  };\r\n\r\n  const couponStyle = {\r\n    backgroundColor: isJobTask ? \"rgba(79, 70, 229, 0.3)\" : \"rgba(16, 185, 129, 0.3)\",\r\n    color: isJobTask ? \"#818cf8\" : \"#34d399\",\r\n    border: isJobTask ? \"1px solid rgba(99, 102, 241, 0.5)\" : \"1px solid rgba(52, 211, 153, 0.5)\",\r\n    padding: isMobile ? \"3px 6px\" : \"4px 10px\",\r\n    fontSize: isMobile ? \"10px\" : \"13px\",\r\n  };\r\n\r\n  const renderCardModal = () => {\r\n    if (!showCardModal || !rewardData) return null;\r\n\r\n    const mobileModalContentStyle = {\r\n      ...modalContentStyle,\r\n      padding: isMobile ? \"20px\" : \"40px\",\r\n    };\r\n\r\n    const mobileModalTitleStyle = {\r\n      ...modalTitleStyle,\r\n      fontSize: isMobile ? \"20px\" : \"28px\",\r\n    };\r\n\r\n    const mobileModalSubtitleStyle = {\r\n      ...modalSubtitleStyle,\r\n      fontSize: isMobile ? \"13px\" : \"16px\",\r\n    };\r\n\r\n    const mobileCardsContainerStyle = {\r\n      ...cardsContainerStyle,\r\n      gap: isMobile ? \"15px\" : \"20px\",\r\n    };\r\n\r\n    const mobileCardStyle = {\r\n      ...cardStyle,\r\n      width: isMobile ? \"140px\" : \"200px\",\r\n      height: isMobile ? \"200px\" : \"280px\",\r\n    };\r\n\r\n    const mobileCardIconStyle = {\r\n      ...cardIconStyle,\r\n      fontSize: isMobile ? \"50px\" : \"80px\",\r\n      marginBottom: isMobile ? \"10px\" : \"20px\",\r\n    };\r\n\r\n    const mobileCardTextStyle = {\r\n      ...cardTextStyle,\r\n      fontSize: isMobile ? \"18px\" : \"24px\",\r\n    };\r\n\r\n    const mobileRewardAmountStyle = {\r\n      ...rewardAmountStyle,\r\n      fontSize: isMobile ? \"24px\" : \"36px\",\r\n    };\r\n\r\n    const mobileRewardLabelStyle = {\r\n      ...rewardLabelStyle,\r\n      fontSize: isMobile ? \"14px\" : \"18px\",\r\n    };\r\n\r\n    return createPortal(\r\n      <div className=\"fixed inset-0 flex items-center justify-center z-[10000]\" style={modalOverlayStyle} onClick={() => setShowCardModal(false)}>\r\n        <div className=\"rounded-[20px] max-w-[600px]\" style={{...mobileModalContentStyle, width: isMobile ? \"95%\" : \"90%\"}} onClick={(e) => e.stopPropagation()}>\r\n          <h3 className=\"text-center font-bold\" style={{...mobileModalTitleStyle, marginBottom: isMobile ? \"8px\" : \"10px\"}}>  </h3>\r\n          <p className=\"text-center\" style={{...mobileModalSubtitleStyle, marginBottom: isMobile ? \"20px\" : \"30px\"}}>     !</p>\r\n\r\n          <div className=\"flex justify-center flex-wrap\" style={mobileCardsContainerStyle}>\r\n            {/*   */}\r\n            <div\r\n              className=\"cursor-pointer\"\r\n              style={{\r\n                ...mobileCardStyle,\r\n                ...(selectedCard === \"cash\" && selectedCardStyle),\r\n              }}\r\n              onClick={() => !selectedCard && handleCardSelect(\"cash\")}\r\n            >\r\n              <div className=\"relative w-full h-full\" style={{\r\n                ...cardInnerStyle,\r\n                transform: selectedCard === \"cash\" ? \"rotateY(180deg)\" : \"rotateY(0deg)\",\r\n              }}>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{...cardFrontStyle, backfaceVisibility: \"hidden\"}}>\r\n                  <div style={mobileCardIconStyle}></div>\r\n                  <div className=\"text-2xl font-bold\" style={mobileCardTextStyle}></div>\r\n                </div>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{ ...cardBackStyle, ...(selectedCard === \"cash\" && cardBackVisibleStyle), backfaceVisibility: \"hidden\" }}>\r\n                  <div className=\"text-4xl font-bold mb-2.5\" style={mobileRewardAmountStyle}>{rewardData.cash.toLocaleString()}</div>\r\n                  <div className=\"text-lg\" style={mobileRewardLabelStyle}>  !</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*   */}\r\n            <div\r\n              className=\"cursor-pointer\"\r\n              style={{\r\n                ...mobileCardStyle,\r\n                ...(selectedCard === \"coupon\" && selectedCardStyle),\r\n              }}\r\n              onClick={() => !selectedCard && handleCardSelect(\"coupon\")}\r\n            >\r\n              <div className=\"relative w-full h-full\" style={{\r\n                ...cardInnerStyle,\r\n                transform: selectedCard === \"coupon\" ? \"rotateY(180deg)\" : \"rotateY(0deg)\",\r\n              }}>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{...cardFrontStyle, backfaceVisibility: \"hidden\"}}>\r\n                  <div style={mobileCardIconStyle}></div>\r\n                  <div className=\"text-2xl font-bold\" style={mobileCardTextStyle}></div>\r\n                </div>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{ ...cardBackStyle, ...(selectedCard === \"coupon\" && cardBackVisibleStyle), backfaceVisibility: \"hidden\" }}>\r\n                  <div className=\"text-4xl font-bold mb-2.5\" style={mobileRewardAmountStyle}>{rewardData.coupon}</div>\r\n                  <div className=\"text-lg\" style={mobileRewardLabelStyle}>  !</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      document.body\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"flex flex-row items-center justify-between relative rounded-lg mb-2 transition-all\"\r\n        style={{\r\n          ...taskItemStyle,\r\n          cursor: isCompleted ? \"default\" : \"pointer\",\r\n          gap: isMobile ? \"6px\" : \"8px\",\r\n        }}\r\n        onClick={isCompleted ? null : handleInternalClick}\r\n      >\r\n        <div className=\"flex items-center flex-grow min-w-0 overflow-hidden\" style={taskInfoStyle}>\r\n          <span className=\"font-semibold overflow-hidden text-ellipsis whitespace-nowrap flex-1 min-w-0\" style={taskNameStyle} title={task.name}>\r\n            {task.name}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center flex-shrink-0\" style={taskActionsStyle}>\r\n          {/*  /  */}\r\n          <span className=\"rounded-lg font-medium whitespace-nowrap\" style={task.requiresApproval ? approvalBadgeStyle : couponStyle}>\r\n            {task.requiresApproval ? \" \" : \" \"}\r\n          </span>\r\n\r\n          {isAdmin && (\r\n            <>\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onEditTask();\r\n                }}\r\n                className=\"cursor-pointer p-1 flex items-center justify-center\"\r\n                style={adminButtonStyles}\r\n                aria-label=\" \"\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onDeleteTask();\r\n                }}\r\n                className=\"cursor-pointer p-1 flex items-center justify-center\"\r\n                style={adminButtonStyles}\r\n                aria-label=\" \"\r\n              >\r\n                \r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {showBubble && (\r\n          <div className=\"absolute left-1/2 -translate-x-1/2 rounded-md font-medium whitespace-nowrap z-10 pointer-events-none\" style={bubbleStyle}>\r\n            {bubbleText}\r\n            <div className=\"absolute\" style={bubbleTailStyle}></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {renderCardModal()}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default TaskItem;\r\n\r\nconst approvalBadgeStyle = {\r\n  backgroundColor: \"rgba(245, 158, 11, 0.3)\",\r\n  color: \"#fbbf24\",\r\n  border: \"1px solid rgba(245, 158, 11, 0.5)\",\r\n  padding: \"4px 10px\",\r\n  fontSize: \"13px\",\r\n};\r\n\r\nconst adminButtonStyles = {\r\n  background: \"none\",\r\n  border: \"none\",\r\n  fontSize: \"16px\",\r\n  color: \"#94a3b8\",\r\n};\r\n\r\nconst bubbleStyle = {\r\n  bottom: \"calc(100% + 8px)\",\r\n  backgroundColor: \"rgba(0, 0, 0, 0.75)\",\r\n  color: \"white\",\r\n  padding: \"5px 10px\",\r\n  fontSize: \"12px\",\r\n  boxShadow: \"0 2px 5px rgba(0,0,0,0.2)\",\r\n};\r\n\r\nconst bubbleTailStyle = {\r\n  content: '\"\"',\r\n  top: \"100%\",\r\n  left: \"50%\",\r\n  marginLeft: \"-5px\",\r\n  borderWidth: \"5px\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"rgba(0, 0, 0, 0.75) transparent transparent transparent\",\r\n};\r\n\r\n//   \r\nconst modalOverlayStyle = {\r\n  backgroundColor: \"rgba(0, 0, 0, 0.7)\",\r\n  animation: \"fadeIn 0.3s ease\",\r\n};\r\n\r\nconst modalContentStyle = {\r\n  backgroundColor: \"#1a1a2e\",\r\n  border: \"1px solid rgba(0, 255, 242, 0.3)\",\r\n  boxShadow: \"0 10px 40px rgba(0, 0, 0, 0.3)\",\r\n  animation: \"zoomIn 0.3s ease\",\r\n};\r\n\r\nconst modalTitleStyle = {\r\n  color: \"#ffffff\",\r\n  textShadow: \"0 0 10px rgba(0, 255, 242, 0.5)\",\r\n};\r\n\r\nconst modalSubtitleStyle = {\r\n  color: \"#a0a0c0\",\r\n};\r\n\r\nconst cardsContainerStyle = {\r\n  gap: \"20px\",\r\n};\r\n\r\nconst cardStyle = {\r\n  perspective: \"1000px\",\r\n  transition: \"transform 0.2s ease\",\r\n};\r\n\r\nconst selectedCardStyle = {\r\n  transform: \"scale(1.05)\",\r\n};\r\n\r\nconst cardInnerStyle = {\r\n  transition: \"transform 0.8s\",\r\n  transformStyle: \"preserve-3d\",\r\n};\r\n\r\nconst cardFrontStyle = {\r\n  background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\r\n  boxShadow: \"0 8px 16px rgba(0, 0, 0, 0.2)\",\r\n  border: \"3px solid #fff\",\r\n};\r\n\r\nconst cardBackStyle = {\r\n  backgroundColor: \"#fff\",\r\n  boxShadow: \"0 8px 16px rgba(0, 0, 0, 0.2)\",\r\n  border: \"3px solid #667eea\",\r\n  transform: \"rotateY(180deg)\",\r\n  opacity: 0,\r\n  transition: \"opacity 0.3s ease 0.4s\",\r\n};\r\n\r\nconst cardBackVisibleStyle = {\r\n  opacity: 1,\r\n};\r\n\r\nconst cardIconStyle = {\r\n  fontSize: \"80px\",\r\n  marginBottom: \"20px\",\r\n};\r\n\r\nconst cardTextStyle = {\r\n  color: \"white\",\r\n};\r\n\r\nconst rewardAmountStyle = {\r\n  color: \"#667eea\",\r\n};\r\n\r\nconst rewardLabelStyle = {\r\n  color: \"#666\",\r\n};","//     \r\n\r\n//      ( )\r\nexport const generateJobTaskReward = () => {\r\n  //   (100 ~ 50,000) -    \r\n  const cashRewards = [\r\n    { amount: 50000, weight: 5 },     // 5:  \r\n    { amount: 30000, weight: 10 },    // 3:  \r\n    { amount: 20000, weight: 15 },    // 2:  \r\n    { amount: 10000, weight: 20 },    // 1:  \r\n    { amount: 5000, weight: 18 },     // 5\r\n    { amount: 3000, weight: 12 },     // 3\r\n    { amount: 1000, weight: 10 },     // 1:  \r\n    { amount: 500, weight: 7 },       // 500:  \r\n    { amount: 100, weight: 3 }        // 100:   \r\n  ];\r\n\r\n  //   (1, 3, 5, 10, 20)\r\n  const couponRewards = [\r\n    { amount: 20, weight: 10 },       // 20: 10%\r\n    { amount: 10, weight: 20 },       // 10: 20%\r\n    { amount: 5, weight: 20 },        // 5: 20%\r\n    { amount: 3, weight: 20 },        // 3: 20%\r\n    { amount: 1, weight: 30 }         // 1: 30%\r\n  ];\r\n\r\n  //     \r\n  const weightedRandom = (items) => {\r\n    const totalWeight = items.reduce((sum, item) => sum + item.weight, 0);\r\n    let random = Math.random() * totalWeight;\r\n\r\n    for (const item of items) {\r\n      random -= item.weight;\r\n      if (random <= 0) {\r\n        return item.amount;\r\n      }\r\n    }\r\n\r\n    return items[items.length - 1].amount;\r\n  };\r\n\r\n  return {\r\n    cash: weightedRandom(cashRewards),\r\n    coupon: weightedRandom(couponRewards)\r\n  };\r\n};\r\n","import React, { memo } from \"react\";\r\nimport TaskItem from \"./TaskItem\"; // TaskItem   \r\n\r\n// props jobs   job   \r\nconst JobList = memo(function JobList({\r\n  job, //    (  prop )\r\n  isAdmin, //   (  prop )\r\n  onEditJob, //    ( )\r\n  onDeleteJob, //    ( ) <--  prop \r\n  onAddTask, //      ( )\r\n  onEditTask, //   \r\n  onDeleteTask, //   \r\n  onEarnCoupon, //   \r\n  onRequestApproval, //   \r\n  addJobTaskButtonStyle, // Dashboard    <--  prop \r\n}) {\r\n  // job       ( )\r\n  if (!job) {\r\n    return null;\r\n  }\r\n\r\n  const isMobile = window.innerWidth <= 768;\r\n\r\n  return (\r\n    <div\r\n      key={job.id} //  map   key  X,  \r\n      className=\"flex flex-col h-full rounded-lg overflow-hidden mb-4\"\r\n      style={{\r\n        backgroundColor: \"rgba(20, 20, 35, 0.6)\",\r\n        border: \"1px solid rgba(0, 255, 242, 0.2)\",\r\n        boxShadow: \"0 4px 15px rgba(0, 0, 0, 0.3)\",\r\n        backdropFilter: \"blur(5px)\",\r\n      }}\r\n    >\r\n      {/*   -   */}\r\n      <div\r\n        className=\"job-header-container flex justify-between items-center\"\r\n        style={{\r\n          background: \"linear-gradient(135deg, rgba(79, 70, 229, 0.2) 0%, rgba(99, 102, 241, 0.2) 100%)\",\r\n          padding: isMobile ? \"12px 14px\" : \"14px 16px\",\r\n          borderBottom: \"1px solid rgba(0, 255, 242, 0.2)\",\r\n        }}\r\n      >\r\n        <div\r\n          className=\"job-title-text font-bold\"\r\n          style={{\r\n            fontSize: isMobile ? \"15px\" : \"18px\",\r\n            textShadow: \"0 0 10px rgba(0, 255, 242, 0.3)\",\r\n            letterSpacing: \"-0.01em\",\r\n            color: \"#e8e8ff\", //  \r\n          }}\r\n        >\r\n          {job.title}\r\n        </div>\r\n        {/*    /  */}\r\n        {isAdmin && (\r\n          <div>\r\n            <button\r\n              onClick={() => onEditJob(job.id)} // job.id  \r\n              className=\"cursor-pointer p-0 mr-2\"\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"rgba(255, 255, 255, 0.7)\",\r\n              }}\r\n              aria-label={`${job.title}  `}\r\n            >\r\n              \r\n            </button>\r\n            <button\r\n              onClick={() => onDeleteJob(job.id)} // job.id  \r\n              className=\"cursor-pointer p-0\"\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"rgba(255, 255, 255, 0.7)\",\r\n              }}\r\n              aria-label={`${job.title}  `}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/*    (flex-grow   ) */}\r\n      <div className=\"flex-grow overflow-y-auto\" style={{ padding: isMobile ? \"8px\" : \"10px\" }}>\r\n        {job.tasks && job.tasks.length > 0 ? (\r\n          job.tasks.map((task) => (\r\n            <TaskItem\r\n              key={task.id}\r\n              task={task}\r\n              taskId={task.id}\r\n              jobId={job.id}\r\n              //  task.id  \r\n              onEarnCoupon={onEarnCoupon}\r\n              onRequestApproval={onRequestApproval}\r\n              onEditTask={() => onEditTask(task.id, job.id)} // Dashboard    job.id \r\n              onDeleteTask={() => onDeleteTask(task.id, job.id)} // Dashboard    job.id \r\n              isAdmin={isAdmin}\r\n              isJobTask={true}\r\n            />\r\n          ))\r\n        ) : (\r\n          <p\r\n            className=\"text-center my-2.5\"\r\n            style={{\r\n              fontSize: \"13px\",\r\n              color: \"#9999bb\",\r\n            }}\r\n          >\r\n              .\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/*      (  ) */}\r\n      {isAdmin && (\r\n        <div style={{ padding: isMobile ? \"8px\" : \"10px\", borderTop: \"1px solid rgba(0, 255, 242, 0.1)\" }}>\r\n          <button\r\n            onClick={onAddTask} // Dashboard job.id    \r\n            // ---       ---\r\n            className=\"w-full cursor-pointer rounded-md mt-0 transition-all\"\r\n            style={\r\n              addJobTaskButtonStyle || {\r\n                /*   ( ) */\r\n                padding: isMobile ? \"6px\" : \"8px\",\r\n                backgroundColor: \"rgba(0, 255, 242, 0.1)\",\r\n                border: \"1px solid rgba(0, 255, 242, 0.3)\",\r\n                color: \"#00fff2\",\r\n                fontSize: isMobile ? \"12px\" : \"13px\",\r\n                fontWeight: \"500\",\r\n              }\r\n            }\r\n          >\r\n            +    \r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default JobList;\r\n","import React from \"react\";\r\nimport TaskItem from \"./TaskItem\";\r\n\r\n// Dashboard      \r\nexport default function CommonTaskList({\r\n  tasks,\r\n  isAdmin,\r\n  onEditTask,\r\n  onDeleteTask,\r\n  onEarnCoupon,\r\n  onRequestApproval,\r\n}) {\r\n  // tasks      \r\n  if (!Array.isArray(tasks) || tasks.length === 0) {\r\n    return (\r\n      <div className=\"p-5 text-center\" style={{ color: \"#6b7280\" }}>\r\n        {isAdmin\r\n          ? \"   .   .\"\r\n          : \"      .\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //  \r\n  const isMobile = typeof window !== 'undefined' && window.innerWidth <= 768;\r\n\r\n  return (\r\n    <div className=\"grid\" style={{\r\n      gridTemplateColumns: isMobile ? \"1fr\" : \"repeat(2, 1fr)\",\r\n      gap: isMobile ? \"8px\" : \"10px\",\r\n    }}>\r\n      {tasks.map((task) => (\r\n        <TaskItem\r\n          key={task.id}\r\n          task={task}\r\n          taskId={task.id}\r\n          onEarnCoupon={onEarnCoupon}\r\n          onRequestApproval={onRequestApproval}\r\n          onEditTask={() => onEditTask(task.id)}\r\n          onDeleteTask={() => onDeleteTask(task.id)}\r\n          isAdmin={isAdmin}\r\n          isJobTask={false}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","// src/services/optimizedFirebaseService.js\r\n// Firebase    \r\n\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { functions } from \"../firebase\";\r\n\r\nimport { logger } from \"../utils/logger\";\n// Firebase Functions \r\nconst createOptimizedFunction = (functionName) => {\r\n  const fn = httpsCallable(functions, functionName);\r\n\r\n  return async (data) => {\r\n    try {\r\n      const result = await fn(data);\r\n      if (result.data.success) {\r\n        return result.data;\r\n      } else {\r\n        throw new Error(result.data.message || \"  \");\r\n      }\r\n    } catch (error) {\r\n      logger.error(`${functionName} :`, error);\r\n      throw error;\r\n    }\r\n  };\r\n};\r\n\r\n//  Firebase Functions\r\nexport const optimizedFirebaseService = {\r\n  //      ( )\r\n  getAdminSettingsData: createOptimizedFunction(\"getAdminSettingsData\"),\r\n\r\n  //   \r\n  batchPaySalaries: createOptimizedFunction(\"batchPaySalaries\"),\r\n\r\n  //  ItemContext  ( )\r\n  getItemContextData: createOptimizedFunction(\"getItemContextData\"),\r\n};\r\n\r\n// React Query  \r\nexport const queryKeys = {\r\n  //   \r\n  adminSettings: (classCode, tab) => [\"adminSettings\", classCode, tab],\r\n\r\n  //   \r\n  students: (classCode) => [\"students\", classCode],\r\n\r\n  //   \r\n  salarySettings: (classCode) => [\"salarySettings\", classCode],\r\n\r\n  //    ( )\r\n  systemManagement: () => [\"systemManagement\"],\r\n\r\n  //   \r\n  generalSettings: (classCode) => [\"generalSettings\", classCode],\r\n};\r\n\r\n//   \r\nexport const batchOperations = {\r\n  //      \r\n  updateMultipleStudentJobs: async (updates) => {\r\n    //    Firebase Function  \r\n    logger.log(\"  :\", updates);\r\n  },\r\n\r\n  //     \r\n  saveMultipleSettings: async (settings) => {\r\n    //    Firebase Function  \r\n    logger.log(\"  :\", settings);\r\n  },\r\n};\r\n\r\n//   \r\nexport const realtimeOptimizer = {\r\n  //     \r\n  shouldUseRealtime: () => {\r\n    return navigator.onLine && !document.hidden;\r\n  },\r\n\r\n  //     \r\n  getOptimalCacheTime: (dataSize) => {\r\n    if (dataSize < 1000) return 10 * 60 * 1000; // 10\r\n    if (dataSize < 5000) return 5 * 60 * 1000;  // 5\r\n    return 2 * 60 * 1000; // 2\r\n  },\r\n};\r\n\r\n//    ( )\r\nexport const localBackup = {\r\n  save: (key, data) => {\r\n    try {\r\n      localStorage.setItem(`backup_${key}`, JSON.stringify({\r\n        data,\r\n        timestamp: Date.now(),\r\n      }));\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n  },\r\n\r\n  load: (key, maxAge = 60000) => { //  1\r\n    try {\r\n      const backup = localStorage.getItem(`backup_${key}`);\r\n      if (backup) {\r\n        const parsed = JSON.parse(backup);\r\n        if (Date.now() - parsed.timestamp < maxAge) {\r\n          return parsed.data;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n    return null;\r\n  },\r\n\r\n  clear: (key) => {\r\n    try {\r\n      localStorage.removeItem(`backup_${key}`);\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n  },\r\n};","// src/pages/admin/SystemMonitoring.js -   \r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { functions } from \"../../firebase\";\r\nimport \"./SystemMonitoring.css\";\r\nimport { logger } from '../../utils/logger';\n\r\nconst SystemMonitoring = ({ isSuperAdmin }) => {\r\n  const [systemStatus, setSystemStatus] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [autoRefresh, setAutoRefresh] = useState(false); //   false \r\n  const [lastUpdate, setLastUpdate] = useState(null);\r\n  const [errorCount, setErrorCount] = useState(0); //    \r\n\r\n  const getSystemStatus = httpsCallable(functions, \"getSystemStatus\");\r\n  const resolveSystemAlert = httpsCallable(functions, \"resolveSystemAlert\");\r\n\r\n  //   \r\n  const fetchSystemStatus = useCallback(async () => {\r\n    if (!isSuperAdmin) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const result = await getSystemStatus();\r\n      if (result.data.success) {\r\n        setSystemStatus(result.data.data);\r\n        setLastUpdate(new Date());\r\n        setErrorCount(0); //      \r\n      } else {\r\n        throw new Error(result.data.message || \"   \");\r\n      }\r\n    } catch (err) {\r\n      logger.error(\"[SystemMonitoring]   :\", err);\r\n      setError(err.message || \"     .\");\r\n\r\n      //     \r\n      setErrorCount(prev => prev + 1);\r\n\r\n      //  3       \r\n      if (errorCount >= 2) {\r\n        setAutoRefresh(false);\r\n        logger.warn(\"[SystemMonitoring]      .\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [isSuperAdmin, getSystemStatus, errorCount]);\r\n\r\n  //   \r\n  const handleResolveAlert = useCallback(\r\n    async (alertId) => {\r\n      if (!window.confirm(\"   ?\")) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const result = await resolveSystemAlert({ alertId });\r\n        if (result.data.success) {\r\n          alert(\" .\");\r\n          //  \r\n          fetchSystemStatus();\r\n        }\r\n      } catch (err) {\r\n        logger.error(\"[SystemMonitoring]   :\", err);\r\n        alert(`    : ${err.message}`);\r\n      }\r\n    },\r\n    [resolveSystemAlert, fetchSystemStatus]\r\n  );\r\n\r\n  //  \r\n  useEffect(() => {\r\n    if (isSuperAdmin) {\r\n      fetchSystemStatus();\r\n    }\r\n  }, [isSuperAdmin, fetchSystemStatus]);\r\n\r\n  //   (30)\r\n  useEffect(() => {\r\n    if (!autoRefresh || !isSuperAdmin) return;\r\n\r\n    const intervalId = setInterval(() => {\r\n      fetchSystemStatus();\r\n    }, 2 * 60 * 1000); //  [] 2 (   30 )\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [autoRefresh, isSuperAdmin, fetchSystemStatus]);\r\n\r\n  //        \r\n  useEffect(() => {\r\n    if (autoRefresh) {\r\n      setErrorCount(0);\r\n    }\r\n  }, [autoRefresh]);\r\n\r\n  if (!isSuperAdmin) {\r\n    return (\r\n      <div className=\"system-monitoring section-card\">\r\n        <h3>   </h3>\r\n        <p className=\"admin-section-desc\">    .</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"system-monitoring section-card\">\r\n      <div className=\"monitoring-header\">\r\n        <h3>   </h3>\r\n        <div className=\"monitoring-controls\">\r\n          <label className=\"auto-refresh-toggle\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={autoRefresh}\r\n              onChange={(e) => setAutoRefresh(e.target.checked)}\r\n            />\r\n            <span>  (30)</span>\r\n          </label>\r\n          <button\r\n            onClick={fetchSystemStatus}\r\n            disabled={loading}\r\n            className=\"refresh-button\"\r\n          >\r\n            {loading ? \"  ...\" : \" \"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {lastUpdate && (\r\n        <p className=\"last-update\">\r\n           : {lastUpdate.toLocaleTimeString(\"ko-KR\")}\r\n        </p>\r\n      )}\r\n\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <p> {error}</p>\r\n          {errorCount >= 3 && (\r\n            <p style={{ marginTop: \"8px\", fontSize: \"14px\" }}>\r\n                    .      .\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {systemStatus && (\r\n        <>\r\n          {/*    */}\r\n          {systemStatus.message && (\r\n            <div className=\"info-message\" style={{\r\n              padding: \"12px\",\r\n              background: \"#e3f2fd\",\r\n              border: \"1px solid #90caf9\",\r\n              borderRadius: \"4px\",\r\n              marginBottom: \"15px\",\r\n              color: \"#1976d2\"\r\n            }}>\r\n              <p style={{ margin: 0 }}> {systemStatus.message}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/*    */}\r\n          <div className=\"system-health-card\">\r\n            <h4> </h4>\r\n            <div className={`health-indicator health-${systemStatus.health}`}>\r\n              <span className=\"health-icon\">\r\n                {systemStatus.health === \"healthy\"\r\n                  ? \"\"\r\n                  : systemStatus.health === \"warning\"\r\n                  ? \"\"\r\n                  : \"\"}\r\n              </span>\r\n              <span className=\"health-text\">\r\n                {systemStatus.health === \"healthy\"\r\n                  ? \"\"\r\n                  : systemStatus.health === \"warning\"\r\n                  ? \"\"\r\n                  : \"\"}\r\n              </span>\r\n            </div>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">{systemStatus.totalUsers}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/*   */}\r\n          <div className=\"stats-card\">\r\n            <h4> 1 </h4>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.reads.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.writes.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.errors}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"></span>\r\n                <span className=\"stat-value\">\r\n                  {(systemStatus.stats.lastMinute.errorRate * 100).toFixed(2)}%\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.avgResponseTime.toFixed(0)}ms\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/*    */}\r\n          {systemStatus.anomalies && systemStatus.anomalies.length > 0 && (\r\n            <div className=\"anomalies-card\">\r\n              <h4>   </h4>\r\n              <div className=\"anomalies-list\">\r\n                {systemStatus.anomalies.map((anomaly, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`anomaly-item anomaly-${anomaly.severity}`}\r\n                  >\r\n                    <div className=\"anomaly-header\">\r\n                      <span className=\"anomaly-severity\">\r\n                        {anomaly.severity === \"critical\"\r\n                          ? \" \"\r\n                          : anomaly.severity === \"error\"\r\n                          ? \" \"\r\n                          : \" \"}\r\n                      </span>\r\n                      <span className=\"anomaly-type\">{anomaly.type}</span>\r\n                    </div>\r\n                    <p className=\"anomaly-message\">{anomaly.message}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*   */}\r\n          {systemStatus.alerts && systemStatus.alerts.length > 0 && (\r\n            <div className=\"alerts-card\">\r\n              <h4>   ({systemStatus.alerts.length})</h4>\r\n              <div className=\"alerts-list\">\r\n                {systemStatus.alerts.map((alert) => {\r\n                  const alertTime = alert.timestamp?.toDate\r\n                    ? alert.timestamp.toDate()\r\n                    : new Date(alert.timestamp?.seconds * 1000 || Date.now());\r\n\r\n                  return (\r\n                    <div\r\n                      key={alert.id}\r\n                      className={`alert-item alert-${alert.severity}`}\r\n                    >\r\n                      <div className=\"alert-header\">\r\n                        <span className=\"alert-time\">\r\n                          {alertTime.toLocaleString(\"ko-KR\")}\r\n                        </span>\r\n                        <button\r\n                          onClick={() => handleResolveAlert(alert.id)}\r\n                          className=\"resolve-alert-button\"\r\n                        >\r\n                          \r\n                        </button>\r\n                      </div>\r\n                      <p className=\"alert-message\">{alert.message}</p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*    */}\r\n          {systemStatus.errorLogs && systemStatus.errorLogs.length > 0 && (\r\n            <div className=\"error-logs-card\">\r\n              <h4>    (1)</h4>\r\n              <div className=\"error-logs-list\">\r\n                {systemStatus.errorLogs.slice(0, 10).map((log) => {\r\n                  const logTime = log.timestamp?.toDate\r\n                    ? log.timestamp.toDate()\r\n                    : new Date(log.timestamp?.seconds * 1000 || Date.now());\r\n\r\n                  return (\r\n                    <div key={log.id} className=\"error-log-item\">\r\n                      <span className=\"log-time\">\r\n                        {logTime.toLocaleTimeString(\"ko-KR\")}\r\n                      </span>\r\n                      <span className=\"log-message\">\r\n                        {log.message || \"   \"}\r\n                      </span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*  5  */}\r\n          <div className=\"stats-card\">\r\n            <h4> 5 </h4>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.reads.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.writes.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.errors}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {!systemStatus && !loading && !error && (\r\n        <div className=\"no-data-message\">\r\n          <p>      .</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SystemMonitoring;\r\n","// src/AdminSettingsModal.js\n// ========================================\n//     v2.0\n// ========================================\n//  :\n// - isSuperAdmin ( ):   ,   ,   \n// - isAdmin ():   , //// \n// ========================================\n\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { httpsCallable } from \"firebase/functions\";\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\nimport {\n  db,\n  functions,\n  firebaseDoc,\n  firebaseCollection,\n  firebaseGetSingleDoc,\n  firebaseUpdateDoc,\n  firebaseSetDoc,\n  firebaseGetDocs,\n  serverTimestamp,\n  increment,\n  writeBatch,\n  query as firebaseQuery,\n  where as firebaseWhere,\n} from \"../../firebase\";\n\n//   \nimport {\n  useOptimizedAdminSettings,\n  useOptimizedStudents,\n  useOptimizedSalarySettings,\n  useOptimizedSystemManagement,\n  useBatchPaySalaries,\n  useAdminDataPreloader,\n} from \"../../hooks/useOptimizedAdminData\";\n\n//   \nimport SystemMonitoring from \"../../pages/admin/SystemMonitoring\";\n\n//   \nimport AdminDatabase from \"../../pages/admin/AdminDatabase\";\n\nimport { useCurrency } from \"../../contexts/CurrencyContext\";\nimport { logger } from \"../../utils/logger\";\n//     \nconst initialStocks = [\n  {\n    id: \"KP\",\n    name: \" \",\n    price: 10000,\n    history: [{ price: 10000, timestamp: new Date() }],\n  },\n  {\n    id: \"SS\",\n    name: \"\",\n    price: 80000,\n    history: [{ price: 80000, timestamp: new Date() }],\n  },\n  {\n    id: \"LG\",\n    name: \"LG\",\n    price: 350000,\n    history: [{ price: 350000, timestamp: new Date() }],\n  },\n  {\n    id: \"SK\",\n    name: \"SK\",\n    price: 230000,\n    history: [{ price: 230000, timestamp: new Date() }],\n  },\n];\n\n//    \nconst ClassDataDeletionSection = ({ userClassCode, isAdmin, isSuperAdmin }) => {\n  const [deleteConfirmText, setDeleteConfirmText] = useState(\"\");\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n\n  const handleDeleteClassData = async () => {\n    if (!userClassCode) {\n      alert(\"  .\");\n      return;\n    }\n\n    if (deleteConfirmText !== \"\") {\n      alert(\"''  .\");\n      return;\n    }\n\n    //  \n    const finalConfirm = window.confirm(\n      ` '${userClassCode}'     ?\\n\\n        :\\n-   (role: 'student')\\n-  \\n-  \\n\\n(admin)  .`,\n    );\n\n    if (!finalConfirm) {\n      return;\n    }\n\n    setIsDeleting(true);\n\n    try {\n      logger.log(`[ClassDataDeletion] ${userClassCode}    `);\n\n      // 1.    (role === 'student' AND classCode === userClassCode)\n      const usersRef = firestoreCollection(db, \"users\");\n      const studentsQuery = firebaseQuery(\n        usersRef,\n        firebaseWhere(\"classCode\", \"==\", userClassCode),\n        firebaseWhere(\"role\", \"==\", \"student\"),\n      );\n      const studentsSnapshot = await firebaseGetDocs(studentsQuery);\n\n      logger.log(\n        `[ClassDataDeletion]   : ${studentsSnapshot.size}`,\n      );\n\n      // 2.   \n      const activityLogsRef = firestoreCollection(db, \"activity_logs\");\n      const activityLogsQuery = firebaseQuery(\n        activityLogsRef,\n        firebaseWhere(\"classCode\", \"==\", userClassCode),\n      );\n      const activityLogsSnapshot = await firebaseGetDocs(activityLogsQuery);\n\n      logger.log(\n        `[ClassDataDeletion]   : ${activityLogsSnapshot.size}`,\n      );\n\n      // 3.    ( userId )\n      const studentIds = studentsSnapshot.docs.map((doc) => doc.id);\n      let transactionsToDelete = [];\n\n      if (studentIds.length > 0) {\n        // Firestore 'in'   10   \n        const batches = [];\n        for (let i = 0; i < studentIds.length; i += 10) {\n          batches.push(studentIds.slice(i, i + 10));\n        }\n\n        for (const batch of batches) {\n          const transactionsRef = firestoreCollection(db, \"transactions\");\n          const transactionsQuery = firebaseQuery(\n            transactionsRef,\n            firebaseWhere(\"userId\", \"in\", batch),\n          );\n          const transactionsSnapshot = await firebaseGetDocs(transactionsQuery);\n          transactionsToDelete.push(...transactionsSnapshot.docs);\n        }\n      }\n\n      logger.log(\n        `[ClassDataDeletion]   : ${transactionsToDelete.length}`,\n      );\n\n      // 4.    (Firestore   500 )\n      const allDocsToDelete = [\n        ...studentsSnapshot.docs,\n        ...activityLogsSnapshot.docs,\n        ...transactionsToDelete,\n      ];\n\n      logger.log(\n        `[ClassDataDeletion]   : ${allDocsToDelete.length}`,\n      );\n\n      //   \n      const BATCH_SIZE = 500;\n      for (let i = 0; i < allDocsToDelete.length; i += BATCH_SIZE) {\n        const batch = writeBatch(db);\n        const batchDocs = allDocsToDelete.slice(i, i + BATCH_SIZE);\n\n        batchDocs.forEach((docSnap) => {\n          batch.delete(docSnap.ref);\n        });\n\n        await batch.commit();\n        logger.log(\n          `[ClassDataDeletion]  ${Math.floor(i / BATCH_SIZE) + 1}  `,\n        );\n      }\n\n      alert(\n        `   !\\n\\n :\\n-  : ${studentsSnapshot.size}\\n-  : ${activityLogsSnapshot.size}\\n-  : ${transactionsToDelete.length}`,\n      );\n\n      logger.log(`[ClassDataDeletion] ${userClassCode}    `);\n\n      // \n      setDeleteConfirmText(\"\");\n      setShowConfirmation(false);\n    } catch (error) {\n      logger.error(\"[ClassDataDeletion]   :\", error);\n      alert(\n        ` : ${error.message}\\n\\n    .  .`,\n      );\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  if (!isAdmin && !isSuperAdmin) {\n    return null;\n  }\n\n  return (\n    <div className=\"section-card mt-6 border-2 border-red-500/50 bg-red-900/10\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <span className=\"text-2xl\"></span>\n        <h3 className=\"text-xl font-bold text-red-400\">\n           :   \n        </h3>\n      </div>\n\n      <div className=\"bg-red-900/20 rounded-lg p-4 mb-4 border border-red-500/30\">\n        <p className=\"text-sm text-red-200 mb-2\">\n          <strong>    !</strong>\n        </p>\n        <p className=\"text-sm text-red-200 mb-2\">\n                .\n        </p>\n        <p className=\"text-sm text-gray-300 mb-2\"> :</p>\n        <ul className=\"text-sm text-gray-300 list-disc list-inside ml-2 space-y-1\">\n          <li>  (role: 'student')</li>\n          <li>  (activity_logs)</li>\n          <li>  (transactions)</li>\n        </ul>\n        <p className=\"text-sm text-green-300 mt-2\">\n           (admin)  .\n        </p>\n        <p className=\"text-sm text-green-300\">\n           , ,    .\n        </p>\n      </div>\n\n      {!showConfirmation ? (\n        <button\n          onClick={() => setShowConfirmation(true)}\n          className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors\"\n        >\n             \n        </button>\n      ) : (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                \"<strong className=\"text-red-400\"></strong>\"\n               :\n            </label>\n            <input\n              type=\"text\"\n              value={deleteConfirmText}\n              onChange={(e) => setDeleteConfirmText(e.target.value)}\n              placeholder=\"\"\n              disabled={isDeleting}\n              className=\"w-full px-4 py-2 bg-[#1a1a2e] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-red-500\"\n            />\n          </div>\n\n          <div className=\"flex gap-3\">\n            <button\n              onClick={handleDeleteClassData}\n              disabled={isDeleting || deleteConfirmText !== \"\"}\n              className={`px-6 py-2 rounded-lg font-medium transition-colors ${\n                deleteConfirmText === \"\" && !isDeleting\n                  ? \"bg-red-600 hover:bg-red-700 text-white\"\n                  : \"bg-gray-600 text-gray-400 cursor-not-allowed\"\n              }`}\n            >\n              {isDeleting ? \" ...\" : \"  \"}\n            </button>\n            <button\n              onClick={() => {\n                setShowConfirmation(false);\n                setDeleteConfirmText(\"\");\n              }}\n              disabled={isDeleting}\n              className=\"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors\"\n            >\n              \n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst AdminSettingsModal = ({\n  isAdmin,\n  isSuperAdmin,\n  userClassCode,\n  showAdminSettingsModal,\n  setShowAdminSettingsModal,\n  adminSelectedMenu,\n  setAdminSelectedMenu,\n\n  //    props\n  newGoalAmount,\n  setNewGoalAmount,\n  adminCouponValue,\n  setAdminCouponValue,\n  handleSaveAdminSettings,\n\n  //    props\n  jobs,\n  adminNewJobTitle,\n  setAdminNewJobTitle,\n  adminEditingJob,\n  setAdminEditingJob,\n  handleSaveJob,\n  handleDeleteJob,\n  handleEditJob,\n\n  //    props\n  commonTasks,\n  showAddTaskForm,\n  setShowAddTaskForm,\n  adminNewTaskName,\n  setAdminNewTaskName,\n  adminNewTaskReward,\n  setAdminNewTaskReward,\n  adminNewTaskMaxClicks,\n  setAdminNewTaskMaxClicks,\n  adminNewTaskRequiresApproval,\n  setAdminNewTaskRequiresApproval,\n  adminEditingTask,\n  setAdminEditingTask,\n  handleSaveTask,\n  handleEditTask,\n  handleDeleteTask,\n  taskFormJobId,\n  taskFormIsJobTask,\n  handleAddTaskClick,\n\n  //     props\n  classCodes = [],\n  onAddClassCode,\n  onRemoveClassCode,\n}) => {\n  const [newClassCode, setNewClassCode] = useState(\"\");\n  const [classCodeOperationLoading, setClassCodeOperationLoading] =\n    useState(false);\n  const [classMembers, setClassMembers] = useState([]);\n  const [membersLoading, setMembersLoading] = useState(false);\n  const [showEditStudentJobsModal, setShowEditStudentJobsModal] =\n    useState(false);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [tempSelectedJobIds, setTempSelectedJobIds] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [studentsLoading, setStudentsLoading] = useState(false);\n  const [appLoading, setAppLoading] = useState(false);\n  const [isPayingSalary, setIsPayingSalary] = useState(false);\n  const [lastSalaryPaidDate, setLastSalaryPaidDate] = useState(null);\n  const [selectedStudentIds, setSelectedStudentIds] = useState([]);\n  const [selectAllStudents, setSelectAllStudents] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // ========================================\n  //    \n  // ========================================\n  const [depositProducts, setDepositProducts] = useState([]);\n  const [savingProducts, setSavingProducts] = useState([]);\n  const [loanProducts, setLoanProducts] = useState([]);\n  const [newProductName, setNewProductName] = useState(\"\");\n  const [newProductPeriod, setNewProductPeriod] = useState(\"\");\n  const [newProductRate, setNewProductRate] = useState(\"\");\n  const [financialSubTab, setFinancialSubTab] = useState(\"deposit\");\n  const [financialMessage, setFinancialMessage] = useState(null);\n\n  //    \n  const [jobTaskSubTab, setJobTaskSubTab] = useState(\"job\");\n  const [studentMemberSubTab, setStudentMemberSubTab] = useState(\"student\");\n  const [financeMarketSubTab, setFinanceMarketSubTab] = useState(\"financial\");\n  const [systemSubTab, setSystemSubTab] = useState(\"database\");\n\n  // ========================================\n  //   \n  // ========================================\n  const [marketStatus, setMarketStatus] = useState({ isOpen: false });\n  const [marketMessage, setMarketMessage] = useState(\"\");\n  const [isMarketDataLoaded, setIsMarketDataLoaded] = useState(false);\n  const marketStatusCache = useRef(null);\n  const CACHE_DURATION = 5 * 60 * 1000; // 5\n\n  // ========================================\n  //   \n  // ========================================\n  const [parkingInterestRate, setParkingInterestRate] = useState(0.1);\n  const [newInterestRate, setNewInterestRate] = useState(\"\");\n  const [parkingMessage, setParkingMessage] = useState(null);\n\n  // Firebase Functions\n  const toggleMarketManually = httpsCallable(functions, \"toggleMarketManually\");\n\n  //   \n  const [salarySettings, setSalarySettings] = useState({\n    taxRate: 0.1, // 10% \n    salaryIncreaseRate: 0.03, // 3%  \n  });\n  const [tempTaxRate, setTempTaxRate] = useState(\"10\");\n  const [tempSalaryIncreaseRate, setTempSalaryIncreaseRate] = useState(\"3\");\n  const [salarySettingsLoading, setSalarySettingsLoading] = useState(false);\n\n  //   \n  const { currencyUnit, setCurrencyUnitLocal } = useCurrency();\n  const [tempCurrencyUnit, setTempCurrencyUnit] = useState(currencyUnit);\n  const [currencyUnitSaving, setCurrencyUnitSaving] = useState(false);\n\n  // currencyUnit   tempCurrencyUnit \n  useEffect(() => {\n    setTempCurrencyUnit(currencyUnit);\n  }, [currencyUnit]);\n\n  const handleSaveCurrencyUnit = useCallback(async () => {\n    if (!db || !tempCurrencyUnit.trim()) {\n      alert(\"  .\");\n      return;\n    }\n\n    setCurrencyUnitSaving(true);\n    try {\n      const settingsRef = firebaseDoc(db, \"settings\", \"mainSettings\");\n      await firebaseUpdateDoc(settingsRef, {\n        currencyUnit: tempCurrencyUnit.trim(),\n        updatedAt: serverTimestamp(),\n      }).catch(async () => {\n        //   setDoc \n        await firebaseSetDoc(\n          settingsRef,\n          {\n            currencyUnit: tempCurrencyUnit.trim(),\n            updatedAt: serverTimestamp(),\n          },\n          { merge: true },\n        );\n      });\n\n      setCurrencyUnitLocal(tempCurrencyUnit.trim());\n      alert(\"  .\");\n    } catch (error) {\n      logger.error(\"   :\", error);\n      alert(\"     : \" + error.message);\n    } finally {\n      setCurrencyUnitSaving(false);\n    }\n  }, [tempCurrencyUnit, setCurrencyUnitLocal]);\n\n  //   \n  const studentsQuery = useOptimizedStudents();\n  const salarySettingsQuery = useOptimizedSalarySettings();\n  const systemManagementQuery = useOptimizedSystemManagement();\n  const generalSettingsQuery = useOptimizedAdminSettings(\"generalSettings\");\n  const batchPaySalariesMutation = useBatchPaySalaries();\n  const { preloadAdminData } = useAdminDataPreloader();\n\n  //   \n  const loadSalarySettings = useCallback(async () => {\n    if (!db) return;\n\n    try {\n      //    ,    \n      const classSettingsRef = userClassCode\n        ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\n        : firebaseDoc(db, \"settings\", \"salarySettings\");\n      const settingsSnap = await firebaseGetSingleDoc(classSettingsRef);\n\n      if (settingsSnap.exists()) {\n        const data = settingsSnap.data();\n        const settings = {\n          taxRate: data.taxRate || 0.1,\n          salaryIncreaseRate: data.salaryIncreaseRate || 0.03,\n        };\n        setSalarySettings(settings);\n        setTempTaxRate(String((settings.taxRate * 100).toFixed(1)));\n        setTempSalaryIncreaseRate(\n          String((settings.salaryIncreaseRate * 100).toFixed(1)),\n        );\n\n        if (data.lastPaidDate) {\n          setLastSalaryPaidDate(data.lastPaidDate.toDate());\n        }\n      } else {\n        //   \n        await firebaseSetDoc(classSettingsRef, {\n          taxRate: 0.1,\n          salaryIncreaseRate: 0.03,\n          lastPaidDate: null,\n          classCode: userClassCode || null,\n          createdAt: serverTimestamp(),\n          updatedAt: serverTimestamp(),\n        });\n      }\n    } catch (error) {\n      logger.error(\"   :\", error);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userClassCode]); // db     \n\n  //   \n  const handleSaveSalarySettings = useCallback(async () => {\n    if (!db) {\n      alert(\"  .\");\n      return;\n    }\n\n    const taxRateNum = parseFloat(tempTaxRate);\n    const increaseRateNum = parseFloat(tempSalaryIncreaseRate);\n\n    if (isNaN(taxRateNum) || taxRateNum < 0 || taxRateNum > 100) {\n      alert(\" 0~100   .\");\n      return;\n    }\n\n    if (\n      isNaN(increaseRateNum) ||\n      increaseRateNum < 0 ||\n      increaseRateNum > 100\n    ) {\n      alert(\"  0~100   .\");\n      return;\n    }\n\n    setSalarySettingsLoading(true);\n\n    try {\n      const classSettingsRef = userClassCode\n        ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\n        : firebaseDoc(db, \"settings\", \"salarySettings\");\n      const newSettings = {\n        taxRate: taxRateNum / 100,\n        salaryIncreaseRate: increaseRateNum / 100,\n        classCode: userClassCode || null,\n        updatedAt: serverTimestamp(),\n      };\n\n      await firebaseUpdateDoc(classSettingsRef, newSettings);\n      setSalarySettings({\n        taxRate: newSettings.taxRate,\n        salaryIncreaseRate: newSettings.salaryIncreaseRate,\n      });\n\n      alert(\"  .\");\n    } catch (error) {\n      logger.error(\"   :\", error);\n      alert(\"     : \" + error.message);\n    } finally {\n      setSalarySettingsLoading(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userClassCode, tempTaxRate, tempSalaryIncreaseRate]); // db salarySettings.x     \n\n  //    (  )\n  const calculateSalary = useCallback(\n    (selectedJobIds, includesTax = false) => {\n      if (!Array.isArray(selectedJobIds) || selectedJobIds.length === 0) {\n        return { gross: 0, tax: 0, net: 0 };\n      }\n\n      const baseSalary = 2000000;\n      const additionalSalary = 500000;\n      const grossSalary =\n        baseSalary + Math.max(0, selectedJobIds.length - 1) * additionalSalary;\n\n      if (!includesTax) {\n        return grossSalary;\n      }\n\n      const tax = Math.floor(grossSalary * salarySettings.taxRate);\n      const netSalary = grossSalary - tax;\n\n      return { gross: grossSalary, tax, net: netSalary };\n    },\n    [salarySettings.taxRate],\n  );\n\n  //   \n  const handleJobEdit = useCallback(\n    (job) => {\n      logger.log(\"[AdminSettingsModal]   :\", job);\n      if (handleEditJob && typeof handleEditJob === \"function\") {\n        handleEditJob(job);\n      } else {\n        logger.error(\n          \"[AdminSettingsModal] handleEditJob   .\",\n        );\n        alert(\"     .\");\n      }\n    },\n    [handleEditJob],\n  );\n\n  //   \n  const handleJobDelete = useCallback(\n    (jobId) => {\n      logger.log(\"[AdminSettingsModal]   :\", jobId);\n      if (handleDeleteJob && typeof handleDeleteJob === \"function\") {\n        handleDeleteJob(jobId);\n      } else {\n        logger.error(\n          \"[AdminSettingsModal] handleDeleteJob   .\",\n        );\n        alert(\"     .\");\n      }\n    },\n    [handleDeleteJob],\n  );\n\n  //   \n  const handleTaskEdit = useCallback(\n    (task, jobId = null) => {\n      logger.log(\"[AdminSettingsModal]   :\", task, \"jobId:\", jobId);\n      if (handleEditTask && typeof handleEditTask === \"function\") {\n        handleEditTask(task, jobId);\n      } else {\n        logger.error(\n          \"[AdminSettingsModal] handleEditTask   .\",\n        );\n        alert(\"     .\");\n      }\n    },\n    [handleEditTask],\n  );\n\n  //   \n  const handleTaskDelete = useCallback(\n    (taskId, jobId = null) => {\n      logger.log(\n        \"[AdminSettingsModal]   :\",\n        taskId,\n        \"jobId:\",\n        jobId,\n      );\n      if (handleDeleteTask && typeof handleDeleteTask === \"function\") {\n        handleDeleteTask(taskId, jobId);\n      } else {\n        logger.error(\n          \"[AdminSettingsModal] handleDeleteTask   .\",\n        );\n        alert(\"     .\");\n      }\n    },\n    [handleDeleteTask],\n  );\n\n  //   \n  const handleTaskAdd = useCallback(\n    (jobId = null, isJobTask = false) => {\n      logger.log(\n        \"[AdminSettingsModal]   :\",\n        jobId,\n        \"isJobTask:\",\n        isJobTask,\n      );\n      if (handleAddTaskClick && typeof handleAddTaskClick === \"function\") {\n        handleAddTaskClick(jobId, isJobTask);\n      } else {\n        logger.error(\n          \"[AdminSettingsModal] handleAddTaskClick   .\",\n        );\n        alert(\"     .\");\n      }\n    },\n    [handleAddTaskClick],\n  );\n\n  //     (Class/students  users   )\n  const loadStudents = useCallback(async () => {\n    if (!db) {\n      logger.error(\"loadStudents: Firestore   .\");\n      setError(\"       .\");\n      setStudents([]);\n      setStudentsLoading(false);\n      return;\n    }\n\n    setStudentsLoading(true);\n    setError(\"\");\n\n    try {\n      let studentsList = [];\n\n      if (!isSuperAdmin && !userClassCode) {\n        setError(\"        .\");\n        setStudents([]);\n        setStudentsLoading(false);\n        return;\n      }\n\n      // 1. Class/{classCode}/students  \n      if (!isSuperAdmin && userClassCode) {\n        try {\n          const classStudentsRef = firebaseCollection(\n            db,\n            \"Class\",\n            userClassCode,\n            \"students\",\n          );\n          const classStudentsSnapshot = await firebaseGetDocs(classStudentsRef);\n\n          classStudentsSnapshot.forEach((doc) => {\n            const userData = doc.data();\n            studentsList.push({\n              id: doc.id,\n              nickname: userData.nickname || userData.name || \" \",\n              name: userData.name || \"\",\n              email: userData.email || \"\",\n              classCode: userClassCode,\n              selectedJobIds: userData.selectedJobIds || [],\n              cash: userData.money || userData.cash || 0, // money  \n              lastSalaryDate: userData.lastSalaryDate\n                ? userData.lastSalaryDate.toDate()\n                : null,\n              lastGrossSalary: userData.lastGrossSalary || 0,\n              lastTaxAmount: userData.lastTaxAmount || 0,\n              lastNetSalary: userData.lastNetSalary || 0,\n              totalSalaryReceived: userData.totalSalaryReceived || 0,\n            });\n          });\n        } catch (classError) {\n          // Class     users  \n        }\n      }\n\n      // 2. users   (Class      )\n      if (studentsList.length === 0) {\n        const usersRef = firebaseCollection(db, \"users\");\n        let queryRef;\n\n        if (!isSuperAdmin && userClassCode) {\n          queryRef = firebaseQuery(\n            usersRef,\n            firebaseWhere(\"classCode\", \"==\", userClassCode),\n          );\n        } else if (isSuperAdmin) {\n          queryRef = usersRef;\n        }\n\n        const querySnapshot = await firebaseGetDocs(queryRef);\n\n        querySnapshot.forEach((doc) => {\n          const userData = doc.data();\n          if (!userData.isAdmin && !userData.isSuperAdmin) {\n            studentsList.push({\n              id: doc.id,\n              nickname: userData.nickname || userData.name || \" \",\n              name: userData.name || \"\",\n              email: userData.email || \"\",\n              classCode: userData.classCode || \"\",\n              selectedJobIds: userData.selectedJobIds || [],\n              cash: userData.cash || 0,\n              lastSalaryDate: userData.lastSalaryDate\n                ? userData.lastSalaryDate.toDate()\n                : null,\n              lastGrossSalary: userData.lastGrossSalary || 0,\n              lastTaxAmount: userData.lastTaxAmount || 0,\n              lastNetSalary: userData.lastNetSalary || 0,\n              totalSalaryReceived: userData.totalSalaryReceived || 0,\n            });\n          }\n        });\n      }\n\n      setStudents(studentsList);\n\n      try {\n        const classSettingsRef = userClassCode\n          ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\n          : firebaseDoc(db, \"settings\", \"salarySettings\");\n        const settingsDoc = await firebaseGetSingleDoc(classSettingsRef);\n        if (settingsDoc.exists()) {\n          const data = settingsDoc.data();\n          setLastSalaryPaidDate(\n            data.lastPaidDate ? data.lastPaidDate.toDate() : null,\n          );\n          setSalarySettings({\n            taxRate: data.taxRate || 0.1,\n            salaryIncreaseRate: data.salaryIncreaseRate || 0.03,\n          });\n        } else {\n          setLastSalaryPaidDate(null);\n        }\n      } catch (settingsError) {\n        logger.error(\"   :\", settingsError);\n        setLastSalaryPaidDate(null);\n      }\n\n      setSelectedStudentIds([]);\n      setSelectAllStudents(false);\n    } catch (error) {\n      logger.error(\"loadStudents:    :\", error);\n      setError(\"     : \" + error.message);\n      setStudents([]);\n    } finally {\n      setStudentsLoading(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSuperAdmin, userClassCode]); // db     \n\n  //     \n  const handlePaySalariesToSelected = async () => {\n    if (selectedStudentIds.length === 0) {\n      alert(\"  .\");\n      return;\n    }\n\n    const currentSalarySettings =\n      salarySettingsQuery.data?.settings || salarySettings;\n\n    if (\n      !window.confirm(\n        ` ${selectedStudentIds.length}   ?\\n( ${(currentSalarySettings.taxRate * 100).toFixed(1)}%   )`,\n      )\n    ) {\n      return;\n    }\n\n    setIsPayingSalary(true);\n\n    try {\n      const result = await batchPaySalariesMutation.mutateAsync({\n        studentIds: selectedStudentIds,\n        payAll: false,\n      });\n\n      if (result.success) {\n        const { summary } = result;\n        alert(\n          `  !\\n${summary.totalStudentsPaid}  \\n : ${(\n            summary.totalGrossPaid / 10000\n          ).toFixed(0)}\\n : ${(\n            summary.totalTaxDeducted / 10000\n          ).toFixed(0)}\\n : ${(\n            summary.totalNetPaid / 10000\n          ).toFixed(0)}`,\n        );\n\n        //   \n        setSelectedStudentIds([]);\n        setSelectAllStudents(false);\n      } else {\n        alert(result.message || \"  .\");\n      }\n    } catch (error) {\n      logger.error(\"[AdminSettingsModal]     :\", error);\n      alert(\"    : \" + error.message);\n    } finally {\n      setIsPayingSalary(false);\n    }\n  };\n\n  //     \n  const handlePaySalariesToAll = async () => {\n    const currentStudents = studentsQuery.data?.students || students;\n    const currentSalarySettings =\n      salarySettingsQuery.data?.settings || salarySettings;\n\n    if (!currentStudents || currentStudents.length === 0) {\n      alert(\"  .\");\n      return;\n    }\n\n    if (\n      !window.confirm(\n        `    ?\\n(   ,  ${(currentSalarySettings.taxRate * 100).toFixed(1)}% )`,\n      )\n    ) {\n      return;\n    }\n\n    setIsPayingSalary(true);\n\n    try {\n      const result = await batchPaySalariesMutation.mutateAsync({\n        studentIds: [], //     \n        payAll: true,\n      });\n\n      if (result.success) {\n        const { summary } = result;\n        alert(\n          `  !\\n${summary.totalStudentsPaid}  \\n : ${(\n            summary.totalGrossPaid / 10000\n          ).toFixed(0)}\\n : ${(\n            summary.totalTaxDeducted / 10000\n          ).toFixed(0)}\\n : ${(\n            summary.totalNetPaid / 10000\n          ).toFixed(0)}`,\n        );\n      } else {\n        alert(result.message || \"  .\");\n      }\n    } catch (error) {\n      logger.error(\"[AdminSettingsModal]     :\", error);\n      alert(\"    : \" + error.message);\n    } finally {\n      setIsPayingSalary(false);\n    }\n  };\n\n  //   \n  const loadClassMembers = useCallback(async () => {\n    if (!db) {\n      logger.error(\"loadClassMembers: Firestore   .\");\n      setError(\n        \"        .\",\n      );\n      setClassMembers([]);\n      setMembersLoading(false);\n      return;\n    }\n\n    setMembersLoading(true);\n    setError(\"\");\n\n    try {\n      const usersRef = firebaseCollection(db, \"users\");\n      let queryRef;\n\n      if (!isSuperAdmin && userClassCode) {\n        queryRef = firebaseQuery(\n          usersRef,\n          firebaseWhere(\"classCode\", \"==\", userClassCode),\n        );\n      } else if (isSuperAdmin) {\n        queryRef = usersRef;\n      } else {\n        logger.warn(\"    .\");\n        setError(\"        .\");\n        setClassMembers([]);\n        setMembersLoading(false);\n        return;\n      }\n\n      const querySnapshot = await firebaseGetDocs(queryRef);\n      const usersList = [];\n\n      querySnapshot.forEach((doc) => {\n        const userData = doc.data();\n        usersList.push({\n          id: doc.id,\n          name: userData.name || userData.nickname || \" \",\n          email: userData.email,\n          classCode: userData.classCode || \" \",\n          isAdmin: userData.isAdmin || false,\n          isSuperAdmin: userData.isSuperAdmin || false,\n        });\n      });\n\n      setClassMembers(usersList);\n      logger.log(\n        `[AdminSettingsModal] ${usersList.length}   `,\n      );\n    } catch (error) {\n      logger.error(\"loadClassMembers:    :\", error);\n      setError(\n        \"     : \" + error.message,\n      );\n      setClassMembers([]);\n    } finally {\n      setMembersLoading(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSuperAdmin, userClassCode]); // db     \n\n  //     \n  const handleEditStudentJobs = (student) => {\n    setSelectedStudent(student);\n    setTempSelectedJobIds(\n      Array.isArray(student.selectedJobIds) ? [...student.selectedJobIds] : [],\n    );\n    setShowEditStudentJobsModal(true);\n  };\n\n  //   \n  const handleToggleJobSelection = (jobId) => {\n    setTempSelectedJobIds((prev) => {\n      if (prev.includes(jobId)) {\n        return prev.filter((id) => id !== jobId);\n      } else {\n        return [...prev, jobId];\n      }\n    });\n  };\n\n  //   \n  const handleToggleStudentSelection = (studentId) => {\n    setSelectedStudentIds((prev) => {\n      if (prev.includes(studentId)) {\n        return prev.filter((id) => id !== studentId);\n      } else {\n        return [...prev, studentId];\n      }\n    });\n  };\n\n  //   \n  const handleToggleSelectAll = () => {\n    if (selectAllStudents) {\n      setSelectedStudentIds([]);\n    } else {\n      setSelectedStudentIds(\n        students.map((student) => student.id).filter((id) => id != null),\n      );\n    }\n    setSelectAllStudents(!selectAllStudents);\n  };\n\n  //   \n  const handleSaveStudentJobs = async () => {\n    if (!selectedStudent || !db) {\n      alert(\"     \");\n      return;\n    }\n\n    setAppLoading(true);\n\n    try {\n      const userRef = firebaseDoc(db, \"users\", selectedStudent.id);\n      await firebaseUpdateDoc(userRef, {\n        selectedJobIds: tempSelectedJobIds,\n        updatedAt: serverTimestamp(),\n      });\n\n      setStudents((prevStudents) =>\n        prevStudents.map((student) =>\n          student.id === selectedStudent.id\n            ? { ...student, selectedJobIds: tempSelectedJobIds }\n            : student,\n        ),\n      );\n\n      alert(\"   .\");\n      setShowEditStudentJobsModal(false);\n    } catch (error) {\n      logger.error(\"   :\", error);\n      alert(\"     : \" + error.message);\n    } finally {\n      setAppLoading(false);\n    }\n  };\n\n  const adminResetUserPassword = httpsCallable(\n    functions,\n    \"adminResetUserPassword\",\n  );\n\n  const handleResetPassword = useCallback(\n    async (userId) => {\n      if (!isAdmin && !isSuperAdmin) {\n        alert(\"    .\");\n        return;\n      }\n\n      const newPassword = prompt(\n        \"  . 6  .\",\n      );\n\n      if (!newPassword || newPassword.length < 6) {\n        alert(\" 6  .\");\n        return;\n      }\n\n      if (\n        window.confirm(\n          `(ID: ${userId})   ?`,\n        )\n      ) {\n        try {\n          setMembersLoading(true);\n          const result = await adminResetUserPassword({ userId, newPassword });\n          if (result.data.success) {\n            alert(result.data.message);\n          } else {\n            throw new Error(result.data.message || \"   \");\n          }\n        } catch (error) {\n          logger.error(\"  :\", error);\n          alert(`    : ${error.message}`);\n        } finally {\n          setMembersLoading(false);\n        }\n      }\n    },\n    [isAdmin, isSuperAdmin, adminResetUserPassword],\n  );\n\n  //   \n  const toggleAdminStatus = useCallback(\n    async (userId, currentStatus) => {\n      if (!db) {\n        alert(\"  .\");\n        return;\n      }\n\n      if (!isSuperAdmin) {\n        alert(\"    /  .\");\n        return;\n      }\n\n      if (\n        window.confirm(\n          `    ${\n            currentStatus ? \"\" : \"\"\n          }?`,\n        )\n      ) {\n        setMembersLoading(true);\n\n        try {\n          const userRef = firebaseDoc(db, \"users\", userId);\n          await firebaseUpdateDoc(userRef, { isAdmin: !currentStatus });\n\n          setClassMembers((prevMembers) =>\n            prevMembers.map((member) =>\n              member.id === userId\n                ? { ...member, isAdmin: !currentStatus }\n                : member,\n            ),\n          );\n\n          alert(`  ${!currentStatus ? \"\" : \"\"}.`);\n        } catch (error) {\n          logger.error(\"   :\", error);\n          alert(\"     .\");\n        } finally {\n          setMembersLoading(false);\n        }\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [isSuperAdmin], // db     \n  );\n\n  // ========================================\n  //    \n  // ========================================\n\n  //   \n  const loadFinancialProducts = useCallback(() => {\n    try {\n      const savedDeposit = localStorage.getItem(\"depositProducts\");\n      const savedSaving = localStorage.getItem(\"savingProducts\");\n      const savedLoan = localStorage.getItem(\"loanProducts\");\n\n      if (savedDeposit) setDepositProducts(JSON.parse(savedDeposit));\n      if (savedSaving) setSavingProducts(JSON.parse(savedSaving));\n      if (savedLoan) setLoanProducts(JSON.parse(savedLoan));\n    } catch (error) {\n      logger.error(\"   :\", error);\n    }\n  }, []);\n\n  //   \n  const handleAddProduct = useCallback(() => {\n    if (!newProductName || newProductName.trim() === \"\") {\n      setFinancialMessage({ type: \"error\", text: \" .\" });\n      return;\n    }\n    if (\n      !newProductPeriod ||\n      isNaN(newProductPeriod) ||\n      parseInt(newProductPeriod) <= 0\n    ) {\n      setFinancialMessage({\n        type: \"error\",\n        text: \"  .\",\n      });\n      return;\n    }\n    if (\n      !newProductRate ||\n      isNaN(newProductRate) ||\n      parseFloat(newProductRate) < 0\n    ) {\n      setFinancialMessage({\n        type: \"error\",\n        text: \"  .\",\n      });\n      return;\n    }\n\n    const newProduct = {\n      id: Date.now(),\n      name: newProductName.trim(),\n      period: parseInt(newProductPeriod),\n      rate: parseFloat(newProductRate),\n    };\n\n    const typeText =\n      financialSubTab === \"deposit\"\n        ? \"\"\n        : financialSubTab === \"saving\"\n          ? \"\"\n          : \"\";\n    let updatedProducts = [];\n    let storageKey = \"\";\n\n    if (financialSubTab === \"deposit\") {\n      updatedProducts = [...depositProducts, newProduct];\n      setDepositProducts(updatedProducts);\n      storageKey = \"depositProducts\";\n    } else if (financialSubTab === \"saving\") {\n      updatedProducts = [...savingProducts, newProduct];\n      setSavingProducts(updatedProducts);\n      storageKey = \"savingProducts\";\n    } else if (financialSubTab === \"loan\") {\n      updatedProducts = [...loanProducts, newProduct];\n      setLoanProducts(updatedProducts);\n      storageKey = \"loanProducts\";\n    }\n\n    localStorage.setItem(storageKey, JSON.stringify(updatedProducts));\n    setFinancialMessage({\n      type: \"success\",\n      text: `${typeText}  .`,\n    });\n    setNewProductName(\"\");\n    setNewProductPeriod(\"\");\n    setNewProductRate(\"\");\n    setTimeout(() => setFinancialMessage(null), 3000);\n  }, [\n    newProductName,\n    newProductPeriod,\n    newProductRate,\n    financialSubTab,\n    depositProducts,\n    savingProducts,\n    loanProducts,\n  ]);\n\n  //   \n  const handleDeleteProduct = useCallback(\n    (id, type) => {\n      const typeText =\n        type === \"deposit\" ? \"\" : type === \"saving\" ? \"\" : \"\";\n\n      if (!window.confirm(` ${typeText}  ?`)) return;\n\n      let updatedProducts = [];\n      let storageKey = \"\";\n\n      if (type === \"deposit\") {\n        updatedProducts = depositProducts.filter((p) => p.id !== id);\n        setDepositProducts(updatedProducts);\n        storageKey = \"depositProducts\";\n      } else if (type === \"saving\") {\n        updatedProducts = savingProducts.filter((p) => p.id !== id);\n        setSavingProducts(updatedProducts);\n        storageKey = \"savingProducts\";\n      } else if (type === \"loan\") {\n        updatedProducts = loanProducts.filter((p) => p.id !== id);\n        setLoanProducts(updatedProducts);\n        storageKey = \"loanProducts\";\n      }\n\n      localStorage.setItem(storageKey, JSON.stringify(updatedProducts));\n      setFinancialMessage({\n        type: \"success\",\n        text: `${typeText}  .`,\n      });\n      setTimeout(() => setFinancialMessage(null), 3000);\n    },\n    [depositProducts, savingProducts, loanProducts],\n  );\n\n  // ========================================\n  //   \n  // ========================================\n\n  //   \n  const fetchMarketStatus = useCallback(\n    async (forceRefresh = false) => {\n      if (!userClassCode) return;\n\n      //  \n      if (!forceRefresh && marketStatusCache.current && isMarketDataLoaded) {\n        setMarketStatus(marketStatusCache.current);\n        return;\n      }\n\n      try {\n        const marketStatusRef = doc(\n          db,\n          `ClassStock/${userClassCode}/marketStatus/status`,\n        );\n        const docSnap = await getDoc(marketStatusRef);\n\n        let statusData;\n        if (docSnap.exists()) {\n          statusData = docSnap.data();\n        } else {\n          statusData = { isOpen: false };\n          await setDoc(marketStatusRef, statusData);\n        }\n\n        marketStatusCache.current = statusData;\n        setMarketStatus(statusData);\n        setIsMarketDataLoaded(true);\n      } catch (error) {\n        logger.error(\"   :\", error);\n        setMarketMessage(\"    .\");\n      }\n    },\n    [userClassCode, isMarketDataLoaded],\n  );\n\n  //  / \n  const handleMarketControl = useCallback(\n    async (newIsOpenState) => {\n      const actionText = newIsOpenState ? \" \" : \" \";\n      if (\n        !window.confirm(\n          `  '${actionText}'  ?`,\n        )\n      )\n        return;\n\n      try {\n        //  \n        const optimisticStatus = { isOpen: newIsOpenState };\n        setMarketStatus(optimisticStatus);\n        marketStatusCache.current = optimisticStatus;\n\n        const result = await toggleMarketManually({\n          classCode: userClassCode,\n          isOpen: newIsOpenState,\n        });\n\n        setMarketMessage(result.data.message);\n      } catch (error) {\n        logger.error(\"   :\", error);\n        setMarketMessage(` : ${error.message}`);\n\n        // \n        if (marketStatusCache.current) {\n          setMarketStatus(marketStatusCache.current);\n        } else {\n          fetchMarketStatus(true);\n        }\n      }\n      setTimeout(() => setMarketMessage(\"\"), 5000);\n    },\n    [userClassCode, toggleMarketManually, fetchMarketStatus],\n  );\n\n  //   \n  const handleInitializeStocks = useCallback(async () => {\n    if (\n      !window.confirm(\n        \"     ?     .\",\n      )\n    )\n      return;\n\n    try {\n      const batch = writeBatch(db);\n\n      initialStocks.forEach((stock) => {\n        const stockRef = doc(db, \"CentralStocks\", stock.id);\n        batch.set(stockRef, stock);\n      });\n\n      await batch.commit();\n      alert(\"   .\");\n      setMarketMessage(\"   .\");\n    } catch (error) {\n      logger.error(\"     :\", error);\n      setMarketMessage(` : ${error.message}`);\n    }\n    setTimeout(() => setMarketMessage(\"\"), 5000);\n  }, []);\n\n  // ========================================\n  //   \n  // ========================================\n\n  //   \n  const loadParkingRate = useCallback(() => {\n    const savedRate = localStorage.getItem(\"parkingInterestRate\");\n    if (savedRate) {\n      setParkingInterestRate(parseFloat(savedRate));\n    }\n  }, []);\n\n  //   \n  const handleParkingRateChange = useCallback(() => {\n    if (\n      !newInterestRate ||\n      isNaN(newInterestRate) ||\n      parseFloat(newInterestRate) < 0\n    ) {\n      setParkingMessage({\n        type: \"error\",\n        text: \"   (0 ).\",\n      });\n      return;\n    }\n\n    const rate = parseFloat(newInterestRate);\n    setParkingInterestRate(rate);\n    localStorage.setItem(\"parkingInterestRate\", rate.toString());\n\n    setParkingMessage({\n      type: \"success\",\n      text: `    ${rate}% .`,\n    });\n    setNewInterestRate(\"\");\n    setTimeout(() => setParkingMessage(null), 3000);\n  }, [newInterestRate]);\n\n  //   \n  const handleAddClassCode = useCallback(async () => {\n    if (!onAddClassCode || typeof onAddClassCode !== \"function\") {\n      alert(\"      .\");\n      return;\n    }\n\n    const codeToAdd = newClassCode.trim();\n    if (!codeToAdd) {\n      alert(\"  .\");\n      return;\n    }\n\n    setClassCodeOperationLoading(true);\n\n    try {\n      const success = await onAddClassCode(codeToAdd);\n      if (success) {\n        setNewClassCode(\"\");\n      }\n    } catch (error) {\n      logger.error(\"AdminSettingsModal:     :\", error);\n    } finally {\n      setClassCodeOperationLoading(false);\n    }\n  }, [newClassCode, onAddClassCode]);\n\n  //   \n  const handleRemoveClassCode = useCallback(\n    async (codeToRemove) => {\n      if (!onRemoveClassCode || typeof onRemoveClassCode !== \"function\") {\n        alert(\"      .\");\n        return;\n      }\n\n      setClassCodeOperationLoading(true);\n\n      try {\n        await onRemoveClassCode(codeToRemove);\n      } catch (error) {\n        logger.error(\"AdminSettingsModal:     :\", error);\n      } finally {\n        setClassCodeOperationLoading(false);\n      }\n    },\n    [onRemoveClassCode],\n  );\n\n  //   \n  useEffect(() => {\n    if (showAdminSettingsModal) {\n      //   (   )\n      preloadAdminData();\n      setError(\"\");\n\n      //      \n      loadFinancialProducts();\n      loadParkingRate();\n    }\n\n    if (!showAdminSettingsModal) {\n      setNewClassCode(\"\");\n      setClassMembers([]);\n      setStudents([]);\n      setSelectedStudent(null);\n      setTempSelectedJobIds([]);\n      setShowEditStudentJobsModal(false);\n      setLastSalaryPaidDate(null);\n      setSelectedStudentIds([]);\n      setSelectAllStudents(false);\n      setClassCodeOperationLoading(false);\n      setMembersLoading(false);\n      setStudentsLoading(false);\n      setAppLoading(false);\n      setError(\"\");\n      // //  \n      setFinancialMessage(null);\n      setMarketMessage(\"\");\n      setParkingMessage(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    showAdminSettingsModal,\n    adminSelectedMenu,\n    loadClassMembers,\n    loadStudents,\n    loadSalarySettings,\n    loadFinancialProducts,\n    loadParkingRate,\n  ]); // preloadAdminData  adminSelectedMenu  loadClassMembers, loadStudents, loadSalarySettings    \n\n  //   ID     ( )\n  useEffect(() => {\n    const mapping = {\n      taskManagement: [\"jobAndTask\", () => setJobTaskSubTab(\"task\")],\n      jobSettings: [\"jobAndTask\", () => setJobTaskSubTab(\"job\")],\n      studentManagement: [\n        \"studentAndMember\",\n        () => setStudentMemberSubTab(\"student\"),\n      ],\n      salarySettings: [\n        \"studentAndMember\",\n        () => setStudentMemberSubTab(\"salary\"),\n      ],\n      memberManagement: [\n        \"studentAndMember\",\n        () => setStudentMemberSubTab(\"member\"),\n      ],\n      financialProducts: [\n        \"financeAndMarket\",\n        () => setFinanceMarketSubTab(\"financial\"),\n      ],\n      parkingAccount: [\n        \"financeAndMarket\",\n        () => setFinanceMarketSubTab(\"parking\"),\n      ],\n      marketControl: [\n        \"financeAndMarket\",\n        () => setFinanceMarketSubTab(\"market\"),\n      ],\n      databaseManagement: [\"system\", () => setSystemSubTab(\"database\")],\n      systemManagement: [\"system\", () => setSystemSubTab(\"system\")],\n    };\n    const mapped = mapping[adminSelectedMenu];\n    if (mapped) {\n      setAdminSelectedMenu(mapped[0]);\n      mapped[1]();\n    }\n  }, [adminSelectedMenu, setAdminSelectedMenu]);\n\n  //       \n  useEffect(() => {\n    if (\n      showAdminSettingsModal &&\n      adminSelectedMenu === \"studentAndMember\" &&\n      studentMemberSubTab === \"student\"\n    ) {\n      loadStudents();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showAdminSettingsModal, adminSelectedMenu, studentMemberSubTab]);\n\n  //       \n  useEffect(() => {\n    if (\n      showAdminSettingsModal &&\n      adminSelectedMenu === \"studentAndMember\" &&\n      studentMemberSubTab === \"member\"\n    ) {\n      loadClassMembers();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showAdminSettingsModal, adminSelectedMenu, studentMemberSubTab]);\n\n  //       \n  useEffect(() => {\n    if (\n      showAdminSettingsModal &&\n      adminSelectedMenu === \"financeAndMarket\" &&\n      financeMarketSubTab === \"market\"\n    ) {\n      fetchMarketStatus();\n    }\n  }, [\n    showAdminSettingsModal,\n    adminSelectedMenu,\n    financeMarketSubTab,\n    fetchMarketStatus,\n  ]);\n\n  //    \n  const formatLastSalaryDate = () => {\n    if (!lastSalaryPaidDate) return \"   \";\n\n    try {\n      const date = lastSalaryPaidDate;\n      return `${date.getFullYear()} ${String(date.getMonth() + 1).padStart(\n        2,\n        \"0\",\n      )} ${String(date.getDate()).padStart(2, \"0\")} ${String(\n        date.getHours(),\n      ).padStart(2, \"0\")}:${String(date.getMinutes()).padStart(2, \"0\")}`;\n    } catch (e) {\n      logger.error(\"formatLastSalaryDate :\", e);\n      return \"  \";\n    }\n  };\n\n  if (!showAdminSettingsModal) return null;\n\n  if (!isAdmin && !isSuperAdmin) {\n    return (\n      <div className=\"admin-settings-modal show\">\n        <div className=\"admin-settings-content\">\n          <h2> </h2>\n          <p>   .</p>\n          <button\n            onClick={() => setShowAdminSettingsModal(false)}\n            className=\"admin-cancel-button\"\n          >\n            \n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={`admin-settings-modal ${showAdminSettingsModal ? \"show\" : \"\"}`}\n    >\n      <div className=\"admin-settings-content\">\n        <h2>\n           {\" \"}\n          {isSuperAdmin && (\n            <span className=\"super-admin-badge\">( )</span>\n          )}\n        </h2>\n        {!isSuperAdmin && userClassCode && (\n          <p className=\"admin-class-info\"> : {userClassCode}</p>\n        )}\n\n        {/* ========================================\n               v2.0\n            - (isSuperAdmin):    \n            - (isAdmin):       \n            ======================================== */}\n        <div\n          className=\"admin-menu-tabs flex flex-wrap gap-2.5 p-4 rounded-2xl border border-gray-700\"\n          style={{\n            background: \"linear-gradient(135deg, #16213e 0%, #1a1a2e 100%)\",\n          }}\n        >\n          <button\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"generalSettings\" ? \"active\" : \"\"}`}\n            onClick={() => setAdminSelectedMenu(\"generalSettings\")}\n          >\n              \n          </button>\n          <button\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"jobAndTask\" ? \"active\" : \"\"}`}\n            onClick={() => setAdminSelectedMenu(\"jobAndTask\")}\n          >\n             /\n          </button>\n          <button\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"studentAndMember\" ? \"active\" : \"\"}`}\n            onClick={() => setAdminSelectedMenu(\"studentAndMember\")}\n          >\n             /\n          </button>\n          <button\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"financeAndMarket\" ? \"active\" : \"\"}`}\n            onClick={() => setAdminSelectedMenu(\"financeAndMarket\")}\n          >\n             /\n          </button>\n          <button\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"system\" ? \"active\" : \"\"}`}\n            onClick={() => setAdminSelectedMenu(\"system\")}\n          >\n             \n          </button>\n        </div>\n\n        {/*    */}\n        {adminSelectedMenu === \"generalSettings\" && (\n          <div className=\"general-settings-tab\">\n            {!isSuperAdmin && userClassCode && (\n              <div className=\"class-info-header\">\n                <p className=\"current-class-info\">\n                     : <strong>{userClassCode}</strong>\n                </p>\n              </div>\n            )}\n            {/*    */}\n            <div className=\"admin-goal-settings section-card\">\n              <h3>    </h3>\n              <div className=\"form-group\">\n                <label>   :</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={newGoalAmount || \"\"}\n                  onChange={(e) =>\n                    setNewGoalAmount && setNewGoalAmount(e.target.value)\n                  }\n                  className=\"admin-input\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>  ({currencyUnit}):</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={adminCouponValue || \"\"}\n                  onChange={(e) =>\n                    setAdminCouponValue && setAdminCouponValue(e.target.value)\n                  }\n                  className=\"admin-input\"\n                />\n              </div>\n              <button\n                onClick={handleSaveAdminSettings}\n                className=\"admin-save-button\"\n              >\n                \n              </button>\n            </div>\n\n            {/*     */}\n            <div\n              className=\"admin-goal-settings section-card\"\n              style={{ marginTop: \"16px\" }}\n            >\n              <h3>  </h3>\n              <p\n                className=\"admin-section-desc\"\n                style={{ fontSize: \"13px\", opacity: 0.7, marginBottom: \"12px\" }}\n              >\n                    . (: )\n              </p>\n              <div className=\"form-group\">\n                <label> :</label>\n                <input\n                  type=\"text\"\n                  maxLength={10}\n                  value={tempCurrencyUnit}\n                  onChange={(e) => setTempCurrencyUnit(e.target.value)}\n                  placeholder=\": , , \"\n                  className=\"admin-input\"\n                />\n              </div>\n              <div\n                style={{ fontSize: \"12px\", opacity: 0.6, marginBottom: \"8px\" }}\n              >\n                : 1000{tempCurrencyUnit}, 1 2000 {tempCurrencyUnit}\n              </div>\n              <button\n                onClick={handleSaveCurrencyUnit}\n                className=\"admin-save-button\"\n                disabled={currencyUnitSaving || !tempCurrencyUnit.trim()}\n              >\n                {currencyUnitSaving ? \" ...\" : \"  \"}\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* ===== /   ===== */}\n        {adminSelectedMenu === \"jobAndTask\" && (\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${jobTaskSubTab === \"job\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setJobTaskSubTab(\"job\")}\n            >\n               \n            </button>\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${jobTaskSubTab === \"task\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setJobTaskSubTab(\"task\")}\n            >\n               \n            </button>\n          </div>\n        )}\n\n        {/*    */}\n        {adminSelectedMenu === \"jobAndTask\" && jobTaskSubTab === \"task\" && (\n          <div className=\"task-management-tab\">\n            {!isSuperAdmin && userClassCode && (\n              <div className=\"class-info-header\">\n                <p className=\"current-class-info\">\n                     : <strong>{userClassCode}</strong>\n                </p>\n              </div>\n            )}\n            {/*    */}\n            <div className=\"admin-tasks-settings section-card\">\n              <h3> </h3>\n              <p className=\"admin-section-desc\">\n                    .\n              </p>\n\n              {showAddTaskForm ? (\n                <div className=\"add-task-form\">\n                  <h4>{adminEditingTask ? \" \" : \"  \"}</h4>\n                  <p>\n                    {taskFormIsJobTask && jobs && taskFormJobId\n                      ? `: ${\n                          jobs.find((j) => j.id === taskFormJobId)?.title ||\n                          \"   \"\n                        }`\n                      : \" \"}\n                  </p>\n\n                  <div className=\"form-group\">\n                    <label> :</label>\n                    <input\n                      type=\"text\"\n                      value={adminNewTaskName}\n                      onChange={(e) => setAdminNewTaskName(e.target.value)}\n                      placeholder=\"  \"\n                      className=\"admin-input\"\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label> ():</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      value={adminNewTaskReward}\n                      onChange={(e) => setAdminNewTaskReward(e.target.value)}\n                      placeholder=\" \"\n                      className=\"admin-input\"\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>  :</label>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      value={adminNewTaskMaxClicks}\n                      onChange={(e) => setAdminNewTaskMaxClicks(e.target.value)}\n                      placeholder=\"  \"\n                      className=\"admin-input\"\n                    />\n                  </div>\n\n                  <div\n                    className=\"form-group\"\n                    style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      gap: \"10px\",\n                    }}\n                  >\n                    <label\n                      style={{\n                        cursor: \"pointer\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        gap: \"8px\",\n                        margin: 0,\n                      }}\n                    >\n                      <input\n                        type=\"checkbox\"\n                        checked={adminNewTaskRequiresApproval || false}\n                        onChange={(e) =>\n                          setAdminNewTaskRequiresApproval(e.target.checked)\n                        }\n                        style={{\n                          width: \"18px\",\n                          height: \"18px\",\n                          cursor: \"pointer\",\n                        }}\n                      />\n                      <span>  ( )</span>\n                    </label>\n                    {adminNewTaskRequiresApproval && (\n                      <span\n                        style={{\n                          fontSize: \"12px\",\n                          color: \"#f59e0b\",\n                          fontWeight: \"500\",\n                        }}\n                      >\n                               \n                      </span>\n                    )}\n                  </div>\n\n                  <div className=\"task-form-buttons\">\n                    <button\n                      onClick={() => {\n                        logger.log(\"[AdminSettingsModal]    \");\n                        if (\n                          handleSaveTask &&\n                          typeof handleSaveTask === \"function\"\n                        ) {\n                          handleSaveTask();\n                        } else {\n                          logger.error(\n                            \"[AdminSettingsModal] handleSaveTask   .\",\n                          );\n                          alert(\"     .\");\n                        }\n                      }}\n                      className=\"admin-save-button\"\n                    >\n                      {adminEditingTask ? \"\" : \"\"}\n                    </button>\n                    <button\n                      onClick={() => {\n                        setShowAddTaskForm(false);\n                        setAdminEditingTask(null);\n                      }}\n                      className=\"admin-cancel-button\"\n                    >\n                      \n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"task-management\">\n                  <div className=\"task-management-buttons\">\n                    <button\n                      onClick={() => {\n                        logger.log(\n                          \"[AdminSettingsModal]     \",\n                        );\n                        handleTaskAdd(null, false);\n                      }}\n                      className=\"admin-button\"\n                    >\n                        \n                    </button>\n                    <select\n                      onChange={(e) => {\n                        if (e.target.value) {\n                          logger.log(\n                            \"[AdminSettingsModal]    :\",\n                            e.target.value,\n                          );\n                          handleTaskAdd(e.target.value, true);\n                        }\n                      }}\n                      className=\"job-select\"\n                      value=\"\"\n                    >\n                      <option value=\"\">  ...</option>\n                      {Array.isArray(jobs) &&\n                        jobs.map((job) => (\n                          <option key={job.id} value={job.id}>\n                            {job.title}  \n                          </option>\n                        ))}\n                    </select>\n                  </div>\n\n                  {/*    */}\n                  <div className=\"tasks-by-job\">\n                    <h4> </h4>\n                    {Array.isArray(jobs) && jobs.length > 0 ? (\n                      jobs.map((job) => (\n                        <div key={job.id} className=\"job-tasks\">\n                          <h5>{job.title}</h5>\n                          {Array.isArray(job.tasks) && job.tasks.length > 0 ? (\n                            <ul className=\"admin-tasks\">\n                              {job.tasks.map((task) => (\n                                <li key={task.id} className=\"admin-task-item\">\n                                  <div className=\"task-info\">\n                                    <span className=\"task-name\">\n                                      {task.name}\n                                      {task.requiresApproval && (\n                                        <span\n                                          style={{\n                                            marginLeft: \"6px\",\n                                            fontSize: \"11px\",\n                                            color: \"#f59e0b\",\n                                            fontWeight: \"bold\",\n                                          }}\n                                        >\n                                          []\n                                        </span>\n                                      )}\n                                    </span>\n                                    <span className=\"task-reward\">\n                                      : {task.reward || 0} \n                                    </span>\n                                    <span className=\"task-clicks\">\n                                      : {task.clicks || 0}/\n                                      {task.maxClicks || 5}\n                                    </span>\n                                  </div>\n                                  <div className=\"task-actions\">\n                                    <button\n                                      onClick={() => {\n                                        logger.log(\n                                          \"[AdminSettingsModal]     :\",\n                                          task,\n                                          job.id,\n                                        );\n                                        handleTaskEdit(task, job.id);\n                                      }}\n                                      className=\"edit-button\"\n                                    >\n                                      \n                                    </button>\n                                    <button\n                                      onClick={() => {\n                                        logger.log(\n                                          \"[AdminSettingsModal]     :\",\n                                          task.id,\n                                          job.id,\n                                        );\n                                        handleTaskDelete(task.id, job.id);\n                                      }}\n                                      className=\"delete-button\"\n                                    >\n                                      \n                                    </button>\n                                  </div>\n                                </li>\n                              ))}\n                            </ul>\n                          ) : (\n                            <p className=\"no-items-message\">\n                                  .\n                            </p>\n                          )}\n                        </div>\n                      ))\n                    ) : (\n                      <p className=\"no-items-message\">\n                          .\n                      </p>\n                    )}\n                  </div>\n\n                  {/*    */}\n                  <div className=\"common-tasks\">\n                    <h4> </h4>\n                    {Array.isArray(commonTasks) && commonTasks.length > 0 ? (\n                      <ul className=\"admin-tasks\">\n                        {commonTasks.map((task) => (\n                          <li key={task.id} className=\"admin-task-item\">\n                            <div className=\"task-info\">\n                              <span className=\"task-name\">\n                                {task.name}\n                                {task.requiresApproval && (\n                                  <span\n                                    style={{\n                                      marginLeft: \"6px\",\n                                      fontSize: \"11px\",\n                                      color: \"#f59e0b\",\n                                      fontWeight: \"bold\",\n                                    }}\n                                  >\n                                    []\n                                  </span>\n                                )}\n                              </span>\n                              <span className=\"task-reward\">\n                                : {task.reward || 0} \n                              </span>\n                              <span className=\"task-clicks\">\n                                : {task.clicks || 0}/{task.maxClicks || 5}\n                              </span>\n                            </div>\n                            <div className=\"task-actions\">\n                              <button\n                                onClick={() => {\n                                  logger.log(\n                                    \"[AdminSettingsModal]     :\",\n                                    task,\n                                  );\n                                  handleTaskEdit(task);\n                                }}\n                                className=\"edit-button\"\n                              >\n                                \n                              </button>\n                              <button\n                                onClick={() => {\n                                  logger.log(\n                                    \"[AdminSettingsModal]     :\",\n                                    task.id,\n                                  );\n                                  handleTaskDelete(task.id);\n                                }}\n                                className=\"delete-button\"\n                              >\n                                \n                              </button>\n                            </div>\n                          </li>\n                        ))}\n                      </ul>\n                    ) : (\n                      <p className=\"no-items-message\">\n                           .\n                      </p>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/*    */}\n        {adminSelectedMenu === \"jobAndTask\" && jobTaskSubTab === \"job\" && (\n          <div className=\"job-settings-tab\">\n            {!isSuperAdmin && userClassCode && (\n              <div className=\"class-info-header\">\n                <p className=\"current-class-info\">\n                     : <strong>{userClassCode}</strong>\n                </p>\n              </div>\n            )}\n            {/*    */}\n            <div className=\"admin-jobs-settings section-card\">\n              <h3> </h3>\n              <div className=\"add-job-form\">\n                <input\n                  type=\"text\"\n                  value={adminNewJobTitle}\n                  onChange={(e) => setAdminNewJobTitle(e.target.value)}\n                  placeholder={\n                    adminEditingJob ? \" \" : \"  \"\n                  }\n                  className=\"admin-input\"\n                />\n                <button\n                  onClick={() => {\n                    logger.log(\"[AdminSettingsModal]    \");\n                    if (handleSaveJob && typeof handleSaveJob === \"function\") {\n                      handleSaveJob();\n                    } else {\n                      logger.error(\n                        \"[AdminSettingsModal] handleSaveJob   .\",\n                      );\n                      alert(\"     .\");\n                    }\n                  }}\n                  className=\"admin-save-button\"\n                >\n                  {adminEditingJob ? \"\" : \"\"}\n                </button>\n                {adminEditingJob && (\n                  <button\n                    onClick={() => {\n                      setAdminEditingJob(null);\n                      setAdminNewJobTitle(\"\");\n                    }}\n                    className=\"admin-cancel-button\"\n                  >\n                    \n                  </button>\n                )}\n              </div>\n              <div className=\"jobs-list\">\n                <h4>  </h4>\n                {jobs && jobs.length > 0 ? (\n                  <ul className=\"admin-jobs\">\n                    {jobs.map((job) => (\n                      <li key={job.id} className=\"admin-job-item\">\n                        <span className=\"job-title\">{job.title}</span>\n                        <div className=\"job-actions\">\n                          <button\n                            onClick={() => {\n                              logger.log(\n                                \"[AdminSettingsModal]    :\",\n                                job,\n                              );\n                              handleJobEdit(job);\n                            }}\n                            className=\"edit-button\"\n                          >\n                            \n                          </button>\n                          <button\n                            onClick={() => {\n                              logger.log(\n                                \"[AdminSettingsModal]    :\",\n                                job.id,\n                              );\n                              handleJobDelete(job.id);\n                            }}\n                            className=\"delete-button\"\n                          >\n                            \n                          </button>\n                        </div>\n                      </li>\n                    ))}\n                  </ul>\n                ) : (\n                  <p className=\"no-items-message\">  .</p>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* ===== /   ===== */}\n        {adminSelectedMenu === \"studentAndMember\" && (\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === \"student\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setStudentMemberSubTab(\"student\")}\n            >\n              / \n            </button>\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === \"salary\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setStudentMemberSubTab(\"salary\")}\n            >\n               \n            </button>\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === \"member\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setStudentMemberSubTab(\"member\")}\n            >\n               \n            </button>\n          </div>\n        )}\n\n        {/*    */}\n        {adminSelectedMenu === \"studentAndMember\" &&\n          studentMemberSubTab === \"student\" && (\n            <div className=\"student-management-tab\">\n              {!isSuperAdmin && userClassCode && (\n                <div className=\"class-info-header\">\n                  <p className=\"current-class-info\">\n                       : <strong>{userClassCode}</strong>\n                  </p>\n                </div>\n              )}\n              {/*    */}\n              <div className=\"student-jobs-settings section-card\">\n                <h3> </h3>\n                {error && <p className=\"error-message\">{error}</p>}\n                <p className=\"admin-section-desc\">\n                     .    \n                   .\n                </p>\n\n                <div className=\"salary-management\">\n                  <div className=\"salary-info\">\n                    <h4>  </h4>\n                    <p> : 200,  : 50</p>\n                    <p>: {(salarySettings.taxRate * 100).toFixed(1)}%</p>\n                    <p>\n                       :{\" \"}\n                      {(salarySettings.salaryIncreaseRate * 100).toFixed(1)}%\n                      ()\n                    </p>\n                    <p>  : {formatLastSalaryDate()}</p>\n                    <p className=\"auto-payment-info\">\n                         :    8 (  )\n                    </p>\n                  </div>\n                  <div className=\"salary-buttons\">\n                    <button\n                      className=\"admin-button pay-salary-button\"\n                      onClick={handlePaySalariesToAll}\n                      disabled={isPayingSalary || studentsLoading}\n                    >\n                      {isPayingSalary\n                        ? \"  ...\"\n                        : \"   \"}\n                    </button>\n                    <button\n                      className=\"admin-button pay-selected-salary-button\"\n                      onClick={handlePaySalariesToSelected}\n                      disabled={\n                        isPayingSalary ||\n                        studentsLoading ||\n                        selectedStudentIds.length === 0\n                      }\n                    >\n                      {isPayingSalary\n                        ? \"  ...\"\n                        : ` (${selectedStudentIds.length})  `}\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"student-jobs-container\">\n                  <div className=\"student-list-header\">\n                    <h4>\n                       {\" \"}\n                      {!isSuperAdmin &&\n                        userClassCode &&\n                        `(${userClassCode} )`}\n                    </h4>\n                    <button\n                      onClick={loadStudents}\n                      className=\"admin-button\"\n                      disabled={studentsLoading}\n                    >\n                      {studentsLoading ? \" ...\" : \"  \"}\n                    </button>\n                  </div>\n                  {studentsLoading ? (\n                    <p>   ...</p>\n                  ) : students.length > 0 ? (\n                    <div className=\"members-table-container\">\n                      <table className=\"members-table\">\n                        <thead>\n                          <tr>\n                            <th>\n                              <input\n                                type=\"checkbox\"\n                                checked={selectAllStudents}\n                                onChange={handleToggleSelectAll}\n                                disabled={students.length === 0}\n                              />\n                            </th>\n                            <th> </th>\n                            <th></th>\n                            <th></th>\n                            <th> </th>\n                            <th> </th>\n                            <th> </th>\n                            <th></th>\n                            <th> </th>\n                            <th> </th>\n                            <th></th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {students.map((student) => {\n                            const salaryCalc = calculateSalary(\n                              student.selectedJobIds,\n                              true,\n                            );\n                            return (\n                              <tr\n                                key={student.id}\n                                className={\n                                  selectedStudentIds.includes(student.id)\n                                    ? \"selected-student-row\"\n                                    : \"\"\n                                }\n                              >\n                                <td>\n                                  <input\n                                    type=\"checkbox\"\n                                    checked={selectedStudentIds.includes(\n                                      student.id,\n                                    )}\n                                    onChange={() =>\n                                      handleToggleStudentSelection(student.id)\n                                    }\n                                  />\n                                </td>\n                                <td>\n                                  {student.nickname ||\n                                    student.name ||\n                                    \" \"}\n                                </td>\n                                <td>{student.email || \"-\"}</td>\n                                <td>{student.classCode || \"\"}</td>\n                                <td>\n                                  {Array.isArray(student.selectedJobIds) &&\n                                  student.selectedJobIds.length > 0 ? (\n                                    student.selectedJobIds\n                                      .map((jobId) => {\n                                        const job = Array.isArray(jobs)\n                                          ? jobs.find((j) => j.id === jobId)\n                                          : null;\n                                        return job ? job.title : null;\n                                      })\n                                      .filter(Boolean)\n                                      .join(\", \")\n                                  ) : (\n                                    <span className=\"no-jobs\"> </span>\n                                  )}\n                                </td>\n                                <td className=\"salary-column\">\n                                  {`${(salaryCalc.gross / 10000).toFixed(0)}`}\n                                </td>\n                                <td className=\"tax-column\">\n                                  {`${(salaryCalc.tax / 10000).toFixed(0)}`}\n                                </td>\n                                <td className=\"net-salary-column\">\n                                  {`${(salaryCalc.net / 10000).toFixed(0)}`}\n                                </td>\n                                <td className=\"cash-column\">\n                                  {(student.cash || 0).toLocaleString()}\n                                </td>\n                                <td>\n                                  {student.lastSalaryDate\n                                    ? student.lastSalaryDate.toLocaleDateString()\n                                    : \"\"}\n                                </td>\n                                <td>\n                                  <button\n                                    className=\"edit-button\"\n                                    onClick={() =>\n                                      handleEditStudentJobs(student)\n                                    }\n                                  >\n                                     \n                                  </button>\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                    </div>\n                  ) : (\n                    <p className=\"no-items-message\">\n                      {!isSuperAdmin && !userClassCode\n                        ? \"   .\"\n                        : \"  .\"}\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n        {/* ===== /   ===== */}\n        {adminSelectedMenu === \"financeAndMarket\" && (\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === \"financial\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setFinanceMarketSubTab(\"financial\")}\n            >\n               \n            </button>\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === \"parking\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setFinanceMarketSubTab(\"parking\")}\n            >\n               \n            </button>\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === \"market\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setFinanceMarketSubTab(\"market\")}\n            >\n               \n            </button>\n          </div>\n        )}\n\n        {/*    */}\n        {adminSelectedMenu === \"financeAndMarket\" &&\n          financeMarketSubTab === \"financial\" && (\n            <div className=\"financial-products-tab\">\n              {!isSuperAdmin && userClassCode && (\n                <div className=\"class-info-header\">\n                  <p className=\"current-class-info\">\n                       : <strong>{userClassCode}</strong>\n                  </p>\n                </div>\n              )}\n              <div className=\"financial-products-settings section-card\">\n                <h3>  </h3>\n                <p className=\"admin-section-desc\">\n                  , ,    .\n                </p>\n\n                {/*     */}\n                <div className=\"financial-sub-tabs flex gap-2 mb-4\">\n                  <button\n                    className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === \"deposit\" ? \"active\" : \"\"}`}\n                    onClick={() => setFinancialSubTab(\"deposit\")}\n                    style={{\n                      border:\n                        financialSubTab === \"deposit\"\n                          ? \"2px solid #4f46e5\"\n                          : \"1px solid #374151\",\n                      background:\n                        financialSubTab === \"deposit\"\n                          ? \"#4f46e5\"\n                          : \"transparent\",\n                      color:\n                        financialSubTab === \"deposit\" ? \"white\" : \"#9ca3af\",\n                    }}\n                  >\n                     \n                  </button>\n                  <button\n                    className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === \"saving\" ? \"active\" : \"\"}`}\n                    onClick={() => setFinancialSubTab(\"saving\")}\n                    style={{\n                      border:\n                        financialSubTab === \"saving\"\n                          ? \"2px solid #4f46e5\"\n                          : \"1px solid #374151\",\n                      background:\n                        financialSubTab === \"saving\"\n                          ? \"#4f46e5\"\n                          : \"transparent\",\n                      color: financialSubTab === \"saving\" ? \"white\" : \"#9ca3af\",\n                    }}\n                  >\n                     \n                  </button>\n                  <button\n                    className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === \"loan\" ? \"active\" : \"\"}`}\n                    onClick={() => setFinancialSubTab(\"loan\")}\n                    style={{\n                      border:\n                        financialSubTab === \"loan\"\n                          ? \"2px solid #4f46e5\"\n                          : \"1px solid #374151\",\n                      background:\n                        financialSubTab === \"loan\" ? \"#4f46e5\" : \"transparent\",\n                      color: financialSubTab === \"loan\" ? \"white\" : \"#9ca3af\",\n                    }}\n                  >\n                     \n                  </button>\n                </div>\n\n                {/*  */}\n                {financialMessage && (\n                  <div\n                    className={`message-box ${financialMessage.type} p-3 mb-4 rounded-lg text-white`}\n                    style={{\n                      background:\n                        financialMessage.type === \"success\"\n                          ? \"#065f46\"\n                          : \"#991b1b\",\n                    }}\n                  >\n                    {financialMessage.text}\n                  </div>\n                )}\n\n                {/*    */}\n                <div className=\"add-product-form p-4 rounded-xl mb-4 bg-gray-700/50\">\n                  <h4 className=\"mb-3 text-white\">\n                    {financialSubTab === \"deposit\"\n                      ? \"\"\n                      : financialSubTab === \"saving\"\n                        ? \"\"\n                        : \"\"}{\" \"}\n                     \n                  </h4>\n                  <div className=\"grid grid-cols-3 gap-3 mb-3\">\n                    <div>\n                      <label className=\"block mb-1 text-gray-400 text-xs\">\n                        \n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newProductName}\n                        onChange={(e) => setNewProductName(e.target.value)}\n                        placeholder=\" \"\n                        className=\"admin-input w-full\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block mb-1 text-gray-400 text-xs\">\n                         ()\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={newProductPeriod}\n                        onChange={(e) => setNewProductPeriod(e.target.value)}\n                        placeholder=\" ()\"\n                        min=\"1\"\n                        className=\"admin-input w-full\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block mb-1 text-gray-400 text-xs\">\n                         (%)\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={newProductRate}\n                        onChange={(e) => setNewProductRate(e.target.value)}\n                        placeholder=\" (%)\"\n                        min=\"0\"\n                        step=\"0.1\"\n                        className=\"admin-input w-full\"\n                      />\n                    </div>\n                  </div>\n                  <button\n                    onClick={handleAddProduct}\n                    className=\"admin-save-button w-full\"\n                  >\n                     \n                  </button>\n                </div>\n\n                {/*   */}\n                <div className=\"product-list\">\n                  <h4 className=\"mb-3 text-white\">\n                    {financialSubTab === \"deposit\"\n                      ? \"\"\n                      : financialSubTab === \"saving\"\n                        ? \"\"\n                        : \"\"}{\" \"}\n                     \n                  </h4>\n                  {(() => {\n                    const products =\n                      financialSubTab === \"deposit\"\n                        ? depositProducts\n                        : financialSubTab === \"saving\"\n                          ? savingProducts\n                          : loanProducts;\n                    if (products.length === 0) {\n                      return (\n                        <p className=\"no-items-message\">\n                            .\n                        </p>\n                      );\n                    }\n                    return (\n                      <div className=\"members-table-container\">\n                        <table className=\"members-table\">\n                          <thead>\n                            <tr>\n                              <th></th>\n                              <th> ()</th>\n                              <th> (%)</th>\n                              <th></th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {products.map((product) => (\n                              <tr key={product.id}>\n                                <td>{product.name}</td>\n                                <td>{product.period}</td>\n                                <td>{product.rate}%</td>\n                                <td>\n                                  <button\n                                    onClick={() =>\n                                      handleDeleteProduct(\n                                        product.id,\n                                        financialSubTab,\n                                      )\n                                    }\n                                    className=\"delete-button\"\n                                  >\n                                    \n                                  </button>\n                                </td>\n                              </tr>\n                            ))}\n                          </tbody>\n                        </table>\n                      </div>\n                    );\n                  })()}\n                </div>\n              </div>\n            </div>\n          )}\n\n        {/*    */}\n        {adminSelectedMenu === \"financeAndMarket\" &&\n          financeMarketSubTab === \"market\" && (\n            <div className=\"market-control-tab\">\n              {!isSuperAdmin && userClassCode && (\n                <div className=\"class-info-header\">\n                  <p className=\"current-class-info\">\n                       : <strong>{userClassCode}</strong>\n                  </p>\n                </div>\n              )}\n              <div className=\"market-control-settings section-card\">\n                <h3>  </h3>\n                <p className=\"admin-section-desc\">\n                    /   .\n                </p>\n\n                {/*   */}\n                <div className=\"p-4 rounded-xl mb-4 bg-gray-700/50\">\n                  <div className=\"flex justify-between items-center mb-4\">\n                    <p className=\"text-white\">\n                       :{\" \"}\n                      <span\n                        className=\"font-bold px-3 py-1 rounded-2xl\"\n                        style={{\n                          color: marketStatus.isOpen ? \"#22c55e\" : \"#ef4444\",\n                          background: marketStatus.isOpen\n                            ? \"rgba(34, 197, 94, 0.2)\"\n                            : \"rgba(239, 68, 68, 0.2)\",\n                        }}\n                      >\n                        {marketStatus.isOpen ? \" \" : \" \"}\n                      </span>\n                    </p>\n                    <button\n                      onClick={() => fetchMarketStatus(true)}\n                      className=\"admin-button\"\n                      disabled={!userClassCode}\n                    >\n                      \n                    </button>\n                  </div>\n\n                  <div className=\"flex gap-3 mb-4\">\n                    <button\n                      onClick={() => handleMarketControl(true)}\n                      disabled={marketStatus.isOpen}\n                      className=\"admin-save-button flex-1\"\n                      style={{\n                        background: marketStatus.isOpen ? \"#374151\" : \"#22c55e\",\n                        cursor: marketStatus.isOpen ? \"not-allowed\" : \"pointer\",\n                      }}\n                    >\n                       \n                    </button>\n                    <button\n                      onClick={() => handleMarketControl(false)}\n                      disabled={!marketStatus.isOpen}\n                      className=\"admin-cancel-button flex-1\"\n                      style={{\n                        background: !marketStatus.isOpen\n                          ? \"#374151\"\n                          : \"#ef4444\",\n                        cursor: !marketStatus.isOpen\n                          ? \"not-allowed\"\n                          : \"pointer\",\n                      }}\n                    >\n                       \n                    </button>\n                  </div>\n\n                  <p className=\"text-xs text-gray-400\">\n                           \n                    .\n                    <br />\n                     / (-,  8/ 3) \n                      .\n                  </p>\n                </div>\n\n                {/*  */}\n                {marketMessage && (\n                  <div className=\"p-3 mb-4 rounded-lg bg-amber-600 text-white text-center\">\n                    {marketMessage}\n                  </div>\n                )}\n\n                {/*   */}\n                <div className=\"p-4 rounded-xl bg-red-500/10 border border-red-500/30\">\n                  <h4 className=\"mb-3 text-red-500\">   </h4>\n                  <p className=\"text-xs text-gray-400 mb-3\">\n                    :        \n                     .     .\n                  </p>\n                  <button\n                    onClick={handleInitializeStocks}\n                    className=\"w-full p-3 rounded-lg bg-orange-600 text-white border-0 cursor-pointer font-semibold\"\n                  >\n                       \n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n        {/*    */}\n        {adminSelectedMenu === \"financeAndMarket\" &&\n          financeMarketSubTab === \"parking\" && (\n            <div className=\"parking-account-tab\">\n              {!isSuperAdmin && userClassCode && (\n                <div className=\"class-info-header\">\n                  <p className=\"current-class-info\">\n                       : <strong>{userClassCode}</strong>\n                  </p>\n                </div>\n              )}\n              <div className=\"parking-account-settings section-card\">\n                <h3>   </h3>\n                <p className=\"admin-section-desc\">\n                      .\n                </p>\n\n                {/*  */}\n                {parkingMessage && (\n                  <div\n                    className=\"p-3 mb-4 rounded-lg text-white\"\n                    style={{\n                      background:\n                        parkingMessage.type === \"success\"\n                          ? \"#065f46\"\n                          : \"#991b1b\",\n                    }}\n                  >\n                    {parkingMessage.text}\n                  </div>\n                )}\n\n                {/*   */}\n                <div className=\"p-4 rounded-xl mb-4 bg-gray-700/50\">\n                  <div className=\"mb-4\">\n                    <p className=\"text-gray-400 text-sm\">  </p>\n                    <p className=\"text-green-500 text-[32px] font-bold\">\n                      {parkingInterestRate}%\n                    </p>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label className=\"block mb-2 text-gray-400\">\n                         (%)\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={newInterestRate}\n                      onChange={(e) => setNewInterestRate(e.target.value)}\n                      placeholder=\"   (%)\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      className=\"admin-input mb-3\"\n                    />\n                    <button\n                      onClick={handleParkingRateChange}\n                      className=\"admin-save-button w-full\"\n                      disabled={\n                        !newInterestRate ||\n                        isNaN(newInterestRate) ||\n                        parseFloat(newInterestRate) < 0\n                      }\n                    >\n                       \n                    </button>\n                  </div>\n\n                  <p className=\"text-xs text-gray-400 mt-3\">\n                           \n                    .\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n        {/*    */}\n        {adminSelectedMenu === \"studentAndMember\" &&\n          studentMemberSubTab === \"member\" && (\n            <div className=\"member-management-tab\">\n              {!isSuperAdmin && userClassCode && (\n                <div className=\"class-info-header\">\n                  <p className=\"current-class-info\">\n                       : <strong>{userClassCode}</strong>\n                  </p>\n                </div>\n              )}\n              <div className=\"admin-class-members-container section-card\">\n                <h3>  </h3>\n                {error && <p className=\"error-message\">{error}</p>}\n                <p className=\"admin-section-desc\">\n                      .\n                  {isSuperAdmin &&\n                    \"        .\"}\n                </p>\n\n                {membersLoading ? (\n                  <p>   ...</p>\n                ) : classMembers.length > 0 ? (\n                  <div className=\"user-cards-container\">\n                    {classMembers.map((member) => (\n                      <div key={member.id} className=\"user-card\">\n                        <div className=\"user-card-header\">\n                          <span className=\"user-card-name\">{member.name}</span>\n                          <span\n                            className={`user-card-role role-${member.isSuperAdmin ? \"super\" : member.isAdmin ? \"admin\" : \"student\"}`}\n                          >\n                            {member.isSuperAdmin\n                              ? \" \"\n                              : member.isAdmin\n                                ? \"\"\n                                : \"\"}\n                          </span>\n                        </div>\n                        <div className=\"user-card-body\">\n                          <p>\n                            <strong>:</strong> {member.email}\n                          </p>\n                          <p>\n                            <strong> :</strong> {member.classCode}\n                          </p>\n                        </div>\n                        {isSuperAdmin && (\n                          <div className=\"user-card-actions\">\n                            {!member.isSuperAdmin && (\n                              <button\n                                onClick={() =>\n                                  toggleAdminStatus(member.id, member.isAdmin)\n                                }\n                                className={`admin-action-button ${\n                                  member.isAdmin\n                                    ? \"remove-admin-button\"\n                                    : \"add-admin-button\"\n                                }`}\n                                disabled={membersLoading}\n                              >\n                                {member.isAdmin ? \" \" : \" \"}\n                              </button>\n                            )}\n                            <button\n                              onClick={() => handleResetPassword(member.id)}\n                              className=\"admin-action-button reset-password-button\"\n                              disabled={membersLoading}\n                            >\n                               \n                            </button>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"no-members-message\">\n                    {!isSuperAdmin && !userClassCode\n                      ? \"   .\"\n                      : \"   .\"}\n                  </p>\n                )}\n\n                <div className=\"refresh-members-section\">\n                  <button\n                    onClick={loadClassMembers}\n                    className=\"admin-button\"\n                    disabled={membersLoading}\n                  >\n                    {membersLoading ? \" ...\" : \"  \"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n        {/*    */}\n        {adminSelectedMenu === \"studentAndMember\" &&\n          studentMemberSubTab === \"salary\" && (\n            <div className=\"salary-settings-tab\">\n              {!isSuperAdmin && userClassCode && (\n                <div className=\"class-info-header\">\n                  <p className=\"current-class-info\">\n                       : <strong>{userClassCode}</strong>\n                  </p>\n                </div>\n              )}\n              {/*    */}\n              <div className=\"salary-settings section-card\">\n                <h3> </h3>\n                <p className=\"admin-section-desc\">\n                     .     \n                   8 .\n                </p>\n\n                <div className=\"salary-settings-form\">\n                  <div className=\"form-group\">\n                    <label> (%):</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"100\"\n                      step=\"0.1\"\n                      value={tempTaxRate}\n                      onChange={(e) => setTempTaxRate(e.target.value)}\n                      className=\"admin-input\"\n                      placeholder=\": 10 (10%)\"\n                    />\n                    <small className=\"form-help\">\n                          .\n                    </small>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>  (%):</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      max=\"100\"\n                      step=\"0.1\"\n                      value={tempSalaryIncreaseRate}\n                      onChange={(e) =>\n                        setTempSalaryIncreaseRate(e.target.value)\n                      }\n                      className=\"admin-input\"\n                      placeholder=\": 3 (3%)\"\n                    />\n                    <small className=\"form-help\">\n                           .\n                    </small>\n                  </div>\n\n                  <button\n                    onClick={handleSaveSalarySettings}\n                    className=\"admin-save-button\"\n                    disabled={salarySettingsLoading}\n                  >\n                    {salarySettingsLoading ? \" ...\" : \"  \"}\n                  </button>\n                </div>\n\n                <div className=\"current-salary-settings\">\n                  <h4>  </h4>\n                  <div className=\"settings-display\">\n                    <p>\n                       :{\" \"}\n                      <strong>\n                        {(salarySettings.taxRate * 100).toFixed(1)}%\n                      </strong>\n                    </p>\n                    <p>\n                        :{\" \"}\n                      <strong>\n                        {(salarySettings.salaryIncreaseRate * 100).toFixed(1)}%\n                      </strong>\n                    </p>\n                    <p>\n                        :{\" \"}\n                      <strong>{formatLastSalaryDate()}</strong>\n                    </p>\n                  </div>\n\n                  <div className=\"salary-calculation-example\">\n                    <h5>  </h5>\n                    <p>\n                        1:  200  {\" \"}\n                      {((2000000 * salarySettings.taxRate) / 10000).toFixed(0)}\n                         {\" \"}\n                      {(\n                        (2000000 * (1 - salarySettings.taxRate)) /\n                        10000\n                      ).toFixed(0)}\n                      \n                    </p>\n                    <p>\n                        2:  250  {\" \"}\n                      {((2500000 * salarySettings.taxRate) / 10000).toFixed(0)}\n                         {\" \"}\n                      {(\n                        (2500000 * (1 - salarySettings.taxRate)) /\n                        10000\n                      ).toFixed(0)}\n                      \n                    </p>\n                    <p>\n                        3:  300  {\" \"}\n                      {((3000000 * salarySettings.taxRate) / 10000).toFixed(0)}\n                         {\" \"}\n                      {(\n                        (3000000 * (1 - salarySettings.taxRate)) /\n                        10000\n                      ).toFixed(0)}\n                      \n                    </p>\n                  </div>\n\n                  <div className=\"auto-payment-info\">\n                    <h5>   </h5>\n                    <p>\n                          8   \n                      .\n                    </p>\n                    <p>      .</p>\n                    <p>     .</p>\n                    <p>     .</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n        {/* =====    ===== */}\n        {adminSelectedMenu === \"system\" && (\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\n            <button\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${systemSubTab === \"database\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n              onClick={() => setSystemSubTab(\"database\")}\n            >\n              \n            </button>\n            {isSuperAdmin && (\n              <button\n                className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${systemSubTab === \"system\" ? \"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30\" : \"text-slate-300 hover:text-white hover:bg-gray-700/50\"}`}\n                onClick={() => setSystemSubTab(\"system\")}\n              >\n                 \n              </button>\n            )}\n          </div>\n        )}\n\n        {/*   */}\n        {adminSelectedMenu === \"system\" && systemSubTab === \"database\" && (\n          <div className=\"database-management-tab\">\n            {!isSuperAdmin && userClassCode && (\n              <div className=\"class-info-header\">\n                <p className=\"current-class-info\">\n                     : <strong>{userClassCode}</strong>\n                </p>\n              </div>\n            )}\n            <div className=\"database-management-container section-card min-h-[500px] max-h-[70vh] overflow-auto\">\n              <AdminDatabase />\n            </div>\n\n            {/*    */}\n            <div className=\"section-card mt-6 p-6 rounded-2xl bg-violet-500/5 border border-violet-500/30\">\n              <h3 className=\"text-lg font-bold text-violet-300 mb-3\">\n                  \n              </h3>\n              <p className=\"text-sm text-gray-400 mb-4\">\n                    .\n              </p>\n              <div className=\"flex flex-wrap gap-3\">\n                <a\n                  href=\"/consent-form\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-sm font-medium\"\n                >\n                    ( )\n                </a>\n                <a\n                  href=\"/privacy\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-colors text-sm font-medium\"\n                >\n                   \n                </a>\n              </div>\n            </div>\n\n            {/*  :    */}\n            <ClassDataDeletionSection\n              userClassCode={userClassCode}\n              isAdmin={isAdmin}\n              isSuperAdmin={isSuperAdmin}\n            />\n          </div>\n        )}\n\n        {/*    */}\n        {adminSelectedMenu === \"system\" && systemSubTab === \"system\" && (\n          <div className=\"system-management-tab\">\n            {isSuperAdmin && (\n              <div className=\"class-info-header\">\n                <p className=\"current-class-info\">\n                      ( )\n                </p>\n              </div>\n            )}\n            {/*     */}\n            {isSuperAdmin && (\n              <div className=\"admin-class-codes-container section-card\">\n                <h3>  </h3>\n                {error && <p className=\"error-message\">{error}</p>}\n                <div className=\"add-class-code-form\">\n                  <input\n                    type=\"text\"\n                    value={newClassCode}\n                    onChange={(e) => setNewClassCode(e.target.value)}\n                    placeholder=\"   \"\n                    disabled={classCodeOperationLoading}\n                    className=\"admin-input\"\n                  />\n                  <button\n                    onClick={handleAddClassCode}\n                    disabled={classCodeOperationLoading || !newClassCode.trim()}\n                    className=\"admin-button\"\n                  >\n                    {classCodeOperationLoading ? \" ...\" : \" \"}\n                  </button>\n                </div>\n                <div className=\"class-codes-list\">\n                  <h4>\n                        (\n                    {Array.isArray(classCodes) ? classCodes.length : 0})\n                  </h4>\n                  {Array.isArray(classCodes) && classCodes.length > 0 ? (\n                    <ul className=\"codes-list\">\n                      {classCodes.map((code) => (\n                        <li key={code} className=\"code-item\">\n                          <span className=\"code-text\">{code}</span>\n                          <button\n                            onClick={() => handleRemoveClassCode(code)}\n                            className=\"remove-code-button\"\n                            disabled={classCodeOperationLoading}\n                          >\n                            \n                          </button>\n                        </li>\n                      ))}\n                    </ul>\n                  ) : (\n                    <p className=\"no-codes-message\">\n                         .\n                    </p>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/*     */}\n            <SystemMonitoring isSuperAdmin={isSuperAdmin} />\n          </div>\n        )}\n\n        <div className=\"admin-settings-footer\">\n          <button\n            onClick={() => setShowAdminSettingsModal(false)}\n            className=\"admin-close-button\"\n          >\n            \n          </button>\n        </div>\n      </div>\n\n      {/*     */}\n      {showEditStudentJobsModal && selectedStudent && (\n        <div className=\"modal-overlay show\">\n          <div className=\"edit-student-jobs-modal\">\n            <div className=\"modal-header\">\n              <h3>\n                  :{\" \"}\n                {selectedStudent.nickname || selectedStudent.name}\n              </h3>\n              <button\n                className=\"close-modal-btn\"\n                onClick={() => setShowEditStudentJobsModal(false)}\n              >\n                \n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <p>\n                <strong>\n                  {selectedStudent.nickname || selectedStudent.name}\n                </strong>\n                  .\n              </p>\n              <div className=\"salary-info\">\n                <p>\n                    : {(selectedStudent.cash || 0).toLocaleString()}\n                  \n                </p>\n                {(() => {\n                  const salaryCalc = calculateSalary(tempSelectedJobIds, true);\n                  return (\n                    <>\n                      <p>\n                         :{\" \"}\n                        {`${(salaryCalc.gross / 10000).toFixed(0)}`}\n                      </p>\n                      <p>\n                         :{\" \"}\n                        {`${(salaryCalc.tax / 10000).toFixed(0)}`} (\n                        {(salarySettings.taxRate * 100).toFixed(1)}%)\n                      </p>\n                      <p>\n                        : {`${(salaryCalc.net / 10000).toFixed(0)}`}\n                      </p>\n                    </>\n                  );\n                })()}\n                <p className=\"salary-explanation\">\n                  ( 200 +   50, {\" \"}\n                  {(salarySettings.taxRate * 100).toFixed(1)}% )\n                </p>\n              </div>\n              <div className=\"job-selection-list\">\n                {Array.isArray(jobs) &&\n                jobs.filter((job) => job.active !== false).length > 0 ? (\n                  jobs\n                    .filter((job) => job.active !== false)\n                    .map((job) => (\n                      <div key={job.id} className=\"job-selection-item\">\n                        <input\n                          type=\"checkbox\"\n                          id={`job-modal-${job.id}`}\n                          checked={tempSelectedJobIds.includes(job.id)}\n                          onChange={() => handleToggleJobSelection(job.id)}\n                        />\n                        <label htmlFor={`job-modal-${job.id}`}>\n                          {job.title}\n                        </label>\n                      </div>\n                    ))\n                ) : (\n                  <p className=\"no-items-message\">\n                       .\n                  </p>\n                )}\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"admin-cancel-button\"\n                onClick={() => setShowEditStudentJobsModal(false)}\n              >\n                \n              </button>\n              <button\n                className=\"admin-save-button\"\n                onClick={handleSaveStudentJobs}\n                disabled={appLoading}\n              >\n                {appLoading ? \" ...\" : \"\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminSettingsModal;\n","// src/hooks/useOptimizedAdminData.js\r\n// Firebase     \r\n\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { logger } from \"../utils/logger\";\r\nimport {\r\n  optimizedFirebaseService,\r\n  queryKeys,\r\n  localBackup,\r\n  realtimeOptimizer,\r\n} from \"../services/optimizedFirebaseService\";\r\n\r\n//     ( )\r\nexport const useOptimizedAdminSettings = (tab) => {\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.adminSettings(classCode, tab),\r\n    queryFn: async () => {\r\n      //     ( )\r\n      const backupKey = `admin_${classCode}_${tab}`;\r\n      const backup = localBackup.load(backupKey, 30000); // 30\r\n\r\n      if (backup && !navigator.onLine) {\r\n        return backup;\r\n      }\r\n\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({ tab });\r\n\r\n      //   \r\n      localBackup.save(backupKey, data);\r\n\r\n      return data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode && tab),\r\n    staleTime: 5 * 60 * 1000, // 5\r\n    gcTime: 10 * 60 * 1000, // 10\r\n    retry: (failureCount, error) => {\r\n      if (error?.code === 'permission-denied') return false;\r\n      return failureCount < 2;\r\n    },\r\n    //    \r\n    refetchInterval: realtimeOptimizer.shouldUseRealtime() ? 5 * 60 * 1000 : false,\r\n  });\r\n};\r\n\r\n//    ( )\r\nexport const useOptimizedStudents = () => {\r\n  const { userDoc, isAdmin, isSuperAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.students(classCode),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"studentManagement\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode),\r\n    staleTime: 3 * 60 * 1000, // 3 (    )\r\n    gcTime: 8 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//   \r\nexport const useOptimizedSalarySettings = () => {\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.salarySettings(classCode),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"salarySettings\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode),\r\n    staleTime: 10 * 60 * 1000, // 10 (   )\r\n    gcTime: 15 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//     (  )\r\nexport const useOptimizedSystemManagement = () => {\r\n  const { isSuperAdmin } = useAuth();\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.systemManagement(),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"systemManagement\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isSuperAdmin?.()),\r\n    staleTime: 15 * 60 * 1000, // 15 (     )\r\n    gcTime: 20 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//    \r\nexport const useBatchPaySalaries = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ studentIds, payAll }) => {\r\n      return await optimizedFirebaseService.batchPaySalaries({\r\n        studentIds,\r\n        payAll,\r\n      });\r\n    },\r\n    onSuccess: () => {\r\n      //   \r\n      queryClient.invalidateQueries({\r\n        queryKey: queryKeys.students(classCode),\r\n      });\r\n      queryClient.invalidateQueries({\r\n        queryKey: queryKeys.salarySettings(classCode),\r\n      });\r\n\r\n      //   \r\n      localBackup.clear(`admin_${classCode}_studentManagement`);\r\n      localBackup.clear(`admin_${classCode}_salarySettings`);\r\n    },\r\n    onError: (error) => {\r\n      logger.error(\"  :\", error);\r\n    },\r\n  });\r\n};\r\n\r\n//    ()\r\nexport const useOptimizedSettingsSave = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ type, data }) => {\r\n      //  Firebase Function  \r\n      logger.log(\" :\", type, data);\r\n      return { success: true };\r\n    },\r\n    onSuccess: (data, variables) => {\r\n      const { type } = variables;\r\n\r\n      //   \r\n      switch (type) {\r\n        case \"general\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.generalSettings(classCode),\r\n          });\r\n          break;\r\n        case \"salary\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.salarySettings(classCode),\r\n          });\r\n          break;\r\n        case \"student\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.students(classCode),\r\n          });\r\n          break;\r\n        default:\r\n          //    \r\n          queryClient.invalidateQueries({\r\n            queryKey: [\"adminSettings\", classCode],\r\n          });\r\n      }\r\n\r\n      //    \r\n      localBackup.clear(`admin_${classCode}_${type}`);\r\n    },\r\n  });\r\n};\r\n\r\n//   \r\nexport const useAdminDataPreloader = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  const preloadAdminData = async () => {\r\n    if (!isAdmin?.() || !classCode) return;\r\n\r\n    //      \r\n    const commonTabs = [\"generalSettings\", \"studentManagement\", \"salarySettings\"];\r\n\r\n    const preloadPromises = commonTabs.map(tab =>\r\n      queryClient.prefetchQuery({\r\n        queryKey: queryKeys.adminSettings(classCode, tab),\r\n        queryFn: async () => {\r\n          const data = await optimizedFirebaseService.getAdminSettingsData({ tab });\r\n          return data;\r\n        },\r\n        staleTime: 5 * 60 * 1000,\r\n      })\r\n    );\r\n\r\n    await Promise.allSettled(preloadPromises);\r\n  };\r\n\r\n  return { preloadAdminData };\r\n};\r\n\r\n//    \r\nexport const useNetworkOptimization = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const optimizeForNetwork = () => {\r\n    if (!navigator.onLine) {\r\n      //     \r\n      queryClient.setDefaultOptions({\r\n        queries: {\r\n          enabled: false,\r\n          retry: false,\r\n        },\r\n      });\r\n    } else {\r\n      //     \r\n      queryClient.setDefaultOptions({\r\n        queries: {\r\n          enabled: true,\r\n          retry: 2,\r\n        },\r\n      });\r\n\r\n      //   \r\n      queryClient.refetchQueries({ stale: true });\r\n    }\r\n  };\r\n\r\n  return { optimizeForNetwork };\r\n};","// src/pages/dashboard/Dashboard.js - Firestore   +     + Tailwind UI\nimport React, {\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n  useRef,\n} from \"react\";\nimport \"./Dashboard.css\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { db, functions, copyDefaultDataToNewClass } from \"../../firebase\";\nimport {\n  doc,\n  getDoc,\n  setDoc,\n  getDocs,\n  writeBatch,\n  serverTimestamp,\n  arrayUnion,\n  query,\n  where,\n  collection as firestoreCollection,\n  limit,\n} from \"firebase/firestore\";\nimport { httpsCallable } from \"firebase/functions\";\nimport JobList from \"../../components/JobList\";\nimport CommonTaskList from \"../../components/CommonTaskList\";\nimport AdminSettingsModal from \"../../components/modals/AdminSettingsModal\";\nimport {\n  PageContainer,\n  LoadingState,\n  EmptyState,\n  ActionButton,\n} from \"../../components/PageWrapper\";\nimport globalCacheService from \"../../services/globalCacheService\";\nimport {\n  Briefcase,\n  ListTodo,\n  Settings,\n  RefreshCw,\n  RotateCcw,\n  Plus,\n  ChevronLeft,\n} from \"lucide-react\";\n\nimport { logger } from \"../../utils/logger\";\n// Cloud Functions    (handleManualTaskReset  )\n\n//  [ v3.0]   - Firestore  95%  \n// TTL  -    globalCacheService  \nconst CACHE_TTL = {\n  JOBS: 6 * 60 * 60 * 1000, // 6 ( )\n  TASKS: 6 * 60 * 60 * 1000, // 6 ( )\n  SETTINGS: 12 * 60 * 60 * 1000, // 12 ()\n  GOALS: 6 * 60 * 60 * 1000, // 6 ()\n  CLASS_CODES: 24 * 60 * 60 * 1000, // 24 ( )\n};\n\n//  globalCacheService  ( dataCache  )\nconst dataCache = {\n  get: (key) => globalCacheService.get(key),\n  set: (key, data, ttl) =>\n    globalCacheService.set(key, data, ttl || CACHE_TTL.TASKS),\n  invalidate: (key) => globalCacheService.invalidate(key),\n  clear: () => globalCacheService.clearAll(),\n};\n\n//    \nclass BatchManager {\n  constructor() {\n    this.pendingWrites = [];\n    this.batchTimeout = null;\n    this.BATCH_DELAY = 2000; // 2 \n    this.MAX_BATCH_SIZE = 500; // Firestore \n  }\n\n  addWrite(operation) {\n    this.pendingWrites.push(operation);\n\n    if (this.pendingWrites.length >= this.MAX_BATCH_SIZE) {\n      this.executeBatch();\n    } else {\n      this.scheduleBatch();\n    }\n  }\n\n  scheduleBatch() {\n    if (this.batchTimeout) {\n      clearTimeout(this.batchTimeout);\n    }\n\n    this.batchTimeout = setTimeout(() => {\n      this.executeBatch();\n    }, this.BATCH_DELAY);\n  }\n\n  async executeBatch() {\n    if (this.pendingWrites.length === 0) return;\n\n    if (this.batchTimeout) {\n      clearTimeout(this.batchTimeout);\n      this.batchTimeout = null;\n    }\n\n    const batch = writeBatch(db);\n    const operations = [...this.pendingWrites];\n    this.pendingWrites = [];\n\n    try {\n      operations.forEach(({ type, ref, data }) => {\n        switch (type) {\n          case \"set\":\n            batch.set(ref, data);\n            break;\n          case \"setMerge\":\n            batch.set(ref, data, { merge: true });\n            break;\n          case \"update\":\n            batch.update(ref, data);\n            break;\n          case \"delete\":\n            batch.delete(ref);\n            break;\n        }\n      });\n\n      await batch.commit();\n      logger.log(`  : ${operations.length} `);\n    } catch (error) {\n      logger.error(\"  :\", error);\n      //       \n    }\n  }\n}\n\nconst batchManager = new BatchManager();\n\n//    \nclass RealtimeManager {\n  constructor() {\n    this.listeners = new Map();\n  }\n\n  addListener(key, unsubscribe) {\n    if (this.listeners.has(key)) {\n      this.listeners.get(key)();\n    }\n    this.listeners.set(key, unsubscribe);\n  }\n\n  removeListener(key) {\n    if (this.listeners.has(key)) {\n      this.listeners.get(key)();\n      this.listeners.delete(key);\n    }\n  }\n\n  removeAllListeners() {\n    this.listeners.forEach((unsubscribe) => unsubscribe());\n    this.listeners.clear();\n  }\n}\n\n// Utility functions -    \nconst saveSharedData = async (data, classCode) => {\n  try {\n    //   \n    const newDocRef = doc(firestoreCollection(db, \"sharedData\"));\n    batchManager.addWrite({\n      type: \"set\",\n      ref: newDocRef,\n      data: {\n        ...data,\n        classCode,\n        createdAt: serverTimestamp(),\n      },\n    });\n\n    //  \n    dataCache.invalidate(`classData_${classCode}`);\n    return true;\n  } catch (error) {\n    logger.error(\"Error saving shared data:\", error);\n    return false;\n  }\n};\n\nfunction SelectMultipleJobsView({\n  availableJobs,\n  currentSelectedJobIds = [],\n  onConfirmSelection,\n  onCancel,\n}) {\n  const [tempSelection, setTempSelection] = useState(\n    Array.isArray(currentSelectedJobIds) ? [...currentSelectedJobIds] : [],\n  );\n\n  const activeJobs = useMemo(() => {\n    return Array.isArray(availableJobs)\n      ? availableJobs.filter((job) => job.active !== false)\n      : [];\n  }, [availableJobs]);\n\n  const handleCheckboxChange = useCallback((jobId) => {\n    setTempSelection((prev) =>\n      prev.includes(jobId)\n        ? prev.filter((id) => id !== jobId)\n        : [...prev, jobId],\n    );\n  }, []);\n\n  return (\n    <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 p-6 max-w-3xl mx-auto my-8\">\n      <h4 className=\"text-xl font-semibold text-white text-center mb-2\">\n          (  )\n      </h4>\n      <p className=\"text-sm text-slate-400 text-center mb-4\">\n        ' '   .\n      </p>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\">\n        {activeJobs.map((job) => (\n          <label\n            key={job.id}\n            className={`p-3 rounded-xl border-2 cursor-pointer transition-all flex items-center gap-3 ${\n              tempSelection.includes(job.id)\n                ? \"border-cyan-500 bg-cyan-900/30\"\n                : \"border-cyan-900/20 bg-[#14142380] hover:border-cyan-500/50\"\n            }`}\n          >\n            <input\n              type=\"checkbox\"\n              checked={tempSelection.includes(job.id)}\n              onChange={() => handleCheckboxChange(job.id)}\n              className=\"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer accent-cyan-400\"\n            />\n            <span\n              className={`font-medium ${\n                tempSelection.includes(job.id) ? \"text-cyan-300\" : \"text-white\"\n              }`}\n            >\n              {job.title}\n            </span>\n          </label>\n        ))}\n        {activeJobs.length === 0 && (\n          <EmptyState\n            icon={Briefcase}\n            title=\"   \"\n            description=\"    .\"\n          />\n        )}\n      </div>\n      <div className=\"flex justify-end gap-3 mt-6\">\n        <ActionButton variant=\"secondary\" onClick={onCancel}>\n          \n        </ActionButton>\n        <ActionButton\n          variant=\"primary\"\n          onClick={() => onConfirmSelection(tempSelection)}\n        >\n           \n        </ActionButton>\n      </div>\n    </div>\n  );\n}\n\nfunction Dashboard({ adminTabMode }) {\n  const {\n    user,\n    userDoc,\n    setUserDoc,\n    loading: authLoading,\n    updateUser,\n    refreshUserDocument,\n    isAdmin,\n    isSuperAdmin,\n    optimisticUpdate,\n  } = useAuth();\n\n  // Refs for cleanup\n  const realtimeManager = useRef(new RealtimeManager());\n  const lastFetchTime = useRef(0);\n  const fetchPromise = useRef(null);\n\n  // State management\n  const [appLoading, setAppLoading] = useState(true);\n  const [viewMode, setViewMode] = useState(\"list\");\n  const [showAdminSettingsModal, setShowAdminSettingsModal] = useState(false);\n  const [adminSelectedMenu, setAdminSelectedMenu] = useState(\"generalSettings\");\n\n  const [jobs, setJobs] = useState([]);\n  const [commonTasks, setCommonTasks] = useState([]);\n\n  const [editingJob, setEditingJob] = useState(null);\n  const [adminNewJobTitle, setAdminNewJobTitle] = useState(\"\");\n  const [editingTask, setEditingTask] = useState(null);\n  const [currentJobIdForTask, setCurrentJobIdForTask] = useState(null);\n  const [isJobTaskForForm, setIsJobTaskForForm] = useState(false);\n  const [showAddTaskForm, setShowAddTaskForm] = useState(false);\n  const [adminNewTaskName, setAdminNewTaskName] = useState(\"\");\n  const [adminNewTaskReward, setAdminNewTaskReward] = useState(\"\");\n  const [adminNewTaskMaxClicks, setAdminNewTaskMaxClicks] = useState(\"5\");\n  const [adminNewTaskRequiresApproval, setAdminNewTaskRequiresApproval] =\n    useState(false);\n\n  //  [] httpsCallable \n  const completeTaskFunction = useMemo(\n    () => httpsCallable(functions, \"completeTask\"),\n    [],\n  );\n  const manualResetClassTasksFn = useMemo(\n    () => httpsCallable(functions, \"manualResetClassTasks\"),\n    [],\n  );\n\n  const [isHandlingTask, setIsHandlingTask] = useState(false);\n\n  const [classCouponGoal, setClassCouponGoal] = useState(1000);\n  const [couponValue, setCouponValue] = useState(1000);\n  const [adminCouponValueInput, setAdminCouponValueInput] = useState(\n    String(1000),\n  );\n  const [adminGoalAmountInput, setAdminGoalAmountInput] = useState(\n    String(1000),\n  );\n  const [classCodes, setClassCodes] = useState([]);\n\n  // adminTabMode   \n  useEffect(() => {\n    if (adminTabMode && isAdmin?.()) {\n      setAdminSelectedMenu(adminTabMode);\n      setShowAdminSettingsModal(true);\n    }\n  }, [adminTabMode, isAdmin]);\n\n  // Memoized values\n  const currentGoalId = useMemo(() => {\n    return userDoc?.classCode && isAdmin?.()\n      ? `${userDoc.classCode}_goal`\n      : null;\n  }, [userDoc?.classCode, isAdmin]);\n\n  const currentSelectedJobIdsFromUserDoc = useMemo(() => {\n    return userDoc && Array.isArray(userDoc.selectedJobIds)\n      ? userDoc.selectedJobIds\n      : [];\n  }, [userDoc]);\n\n  const jobsToShow = useMemo(() => {\n    const completedJobTasks = userDoc?.completedJobTasks || {};\n\n    return Array.isArray(jobs)\n      ? jobs\n          .filter(\n            (job) =>\n              currentSelectedJobIdsFromUserDoc.includes(job.id) &&\n              job.active !== false,\n          )\n          .map((job) => ({\n            ...job,\n            tasks: (job.tasks || []).map((task) => ({\n              ...task,\n              clicks: completedJobTasks[`${job.id}_${task.id}`] || 0, //   \n            })),\n          }))\n      : [];\n  }, [jobs, currentSelectedJobIdsFromUserDoc, userDoc]);\n\n  const commonTasksWithUserProgress = useMemo(() => {\n    if (!commonTasks || !userDoc) {\n      return [];\n    }\n    const userCompletedTasks = userDoc.completedTasks || {};\n    return commonTasks.map((task) => ({\n      ...task,\n      clicks: userCompletedTasks[task.id] || 0,\n    }));\n  }, [commonTasks, userDoc]);\n\n  // Utility function for generating IDs\n  const generateId = useCallback(() => {\n    try {\n      return doc(firestoreCollection(db, \"temp\")).id;\n    } catch (error) {\n      logger.error(\"Error generating ID:\", error);\n      return (\n        Date.now().toString() + Math.random().toString(36).substring(2, 11)\n      );\n    }\n  }, []);\n\n  //  [] Polling   (30)\n  const setupPolling = useCallback(async (classCode) => {\n    if (!classCode) return;\n\n    const pollData = async () => {\n      try {\n        // Jobs  (   orderBy )\n        const jobsQuery = query(\n          firestoreCollection(db, \"jobs\"),\n          where(\"classCode\", \"==\", classCode),\n          limit(50),\n        );\n\n        const jobsSnap = await getDocs(jobsQuery);\n        const loadedJobs = jobsSnap.docs\n          .map((d) => ({\n            id: d.id,\n            ...d.data(),\n            tasks: (d.data().tasks || []).map((task) => ({\n              ...task,\n              reward: task.reward || 0,\n              clicks: 0, //    useMemo \n              maxClicks: task.maxClicks || 5,\n            })),\n            active: d.data().active !== false,\n          }))\n          //    (updatedAt  )\n          .sort((a, b) => {\n            const timeA = a.updatedAt?.toMillis?.() || 0;\n            const timeB = b.updatedAt?.toMillis?.() || 0;\n            return timeB - timeA;\n          });\n\n        setJobs(loadedJobs);\n        dataCache.set(`jobs_${classCode}`, loadedJobs, CACHE_TTL.JOBS);\n\n        // Common Tasks  (   orderBy )\n        const tasksQuery = query(\n          firestoreCollection(db, \"commonTasks\"),\n          where(\"classCode\", \"==\", classCode),\n          limit(50),\n        );\n\n        const tasksSnap = await getDocs(tasksQuery);\n        const loadedCommonTasks = tasksSnap.docs\n          .map((d) => ({\n            id: d.id,\n            ...d.data(),\n            reward: d.data().reward || 0,\n            clicks: d.data().clicks || 0,\n            maxClicks: d.data().maxClicks || 5,\n          }))\n          //    (updatedAt  )\n          .sort((a, b) => {\n            const timeA = a.updatedAt?.toMillis?.() || 0;\n            const timeB = b.updatedAt?.toMillis?.() || 0;\n            return timeB - timeA;\n          });\n\n        setCommonTasks(loadedCommonTasks);\n        dataCache.set(\n          `commonTasks_${classCode}`,\n          loadedCommonTasks,\n          CACHE_TTL.TASKS,\n        );\n      } catch (error) {\n        logger.error(\"Polling :\", error);\n      }\n    };\n\n    //    \n    await pollData();\n\n    //  [ v3.0] 2  (152 - Firestore  )\n    //          \n    const intervalId = setInterval(pollData, 2 * 60 * 60 * 1000);\n\n    // Cleanup  \n    realtimeManager.current.addListener(\"polling\", () =>\n      clearInterval(intervalId),\n    );\n  }, []);\n\n  //    \n  const loadCachedData = useCallback(async (classCode) => {\n    const jobsCache = dataCache.get(`jobs_${classCode}`);\n    const tasksCache = dataCache.get(`commonTasks_${classCode}`);\n    const settingsCache = dataCache.get(\"mainSettings\");\n\n    if (jobsCache) {\n      setJobs(jobsCache);\n    }\n    if (tasksCache) {\n      setCommonTasks(tasksCache);\n    }\n    if (settingsCache) {\n      setCouponValue(settingsCache.couponValue || 1000);\n      setAdminCouponValueInput(String(settingsCache.couponValue || 1000));\n    }\n\n    return {\n      hasJobsCache: !!jobsCache,\n      hasTasksCache: !!tasksCache,\n      hasSettingsCache: !!settingsCache,\n    };\n  }, []);\n\n  //    \n  const loadTasksData = useCallback(\n    async (forceRefresh = false) => {\n      if (!userDoc?.classCode) {\n        setAppLoading(false);\n        return;\n      }\n\n      const now = Date.now();\n      const classCode = userDoc.classCode;\n\n      //   \n      if (fetchPromise.current && !forceRefresh) {\n        return fetchPromise.current;\n      }\n\n      //  [ v3.0]     (2)\n      if (!forceRefresh && now - lastFetchTime.current < 2 * 60 * 60 * 1000) {\n        setAppLoading(false);\n        return;\n      }\n\n      //   \n      setAppLoading(true);\n\n      const fetchData = async () => {\n        try {\n          // 1:      UI \n          const cacheStatus = await loadCachedData(classCode);\n\n          //         UI \n          if (cacheStatus.hasJobsCache && cacheStatus.hasTasksCache) {\n            setAppLoading(false);\n          }\n\n          // 2:     ( )\n          if (!realtimeManager.current.listeners.has(\"jobs\")) {\n            //         \n            setTimeout(() => setupPolling(classCode), 0);\n          }\n\n          // 3:     \n          const promises = [];\n\n          if (!cacheStatus.hasSettingsCache || forceRefresh) {\n            promises.push(\n              getDoc(doc(db, \"settings\", \"mainSettings\")).then((snap) => ({\n                type: \"settings\",\n                data: snap.exists() ? snap.data() : null,\n              })),\n            );\n          }\n\n          if (\n            currentGoalId &&\n            (!dataCache.get(`goal_${currentGoalId}`) || forceRefresh)\n          ) {\n            promises.push(\n              getDoc(doc(db, \"goals\", currentGoalId)).then((snap) => ({\n                type: \"goal\",\n                data: snap.exists() ? snap.data() : null,\n              })),\n            );\n          }\n\n          if (\n            isSuperAdmin() &&\n            (!dataCache.get(\"classCodes\") || forceRefresh)\n          ) {\n            promises.push(\n              getDoc(doc(db, \"settings\", \"classCodes\")).then((snap) => ({\n                type: \"classCodes\",\n                data: snap.exists() ? snap.data() : null,\n              })),\n            );\n          }\n\n          //    \n          if (promises.length > 0) {\n            const results = await Promise.all(promises);\n\n            results.forEach((result) => {\n              switch (result.type) {\n                case \"settings\":\n                  if (result.data) {\n                    const newCouponValue = result.data.couponValue || 1000;\n                    setCouponValue(newCouponValue);\n                    setAdminCouponValueInput(String(newCouponValue));\n                    dataCache.set(\n                      \"mainSettings\",\n                      result.data,\n                      CACHE_TTL.SETTINGS,\n                    );\n                  }\n                  break;\n                case \"goal\":\n                  if (result.data && result.data.classCode === classCode) {\n                    const targetAmount = result.data.targetAmount || 1000;\n                    setClassCouponGoal(targetAmount);\n                    setAdminGoalAmountInput(String(targetAmount));\n                    dataCache.set(\n                      `goal_${currentGoalId}`,\n                      result.data,\n                      CACHE_TTL.GOALS,\n                    );\n                  }\n                  break;\n                case \"classCodes\":\n                  if (result.data) {\n                    setClassCodes(result.data.validCodes || []);\n                    dataCache.set(\n                      \"classCodes\",\n                      result.data,\n                      CACHE_TTL.CLASS_CODES,\n                    );\n                  }\n                  break;\n              }\n            });\n          }\n\n          lastFetchTime.current = now;\n        } catch (error) {\n          logger.warn(\"[Dashboard] data fetch failed:\", error);\n        } finally {\n          setAppLoading(false);\n          fetchPromise.current = null;\n        }\n      };\n\n      fetchPromise.current = fetchData();\n      return fetchPromise.current;\n    },\n    [\n      userDoc?.classCode,\n      currentGoalId,\n      isSuperAdmin,\n      setupPolling,\n      loadCachedData,\n    ],\n  );\n\n  //  []      (  )\n  const refreshInProgressRef = useRef(false);\n\n  const refreshTasksAfterReset = useCallback(async () => {\n    //       \n    if (refreshInProgressRef.current) {\n      logger.log(\"[Dashboard]     -   \");\n      return;\n    }\n\n    refreshInProgressRef.current = true;\n    logger.log(\"[Dashboard]    -   \");\n\n    try {\n      //    ( )\n      if (refreshUserDocument) {\n        await refreshUserDocument();\n      }\n\n      //   \n      if (loadTasksData) {\n        await loadTasksData(true); // force refresh\n      }\n\n      // localStorage    \n      const today = new Date().toDateString();\n      localStorage.setItem(\"lastTaskResetDate\", today);\n\n      logger.log(\"[Dashboard]    \");\n    } catch (error) {\n      logger.error(\"[Dashboard]   :\", error);\n    } finally {\n      refreshInProgressRef.current = false;\n    }\n  }, [refreshUserDocument, loadTasksData]);\n\n  // Effect for data loading\n  useEffect(() => {\n    if (authLoading) {\n      setAppLoading(true);\n      return;\n    }\n\n    if (!user) {\n      setAppLoading(false);\n      setJobs([]);\n      setCommonTasks([]);\n      //  \n      realtimeManager.current.removeAllListeners();\n      return;\n    }\n\n    if (userDoc?.id && userDoc?.classCode) {\n      loadTasksData();\n    } else {\n      setAppLoading(false);\n    }\n\n    //     \n    const manager = realtimeManager.current;\n    return () => {\n      manager.removeAllListeners();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [authLoading, user, userDoc?.id, userDoc?.classCode, loadTasksData]);\n\n  //  []     UI  (  )\n  const dateCheckExecutedRef = useRef(false);\n  const lastCheckedDateRef = useRef(null);\n\n  useEffect(() => {\n    if (!userDoc?.classCode || !refreshTasksAfterReset) {\n      return;\n    }\n\n    //       (  )\n    const checkDateAndRefresh = () => {\n      const today = new Date().toDateString();\n      const lastResetDate = localStorage.getItem(\"lastTaskResetDate\");\n\n      //    :     \n      if (lastCheckedDateRef.current === today) {\n        return;\n      }\n\n      lastCheckedDateRef.current = today;\n\n      if (lastResetDate !== today) {\n        // (GitHub Actions)     \n        //  UI \n        refreshTasksAfterReset();\n      }\n    };\n\n    //        ( )\n    if (!dateCheckExecutedRef.current) {\n      dateCheckExecutedRef.current = true;\n      checkDateAndRefresh();\n    }\n\n    //  [ v3.0] 1   (51, Firestore  )\n    //       \n    const dateCheckInterval = setInterval(\n      () => {\n        checkDateAndRefresh();\n      },\n      60 * 60 * 1000,\n    ); // 1\n\n    // \n    return () => {\n      if (dateCheckInterval) {\n        clearInterval(dateCheckInterval);\n      }\n    };\n  }, [userDoc?.classCode, refreshTasksAfterReset]);\n\n  // Job management handlers\n  const handleSaveJob = useCallback(async () => {\n    if (!db || !userDoc?.classCode) {\n      alert(\"      .\");\n      return;\n    }\n\n    const title = adminNewJobTitle.trim();\n    if (!title) {\n      alert(\"  .\");\n      return;\n    }\n\n    setAppLoading(true);\n    try {\n      if (editingJob) {\n        const jobRef = doc(db, \"jobs\", editingJob.id);\n        //   \n        batchManager.addWrite({\n          type: \"update\",\n          ref: jobRef,\n          data: { title, updatedAt: serverTimestamp() },\n        });\n\n        alert(` .`);\n        setAdminNewJobTitle(\"\");\n        setEditingJob(null);\n        setShowAdminSettingsModal(false);\n      } else {\n        const newJobId = generateId();\n        const jobRef = doc(db, \"jobs\", newJobId);\n        batchManager.addWrite({\n          type: \"set\",\n          ref: jobRef,\n          data: {\n            title,\n            active: true,\n            tasks: [],\n            createdAt: serverTimestamp(),\n            updatedAt: serverTimestamp(),\n            classCode: userDoc.classCode,\n          },\n        });\n\n        alert(` .`);\n        setAdminNewJobTitle(\"\");\n      }\n\n      //  \n      dataCache.invalidate(`jobs_${userDoc.classCode}`);\n    } catch (error) {\n      logger.error(\"handleSaveJob :\", error);\n      alert(\"    \");\n    } finally {\n      setAppLoading(false);\n    }\n  }, [adminNewJobTitle, editingJob, generateId, userDoc]);\n\n  const handleDeleteJob = useCallback(\n    async (jobIdToDelete) => {\n      if (!db) {\n        alert(\"  .\");\n        return;\n      }\n\n      if (\n        !window.confirm(\n          \"   ?    .\",\n        )\n      ) {\n        return;\n      }\n\n      setAppLoading(true);\n      try {\n        //   \n        const jobRef = doc(db, \"jobs\", jobIdToDelete);\n        batchManager.addWrite({\n          type: \"delete\",\n          ref: jobRef,\n          data: null,\n        });\n\n        if (user && userDoc?.selectedJobIds?.includes(jobIdToDelete)) {\n          const updatedSelectedIds = userDoc.selectedJobIds.filter(\n            (id) => id !== jobIdToDelete,\n          );\n          await updateUser({ selectedJobIds: updatedSelectedIds });\n        }\n\n        if (editingJob?.id === jobIdToDelete) {\n          setAdminNewJobTitle(\"\");\n          setEditingJob(null);\n        }\n\n        setShowAdminSettingsModal(false);\n        alert(\" .\");\n\n        //  \n        dataCache.invalidate(`jobs_${userDoc.classCode}`);\n      } catch (error) {\n        logger.error(\"handleDeleteJob :\", error);\n        alert(\"    \");\n      } finally {\n        setAppLoading(false);\n      }\n    },\n    [user, userDoc, editingJob, updateUser],\n  );\n\n  const handleEditJob = useCallback((jobToEdit) => {\n    if (jobToEdit) {\n      setEditingJob(jobToEdit);\n      setAdminNewJobTitle(jobToEdit.title);\n      setAdminSelectedMenu(\"jobSettings\");\n      setShowAdminSettingsModal(true);\n    } else {\n      alert(\"    .\");\n    }\n  }, []);\n\n  // Task management handlers\n  const handleAddTaskClick = useCallback((jobId = null, isJobTask = false) => {\n    setIsJobTaskForForm(isJobTask);\n    setCurrentJobIdForTask(jobId);\n    setAdminNewTaskName(\"\");\n    setAdminNewTaskReward(\"\");\n    setAdminNewTaskMaxClicks(\"5\");\n    setEditingTask(null);\n    setAdminSelectedMenu(\"taskManagement\");\n    setShowAddTaskForm(true);\n    setShowAdminSettingsModal(true);\n  }, []);\n\n  const handleEditTask = useCallback((taskToEdit, jobId = null) => {\n    if (taskToEdit) {\n      setEditingTask(taskToEdit);\n      setAdminNewTaskName(taskToEdit.name);\n      setAdminNewTaskReward(String(taskToEdit.reward || 0));\n      setAdminNewTaskMaxClicks(String(taskToEdit.maxClicks || 5));\n      setAdminNewTaskRequiresApproval(!!taskToEdit.requiresApproval);\n      setIsJobTaskForForm(!!jobId);\n      setCurrentJobIdForTask(jobId);\n      setAdminSelectedMenu(\"taskManagement\");\n      setShowAddTaskForm(true);\n      setShowAdminSettingsModal(true);\n    } else {\n      alert(\"    .\");\n    }\n  }, []);\n\n  const handleSaveTask = useCallback(async () => {\n    if (!db || !userDoc?.classCode) {\n      alert(\"      .\");\n      return;\n    }\n\n    const name = adminNewTaskName.trim();\n    const reward = parseInt(adminNewTaskReward, 10);\n    const maxClicks = parseInt(adminNewTaskMaxClicks, 10);\n\n    if (\n      !name ||\n      isNaN(reward) ||\n      reward < 0 ||\n      isNaN(maxClicks) ||\n      maxClicks <= 0\n    ) {\n      alert(\n        \" . (, : 0  ,  : 1  )\",\n      );\n      return;\n    }\n\n    setAppLoading(true);\n    const taskData = {\n      name,\n      reward,\n      maxClicks,\n      clicks: editingTask?.clicks || 0,\n      requiresApproval: adminNewTaskRequiresApproval,\n    };\n\n    try {\n      if (editingTask) {\n        const taskId = editingTask.id;\n        if (isJobTaskForForm && currentJobIdForTask) {\n          const jobRef = doc(db, \"jobs\", currentJobIdForTask);\n          const jobSnap = await getDoc(jobRef);\n          if (\n            !jobSnap.exists() ||\n            jobSnap.data().classCode !== userDoc.classCode\n          ) {\n            throw new Error(\"      .\");\n          }\n          const jobTasks = jobSnap.data().tasks || [];\n          const taskIndex = jobTasks.findIndex((t) => t.id === taskId);\n          if (taskIndex === -1) {\n            throw new Error(\"     .\");\n          }\n          const updatedTasks = [...jobTasks];\n          updatedTasks[taskIndex] = { ...updatedTasks[taskIndex], ...taskData };\n\n          //   \n          batchManager.addWrite({\n            type: \"update\",\n            ref: jobRef,\n            data: {\n              tasks: updatedTasks,\n              updatedAt: serverTimestamp(),\n            },\n          });\n        } else {\n          const taskRef = doc(db, \"commonTasks\", taskId);\n          batchManager.addWrite({\n            type: \"update\",\n            ref: taskRef,\n            data: {\n              ...taskData,\n              updatedAt: serverTimestamp(),\n            },\n          });\n        }\n        setShowAddTaskForm(false);\n        setEditingTask(null);\n        setShowAdminSettingsModal(false);\n        alert(` .`);\n      } else {\n        const newTaskId = generateId();\n        const newTaskDataWithId = { ...taskData, id: newTaskId, clicks: 0 };\n        if (isJobTaskForForm && currentJobIdForTask) {\n          const jobRef = doc(db, \"jobs\", currentJobIdForTask);\n          batchManager.addWrite({\n            type: \"update\",\n            ref: jobRef,\n            data: {\n              tasks: arrayUnion(newTaskDataWithId),\n              updatedAt: serverTimestamp(),\n            },\n          });\n        } else {\n          const newTaskRef = doc(db, \"commonTasks\", newTaskId);\n          batchManager.addWrite({\n            type: \"set\",\n            ref: newTaskRef,\n            data: {\n              ...newTaskDataWithId,\n              createdAt: serverTimestamp(),\n              updatedAt: serverTimestamp(),\n              classCode: userDoc.classCode,\n            },\n          });\n        }\n        setAdminNewTaskName(\"\");\n        setAdminNewTaskReward(\"\");\n        setAdminNewTaskMaxClicks(\"5\");\n        setAdminNewTaskRequiresApproval(false);\n        alert(` .`);\n      }\n\n      //  \n      if (isJobTaskForForm) {\n        dataCache.invalidate(`jobs_${userDoc.classCode}`);\n      } else {\n        dataCache.invalidate(`commonTasks_${userDoc.classCode}`);\n      }\n    } catch (error) {\n      logger.error(\"handleSaveTask :\", error);\n      alert(\"    : \" + error.message);\n    } finally {\n      setAppLoading(false);\n    }\n  }, [\n    adminNewTaskName,\n    adminNewTaskReward,\n    adminNewTaskMaxClicks,\n    adminNewTaskRequiresApproval,\n    editingTask,\n    isJobTaskForForm,\n    currentJobIdForTask,\n    generateId,\n    userDoc,\n  ]);\n\n  const handleDeleteTask = useCallback(\n    async (taskIdToDelete, jobId = null) => {\n      if (!db) {\n        alert(\"  .\");\n        return;\n      }\n\n      if (!window.confirm(\"   ?\")) {\n        return;\n      }\n\n      setAppLoading(true);\n      try {\n        if (jobId) {\n          const jobRef = doc(db, \"jobs\", jobId);\n          const jobSnap = await getDoc(jobRef);\n          if (!jobSnap.exists()) {\n            throw new Error(\"    .\");\n          }\n          const tasks = jobSnap.data().tasks || [];\n          const updatedTasks = tasks.filter((t) => t.id !== taskIdToDelete);\n\n          //   \n          batchManager.addWrite({\n            type: \"update\",\n            ref: jobRef,\n            data: {\n              tasks: updatedTasks,\n              updatedAt: serverTimestamp(),\n            },\n          });\n        } else {\n          const taskRef = doc(db, \"commonTasks\", taskIdToDelete);\n          batchManager.addWrite({\n            type: \"delete\",\n            ref: taskRef,\n            data: null,\n          });\n        }\n\n        if (editingTask?.id === taskIdToDelete) {\n          setShowAddTaskForm(false);\n          setEditingTask(null);\n        }\n\n        setShowAdminSettingsModal(false);\n        alert(\" .\");\n\n        //  \n        if (jobId) {\n          dataCache.invalidate(`jobs_${userDoc.classCode}`);\n        } else {\n          dataCache.invalidate(`commonTasks_${userDoc.classCode}`);\n        }\n      } catch (error) {\n        logger.error(\"handleDeleteTask :\", error);\n        alert(\"    : \" + error.message);\n      } finally {\n        setAppLoading(false);\n      }\n    },\n    [editingTask, userDoc],\n  );\n\n  // Job selection handlers\n  const handleSelectJobClick = useCallback(() => {\n    setViewMode(\"selectJob\");\n  }, []);\n\n  const handleConfirmJobSelection = useCallback(\n    async (newlySelectedJobIds) => {\n      if (!user?.uid) {\n        alert(\"  .\");\n        return;\n      }\n\n      const idsToSave = Array.isArray(newlySelectedJobIds)\n        ? newlySelectedJobIds\n        : [];\n      setAppLoading(true);\n\n      try {\n        const success = await updateUser({ selectedJobIds: idsToSave });\n        if (success) {\n          setUserDoc((prev) => ({ ...prev, selectedJobIds: idsToSave })); // Optimistic update\n          setViewMode(\"list\");\n          alert(\"  .\");\n        } else {\n          alert(\"     .\");\n        }\n      } catch (error) {\n        logger.error(\"handleConfirmJobSelection :\", error);\n        alert(\"       .\");\n      } finally {\n        setAppLoading(false);\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [user, updateUser],\n  );\n\n  const handleCancelForm = useCallback(() => {\n    setViewMode(\"list\");\n  }, []);\n\n  const handleTaskEarnCoupon = useCallback(\n    async (\n      taskId,\n      jobId = null,\n      isJobTask = false,\n      cardType = null,\n      rewardAmount = null,\n    ) => {\n      if (isHandlingTask) return;\n      if (!userDoc?.id) {\n        alert(\"   .\");\n        return;\n      }\n\n      //   :    \n      if (isJobTask && jobId) {\n        const taskKey = `${jobId}_${taskId}`;\n        const currentClicks = (userDoc.completedJobTasks || {})[taskKey] || 0;\n        const jobTask = jobs\n          .find((j) => j.id === jobId)\n          ?.tasks?.find((t) => t.id === taskId);\n\n        if (\n          jobTask &&\n          jobTask.maxClicks > 0 &&\n          currentClicks >= jobTask.maxClicks\n        ) {\n          logger.warn(\"[Dashboard]    :\", {\n            taskKey,\n            currentClicks,\n            maxClicks: jobTask.maxClicks,\n          });\n          return;\n        }\n      } else if (!isJobTask) {\n        const currentClicks = (userDoc.completedTasks || {})[taskId] || 0;\n        const commonTask = commonTasks?.find((t) => t.id === taskId);\n\n        if (\n          commonTask &&\n          commonTask.maxClicks > 0 &&\n          currentClicks >= commonTask.maxClicks\n        ) {\n          logger.warn(\"[Dashboard]    :\", {\n            taskId,\n            currentClicks,\n            maxClicks: commonTask.maxClicks,\n          });\n          return;\n        }\n      }\n\n      setIsHandlingTask(true);\n      logger.log(\"[Dashboard]    :\", {\n        taskId,\n        jobId,\n        isJobTask,\n        cardType,\n        rewardAmount,\n      });\n\n      //   :   \n      let expectedCashReward = 0;\n      let expectedCouponReward = 0;\n\n      //    cardType rewardAmount \n      if (cardType && rewardAmount) {\n        if (cardType === \"cash\") {\n          expectedCashReward = rewardAmount;\n        } else if (cardType === \"coupon\") {\n          expectedCouponReward = rewardAmount;\n        }\n      }\n\n      const prevUserDoc = { ...userDoc };\n\n      //  UI \n      const optimisticCash = userDoc.cash + expectedCashReward;\n      const optimisticCoupons = userDoc.coupons + expectedCouponReward;\n\n      if (isJobTask && jobId) {\n        setUserDoc((prevDoc) => ({\n          ...prevDoc,\n          cash: optimisticCash,\n          coupons: optimisticCoupons,\n          completedJobTasks: {\n            ...(prevDoc.completedJobTasks || {}),\n            [`${jobId}_${taskId}`]:\n              ((prevDoc.completedJobTasks || {})[`${jobId}_${taskId}`] || 0) +\n              1,\n          },\n        }));\n      } else {\n        setUserDoc((prevDoc) => ({\n          ...prevDoc,\n          cash: optimisticCash,\n          coupons: optimisticCoupons,\n          completedTasks: {\n            ...(prevDoc.completedTasks || {}),\n            [taskId]: (prevDoc.completedTasks?.[taskId] || 0) + 1,\n          },\n        }));\n      }\n\n      try {\n        const result = await completeTaskFunction({\n          taskId,\n          jobId,\n          isJobTask,\n          cardType,\n          rewardAmount,\n        });\n\n        const resultData = result.data;\n        logger.log(\" []   :\", resultData);\n\n        if (resultData.success) {\n          //     \n          const newCash =\n            typeof resultData.updatedCash === \"number\"\n              ? resultData.updatedCash\n              : optimisticCash;\n          const newCoupons =\n            typeof resultData.updatedCoupons === \"number\"\n              ? resultData.updatedCoupons\n              : optimisticCoupons;\n\n          logger.log(\n            ` []  :  ${optimisticCash},  ${optimisticCoupons}   :  ${newCash},  ${newCoupons}`,\n          );\n\n          setUserDoc((prevDoc) => ({\n            ...prevDoc,\n            cash: newCash,\n            coupons: newCoupons,\n          }));\n\n          alert(resultData.message);\n        } else {\n          throw new Error(resultData.message || \"    \");\n        }\n      } catch (error) {\n        logger.error(\"[Dashboard]      :\", error);\n        alert(`  : ${error.message}`);\n\n        // :   \n        setUserDoc(prevUserDoc);\n      } finally {\n        setIsHandlingTask(false);\n      }\n    },\n    [\n      isHandlingTask,\n      userDoc,\n      commonTasks,\n      jobs,\n      setUserDoc,\n      completeTaskFunction,\n    ],\n  );\n\n  //      \n  const submitTaskApprovalFunction = useMemo(\n    () => httpsCallable(functions, \"submitTaskApproval\"),\n    [],\n  );\n\n  const handleTaskApprovalRequest = useCallback(\n    async (\n      taskId,\n      jobId = null,\n      isJobTask = false,\n      cardType = null,\n      rewardAmount = null,\n    ) => {\n      if (isHandlingTask) return;\n      if (!userDoc?.id) {\n        alert(\"   .\");\n        return;\n      }\n\n      setIsHandlingTask(true);\n      logger.log(\"[Dashboard]   :\", {\n        taskId,\n        jobId,\n        isJobTask,\n        cardType,\n        rewardAmount,\n      });\n\n      //  :    ( )\n      const prevUserDoc = { ...userDoc };\n\n      if (isJobTask && jobId) {\n        setUserDoc((prevDoc) => ({\n          ...prevDoc,\n          completedJobTasks: {\n            ...(prevDoc.completedJobTasks || {}),\n            [`${jobId}_${taskId}`]:\n              ((prevDoc.completedJobTasks || {})[`${jobId}_${taskId}`] || 0) +\n              1,\n          },\n        }));\n      } else {\n        setUserDoc((prevDoc) => ({\n          ...prevDoc,\n          completedTasks: {\n            ...(prevDoc.completedTasks || {}),\n            [taskId]: (prevDoc.completedTasks?.[taskId] || 0) + 1,\n          },\n        }));\n      }\n\n      try {\n        const result = await submitTaskApprovalFunction({\n          taskId,\n          jobId,\n          isJobTask,\n          cardType,\n          rewardAmount,\n        });\n        if (result.data.success) {\n          alert(result.data.message);\n        } else {\n          throw new Error(result.data.message || \"   \");\n        }\n      } catch (error) {\n        logger.error(\"[Dashboard]    :\", error);\n        alert(`  : ${error.message}`);\n        setUserDoc(prevUserDoc);\n      } finally {\n        setIsHandlingTask(false);\n      }\n    },\n    [isHandlingTask, userDoc, setUserDoc, submitTaskApprovalFunction],\n  );\n\n  // Admin settings handlers\n  const handleOpenAdminSettings = useCallback(\n    (tabName = \"generalSettings\") => {\n      setAdminGoalAmountInput(String(classCouponGoal));\n      setAdminCouponValueInput(String(couponValue));\n      setAdminSelectedMenu(tabName);\n      setShowAdminSettingsModal(true);\n    },\n    [classCouponGoal, couponValue],\n  );\n\n  const handleSaveAdminSettings = useCallback(async () => {\n    logger.log(\n      \"--- [DEBUG] EXECUTING handleSaveAdminSettings with LATEST code ---\",\n    );\n    if (!db) {\n      alert(\"  .\");\n      return;\n    }\n\n    const newGoal = parseInt(adminGoalAmountInput, 10);\n    const newValue = parseInt(adminCouponValueInput, 10);\n\n    if (isNaN(newGoal) || newGoal <= 0 || isNaN(newValue) || newValue <= 0) {\n      alert(\"      (0  ).\");\n      return;\n    }\n\n    setAppLoading(true);\n    try {\n      const settingsRef = doc(db, \"settings\", \"mainSettings\");\n      const settingsSnap = await getDoc(settingsRef);\n\n      if (\n        !settingsSnap.exists() ||\n        settingsSnap.data().couponValue !== newValue\n      ) {\n        batchManager.addWrite({\n          type: \"setMerge\",\n          ref: settingsRef,\n          data: { couponValue: newValue, updatedAt: serverTimestamp() },\n        });\n      }\n\n      if (currentGoalId && isAdmin?.()) {\n        try {\n          const goalRef = doc(db, \"goals\", currentGoalId);\n          // setDoc with merge: true ensures we don't overwrite existing fields like progress.\n          // This safely updates the target amount or creates the document if it doesn't exist.\n          await setDoc(\n            goalRef,\n            {\n              targetAmount: newGoal,\n              classCode: userDoc.classCode,\n              updatedAt: serverTimestamp(),\n            },\n            { merge: true },\n          );\n        } catch (goalError) {\n          logger.warn(\n            \"       :\",\n            goalError.code,\n          );\n        }\n      }\n\n      setCouponValue(newValue);\n      if (currentGoalId && isAdmin?.()) {\n        setClassCouponGoal(newGoal);\n      }\n      setShowAdminSettingsModal(false);\n      alert(\"  .\");\n\n      //  \n      dataCache.invalidate(\"mainSettings\");\n      if (currentGoalId) {\n        dataCache.invalidate(`goal_${currentGoalId}`);\n      }\n    } catch (error) {\n      logger.error(\"   :\", error);\n      alert(\"    : \" + error.message);\n    } finally {\n      setAppLoading(false);\n    }\n  }, [\n    adminGoalAmountInput,\n    adminCouponValueInput,\n    currentGoalId,\n    userDoc,\n    isAdmin,\n  ]);\n\n  // Class code management -     \n  const loadClassCodes = useCallback(async () => {\n    if (!db || !isAdmin?.()) return;\n\n    //  \n    const cached = dataCache.get(\"classCodes\");\n    if (cached) {\n      setClassCodes(cached.validCodes || []);\n      return;\n    }\n\n    try {\n      const codeRef = doc(db, \"settings\", \"classCodes\");\n      const codeDoc = await getDoc(codeRef);\n\n      if (codeDoc.exists()) {\n        const codes = Array.isArray(codeDoc.data().validCodes)\n          ? codeDoc.data().validCodes\n          : [];\n        setClassCodes(codes);\n        dataCache.set(\"classCodes\", codeDoc.data(), CACHE_TTL.CLASS_CODES);\n      } else {\n        batchManager.addWrite({\n          type: \"set\",\n          ref: codeRef,\n          data: {\n            validCodes: [],\n            createdAt: serverTimestamp(),\n            updatedAt: serverTimestamp(),\n          },\n        });\n        setClassCodes([]);\n      }\n    } catch (error) {\n      logger.error(\"   :\", error);\n      setClassCodes([]);\n    }\n  }, [isAdmin]);\n\n  useEffect(() => {\n    if (isAdmin?.()) {\n      loadClassCodes();\n    }\n  }, [isAdmin, loadClassCodes]);\n\n  const handleAddClassCode = useCallback(\n    async (codeToAdd) => {\n      if (!db) return false;\n\n      const trimmedCode = codeToAdd.trim();\n      if (!trimmedCode) {\n        alert(\"  .\");\n        return false;\n      }\n\n      if (classCodes.includes(trimmedCode)) {\n        alert(\"   .\");\n        return false;\n      }\n\n      setAppLoading(true);\n      try {\n        const codeRef = doc(db, \"settings\", \"classCodes\");\n        const codeSnap = await getDoc(codeRef);\n        const currentValidCodes = codeSnap.exists()\n          ? codeSnap.data().validCodes || []\n          : [];\n\n        batchManager.addWrite({\n          type: \"update\",\n          ref: codeRef,\n          data: {\n            validCodes: [...currentValidCodes, trimmedCode],\n            updatedAt: serverTimestamp(),\n          },\n        });\n\n        //       (CLASS2025 ,  )\n        try {\n          const copyResult = await copyDefaultDataToNewClass(trimmedCode);\n          if (copyResult.success) {\n            alert(\n              `  '${trimmedCode}' !\\n\\n   :\\n-  ${copyResult.results.jobs.copied}\\n-   ${copyResult.results.storeItems.copied}`,\n            );\n          } else {\n            alert(\n              `  '${trimmedCode}' .\\n\\n     : ${copyResult.error}\\n(  )`,\n            );\n          }\n        } catch (copyError) {\n          logger.error(\"   :\", copyError);\n          alert(\n            `  '${trimmedCode}' .\\n\\n    \\n(  )`,\n          );\n        }\n\n        //  \n        setClassCodes((prev) => [...prev, trimmedCode]);\n\n        //  \n        dataCache.invalidate(\"classCodes\");\n\n        return true;\n      } catch (error) {\n        logger.error(\"   :\", error);\n        alert(\"     \");\n        return false;\n      } finally {\n        setAppLoading(false);\n      }\n    },\n    [classCodes],\n  );\n\n  const handleRemoveClassCode = useCallback(async (codeToRemove) => {\n    if (!db) return false;\n\n    if (!window.confirm(`'${codeToRemove}'  ?`)) {\n      return false;\n    }\n\n    setAppLoading(true);\n    try {\n      const codeRef = doc(db, \"settings\", \"classCodes\");\n      const codeSnap = await getDoc(codeRef);\n\n      if (!codeSnap.exists()) {\n        throw new Error(\"     .\");\n      }\n\n      const currentValidCodes = codeSnap.data().validCodes || [];\n      const updatedCodes = currentValidCodes.filter(\n        (code) => code !== codeToRemove,\n      );\n\n      batchManager.addWrite({\n        type: \"update\",\n        ref: codeRef,\n        data: {\n          validCodes: updatedCodes,\n          updatedAt: serverTimestamp(),\n        },\n      });\n\n      alert(\"  .\");\n\n      //  \n      setClassCodes((prev) => prev.filter((code) => code !== codeToRemove));\n\n      //  \n      dataCache.invalidate(\"classCodes\");\n\n      return true;\n    } catch (error) {\n      logger.error(\"   :\", error);\n      alert(\"     : \" + error.message);\n      return false;\n    } finally {\n      setAppLoading(false);\n    }\n  }, []);\n\n  //   \n  const handleForceRefresh = useCallback(() => {\n    //  \n    dataCache.clear();\n\n    //  \n    realtimeManager.current.removeAllListeners();\n    if (userDoc?.classCode) {\n      setupPolling(userDoc.classCode);\n    }\n\n    //   \n    loadTasksData(true);\n  }, [loadTasksData, userDoc?.classCode, setupPolling]);\n\n  const handleManualTaskReset = useCallback(async () => {\n    logger.log(\"[Dashboard]    \");\n    if (!userDoc?.classCode) {\n      logger.error(\"[Dashboard]      .\");\n      alert(\"   .\");\n      return;\n    }\n\n    if (\n      !window.confirm(\n        `'${userDoc.classCode}'    ' '   ?\\n\\n    .`,\n      )\n    ) {\n      logger.log(\"[Dashboard]   .\");\n      return;\n    }\n\n    logger.log(`[Dashboard] ${userDoc.classCode}   ...`);\n    setAppLoading(true);\n    try {\n      const manualResetClassTasks = manualResetClassTasksFn;\n      const result = await manualResetClassTasks({\n        classCode: userDoc.classCode,\n      });\n      logger.log(\"[Dashboard]    :\", result.data);\n\n      if (result.data.success) {\n        //  ,        UI \n\n        //       \n        setUserDoc((prevDoc) => ({\n          ...prevDoc,\n          completedTasks: {}, //   \n          completedJobTasks: {}, //   \n        }));\n\n        // localStorage    \n        const today = new Date().toDateString();\n        localStorage.setItem(\"lastTaskResetDate\", today);\n\n        alert(` !\\n${result.data.message}`);\n        logger.log(`[Dashboard]  : ${result.data.message}`);\n      } else {\n        throw new Error(result.data.message || \"   \");\n      }\n    } catch (error) {\n      logger.error(\"[Dashboard]   :\", error);\n      alert(`:   .\\n\\n${error.message}`);\n    } finally {\n      setAppLoading(false);\n      logger.log(\"[Dashboard]    \");\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [userDoc?.classCode, setUserDoc]);\n\n  // Loading and error states\n  if (authLoading || appLoading) {\n    return (\n      <PageContainer className=\"flex items-center justify-center\">\n        <LoadingState message=\"  ...\" />\n      </PageContainer>\n    );\n  }\n\n  if (!user) {\n    return (\n      <PageContainer className=\"flex items-center justify-center\">\n        <EmptyState\n          icon={ListTodo}\n          title=\" \"\n          description=\"   .\"\n        />\n      </PageContainer>\n    );\n  }\n\n  if (!userDoc?.id) {\n    return (\n      <PageContainer className=\"flex items-center justify-center\">\n        <EmptyState\n          icon={ListTodo}\n          title=\"   \"\n          description=\"    .   .\"\n        />\n      </PageContainer>\n    );\n  }\n\n  if (!userDoc.classCode) {\n    return (\n      <PageContainer className=\"flex items-center justify-center\">\n        <EmptyState\n          icon={ListTodo}\n          title=\"  \"\n          description=\"   .     .\"\n        />\n      </PageContainer>\n    );\n  }\n\n  //    ( ->  -> displayName -> \"\")\n  const userNickname =\n    userDoc?.name || userDoc?.nickname || user?.displayName || \"\";\n\n  return (\n    <div className=\"min-h-full w-full bg-[#0a0a12] px-2 pt-1 pb-0\">\n      {/*   -   (     ) */}\n      {!adminTabMode && (\n        <section className=\"bg-[#14142380] backdrop-blur-sm rounded-lg px-3 py-1.5 shadow-lg border border-cyan-900/30 flex flex-col md:flex-row md:items-center justify-between gap-1.5 mb-2\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-7 h-7 bg-cyan-900/30 rounded-md flex items-center justify-center text-cyan-400 shrink-0 border border-cyan-500/30\">\n              <ListTodo className=\"w-4 h-4\" />\n            </div>\n            <div className=\"leading-tight\">\n              <h2 className=\"text-sm md:text-base font-bold text-white\">\n                 \n              </h2>\n              <p className=\"text-[11px] text-slate-400\">\n                {userNickname},  !\n              </p>\n            </div>\n          </div>\n          {isAdmin?.() && viewMode === \"list\" && !showAdminSettingsModal && (\n            <div className=\"flex flex-wrap gap-1.5\">\n              <ActionButton\n                variant=\"primary\"\n                icon={Settings}\n                onClick={() => handleOpenAdminSettings(\"generalSettings\")}\n                size=\"sm\"\n                className=\"!bg-gradient-to-r !from-red-500 !to-orange-500 !text-white !font-bold !shadow-lg !shadow-red-500/30 !border-2 !border-red-400 !text-sm\"\n              >\n                  \n              </ActionButton>\n              <ActionButton\n                variant=\"success\"\n                icon={RefreshCw}\n                onClick={handleForceRefresh}\n                size=\"sm\"\n              >\n                \n              </ActionButton>\n              <ActionButton\n                variant=\"danger\"\n                icon={RotateCcw}\n                onClick={handleManualTaskReset}\n                size=\"sm\"\n                title=\"     \"\n              >\n                 \n              </ActionButton>\n            </div>\n          )}\n          {viewMode === \"selectJob\" && (\n            <ActionButton\n              variant=\"ghost\"\n              icon={ChevronLeft}\n              onClick={handleCancelForm}\n            >\n              \n            </ActionButton>\n          )}\n        </section>\n      )}\n\n      {viewMode === \"list\" && !showAdminSettingsModal && !adminTabMode && (\n        <>\n          {/*     */}\n          <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 overflow-hidden mb-6\">\n            {/*     -   */}\n            <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 px-4 md:px-6 py-3 md:py-4 flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Briefcase className=\"w-5 h-5 text-white\" />\n                <h3 className=\"text-base md:text-lg font-bold text-white\">\n                    \n                </h3>\n              </div>\n              <ActionButton\n                variant=\"outline\"\n                icon={Plus}\n                onClick={handleSelectJobClick}\n                size=\"sm\"\n                className=\"!bg-white/20 !text-white !border-white/30 hover:!bg-white/30\"\n              >\n                 /\n              </ActionButton>\n            </div>\n            <div className=\"p-4 md:p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {jobsToShow.length > 0 ? (\n                  jobsToShow.map((job) => (\n                    <JobList\n                      key={job.id}\n                      job={job}\n                      isAdmin={isAdmin?.()}\n                      onEditJob={() => handleEditJob(job)}\n                      onDeleteJob={() => handleDeleteJob(job.id)}\n                      onAddTask={() => handleAddTaskClick(job.id, true)}\n                      onEarnCoupon={(\n                        taskId,\n                        jobId,\n                        isJobTask,\n                        cardType,\n                        rewardAmount,\n                      ) =>\n                        handleTaskEarnCoupon(\n                          taskId,\n                          jobId,\n                          isJobTask,\n                          cardType,\n                          rewardAmount,\n                        )\n                      }\n                      onRequestApproval={(\n                        taskId,\n                        jobId,\n                        isJobTask,\n                        cardType,\n                        rewardAmount,\n                      ) =>\n                        handleTaskApprovalRequest(\n                          taskId,\n                          jobId,\n                          isJobTask,\n                          cardType,\n                          rewardAmount,\n                        )\n                      }\n                      onEditTask={(task) => handleEditTask(task, job.id)}\n                      onDeleteTask={(taskId) =>\n                        handleDeleteTask(taskId, job.id)\n                      }\n                      isHandlingTask={isHandlingTask}\n                    />\n                  ))\n                ) : (\n                  <div className=\"col-span-full\">\n                    <EmptyState\n                      icon={Briefcase}\n                      title=\"  \"\n                      description=\"' /'    .\"\n                      action={\n                        <ActionButton\n                          variant=\"primary\"\n                          icon={Plus}\n                          onClick={handleSelectJobClick}\n                        >\n                           \n                        </ActionButton>\n                      }\n                    />\n                  </div>\n                )}\n              </div>\n\n              {/*    */}\n              <div className=\"mt-6 rounded-xl overflow-hidden border border-emerald-900/30 bg-[#14142380] backdrop-blur-sm\">\n                {/*    -   */}\n                <div className=\"bg-gradient-to-r from-emerald-500 to-teal-500 px-4 md:px-6 py-3 md:py-4 flex items-center justify-between\">\n                  <div className=\"flex items-center gap-2\">\n                    <ListTodo className=\"w-5 h-5 text-white\" />\n                    <h3 className=\"text-base md:text-lg font-bold text-white\">\n                       \n                    </h3>\n                  </div>\n                  {isAdmin?.() && (\n                    <ActionButton\n                      variant=\"outline\"\n                      icon={Plus}\n                      onClick={() => handleAddTaskClick(null, false)}\n                      size=\"sm\"\n                      className=\"!bg-white/20 !text-white !border-white/30 hover:!bg-white/30\"\n                    >\n                        \n                    </ActionButton>\n                  )}\n                </div>\n\n                <div className=\"p-4 md:p-6 bg-[#0a0a12]/50\">\n                  <CommonTaskList\n                    tasks={commonTasksWithUserProgress}\n                    isAdmin={isAdmin?.()}\n                    onEarnCoupon={(\n                      taskId,\n                      jobId,\n                      isJobTask,\n                      cardType,\n                      rewardAmount,\n                    ) =>\n                      handleTaskEarnCoupon(\n                        taskId,\n                        jobId,\n                        isJobTask,\n                        cardType,\n                        rewardAmount,\n                      )\n                    }\n                    onRequestApproval={(\n                      taskId,\n                      jobId,\n                      isJobTask,\n                      cardType,\n                      rewardAmount,\n                    ) =>\n                      handleTaskApprovalRequest(\n                        taskId,\n                        jobId,\n                        isJobTask,\n                        cardType,\n                        rewardAmount,\n                      )\n                    }\n                    onEditTask={(taskId) =>\n                      handleEditTask(\n                        commonTasks.find((t) => t.id === taskId),\n                        null,\n                      )\n                    }\n                    onDeleteTask={(taskId) => handleDeleteTask(taskId, null)}\n                    isHandlingTask={isHandlingTask}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n\n      {viewMode === \"selectJob\" && (\n        <SelectMultipleJobsView\n          availableJobs={jobs}\n          currentSelectedJobIds={currentSelectedJobIdsFromUserDoc}\n          onConfirmSelection={handleConfirmJobSelection}\n          onCancel={handleCancelForm}\n        />\n      )}\n\n      {isAdmin?.() && (\n        <AdminSettingsModal\n          isAdmin={isAdmin?.()}\n          isSuperAdmin={isSuperAdmin?.()}\n          userClassCode={userDoc?.classCode}\n          showAdminSettingsModal={showAdminSettingsModal}\n          setShowAdminSettingsModal={setShowAdminSettingsModal}\n          adminSelectedMenu={adminSelectedMenu}\n          setAdminSelectedMenu={setAdminSelectedMenu}\n          classCodes={classCodes}\n          onAddClassCode={handleAddClassCode}\n          onRemoveClassCode={handleRemoveClassCode}\n          newGoalAmount={adminGoalAmountInput}\n          setNewGoalAmount={setAdminGoalAmountInput}\n          adminCouponValue={adminCouponValueInput}\n          setAdminCouponValue={setAdminCouponValueInput}\n          handleSaveAdminSettings={handleSaveAdminSettings}\n          jobs={jobs}\n          adminNewJobTitle={adminNewJobTitle}\n          setAdminNewJobTitle={setAdminNewJobTitle}\n          adminEditingJob={editingJob}\n          setAdminEditingJob={setEditingJob}\n          handleSaveJob={handleSaveJob}\n          handleDeleteJob={handleDeleteJob}\n          handleEditJob={handleEditJob}\n          commonTasks={commonTasks}\n          showAddTaskForm={showAddTaskForm}\n          setShowAddTaskForm={setShowAddTaskForm}\n          adminNewTaskName={adminNewTaskName}\n          setAdminNewTaskName={setAdminNewTaskName}\n          adminNewTaskReward={adminNewTaskReward}\n          setAdminNewTaskReward={setAdminNewTaskReward}\n          adminNewTaskMaxClicks={adminNewTaskMaxClicks}\n          setAdminNewTaskMaxClicks={setAdminNewTaskMaxClicks}\n          adminNewTaskRequiresApproval={adminNewTaskRequiresApproval}\n          setAdminNewTaskRequiresApproval={setAdminNewTaskRequiresApproval}\n          adminEditingTask={editingTask}\n          setAdminEditingTask={setEditingTask}\n          handleSaveTask={handleSaveTask}\n          handleEditTask={handleEditTask}\n          handleDeleteTask={handleDeleteTask}\n          taskFormJobId={currentJobIdForTask}\n          taskFormIsJobTask={isJobTaskForForm}\n          handleAddTaskClick={handleAddTaskClick}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"names":["PageContainer","_ref","children","className","_jsx","concat","PageHeader","_ref2","title","subtitle","icon","Icon","badge","action","backButton","_jsxs","LoadingState","_ref4","message","EmptyState","_ref6","description","ActionButton","_ref1","variant","size","loading","disabled","onClick","primary","secondary","outline","danger","success","ghost","indigo","sm","md","lg","Loader2","memo","task","onEarnCoupon","onRequestApproval","isJobTask","isAdmin","onEditTask","onDeleteTask","taskId","jobId","showBubble","setShowBubble","useState","bubbleText","setBubbleText","showCardModal","setShowCardModal","rewardData","setRewardData","selectedCard","setSelectedCard","isFlipping","setIsFlipping","handleCardSelect","cardType","logger","log","requiresApproval","setTimeout","reward","cash","coupon","rewardText","toLocaleString","id","useEffect","timer","clearTimeout","isCompleted","maxClicks","clicks","isMobile","window","innerWidth","taskItemStyle","backgroundColor","border","opacity","padding","boxShadow","taskInfoStyle","gap","taskNameStyle","color","fontSize","lineHeight","taskActionsStyle","couponStyle","_Fragment","style","_objectSpread","cursor","handleInternalClick","taskName","name","error","rewards","generateJobTaskReward","weightedRandom","items","totalWeight","reduce","sum","item","weight","random","Math","amount","length","approvalBadgeStyle","e","stopPropagation","adminButtonStyles","bubbleStyle","bubbleTailStyle","renderCardModal","mobileModalContentStyle","modalContentStyle","mobileModalTitleStyle","modalTitleStyle","mobileModalSubtitleStyle","modalSubtitleStyle","mobileCardsContainerStyle","cardsContainerStyle","mobileCardStyle","cardStyle","width","height","mobileCardIconStyle","cardIconStyle","marginBottom","mobileCardTextStyle","cardTextStyle","mobileRewardAmountStyle","rewardAmountStyle","mobileRewardLabelStyle","rewardLabelStyle","createPortal","modalOverlayStyle","selectedCardStyle","cardInnerStyle","transform","cardFrontStyle","backfaceVisibility","cardBackStyle","cardBackVisibleStyle","document","body","background","bottom","content","top","left","marginLeft","borderWidth","borderStyle","borderColor","animation","textShadow","perspective","transition","transformStyle","job","onEditJob","onDeleteJob","onAddTask","addJobTaskButtonStyle","backdropFilter","borderBottom","letterSpacing","tasks","map","TaskItem","borderTop","fontWeight","CommonTaskList","Array","isArray","gridTemplateColumns","createOptimizedFunction","functionName","fn","httpsCallable","functions","async","result","data","Error","optimizedFirebaseService","getAdminSettingsData","batchPaySalaries","getItemContextData","queryKeys","adminSettings","classCode","tab","systemManagement","realtimeOptimizer","shouldUseRealtime","navigator","onLine","hidden","localBackup","save","key","localStorage","setItem","JSON","stringify","timestamp","Date","now","warn","maxAge","arguments","undefined","backup","getItem","parsed","parse","removeItem","isSuperAdmin","systemStatus","setSystemStatus","setLoading","setError","autoRefresh","setAutoRefresh","lastUpdate","setLastUpdate","errorCount","setErrorCount","getSystemStatus","resolveSystemAlert","fetchSystemStatus","useCallback","err","prev","handleResolveAlert","confirm","alertId","alert","intervalId","setInterval","clearInterval","type","checked","onChange","target","toLocaleTimeString","marginTop","borderRadius","margin","health","totalUsers","stats","lastMinute","reads","writes","errors","errorRate","toFixed","avgResponseTime","anomalies","anomaly","index","severity","alerts","_alert$timestamp","_alert$timestamp2","alertTime","toDate","seconds","errorLogs","slice","_log$timestamp","_log$timestamp2","logTime","last5Minutes","initialStocks","price","history","ClassDataDeletionSection","userClassCode","deleteConfirmText","setDeleteConfirmText","isDeleting","setIsDeleting","showConfirmation","setShowConfirmation","value","placeholder","usersRef","firestoreCollection","db","studentsQuery","firebaseQuery","firebaseWhere","studentsSnapshot","firebaseGetDocs","activityLogsRef","activityLogsQuery","activityLogsSnapshot","studentIds","docs","doc","transactionsToDelete","batches","i","push","batch","transactionsRef","transactionsQuery","transactionsSnapshot","allDocsToDelete","BATCH_SIZE","writeBatch","forEach","docSnap","delete","ref","commit","floor","_jobs$find","showAdminSettingsModal","setShowAdminSettingsModal","adminSelectedMenu","setAdminSelectedMenu","newGoalAmount","setNewGoalAmount","adminCouponValue","setAdminCouponValue","handleSaveAdminSettings","jobs","adminNewJobTitle","setAdminNewJobTitle","adminEditingJob","setAdminEditingJob","handleSaveJob","handleDeleteJob","handleEditJob","commonTasks","showAddTaskForm","setShowAddTaskForm","adminNewTaskName","setAdminNewTaskName","adminNewTaskReward","setAdminNewTaskReward","adminNewTaskMaxClicks","setAdminNewTaskMaxClicks","adminNewTaskRequiresApproval","setAdminNewTaskRequiresApproval","adminEditingTask","setAdminEditingTask","handleSaveTask","handleEditTask","handleDeleteTask","taskFormJobId","taskFormIsJobTask","handleAddTaskClick","classCodes","onAddClassCode","onRemoveClassCode","newClassCode","setNewClassCode","classCodeOperationLoading","setClassCodeOperationLoading","classMembers","setClassMembers","membersLoading","setMembersLoading","showEditStudentJobsModal","setShowEditStudentJobsModal","selectedStudent","setSelectedStudent","tempSelectedJobIds","setTempSelectedJobIds","students","setStudents","studentsLoading","setStudentsLoading","appLoading","setAppLoading","isPayingSalary","setIsPayingSalary","lastSalaryPaidDate","setLastSalaryPaidDate","selectedStudentIds","setSelectedStudentIds","selectAllStudents","setSelectAllStudents","depositProducts","setDepositProducts","savingProducts","setSavingProducts","loanProducts","setLoanProducts","newProductName","setNewProductName","newProductPeriod","setNewProductPeriod","newProductRate","setNewProductRate","financialSubTab","setFinancialSubTab","financialMessage","setFinancialMessage","jobTaskSubTab","setJobTaskSubTab","studentMemberSubTab","setStudentMemberSubTab","financeMarketSubTab","setFinanceMarketSubTab","systemSubTab","setSystemSubTab","marketStatus","setMarketStatus","isOpen","marketMessage","setMarketMessage","isMarketDataLoaded","setIsMarketDataLoaded","marketStatusCache","useRef","parkingInterestRate","setParkingInterestRate","newInterestRate","setNewInterestRate","parkingMessage","setParkingMessage","toggleMarketManually","salarySettings","setSalarySettings","taxRate","salaryIncreaseRate","tempTaxRate","setTempTaxRate","tempSalaryIncreaseRate","setTempSalaryIncreaseRate","salarySettingsLoading","setSalarySettingsLoading","currencyUnit","setCurrencyUnitLocal","useCurrency","tempCurrencyUnit","setTempCurrencyUnit","currencyUnitSaving","setCurrencyUnitSaving","handleSaveCurrencyUnit","trim","settingsRef","firebaseDoc","firebaseUpdateDoc","updatedAt","serverTimestamp","catch","firebaseSetDoc","merge","useOptimizedStudents","userDoc","useAuth","useQuery","queryKey","queryFn","enabled","staleTime","gcTime","salarySettingsQuery","useOptimizedSalarySettings","batchPaySalariesMutation","useOptimizedSystemManagement","backupKey","retry","failureCount","code","refetchInterval","useOptimizedAdminSettings","useBatchPaySalaries","queryClient","useQueryClient","useMutation","mutationFn","payAll","onSuccess","invalidateQueries","onError","preloadAdminData","useAdminDataPreloader","preloadPromises","prefetchQuery","Promise","allSettled","loadSalarySettings","classSettingsRef","settingsSnap","firebaseGetSingleDoc","exists","settings","String","lastPaidDate","createdAt","handleSaveSalarySettings","taxRateNum","parseFloat","increaseRateNum","isNaN","newSettings","calculateSalary","selectedJobIds","includesTax","gross","tax","net","grossSalary","max","handleJobEdit","handleJobDelete","handleTaskEdit","handleTaskDelete","handleTaskAdd","loadStudents","studentsList","classStudentsRef","firebaseCollection","userData","nickname","email","money","lastSalaryDate","lastGrossSalary","lastTaxAmount","lastNetSalary","totalSalaryReceived","classError","queryRef","settingsDoc","settingsError","loadClassMembers","querySnapshot","usersList","adminResetUserPassword","handleResetPassword","newPassword","prompt","userId","toggleAdminStatus","currentStatus","userRef","prevMembers","member","loadFinancialProducts","savedDeposit","savedSaving","savedLoan","handleAddProduct","text","parseInt","newProduct","period","rate","typeText","updatedProducts","storageKey","handleDeleteProduct","filter","p","fetchMarketStatus","current","marketStatusRef","getDoc","statusData","setDoc","handleMarketControl","actionText","newIsOpenState","optimisticStatus","handleInitializeStocks","stock","stockRef","set","loadParkingRate","savedRate","handleParkingRateChange","toString","handleAddClassCode","codeToAdd","handleRemoveClassCode","codeToRemove","mapped","taskManagement","jobSettings","studentManagement","memberManagement","financialProducts","parkingAccount","marketControl","databaseManagement","formatLastSalaryDate","date","getFullYear","getMonth","padStart","getDate","getHours","getMinutes","min","maxLength","find","j","display","alignItems","_studentsQuery$data","_salarySettingsQuery$2","currentStudents","currentSalarySettings","mutateAsync","summary","totalStudentsPaid","totalGrossPaid","totalTaxDeducted","totalNetPaid","_salarySettingsQuery$","handleToggleSelectAll","student","salaryCalc","includes","handleToggleStudentSelection","studentId","Boolean","join","toLocaleDateString","handleEditStudentJobs","step","products","product","AdminDatabase","href","rel","SystemMonitoring","active","handleToggleJobSelection","htmlFor","prevStudents","CACHE_TTL","JOBS","TASKS","SETTINGS","GOALS","CLASS_CODES","dataCache","globalCacheService","get","ttl","invalidate","clear","clearAll","batchManager","constructor","this","pendingWrites","batchTimeout","BATCH_DELAY","MAX_BATCH_SIZE","addWrite","operation","executeBatch","scheduleBatch","operations","update","RealtimeManager","listeners","Map","addListener","unsubscribe","has","removeListener","removeAllListeners","SelectMultipleJobsView","availableJobs","currentSelectedJobIds","onConfirmSelection","onCancel","tempSelection","setTempSelection","activeJobs","useMemo","handleCheckboxChange","Briefcase","_ref3","adminTabMode","user","setUserDoc","authLoading","updateUser","refreshUserDocument","optimisticUpdate","realtimeManager","lastFetchTime","fetchPromise","viewMode","setViewMode","setJobs","setCommonTasks","editingJob","setEditingJob","editingTask","setEditingTask","currentJobIdForTask","setCurrentJobIdForTask","isJobTaskForForm","setIsJobTaskForForm","completeTaskFunction","manualResetClassTasksFn","isHandlingTask","setIsHandlingTask","classCouponGoal","setClassCouponGoal","couponValue","setCouponValue","adminCouponValueInput","setAdminCouponValueInput","adminGoalAmountInput","setAdminGoalAmountInput","setClassCodes","currentGoalId","currentSelectedJobIdsFromUserDoc","jobsToShow","completedJobTasks","commonTasksWithUserProgress","userCompletedTasks","completedTasks","generateId","substring","setupPolling","pollData","jobsQuery","query","where","limit","loadedJobs","getDocs","d","sort","a","b","_a$updatedAt","_a$updatedAt$toMillis","_b$updatedAt","_b$updatedAt$toMillis","timeA","toMillis","call","tasksQuery","loadedCommonTasks","_a$updatedAt2","_a$updatedAt2$toMilli","_b$updatedAt2","_b$updatedAt2$toMilli","loadCachedData","jobsCache","tasksCache","settingsCache","hasJobsCache","hasTasksCache","hasSettingsCache","loadTasksData","forceRefresh","cacheStatus","promises","then","snap","all","newCouponValue","targetAmount","validCodes","fetchData","refreshInProgressRef","refreshTasksAfterReset","today","toDateString","manager","dateCheckExecutedRef","lastCheckedDateRef","checkDateAndRefresh","lastResetDate","dateCheckInterval","jobRef","newJobId","_userDoc$selectedJobI","jobIdToDelete","updatedSelectedIds","jobToEdit","taskToEdit","taskData","jobSnap","jobTasks","taskIndex","findIndex","t","updatedTasks","taskRef","newTaskId","newTaskDataWithId","arrayUnion","newTaskRef","taskIdToDelete","handleSelectJobClick","handleConfirmJobSelection","uid","idsToSave","newlySelectedJobIds","handleCancelForm","handleTaskEarnCoupon","rewardAmount","_jobs$find$tasks","taskKey","currentClicks","jobTask","commonTask","expectedCashReward","expectedCouponReward","prevUserDoc","optimisticCash","optimisticCoupons","coupons","prevDoc","_prevDoc$completedTas","resultData","newCash","updatedCash","newCoupons","updatedCoupons","submitTaskApprovalFunction","handleTaskApprovalRequest","_prevDoc$completedTas2","handleOpenAdminSettings","tabName","newGoal","newValue","goalRef","goalError","loadClassCodes","cached","codeRef","codeDoc","codes","trimmedCode","codeSnap","currentValidCodes","copyResult","copyDefaultDataToNewClass","results","copied","storeItems","copyError","updatedCodes","handleForceRefresh","handleManualTaskReset","manualResetClassTasks","ListTodo","userNickname","displayName","Settings","RefreshCw","RotateCcw","ChevronLeft","Plus","JobList","AdminSettingsModal"],"ignoreList":[],"sourceRoot":""}