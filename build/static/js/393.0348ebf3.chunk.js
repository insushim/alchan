"use strict";(self.webpackChunkinconomysu_class=self.webpackChunkinconomysu_class||[]).push([[393],{7393:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var o=a(4919),n=a(5043),t=a(5472),l=a(5010),r=a(5016),c=a(577),i=a(9270),d=a(579);const u=[{title:"LEGEND",color:"#ff0066",minRP:2e3,icon:"\ud83d\udc51"},{title:"MASTER",color:"#ff4500",minRP:1500,icon:"\ud83d\udc8e"},{title:"DIAMOND",color:"#00bfff",minRP:1300,icon:"\ud83d\udca0"},{title:"PLATINUM",color:"#4169e1",minRP:1150,icon:"\u2b50"},{title:"GOLD",color:"#ffd700",minRP:1050,icon:"\ud83c\udfc6"},{title:"SILVER",color:"#c0c0c0",minRP:950,icon:"\ud83e\udd48"},{title:"BRONZE",color:"#cd7f32",minRP:0,icon:"\ud83e\udd49"}],m=1e3,h=21,y=(e,s)=>e*h+s,f=(e,s,a)=>{if(!(s<0||s>=h||a<0||a>=h))return e[y(s,a)]},p=(e,s,a,o)=>{const n=[[1,0],[0,1],[1,1],[1,-1]];let t=0;for(const[l,r]of n){let n=0,c=0;for(let t=1;t<5;t++){const c=s+t*l,i=a+t*r;if(c<0||c>=h||i<0||i>=h)break;if(e[y(c,i)]!==o)break;n++}for(let t=1;t<5;t++){const n=s-t*l,i=a-t*r;if(n<0||n>=h||i<0||i>=h)break;if(e[y(n,i)]!==o)break;c++}const i=n+c+1,d=s+(n+1)*l,u=a+(n+1)*r,m=s-(c+1)*l,f=a-(c+1)*r;let p=0;d>=0&&d<h&&u>=0&&u<h&&null===e[y(d,u)]&&p++,m>=0&&m<h&&f>=0&&f<h&&null===e[y(m,f)]&&p++,i>=5?t+=1e8:4===i?2===p?t+=5e5:1===p&&(t+=5e4):3===i?2===p?t+=1e4:1===p&&(t+=1e3):2===i?2===p?t+=500:1===p&&(t+=50):1===i&&2===p&&(t+=10)}return t},v=(e,s,a,o)=>{const n=[{y:0,x:1},{y:1,x:0},{y:1,x:1},{y:1,x:-1}];for(const t of n){let n=1;for(let l=1;l<6;l++){const r=s+l*t.y,c=a+l*t.x;if(f(e,r,c)!==o)break;n++}for(let l=1;l<6;l++){const r=s-l*t.y,c=a-l*t.x;if(f(e,r,c)!==o)break;n++}if(5===n)return o}return null},g=(e,s,a,o,n,t)=>{const l=[...e],r=y(s,a);l[r]=o;const c=p(l,s,a,o);l[r]=n;let i=1,d=1;return"\ucd08\uae09"===t?(i=.8,d=.6):"\uc911\uae09"===t?(i=1,d=.9):"\uc0c1\uae09"===t&&(i=1.2,d=1.1),c*i+p(l,s,a,n)*d},w=e=>{const s=(null===e||void 0===e?void 0:e.wins)||0,a=(null===e||void 0===e?void 0:e.losses)||0,o=null===e||void 0===e?void 0:e.totalRP,n=void 0!==o?o:Math.max(0,m+15*s-8*a),t=u.find(e=>n>=e.minRP),l=u.findIndex(e=>e.title===t.title);let r=null,c=0;return l>0&&(r=u[l-1],c=r.minRP-n),{currentRank:t,nextRank:r,currentRP:n,pointsForNextRank:c,wins:s,losses:a}},x=async(e,s)=>{if(e&&"AI"!==e)try{const a=(0,t.H9)(l.db,"users",e);await(0,t.c4)(l.db,async o=>{const n=await o.get(a);if(!n.exists())return void console.error("\uc0ac\uc6a9\uc790 ".concat(e,"\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."));const t=n.data().omok||{wins:0,losses:0,totalRP:m};let l=t.wins||0,r=t.losses||0,c=void 0!==t.totalRP?t.totalRP:m;"win"===s?(l+=1,c+=15):"loss"===s&&(r+=1,c=Math.max(0,c-8));const i={wins:l,losses:r,totalRP:c};o.update(a,{omok:i}),console.log("\uc0ac\uc6a9\uc790 ".concat(e," \uc624\ubaa9 \uae30\ub85d \uc5c5\ub370\uc774\ud2b8:"),i)})}catch(a){console.error("\uc0ac\uc6a9\uc790 \uc624\ubaa9 \uae30\ub85d \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958:",a)}},k=e=>{let{rankDetails:s,showProgress:a=!1,size:o="normal"}=e;if(!s)return null;const{currentRank:n,currentRP:t,nextRank:l,pointsForNextRank:r,wins:c,losses:i}=s,u=c+i>0?Math.round(c/(c+i)*100):0,m="small"===o?"rank-display-small":"rank-display";return(0,d.jsxs)("div",{className:m,children:[(0,d.jsxs)("div",{className:"rank-badge",style:{backgroundColor:n.color},children:[(0,d.jsx)("span",{className:"rank-icon",children:n.icon}),(0,d.jsx)("span",{className:"rank-title",children:n.title})]}),(0,d.jsxs)("div",{className:"rp-info",children:[(0,d.jsxs)("span",{className:"rp-value",children:[t," RP"]}),a&&(0,d.jsxs)("div",{className:"rank-stats",children:[(0,d.jsxs)("span",{className:"win-loss",children:[c,"\uc2b9 ",i,"\ud328 (",u,"%)"]}),l&&(0,d.jsxs)("div",{className:"next-rank-progress",children:[(0,d.jsxs)("span",{className:"next-rank-text",children:[l.icon," ",l.title,"\uae4c\uc9c0 ",r," RP"]}),(0,d.jsx)("div",{className:"progress-bar",children:(0,d.jsx)("div",{className:"progress-fill",style:{width:"".concat(Math.max(10,(t-n.minRP)/(l.minRP-n.minRP)*100),"%"),backgroundColor:l.color}})})]}),!l&&(0,d.jsx)("div",{className:"max-rank",children:"\ud83c\udfc6 \ucd5c\uace0 \ub7ad\ud06c!"})]})]})]})},j=()=>{var e,s,a,u,j,N;const{user:b,userDoc:A,addCouponsToUserById:I,isAdmin:R,addCash:P}=(0,r.As)(),[S,C]=(0,n.useState)(null),[M,D]=(0,n.useState)(null),[T,E]=(0,n.useState)(""),[O,G]=(0,n.useState)(null),[L,H]=(0,n.useState)(!1),[U,Z]=(0,n.useState)(null),[z,_]=(0,n.useState)(!1),[F,B]=(0,n.useState)([]),[J,V]=(0,n.useState)(!1),[W,q]=(0,n.useState)(null),[K,Q]=(0,n.useState)(null),X=(0,n.useRef)(null),[Y,$]=(0,n.useState)({message:"",type:""}),[ee,se]=(0,n.useState)("player"),[ae,oe]=(0,n.useState)("\uc911\uae09"),[ne,te]=(0,n.useState)(0),[le,re]=(0,n.useState)(null===A||void 0===A?void 0:A.omok);(0,n.useEffect)(()=>{re(null===A||void 0===A?void 0:A.omok)},[null===A||void 0===A?void 0:A.omok]);const ce=(0,n.useCallback)(e=>{re(s=>{if(!s)return null;let a=s.wins||0,o=s.losses||0,n=void 0!==s.totalRP?s.totalRP:m;"win"===e?(a+=1,n+=15):"loss"===e&&(o+=1,n=Math.max(0,n-8));const t={wins:a,losses:o,totalRP:n};return console.log("[LocalOptimistic] \uc804\uc801 \ub85c\uceec \uc5c5\ub370\uc774\ud2b8:",t),t})},[]),[ie,de]=(0,n.useState)(!1),[ue,me]=(0,n.useState)([]),[he,ye]=(0,n.useState)(!1),fe=(0,n.useRef)(S);(0,n.useEffect)(()=>{fe.current=S},[S]);const pe=(0,n.useRef)(M);(0,n.useEffect)(()=>{pe.current=M},[M]);const ve=(0,n.useRef)(b);(0,n.useEffect)(()=>{ve.current=b},[b]),(0,n.useEffect)(()=>{const e=()=>{const e=fe.current,s=pe.current,a=ve.current;e&&s&&a&&s.host===a.uid&&(0,t.kd)((0,t.H9)(l.db,"omokGames",e))};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[]);const ge=()=>new Array(441).fill(null),we=(0,n.useCallback)(async()=>{if(b){V(!0);try{const e=(0,t.rJ)(l.db,"omokGames"),s=(0,t.query)(e,(0,t.where)("gameStatus","==","waiting"),(0,t.orderBy)("createdAt","desc")),a=(await(0,t.getDocs)(s)).docs.map(e=>(0,o.A)({id:e.id},e.data()));B(a)}catch(e){console.error("\uac8c\uc784 \ubaa9\ub85d \ubd88\ub7ec\uc624\uae30 \uc624\ub958:",e),E("\uac8c\uc784 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{V(!1)}}},[]),xe=async()=>{if(!b||!A)return void E("\uc0ac\uc6a9\uc790 \uc815\ubcf4\uac00 \ub85c\ub529 \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");if("ai"===ee&&ne>=5)return void E("\ud558\ub8e8\uc5d0 5\ubc88\ub9cc AI \ub300\uc804\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");V(!0);const e=A.name||A.nickname||b.displayName||"\uc775\uba85",s=A.classCode||"\ubbf8\uc124\uc815",a=w(le),n="ai"===ee;try{const r={board:ge(),players:n?{[b.uid]:"black",AI:"white"}:{[b.uid]:"black"},playerNames:n?{[b.uid]:e,AI:"AI (".concat(ae,")")}:{[b.uid]:e},playerClasses:{[b.uid]:s},playerRanks:{[b.uid]:a},currentPlayer:b.uid,winner:null,createdAt:(0,t.O5)(),host:b.uid,hostName:e,hostClass:s,hostRank:a.currentRank,turnStartTime:(0,t.O5)(),history:[],gameStatus:n?"playing":"waiting",statsUpdated:!1,rematch:{},aiMode:n,aiDifficulty:n?ae:null},c=await(0,t.addDoc)((0,t.rJ)(l.db,"omokGames"),r);C(c.id),D((0,o.A)((0,o.A)({},r),{},{id:c.id,createdAt:new Date,turnStartTime:new Date})),n&&H(!0),n||G(c.id),E(""),X.current&&X.current()}catch(r){console.error("\uac8c\uc784 \uc0dd\uc131 \uc624\ub958:",r),E("\uac8c\uc784 \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{V(!1)}},ke=(0,n.useCallback)(async()=>{if(!S||!M||!b)return;const e=(0,t.H9)(l.db,"omokGames",S);try{if(M.host===b.uid){if(console.log("[LeaveGame] \ud638\uc2a4\ud2b8\uac00 \ubc29\uc744 \ub5a0\ub0a8 - \ubc29 \uc0ad\uc81c"),"playing"===M.gameStatus&&!M.winner){const e=Object.keys(M.players).find(e=>e!==b.uid);if(e&&!M.aiMode){var s;ce("loss"),await x(b.uid,"loss"),await x(e,"win");const a=null===(s=M.createdAt)||void 0===s?void 0:s.toDate().getTime();a&&Date.now()-a>15e3&&I&&await I(e,1)}else M.aiMode&&(ce("loss"),await x(b.uid,"loss"))}await(0,t.kd)(e)}else if("playing"===M.gameStatus&&M.players[b.uid]&&!M.winner){const s=Object.keys(M.players).find(e=>e!==b.uid);if(s){var a;const o=null===(a=M.createdAt)||void 0===a?void 0:a.toDate().getTime(),n=o&&Date.now()-o>15e3,l={winner:s,gameStatus:"finished",statsUpdated:!0};n&&(l.couponAwardedTo=s),await(0,t.mZ)(e,l),ce("loss"),await x(b.uid,"loss"),await x(s,"win"),n&&I&&await I(s,1)}}}catch(T){console.error("\uac8c\uc784 \ub098\uac00\uae30 \ucc98\ub9ac \uc911 \uc624\ub958 \ubc1c\uc0dd:",T)}finally{C(null),D(null),E(""),G(null),_(!1),q(null),Q(null),de(!1),we()}},[M,S,b,we,I]),je=async(e,s)=>{console.log("[Click] \uc140 \ud074\ub9ad:",{row:e,col:s}),console.log("[Click] \uc0c1\ud0dc \uccb4\ud06c:",{hasGame:!!M,winner:null===M||void 0===M?void 0:M.winner,cellValue:f(null===M||void 0===M?void 0:M.board,e,s),currentPlayer:null===M||void 0===M?void 0:M.currentPlayer,userId:null===b||void 0===b?void 0:b.uid,isMyTurn:(null===M||void 0===M?void 0:M.currentPlayer)===(null===b||void 0===b?void 0:b.uid),isThinking:L,selectedCell:W}),M&&!M.winner&&!f(M.board,e,s)&&M.currentPlayer===b.uid&&L?!M.aiMode&&Object.keys(M.players).length<2?console.log("[Click] \ud50c\ub808\uc774\uc5b4 2\uba85 \ubbf8\ub9cc"):W&&W.row===e&&W.col===s?(console.log("[Click] \ub450 \ubc88\uc9f8 \ud074\ub9ad - \ub3cc \ubc30\uce58 \uc2dc\uc791"),await(async(e,s)=>{console.log("[Player] placeStone \ud568\uc218 \uc2dc\uc791:",{row:e,col:s,gameId:S,userId:b.uid});const a=[...M.board],n=M.players[b.uid];if(a[y(e,s)]=n,console.log("[Player] \ub0b4 \uc0c9:",n,"\uc704\uce58:",y(e,s)),"black"===n){const e=!1;if(e)return E("\uae08\uc218\uc785\ub2c8\ub2e4: ".concat(e,". \ub2e4\ub978 \uacf3\uc5d0 \ub450\uc138\uc694.")),q(null),void console.log("[Player] \uae08\uc218\ub85c \uc778\ud574 \uc911\ub2e8")}const r=v(a,e,s,n),c=Object.keys(M.players).find(e=>e!==b.uid),i={row:e,col:s,player:n,timestamp:new Date},d=[...M.history||[],i];console.log("[Player] \uc2b9\uc790 \uccb4\ud06c:",r,"\ub2e4\uc74c \ud50c\ub808\uc774\uc5b4:",c);try{const n=(0,t.H9)(l.db,"omokGames",S),i={board:a,currentPlayer:r?null:c,winner:r?b.uid:null,history:d,turnStartTime:(0,t.O5)(),gameStatus:r?"finished":"playing"};if(r&&!M.aiMode){var u;const e=null===(u=M.createdAt)||void 0===u?void 0:u.toDate().getTime();e&&Date.now()-e>15e3&&(i.couponAwardedTo=b.uid)}if(console.log("[Player] Firestore \uc5c5\ub370\uc774\ud2b8 \uc2dc\uc791...",i),D((0,o.A)((0,o.A)({},M),{},{board:a,currentPlayer:r?null:c,winner:r?b.uid:null,history:d,gameStatus:r?"finished":"playing"})),Z({row:e,col:s}),H(!1),q(null),await(0,t.mZ)(n,i),console.log("[Player] Firestore \uc5c5\ub370\uc774\ud2b8 \uc644\ub8cc!"),E(""),console.log("[Player] \ud50c\ub808\uc774\uc5b4 \ub3cc \ubc30\uce58 \uc644\ub8cc. \ub2e4\uc74c \ucc28\ub840:",c),r)if(M.aiMode){ce("win"),await x(b.uid,"win"),await(0,t.mZ)(n,{statsUpdated:!0}),Q({outcome:"win",rpChange:15});const e=Ce(M.aiDifficulty);me(e),de(!0)}else _(!0),i.couponAwardedTo&&I&&await I(b.uid,1)}catch(m){console.error("\uc6c0\uc9c1\uc784 \ucc98\ub9ac \uc624\ub958:",m),E("\uc6c0\uc9c1\uc784\uc744 \ucc98\ub9ac\ud558\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),H(!0)}})(e,s),q(null)):(console.log("[Click] \uccab \ubc88\uc9f8 \ud074\ub9ad - \ubbf8\ub9ac\ubcf4\uae30"),q({row:e,col:s})):console.log("[Click] \ud074\ub9ad \ubb34\uc2dc\ub428")},Ne=(0,n.useRef)(!1),be=(0,n.useRef)(null);(0,n.useEffect)(()=>{be.current&&!S&&(Ne.current=!1),be.current=S,!b||S||Ne.current||(console.log("[Lobby] \uac8c\uc784 \ubaa9\ub85d \ucd5c\ucd08 \ub85c\ub4dc"),we(),Ne.current=!0)},[b,S,we]);const Ae=(0,n.useCallback)(async()=>{if(S)try{const e=(0,t.H9)(l.db,"omokGames",S),s=await(0,t.x7)(e);if(s.exists()){const a=s.data();if(D(a),a.winner&&!a.statsUpdated&&!a.aiMode){const s=a.winner,o=Object.keys(a.players).find(e=>e!==s);o&&(b.uid===s?ce("win"):b.uid===o&&ce("loss"),await x(s,"win"),await x(o,"loss"),await(0,t.mZ)(e,{statsUpdated:!0}),b.uid===s?Q({outcome:"win",rpChange:15}):b.uid===o&&Q({outcome:"loss",rpChange:-8}))}const o=a.history||[];o.length>0&&Z({row:o[o.length-1].row,col:o[o.length-1].col}),a.currentPlayer===b.uid&&"playing"===a.gameStatus?H(!0):(H(!1),q(null))}else C(null),D(null),E("\uac8c\uc784\uc774 \uc885\ub8cc\ub418\uc5c8\uac70\ub098 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}catch(T){console.error("\uac8c\uc784 \ub370\uc774\ud130 \ub85c\ub4dc \uc624\ub958:",T),E("\uac8c\uc784 \uc5f0\uacb0 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},[S,b,ce]),Ie=!!S&&"playing"===(null===M||void 0===M?void 0:M.gameStatus)&&!(null!==M&&void 0!==M&&M.aiMode),{refetch:Re}=(0,c.nm)(Ae,{interval:3e4,enabled:Ie,deps:[S,null===M||void 0===M?void 0:M.gameStatus,null===M||void 0===M?void 0:M.aiMode]});(0,n.useEffect)(()=>{X.current=Re},[Re]),(0,n.useEffect)(()=>{if(z){const e=setTimeout(()=>_(!1),3e3);return()=>clearTimeout(e)}},[z]);const Pe=(0,n.useCallback)(async()=>{if(!M||!M.winner||!S)return;const e=Object.keys(M.players);if(e.length<2)return;const s=M.winner,a=e.find(e=>e!==s);if(!a)return void console.error("\uc7ac\ub300\uacb0\uc744 \uc704\ud55c \ud328\uc790\ub97c \uacb0\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");const o={[a]:"black",[s]:"white"},n=a;try{await(0,t.mZ)((0,t.H9)(l.db,"omokGames",S),{board:ge(),currentPlayer:n,players:o,winner:null,history:[],gameStatus:"playing",statsUpdated:!1,turnStartTime:(0,t.O5)(),couponAwardedTo:null,rematch:{}}),Q(null),_(!1),Z(null),q(null),E("")}catch(T){console.error("\uc7ac\ub300\uacb0 \ub9ac\uc14b \uc624\ub958:",T),E("\uc7ac\ub300\uacb0 \uc2dc\uc791\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},[M,S]);(0,n.useEffect)(()=>{if(M&&"finished"===M.gameStatus&&M.rematch&&(null===b||void 0===b?void 0:b.uid)===M.host&&!M.aiMode){const e=Object.keys(M.players);2===e.length&&M.rematch[e[0]]&&M.rematch[e[1]]&&Pe()}},[M,b,Pe]);const Se=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if(!M||!M.aiMode||M.winner||!S)return void(Se.current=!1);if("AI"!==M.currentPlayer)return console.log("[AI] \ud604\uc7ac \ucc28\ub840:",M.currentPlayer,"(AI \uc544\ub2d8)"),ye(!1),void(Se.current=!1);if(Se.current)return void console.log("[AI] \uc774\ubbf8 \ucc98\ub9ac \uc911 - \uc911\ubcf5 \uc2e4\ud589 \ubc29\uc9c0");console.log("[AI] AI \ucc28\ub840 \uc2dc\uc791"),Se.current=!0,ye(!0);const e=500+1e3*Math.random(),s=setTimeout(async()=>{try{const e=M.players.AI;console.log("[AI] AI \uc0c9\uc0c1:",e);const s=((e,s,a)=>{const o=[];for(let d=0;d<441;d++)e[d]&&o.push({r:Math.floor(d/h),c:d%h});if(o.length<=1){const s=Math.floor(10.5),a=[{r:s,c:s},{r:s,c:s+1},{r:s+1,c:s},{r:s+1,c:s+1},{r:s-1,c:s},{r:s,c:s-1},{r:s+1,c:s-1},{r:s-1,c:s+1}];for(const o of a)if(!e[y(o.r,o.c)])return o}const n="black"===s?"white":"black";let t=2;"\ucd08\uae09"===a?t=1:"\uc911\uae09"===a?t=2:"\uc0c1\uae09"===a&&(t=3);const l=[],r=new Set;for(const d of o)for(let s=-t;s<=t;s++)for(let a=-t;a<=t;a++){const o=d.r+s,n=d.c+a;if(o>=0&&o<h&&n>=0&&n<h){const s=y(o,n),a="".concat(o,",").concat(n);e[s]||r.has(a)||(l.push({r:o,c:n}),r.add(a))}}if(0===l.length){const s=e.findIndex(e=>null===e);return-1!==s?{r:Math.floor(s/h),c:s%h}:null}for(const d of l){const a=[...e];if(a[y(d.r,d.c)]=s,v(a,d.r,d.c,s))return d}for(const d of l){const s=[...e];if(s[y(d.r,d.c)]=n,v(s,d.r,d.c,n))return d}for(const d of l){const a=[...e];if(a[y(d.r,d.c)]=s,p(a,d.r,d.c,s)>=5e5)return console.log("[AI] \ub0b4 \uc5f4\ub9b0 4 \ubc1c\uacac:",d),d}for(const d of l){const s=[...e];s[y(d.r,d.c)]=n;const a=p(s,d.r,d.c,n);if(a>=5e4)return console.log("[AI] \uc0c1\ub300 4\ubaa9 \ub9c9\uae30:",d,"score:",a),d}for(const d of l){const a=[...e];if(a[y(d.r,d.c)]=s,p(a,d.r,d.c,s)>=1e4)return console.log("[AI] \ub0b4 \uc5f4\ub9b0 3 \ubc1c\uacac:",d),d}for(const d of l){const s=[...e];s[y(d.r,d.c)]=n;const o=p(s,d.r,d.c,n);if(o>=1e4){if(console.log("[AI] \uc0c1\ub300 \uc5f4\ub9b0 3 \ub9c9\uae30:",d,"score:",o),"\uc0c1\uae09"===a)return d;if("\uc911\uae09"===a&&Math.random()>.1)return d}}if("\ucd08\uae09"!==a)for(const d of l){const s=[...e];s[y(d.r,d.c)]=n;const o=p(s,d.r,d.c,n);if(o>=1e3){if(console.log("[AI] \uc0c1\ub300 \ub2eb\ud78c 3 \ub9c9\uae30:",d,"score:",o),"\uc0c1\uae09"===a&&Math.random()>.3)return d;if("\uc911\uae09"===a&&Math.random()>.5)return d}}let c=null,i=-1/0;for(const d of l){const o=[...e];o[y(d.r,d.c)]=s;let t=g(o,d.r,d.c,s,n,a);const l=Math.floor(10.5),r=Math.abs(d.r-l)+Math.abs(d.c-l);t+=5*(h-r),"\ucd08\uae09"===a?t+=3e3*(Math.random()-.5):"\uc911\uae09"===a&&(t+=300*(Math.random()-.5)),t>i&&(i=t,c=d)}return console.log("[AI] \ucd5c\uc885 \uc120\ud0dd:",c),c})(M.board,e,M.aiDifficulty);if(console.log("[AI] \ucd5c\uc801\uc758 \uc218:",s),!s)return console.error("[AI] \uc720\ud6a8\ud55c \uc218\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c"),ye(!1),void(Se.current=!1);const{r:a,c:n}=s,r=[...M.board];r[y(a,n)]=e;const c=v(r,a,n,e),i=Object.keys(M.players).find(e=>"AI"!==e),d={row:a,col:n,player:e,timestamp:new Date},u=[...M.history||[],d],m=(0,t.H9)(l.db,"omokGames",S),f={board:r,currentPlayer:c?null:i,winner:c?"AI":null,history:u,turnStartTime:(0,t.O5)(),gameStatus:c?"finished":"playing"};c&&(f.statsUpdated=!1),console.log("[AI] Firestore \uc5c5\ub370\uc774\ud2b8 \uc2dc\uc791"),console.log("[AI] setGame \ud638\ucd9c \uc804 - board[",y(a,n),"]:",r[y(a,n)]),D(e=>{const s=(0,o.A)((0,o.A)({},e),{},{board:r,currentPlayer:c?null:i,winner:c?"AI":null,history:u,gameStatus:c?"finished":"playing"});return console.log("[AI] setGame \ud638\ucd9c - \uc0c8\ub85c\uc6b4 currentPlayer:",s.currentPlayer),console.log("[AI] setGame \ud638\ucd9c - board[",y(a,n),"]:",s.board[y(a,n)]),s}),Z({row:a,col:n}),ye(!1),c||i!==(null===b||void 0===b?void 0:b.uid)||(console.log("[AI] \ud50c\ub808\uc774\uc5b4 \ucc28\ub840\ub85c \ubcc0\uacbd - isThinking\uc744 true\ub85c \uc124\uc815"),H(!0)),await(0,t.mZ)(m,f),console.log("[AI] \ub3cc \ubc30\uce58 \uc644\ub8cc:",a,n),c&&null!==b&&void 0!==b&&b.uid&&(ce("loss"),await x(b.uid,"loss"),await(0,t.mZ)(m,{statsUpdated:!0}),Q({outcome:"loss",rpChange:-8}),console.log("[AI] AI \uc2b9\ub9ac \ucc98\ub9ac \uc644\ub8cc")),ye(!1),Se.current=!1}catch(e){console.error("[AI] \uc6c0\uc9c1\uc784 \ucc98\ub9ac \uc624\ub958:",e),ye(!1),Se.current=!1}},e);return()=>{clearTimeout(s)}},[null===M||void 0===M?void 0:M.currentPlayer,null===M||void 0===M?void 0:M.aiMode,null===M||void 0===M?void 0:M.winner,S,b,ce]);const Ce=e=>[{type:"cash",amount:{"\ud558\uae09":1e3,"\uc911\uae09":3e3,"\uc0c1\uae09":5e3}[e]+Math.floor(Math.random()*{"\ud558\uae09":1e3,"\uc911\uae09":2e3,"\uc0c1\uae09":4e3}[e])},{type:"coupon",amount:1+Math.floor(Math.random()*{"\ud558\uae09":1,"\uc911\uae09":2,"\uc0c1\uae09":3}[e])}].sort(()=>Math.random()-.5);if((0,n.useEffect)(()=>{(()=>{if(!b)return;const e=(new Date).toDateString(),s="omokPlayCount_".concat(b.uid,"_").concat(e),a=parseInt(localStorage.getItem(s)||"0",10);te(a)})()},[b]),!S||!M){const e=w(le);return(0,d.jsxs)("div",{className:"game-page-container",children:[(0,d.jsxs)("div",{className:"omok-header",children:[(0,d.jsx)("h2",{children:"\uae00\ub85c\ubc8c \uc624\ubaa9 \uac8c\uc784"}),(0,d.jsx)("p",{children:"\uc804 \uc138\uacc4 \ubaa8\ub4e0 \ud50c\ub808\uc774\uc5b4\uc640 \ud568\uaed8 \ub450\ub1cc \ub300\uacb0\uc744 \ud3bc\uce58\uace0 \ucfe0\ud3f0\uc744 \ud68d\ub4dd\ud558\uc138\uc694!"}),(0,d.jsxs)("div",{className:"my-profile",children:[(0,d.jsx)(k,{rankDetails:e,showProgress:!0}),(0,d.jsxs)("div",{className:"player-info",children:[(0,d.jsx)("strong",{children:(null===A||void 0===A?void 0:A.name)||(null===A||void 0===A?void 0:A.nickname)||"\uc775\uba85"}),(null===A||void 0===A?void 0:A.classCode)&&" (".concat(A.classCode,")"),R()&&(0,d.jsx)("span",{className:"admin-badge",children:"[\uad00\ub9ac\uc790]"})]})]})]}),(0,d.jsxs)("div",{className:"omok-lobby",children:[(0,d.jsxs)("div",{className:"game-mode-selector",children:[(0,d.jsx)("h3",{children:"\uac8c\uc784 \ubaa8\ub4dc \uc120\ud0dd"}),(0,d.jsxs)("div",{className:"mode-options",children:[(0,d.jsx)("button",{className:"omok-button ".concat("player"===ee?"primary":""),onClick:()=>se("player"),children:"\ud83d\udc65 \ud50c\ub808\uc774\uc5b4 \ub300\uc804"}),(0,d.jsxs)("button",{className:"omok-button ".concat("ai"===ee?"primary":""),onClick:()=>se("ai"),children:["\ud83e\udd16 AI \ub300\uc804 (",ne,"/5)"]})]})]}),"ai"===ee&&(0,d.jsxs)("div",{className:"ai-difficulty-selector",children:[(0,d.jsx)("h3",{children:"AI \ub09c\uc774\ub3c4"}),(0,d.jsxs)("div",{className:"difficulty-options",children:[(0,d.jsx)("button",{className:"\ud558\uae09"===ae?"selected":"",onClick:()=>oe("\ud558\uae09"),children:"\ud83d\ude0a \ud558\uae09"}),(0,d.jsx)("button",{className:"\uc911\uae09"===ae?"selected":"",onClick:()=>oe("\uc911\uae09"),children:"\ud83e\udd14 \uc911\uae09"}),(0,d.jsx)("button",{className:"\uc0c1\uae09"===ae?"selected":"",onClick:()=>oe("\uc0c1\uae09"),children:"\ud83d\udd25 \uc0c1\uae09"})]})]}),(0,d.jsxs)("div",{className:"lobby-section",children:[(0,d.jsx)("h3",{children:"\uac8c\uc784 \ucc38\uc5ec\ud558\uae30"}),(0,d.jsxs)("div",{className:"lobby-actions",children:[(0,d.jsx)("button",{onClick:xe,className:"omok-button primary",disabled:J,children:J?"\uc0dd\uc131 \uc911...":"ai"===ee?"AI \ub300\uc804 \uc2dc\uc791":"\uc0c8 \uac8c\uc784 \ub9cc\ub4e4\uae30"}),O&&!T&&"player"===ee&&(0,d.jsxs)("div",{className:"omok-success",children:["\uac8c\uc784\ubc29\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4! ",(0,d.jsxs)("strong",{children:["\uac8c\uc784 ID: ",O.slice(-6)]}),(0,d.jsx)("br",{}),"\ub2e4\ub978 \ud50c\ub808\uc774\uc5b4\uac00 \ucc38\uac00\ud558\uae30\ub97c \uae30\ub2e4\ub9ac\uace0 \uc788\uc2b5\ub2c8\ub2e4."]})]})]}),"player"===ee&&(0,d.jsxs)("div",{className:"lobby-section",children:[(0,d.jsxs)("div",{className:"section-header",children:[(0,d.jsxs)("h3",{children:["\ud83c\udf0d \uc804\uccb4 \uacf5\uac1c\ubc29(",F.length,")"]}),(0,d.jsx)("button",{onClick:we,className:"omok-button small",disabled:J,children:J?"...":"\uc0c8\ub85c\uace0\uce68"})]}),F.length>0?(0,d.jsx)("div",{className:"game-rooms",children:F.map(e=>{var s,a,n,r;const c=w({wins:(null===(s=e.hostRank)||void 0===s?void 0:s.wins)||0,losses:(null===(a=e.hostRank)||void 0===a?void 0:a.losses)||0,totalRP:(null===(n=e.hostRank)||void 0===n?void 0:n.currentRP)||m});return(0,d.jsxs)("div",{className:"game-room-card",onClick:()=>(async e=>{if(!b||!A||!e)return;V(!0),E("");const s=A.name||A.nickname||b.displayName||"\uc775\uba85",a=A.classCode||"\ubbf8\uc124\uc815",n=w(le);try{const r=(0,t.H9)(l.db,"omokGames",e);await(0,t.c4)(l.db,async l=>{const c=await l.get(r);if(!c.exists())throw new Error("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uac8c\uc784\uc785\ub2c8\ub2e4.");const i=c.data();if(Object.keys(i.players).length>=2&&!i.players[b.uid])throw new Error("\uc774\ubbf8 \uac00\ub4dd \ucc2c \ubc29\uc785\ub2c8\ub2e4.");i.players[b.uid]||l.update(r,{players:(0,o.A)((0,o.A)({},i.players),{},{[b.uid]:"white"}),playerNames:(0,o.A)((0,o.A)({},i.playerNames),{},{[b.uid]:s}),playerClasses:(0,o.A)((0,o.A)({},i.playerClasses),{},{[b.uid]:a}),playerRanks:(0,o.A)((0,o.A)({},i.playerRanks),{},{[b.uid]:n}),gameStatus:"playing",turnStartTime:(0,t.O5)()}),C(e)})}catch(r){console.error("\uac8c\uc784 \ucc38\uac00 \uc624\ub958:",r),E(r.message),we()}finally{V(!1)}})(e.id),children:[R()&&(0,d.jsx)("button",{className:"admin-delete-btn",onClick:s=>(async(e,s)=>{if(s.stopPropagation(),R()){if(window.confirm("\uc774 \uac8c\uc784\ubc29\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{await(0,t.kd)((0,t.H9)(l.db,"omokGames",e)),console.log("[\uad00\ub9ac\uc790] \uac8c\uc784\ubc29 ".concat(e," \uc0ad\uc81c \uc644\ub8cc")),we()}catch(a){console.error("\uac8c\uc784\ubc29 \uc0ad\uc81c \uc624\ub958:",a),E("\uac8c\uc784\ubc29 \uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}}else console.error("\uad00\ub9ac\uc790 \uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")})(e.id,s),title:"\uac8c\uc784\ubc29 \uc0ad\uc81c",children:"\u2715"}),(0,d.jsxs)("div",{className:"room-header",children:[(0,d.jsxs)("div",{className:"room-host",children:[(0,d.jsx)(k,{rankDetails:c,size:"small"}),(0,d.jsxs)("span",{className:"host-name",children:[e.hostName,"\ub2d8\uc758 \ubc29"]}),(0,d.jsxs)("span",{className:"host-class",children:["(",e.hostClass||"\ubbf8\uc124\uc815",")"]})]}),(0,d.jsxs)("div",{className:"room-id",children:["#",e.id.slice(-6)]})]}),(0,d.jsxs)("div",{className:"room-info",children:[(0,d.jsxs)("span",{className:"player-count",children:["\ud83d\udc65",Object.keys(e.players).length,"/2"]}),(0,d.jsx)("span",{className:"room-status global-status",children:"\ub300\uae30\uc911"})]}),(0,d.jsx)("div",{className:"room-time",children:null!==(r=e.createdAt)&&void 0!==r&&r.toDate?e.createdAt.toDate().toLocaleTimeString("ko-KR"):"\ubc29\uae08 \uc804"})]},e.id)})}):(0,d.jsx)("div",{className:"no-games",children:J?"\uac8c\uc784 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911...":"\ud604\uc7ac \ucc38\uac00 \uac00\ub2a5\ud55c \uac8c\uc784\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0c8 \uac8c\uc784\uc744 \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694!"})]}),T&&(0,d.jsx)("div",{className:"omok-error",children:T}),Y.message&&(0,d.jsx)("div",{className:"feedback ".concat(Y.type),children:Y.message})]})]})}const Me=M.players[b.uid],De=Object.keys(M.players).find(e=>e!==b.uid),Te=De?M.players[De]:null,Ee=De?(null===(e=M.playerNames)||void 0===e?void 0:e[De])||"\uc0c1\ub300":"\ub300\uae30 \uc911...",Oe=null===(s=M.playerRanks)||void 0===s?void 0:s[b.uid],Ge="AI"===De?null:De?null===(a=M.playerRanks)||void 0===a?void 0:a[De]:null,Le=M.currentPlayer===b.uid,He=M.rematch&&M.rematch[b.uid],Ue=De&&M.rematch&&M.rematch[De];return(0,d.jsxs)("div",{className:"omok-container",children:[z&&(0,d.jsx)("div",{className:"win-animation",children:"\uc2b9\ub9ac!"}),ie&&(0,d.jsx)("div",{className:"reward-modal",children:(0,d.jsxs)("div",{className:"reward-content",children:[(0,d.jsx)("h3",{children:"\ud83c\udf89 \uc2b9\ub9ac \ubcf4\uc0c1!"}),(0,d.jsx)("p",{children:"\ud558\ub098\uc758 \uce74\ub4dc\ub97c \uc120\ud0dd\ud558\uc138\uc694"}),(0,d.jsx)("div",{className:"reward-cards",children:ue.map((e,s)=>(0,d.jsxs)("div",{className:"reward-card",onClick:()=>(async e=>{if(!b||!S)return void console.log("[Reward] user \ub610\ub294 gameId \uc5c6\uc74c");console.log("[Reward] \ubcf4\uc0c1 \uc120\ud0dd:",e);const s=(new Date).toDateString(),a="omokPlayCount_".concat(b.uid,"_").concat(s),o=ne+1;localStorage.setItem(a,o.toString()),te(o),de(!1),$({message:"cash"===e.type?"\ud604\uae08 ".concat(e.amount.toLocaleString(),"\uc6d0\uc744 \ud68d\ub4dd\ud588\uc2b5\ub2c8\ub2e4!"):"\ucfe0\ud3f0 ".concat(e.amount,"\uac1c\ub97c \ud68d\ub4dd\ud588\uc2b5\ub2c8\ub2e4!"),type:"success"});try{"cash"===e.type?console.log("[Reward] \ud604\uae08 \ub099\uad00\uc801 \uc5c5\ub370\uc774\ud2b8:",e.amount):"coupon"===e.type&&console.log("[Reward] \ucfe0\ud3f0 \ub099\uad00\uc801 \uc5c5\ub370\uc774\ud2b8:",e.amount),"cash"===e.type?(console.log("[Reward] \ud604\uae08 \uc9c0\uae09:",e.amount),await P(e.amount,"AI \uc624\ubaa9 \uc2b9\ub9ac \ubcf4\uc0c1")):"coupon"===e.type&&(console.log("[Reward] \ucfe0\ud3f0 \uc9c0\uae09:",e.amount),await I(b.uid,e.amount)),(0,i.Mx)(l.db,{classCode:null===A||void 0===A?void 0:A.classCode,userId:b.uid,userName:(null===A||void 0===A?void 0:A.name)||"\uc0ac\uc6a9\uc790",type:i.gI.GAME_WIN,description:"\uc624\ubaa9 AI(".concat((null===M||void 0===M?void 0:M.aiDifficulty)||"\uc911\uae09",") \uc2b9\ub9ac - ").concat("cash"===e.type?"\ud604\uae08 ".concat(e.amount.toLocaleString(),"\uc6d0"):"\ucfe0\ud3f0 ".concat(e.amount,"\uac1c")," \ud68d\ub4dd"),amount:"cash"===e.type?e.amount:0,couponAmount:"coupon"===e.type?e.amount:0,metadata:{gameType:"omok",opponent:"AI",difficulty:(null===M||void 0===M?void 0:M.aiDifficulty)||"\uc911\uae09",rewardType:e.type,rewardAmount:e.amount}}),console.log("[Reward] \ubcf4\uc0c1 \uc9c0\uae09 \uc644\ub8cc"),setTimeout(()=>ke(),2e3)}catch(T){console.error("[Reward] Error applying reward:",T),$({message:"\ubcf4\uc0c1 \uc9c0\uae09\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",type:"error"});const s=ne;localStorage.setItem(a,s.toString()),te(s)}})(e),children:[(0,d.jsx)("div",{className:"card-icon",children:"cash"===e.type?"\ud83d\udcb5":"\ud83c\udfab"}),(0,d.jsx)("div",{className:"card-title",children:"cash"===e.type?"\ud604\uae08":"\ucfe0\ud3f0"}),(0,d.jsx)("div",{className:"card-amount",children:"cash"===e.type?"".concat(e.amount.toLocaleString(),"\uc6d0"):"".concat(e.amount,"\uac1c")})]},s))})]})}),(0,d.jsxs)("div",{className:"omok-header",children:[(0,d.jsx)("h2",{children:M.aiMode?"\ud83e\udd16 AI \ub300\uc804":"\ud83c\udf0d \uae00\ub85c\ubc8c \uc624\ubaa9 \uac8c\uc784"}),(0,d.jsxs)("div",{className:"game-info",children:[(0,d.jsxs)("span",{className:"game-id",children:["ID: ",S.slice(-6)]}),(0,d.jsx)("span",{className:"game-rules",children:"\uaddc\uce59: \ub80c\uc8fc\ub8f0"}),M.aiMode?(0,d.jsxs)("span",{className:"global-match",children:["\ub09c\uc774\ub3c4: ",M.aiDifficulty]}):(0,d.jsx)("span",{className:"global-match",children:"\uc804\uc138\uacc4 \ub9e4\uce6d"})]})]}),(0,d.jsxs)("div",{className:"player-status",children:[(0,d.jsxs)("div",{className:"player-card ".concat(Me," ").concat(Le&&!M.winner?"active":""),children:[(0,d.jsxs)("div",{className:"player-info",children:[(0,d.jsx)(k,{rankDetails:Oe,size:"small"}),(0,d.jsx)("span",{className:"player-name",children:(null===(u=M.playerNames)||void 0===u?void 0:u[b.uid])||"\ub098"}),(0,d.jsx)("div",{className:"stone-indicator ".concat(Me)})]}),Le&&L&&!M.winner&&(0,d.jsx)("div",{className:"opponent-thinking",children:"\ub2f9\uc2e0 \ucc28\ub840"})]}),(0,d.jsxs)("div",{className:"player-card ".concat(Te||""," ").concat(Le||M.winner||!De?"":"active"),children:[(0,d.jsxs)("div",{className:"player-info",children:[Ge&&(0,d.jsx)(k,{rankDetails:Ge,size:"small"}),(0,d.jsx)("span",{className:"player-name",children:Ee}),Te&&(0,d.jsx)("div",{className:"stone-indicator ".concat(Te)})]}),(!Le&&De||he)&&!M.winner&&(0,d.jsx)("div",{className:"opponent-thinking",children:"\uc0dd\uac01 \uc911..."})]})]}),(0,d.jsx)("div",{className:"omok-board-container",children:(()=>{const e=[],s=[4,10,16],a=[];for(let n=0;n<h;n++)a.push((0,d.jsx)("div",{className:"grid-line horizontal",style:{top:"calc((".concat(n," + 0.5) * var(--cell-size))")}},"h-line-".concat(n)));const o=[];for(let n=0;n<h;n++)o.push((0,d.jsx)("div",{className:"grid-line vertical",style:{left:"calc((".concat(n," + 0.5) * var(--cell-size))")}},"v-line-".concat(n)));for(let n=0;n<h;n++)for(let a=0;a<h;a++){const o=f(M.board,n,a),t=W&&W.row===n&&W.col===a,l=U&&U.row===n&&U.col===a,r=s.includes(n)&&s.includes(a);e.push((0,d.jsxs)("div",{className:"omok-cell ".concat(M.currentPlayer!==b.uid||o?"":"clickable"," ").concat(t?"preview":""),onClick:()=>je(n,a),style:{gridRow:n+1,gridColumn:a+1},children:[r&&(0,d.jsx)("div",{className:"star-point"}),o&&(0,d.jsx)("div",{className:"omok-stone ".concat(o),children:l&&(0,d.jsx)("div",{className:"last-move-indicator"})})]},"".concat(n,"-").concat(a)))}return(0,d.jsxs)("div",{className:"omok-board",style:{"--board-size":h},children:[(0,d.jsxs)("div",{className:"grid-lines-container",children:[a,o]}),e]})})()}),(0,d.jsx)("div",{className:"omok-status",children:M.winner?(0,d.jsxs)("div",{className:"winner-announcement",children:["AI"===M.winner?"AI\uc758 \uc2b9\ub9ac!":((null===(j=M.playerNames)||void 0===j?void 0:j[M.winner])||"\uc2b9\uc790")+" \ub2d8\uc758 \uc2b9\ub9ac!",K&&(0,d.jsxs)("span",{className:"rp-change ".concat(K.outcome),children:["(",K.rpChange>0?"+":"",K.rpChange," RP)"]}),(0,d.jsx)("br",{}),!M.aiMode&&M.winner===b.uid&&M.couponAwardedTo===b.uid&&"\ud83c\udf89 \ucfe0\ud3f0 1\uac1c\ub97c \ud68d\ub4dd\ud588\uc2b5\ub2c8\ub2e4!",!M.aiMode&&M.winner===b.uid&&M.couponAwardedTo!==b.uid&&"(\uac8c\uc784 \uc2dc\uac04\uc774 15\ucd08 \ubbf8\ub9cc\uc774\ub77c \ucfe0\ud3f0\uc774 \uc9c0\uae09\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.)"]}):(0,d.jsxs)("div",{className:"turn-info",children:["\ud604\uc7ac \ucc28\ub840: ",Le?"\ub2f9\uc2e0":"AI"===M.currentPlayer?"AI":(null===(N=M.playerNames)||void 0===N?void 0:N[M.currentPlayer])||"\uc0c1\ub300",Object.keys(M.players).length<2&&!M.aiMode&&(0,d.jsx)("div",{className:"waiting-player",children:"\uc0c1\ub300\ubc29\uc744 \uae30\ub2e4\ub9ac\uace0 \uc788\uc2b5\ub2c8\ub2e4..."})]})}),T&&(0,d.jsx)("div",{className:"omok-error",children:T}),Y.message&&(0,d.jsx)("div",{className:"feedback ".concat(Y.type),children:Y.message}),(0,d.jsx)("div",{className:"game-controls",children:"finished"===M.gameStatus?(0,d.jsxs)(d.Fragment,{children:[!M.aiMode&&!He&&(0,d.jsx)("button",{onClick:async()=>{if(S&&b)try{await(0,t.mZ)((0,t.H9)(l.db,"omokGames",S),{["rematch.".concat(b.uid)]:!0})}catch(e){console.error("\uc7ac\ub300\uacb0 \uc694\uccad \uc624\ub958:",e),E("\uc7ac\ub300\uacb0\uc744 \uc694\uccad\ud558\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},className:"omok-button primary",children:"\ub2e4\uc2dc \ud558\uae30"}),(0,d.jsx)("button",{onClick:ke,className:"omok-button secondary",children:"\ub85c\ube44\ub85c \ub3cc\uc544\uac00\uae30"})]}):(0,d.jsx)("button",{onClick:ke,className:"omok-button secondary",children:"\uae30\uad8c\ud558\uace0 \ub098\uac00\uae30"})}),!M.aiMode&&"finished"===M.gameStatus&&(0,d.jsxs)("div",{className:"rematch-info",style:{textAlign:"center",marginTop:"1rem",color:"white",fontWeight:600},children:[He&&!Ue&&(0,d.jsx)("p",{children:"\uc7ac\ub300\uacb0\uc744 \uc694\uccad\ud588\uc2b5\ub2c8\ub2e4. \uc0c1\ub300\ubc29\uc744 \uae30\ub2e4\ub9bd\ub2c8\ub2e4..."}),Ue&&!He&&(0,d.jsx)("p",{children:"\uc0c1\ub300\ubc29\uc774 \uc7ac\ub300\uacb0\uc744 \uc6d0\ud569\ub2c8\ub2e4!"}),He&&Ue&&(0,d.jsx)("p",{children:"\uc591\ucabd \ubaa8\ub450 \uc7ac\ub300\uacb0\uc744 \uc6d0\ud569\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \uac8c\uc784\uc774 \ub2e4\uc2dc \uc2dc\uc791\ub429\ub2c8\ub2e4!"})]})]})}}}]);
//# sourceMappingURL=393.0348ebf3.chunk.js.map