{"version":3,"file":"static/js/635.65ed438b.chunk.js","mappings":"qJAGA,MASA,EATqBA,KAEjBC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,6DACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,yI,wICiBT,MAAME,EAA2B,IAE3BC,EAAiB,SAACC,GACtB,MAEMC,GAHyCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGJ,IACtCO,KAAKC,MACSN,GAE1B,GAAIC,GAAY,EAAG,MAAO,qBAC1B,MAAMM,EAAQC,KAAKC,MAAMR,EAAQ,MAC3BS,EAAUF,KAAKC,MAAOR,EAAQ,KAAmB,KACjDU,EAAUH,KAAKC,MAAOR,EAAQ,IAAkB,KACtD,IAAIW,EAAY,GAIhB,OAHIL,EAAQ,IAAGK,GAAS,GAAAC,OAAON,EAAK,mBAChCG,EAAU,GAAKH,EAAQ,KAAGK,GAAS,GAAAC,OAAOH,EAAO,YACrDE,GAAS,GAAAC,OAAOF,EAAO,uBAChBC,EAAUE,MACnB,EAEMC,EAAgBC,IAAmB,IAAlB,SAAEC,GAAUD,EAC7BE,EAAa,GAIjB,OAHmBA,EAAfD,EAAW,GAAiB,gBACvBA,EAAW,EAAgB,kBAClB,gBACXvB,EAAAA,EAAAA,MAAA,QAAMC,UAAS,kBAAAkB,OAAoBK,GAAatB,SAAA,CAAC,OAAEqB,MAGtDE,EAAUA,KACd,MAAM,KAAEC,EAAI,QAAEC,EAAO,MAAEC,EAAK,WAAEC,IAAeC,EAAAA,EAAAA,OAAa,CAAC,GACrD,UACJC,EAAS,QACTC,EAAO,gBACPC,EAAe,YACfC,EAAW,qBACXC,IACEC,EAAAA,EAAAA,OAAc,CAChBL,UAAW,GACXC,QAAS,KACTC,gBAAiB,KACjBC,YAAa,KACbC,qBAAsB,MAGlBE,GAAWC,EAAAA,EAAAA,OAEVC,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,MAC3CC,EAAmBA,CAACC,EAAMC,KAC9BJ,EAAgB,CAAEG,OAAMC,YACxBC,WAAW,IAAML,EAAgB,MAAO,MAGpCM,GAAmBC,EAAAA,EAAAA,SAAQ,KAC/B,IAAKhB,GAAkC,IAArBA,EAAUtB,OAC1B,MAAO,GAGT,MAAMuC,EAAW,IAAIC,IAuCrB,OArCAlB,EAAUmB,QAAQC,IAChB,IAAKA,IAASA,EAAKC,QAAmC,kBAAlBD,EAAK5B,UAAyB4B,EAAK5B,UAAY,EACjF,OAGF,MAAM8B,EAAMF,EAAKC,OAEjB,GAAIJ,EAASM,IAAID,GAAM,CACrB,MAAME,EAAgBP,EAASQ,IAAIH,GACnCE,EAAcE,eAAiBN,EAAK5B,SACpCgC,EAAcG,WAAWC,KAAKR,GAC1BA,EAAKS,OAASL,EAAcM,YAAYD,OAC1CL,EAAcM,YAAYD,KAAOT,EAAKS,MAEpCT,EAAKW,OAASP,EAAcM,YAAYC,OAC1CP,EAAcM,YAAYC,KAAOX,EAAKW,MAEpCX,EAAKY,cAAgBR,EAAcM,YAAYE,cACjDR,EAAcM,YAAYE,YAAcZ,EAAKY,YAEjD,MACEf,EAASgB,IAAIX,EAAK,CAChBQ,YAAa,CACXT,OAAQD,EAAKC,OACbQ,KAAMT,EAAKS,MAAQ,gDACnBE,KAAMX,EAAKW,MAAQ,eACnBC,YAAaZ,EAAKY,aAAe,GACjCpB,KAAMQ,EAAKR,MAAQ,UACnBsB,MAAOd,EAAKc,OAAS,EACrBC,WAAYf,EAAKe,YAAc9D,GAEjCqD,cAAeN,EAAK5B,SACpBmC,WAAY,CAACP,OAKZgB,MAAMC,KAAKpB,EAASqB,UAAUC,KAAK,CAACC,EAAGC,IAC5CD,EAAEV,YAAYD,KAAKa,cAAcD,EAAEX,YAAYD,QAEhD,CAAC7B,KAEG2C,EAAmBC,IAAwBlC,EAAAA,EAAAA,UAAS,KACzD,IACE,MAAMmC,EAAQC,aAAaC,QAAQ,qBAAD3D,QACP,OAAJO,QAAI,IAAJA,OAAI,EAAJA,EAAMqD,MAAO,UAEpC,OAAOH,EAAQI,KAAKC,MAAML,GAAS,CAAC,CACtC,CAAE,MAAOM,GACP,MAAO,CAAC,CACV,KAGFC,EAAAA,EAAAA,WAAU,KACA,OAAJzD,QAAI,IAAJA,GAAAA,EAAMqD,KACRF,aAAaO,QAAQ,qBAADjE,OACGO,EAAKqD,KAC1BC,KAAKK,UAAUX,KAGlB,CAACA,EAAuB,OAAJhD,QAAI,IAAJA,OAAI,EAAJA,EAAMqD,MAE7B,MAAMO,EAAuBC,OAAOC,KAAKd,GAAmBjE,OAAS,GACrE0E,EAAAA,EAAAA,WAAU,KACR,IAAKG,EAAsB,OAC3B,MAAMG,EAAQC,YAAY,KACxBf,EAAsBgB,IACpB,IAAIC,GAAe,EACnB,MAAMC,GAAYC,EAAAA,EAAAA,GAAA,GAAQH,GACpB/E,EAAMD,KAAKC,MAUjB,OATA2E,OAAOC,KAAKK,GAAc3C,QAASE,IAAY,IAAD2C,EAC5C,MAAMC,EAAWH,EAAazC,GACxB6C,GACgB,QAApBF,EAAAC,EAASE,mBAAW,IAAAH,OAAA,EAApBA,EAAsB7B,aAAc9D,EAClCQ,EAAMoF,EAAS1F,cAAgB2F,WAC1BJ,EAAazC,GACpBwC,GAAe,KAGZA,EAAeC,EAAeF,KAEtC,KACH,MAAO,IAAMQ,cAAcV,IAC1B,CAACH,IAEJ,MAAOc,EAAcC,IAAmB5D,EAAAA,EAAAA,UAAS,CAC/C6D,QAAQ,EACRnD,KAAM,KACN5B,SAAU,KAELgF,EAAWC,IAAgB/D,EAAAA,EAAAA,UAAS,CACzC6D,QAAQ,EACRnD,KAAM,QAEDsD,EAAkBC,IAAuBjE,EAAAA,EAAAA,UAAS,KAClDkE,EAAcC,IAAmBnE,EAAAA,EAAAA,UAAS,IAC1CoE,EAAWC,IAAgBrE,EAAAA,EAAAA,WAAS,IACpCsE,EAAWC,IAAgBvE,EAAAA,EAAAA,WAAS,IACpCwE,EAAmBC,IAAwBzE,EAAAA,EAAAA,UAAS,CACzD6D,QAAQ,EACRnD,KAAM,KACN5B,SAAU,EACV0C,MAAO,IAeHkD,EAA0BA,KAC9Bd,EAAgB,CAAEC,QAAQ,EAAOnD,KAAM,KAAM5B,SAAU,KAsBnD6F,EAAuBA,KAC3BZ,EAAa,CAAEF,QAAQ,EAAOnD,KAAM,QA2BhCkE,EAA+BA,KACnCH,EAAqB,CACnBZ,QAAQ,EACRnD,KAAM,KACN5B,SAAU,EACV0C,MAAO,KAyeLqD,EAAaf,EAAUD,OAASC,EAAUpD,KAAO,KAEvD,OACEnD,EAAAA,EAAAA,MAAAuH,EAAAA,SAAA,CAAArH,SAAA,EACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,aAAYC,SAAC,4CACzBwB,IAAQvB,EAAAA,EAAAA,KAACJ,EAAAA,EAAY,IACtBwC,IAAiBpC,EAAAA,EAAAA,KAAA,OAAKF,UAAS,mBAAAkB,OAAqBoB,EAAaI,KAAI,QAAOzC,SAAEqC,EAAaK,UAE3FlB,IACC1B,EAAAA,EAAAA,MAAAuH,EAAAA,SAAA,CAAArH,SAAA,CACGqF,OAAOC,KAAKd,GAAmBjE,OAAS,IACvCT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,gBAAeC,SAAC,kDAC9BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,SACxBqF,OAAOiC,QAAQ9C,GAAmB+C,IAAIC,IAAA,IAAEtE,EAAQ4C,GAAS0B,EAAA,OACxDvH,EAAAA,EAAAA,KAAA,OAAkBF,UAAU,mCAAkCC,UAC3DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAACC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,SAAE8F,EAASE,YAAYpC,MAAQ,cAC1F9D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,YAAWC,SAAE8F,EAASE,YAAYtC,QAChDzD,EAAAA,EAAAA,KAAA,KAAGF,UAAU,aAAYC,SAAEG,EAAe2F,EAAS1F,cAAe0F,EAASE,YAAYhC,qBAG3F/D,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAACC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,oBAAoB0H,QAASA,IAnbzEvE,KAC5BuB,EAAqBgB,IACnB,MAAME,GAAYC,EAAAA,EAAAA,GAAA,GAAQH,GAE1B,cADOE,EAAazC,GACbyC,IAETnD,EAAiB,OAAQ,gFA6akFkF,CAAqBxE,GAAQlD,SAAC,oCAT/GkD,WAiBlBpD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,gBAAeC,SAAC,oCAC7B4C,EAAiBrC,OAAS,GACzBN,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,SACxB4C,EAAiB2E,IAAKI,IACrB1H,EAAAA,EAAAA,KAAA,OAAoCF,UAAU,sCAAqCC,UACjFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uBAAsBC,SAAE2H,EAAMhE,YAAYD,QACxDzD,EAAAA,EAAAA,KAACkB,EAAa,CAACE,SAAUsG,EAAMpE,mBAEhCoE,EAAMhE,YAAYE,aAAe8D,EAAMhE,YAAYE,YAAY3C,SAC9DjB,EAAAA,EAAAA,KAAA,KAAGF,UAAU,8BAA6BC,SAAE2H,EAAMhE,YAAYE,eAEhE/D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,kBAAkB0H,QAASA,KA7lBrCE,KACzBnG,GAIAmG,GAASA,EAAMpE,eAAiB,EACnCf,EAAiB,QAAS,6FAG5B2D,EAAgB,CAAEC,QAAQ,EAAMnD,KAAM0E,EAAOtG,SAAU,IAPrDmB,EAAiB,QAAS,6DA4lBJoF,CAAuBD,IACtBE,SAAUhB,EAAU7G,SAAC,8BACxBC,EAAAA,EAAAA,KAAA,UACEF,UAAU,mBACV0H,QAASA,KAllBNE,KACtBnG,EAIAG,GAAoC,IAAtBA,EAAWpB,QAIzBoH,GAASA,EAAMpE,eAAiB,EACnCf,EAAiB,QAAS,0EAI5BgE,EAAoB,IACpBE,EAAgB,GAChBJ,EAAa,CAAEF,QAAQ,EAAMnD,KAAM0E,KAVjCnF,EAAiB,QAAS,0GAJ1BA,EAAiB,QAAS,6DAilBFsF,CAAoBH,IAEtBE,UAAWlG,GAAoC,IAAtBA,EAAWpB,QAAgBsG,EAAU7G,SAE7D6G,EAAY,4BAAU,oCApBrBc,EAAMhE,YAAYT,YA4BhCjD,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,UAACC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,4FAO3CkG,EAAaE,QAAUF,EAAajD,OACnChD,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAwB0H,QAAUzC,IAAYA,EAAE+C,SAAW/C,EAAEgD,eAAef,KAA6BjH,UACtHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAKkG,EAAajD,KAAKU,YAAYD,KAAK,gCACxCzD,EAAAA,EAAAA,KAAA,UAAQwH,QAASR,EAAyBlH,UAAU,uBAAsBC,SAAC,eAE7EC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,qBAAoBC,UACjCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,SAAOmI,QAAQ,cAAajI,SAAA,CAAC,kDAAakG,EAAajD,KAAKM,cAAc,cAC1EzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCC,EAAAA,EAAAA,KAAA,UAAQwH,QAASA,IAAMtB,EAAgB+B,IAAItC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUsC,GAAI,IAAE7G,SAAUT,KAAKuH,IAAI,EAAGD,EAAK7G,SAAW,MAAQwG,SAAU3B,EAAa7E,UAAY,EAAErB,SAAC,OAC/IC,EAAAA,EAAAA,KAAA,SAAOmI,GAAG,cAAc3F,KAAK,SAAS4F,IAAI,IAAIF,IAAKjC,EAAajD,KAAKM,cAAe+E,MAAOpC,EAAa7E,SACtGkH,SAAWvD,GAAMmB,EAAgB+B,IAAItC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUsC,GAAI,IAAE7G,SAAUT,KAAKuH,IAAI,EAAGvH,KAAKyH,IAAIH,EAAKjF,KAAKM,cAAeiF,SAASxD,EAAE+C,OAAOO,QAAU,UAE3IrI,EAAAA,EAAAA,KAAA,UAAQwH,QAASA,IAAMtB,EAAgB+B,IAAItC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUsC,GAAI,IAAE7G,SAAUT,KAAKyH,IAAIH,EAAKjF,KAAKM,cAAe2E,EAAK7G,SAAW,MAAQwG,SAAU3B,EAAa7E,UAAY6E,EAAajD,KAAKM,cAAcvD,SAAC,eAIzMF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UAAQwH,QAASR,EAAyBlH,UAAU,mBAAkBC,SAAC,kBACvEC,EAAAA,EAAAA,KAAA,UAAQwH,QAljBSgB,UAC3B,MAAQxF,KAAM0E,EAAOtG,SAAUqH,GAAkBxC,EACjD,IAAKyB,IAAUe,GAAiBA,GAAiB,EAC/ClG,EAAiB,QAAS,oHAI5B,GAAImF,EAAMpE,cAAgBmF,EACxBlG,EAAiB,QAAS,wEAI5B,IACE,IAAImG,EAAiBD,EACrB,MAAME,EAAU,GAEVC,EAAa,IAAIlB,EAAMnE,YAAYY,KAAK,CAACC,EAAGC,IAAMD,EAAEhD,SAAWiD,EAAEjD,UAEvE,IAAK,MAAMyH,KAAOD,EAAY,CAC5B,GAAIF,GAAkB,EAAG,MAEzB,MAAMI,EAAcnI,KAAKyH,IAAIS,EAAIzH,SAAUsH,GAGrCK,QAAelH,EAAQgH,EAAIV,GAAIW,GAGrC,GAFAH,EAAQnF,KAAKuF,IAERA,EAAOC,QACV,MAAM,IAAIC,MAAMF,EAAOtG,SAAO,+EAAAzB,OAAuB6H,EAAIV,GAAE,MAG7DO,GAAkBI,CACpB,CAEA,GAAIJ,EAAiB,EACnB,MAAM,IAAIO,MAAM,4IAADjI,OAAoC0H,EAAc,MAGnEnG,EAAiB,UAAU,GAADvB,OAAK0G,EAAMhE,YAAYD,KAAI,KAAAzC,OAAIyH,EAAa,uDACtEzB,IAEAxC,EAAqByD,IAAItC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACpBsC,GAAI,IACP,CAACP,EAAMhE,YAAYT,QAAS,CAC1B9C,cAAeK,KAAKC,MACpBsF,YAAa,CACXtC,KAAMiE,EAAMhE,YAAYD,KACxBE,KAAM+D,EAAMhE,YAAYC,KACxBI,WAAY2D,EAAMhE,YAAYK,YAAc9D,MAKpD,CAAE,MAAOiJ,GACP3G,EAAiB,QAAQ,mGAADvB,OAA0BkI,EAAMzG,SAC1D,GA2fiD3C,UAAU,iBAAgBC,SAAC,qCAMzEqG,EAAUD,QAAUgB,IACnBnH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAwB0H,QAAUzC,IAAYA,EAAE+C,SAAW/C,EAAEgD,eAAed,KAA0BlH,UACnHF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAKoH,EAAWzD,YAAYD,MAAQ,qBAAM,gCAC1CzD,EAAAA,EAAAA,KAAA,UAAQwH,QAASP,EAAsBnH,UAAU,uBAAsBC,SAAC,eAE1EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAOgI,QAAQ,gBAAejI,SAAC,6CAC/BF,EAAAA,EAAAA,MAAA,UAAQsI,GAAG,gBAAgBE,MAAO/B,EAAkBgC,SAAWvD,GAAMwB,EAAoBxB,EAAE+C,OAAOO,OAAQvI,UAAU,cAAaC,SAAA,EAC/HC,EAAAA,EAAAA,KAAA,UAAQqI,MAAM,GAAGT,UAAQ,EAAA7H,SAAC,4DACzB2B,EAAW4F,IAAK6B,IACftJ,EAAAA,EAAAA,MAAA,UAA4CwI,MAAOc,EAAUvE,KAAOuE,EAAUhB,GAAGpI,SAAA,CAAEoJ,EAAU1F,KAAK,KAAG0F,EAAUC,SAAS,MAA3GD,EAAUvE,KAAOuE,EAAUhB,YAI9CtI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,SAAOmI,QAAQ,eAAcjI,SAAA,CAAC,kDAAaoH,EAAW7D,cAAc,cACpEzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCC,EAAAA,EAAAA,KAAA,UAAQwH,QAASA,IAAMf,EAAiBwB,GAAStH,KAAKuH,IAAI,EAAGD,EAAO,IAAKL,SAAUpB,GAAgB,EAAEzG,SAAC,OACtGC,EAAAA,EAAAA,KAAA,SAAOmI,GAAG,eAAe3F,KAAK,SAAS4F,IAAI,IAAIF,IAAKf,EAAW7D,cAAe+E,MAAO7B,EACnF8B,SAAWvD,GAAM0B,EAAgB9F,KAAKuH,IAAI,EAAGvH,KAAKyH,IAAIjB,EAAW7D,cAAeiF,SAASxD,EAAE+C,OAAOO,QAAU,QAE9GrI,EAAAA,EAAAA,KAAA,UAAQwH,QAASA,IAAMf,EAAiBwB,GAAStH,KAAKyH,IAAIjB,EAAW7D,cAAe2E,EAAO,IAAKL,SAAUpB,GAAgBW,EAAW7D,cAAcvD,SAAC,gBAI1JF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UAAQwH,QAASP,EAAsBnH,UAAU,mBAAkBC,SAAC,kBACpEC,EAAAA,EAAAA,KAAA,UAAQwH,QAnhBGgB,UACrB,GAAI9B,EAAW,OAEf,MAAQ1D,KAAM0E,GAAUtB,EACxB,IAAK7E,IAAS+E,IAAqBoB,EAGjC,OAFA2B,EAAAA,GAAOH,MAAM,oDAAuB,CAAE3H,OAAQA,EAAM+E,mBAAkBoB,QAASA,SAC/EnF,EAAiB,QAAS,sFAG5B,MAAMnB,EAAWkI,OAAO9C,IAAiB,EACzC,GAAIpF,GAAY,GAAKA,EAAWsG,EAAMpE,cAGpC,OAFA+F,EAAAA,GAAOH,MAAM,oDAAuB,CAAE9H,WAAUkC,cAAeoE,EAAMpE,qBACrEf,EAAiB,QAAS,sFAK5B,MAAMgH,EAAY7H,EAAW8H,KAAKC,IAAMA,EAAE7E,KAAO6E,EAAEtB,MAAQ7B,GACrDoD,EAAgBH,EAAYA,EAAU9F,KAAO,gDAWnD,IAAIkG,EATJN,EAAAA,GAAOO,IAAI,uCAAoB,CAC7BC,qBAAKnC,EAAMhE,YAAYD,KACvBqG,eAAI1I,EACJ2I,kCAAc,OAAPvI,QAAO,IAAPA,OAAO,EAAPA,EAASiC,OAAQlC,EAAKqD,IAC7BoF,2BAAMN,EACNO,8BAAS3D,IAGXK,GAAa,GAEb,IAEE,MAAMuD,GAAeC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,QAAS7I,EAAKqD,IAAK,aACjDyF,QAAyBC,EAAAA,EAAAA,IAAQJ,GACjCK,EAAaF,EAAiBG,KAAKlD,IAAIuB,IAAG,CAC9CV,GAAIU,EAAIV,GACRlF,OAAQ4F,EAAI4B,OAAOxH,OACnBQ,KAAMoF,EAAI4B,OAAOhH,KACjBrC,SAAUyH,EAAI4B,OAAOrJ,YAGvBiI,EAAAA,GAAOO,IAAI,+FACXP,EAAAA,GAAOO,IAAI,4BAASS,EAAiBK,MACrCrB,EAAAA,GAAOO,IAAI,sBAAQW,GAGnB,MAAMI,EAAe,CAAC,EACtBJ,EAAWxH,QAAQ8F,IACjB,MAAM3F,EAAM2F,EAAI5F,QAAU4F,EAAIV,GACzBwC,EAAazH,KAAMyH,EAAazH,GAAO,IAC5CyH,EAAazH,GAAKM,KAAKqF,EAAIV,MAE7BkB,EAAAA,GAAOO,IAAI,uCAAyBe,GAIpC,MAAMC,EAASlD,EAAMnE,WAAW+D,IAAIuB,GAAOA,EAAIV,IAE/CkB,EAAAA,GAAOO,IAAI,6DAA2BgB,GAGtC,MAAMC,EAAmB,GACzB,IAAIC,EAAsB,EAE1B,IAAK,MAAMC,KAASH,EAAQ,CAC1B,MAAMI,GAASC,EAAAA,EAAAA,IAAYb,EAAAA,GAAI,QAAS7I,EAAKqD,IAAK,YAAamG,GACzDG,QAAgBC,EAAAA,EAAAA,IAAOH,GAE7B,GAAIE,EAAQE,SAAU,CACpB,MAAMX,EAAOS,EAAQT,OACrBI,EAAiBrH,MAAImC,EAAAA,EAAAA,GAAC,CACpBwC,GAAI+C,EAAQ/C,IACTsC,IAELK,GAAwBL,EAAKrJ,UAAY,EACzCiI,EAAAA,GAAOO,IAAI,8CAAsB,CAAEzB,GAAI+C,EAAQ/C,GAAI/G,SAAUqJ,EAAKrJ,UACpE,MACEiI,EAAAA,GAAOgC,KAAK,oDAAuBN,EAEvC,CAQA,GANA1B,EAAAA,GAAOO,IAAI,6GAAmC,CAC5C0B,iCAAO5D,EAAMnE,WAAWjD,OACxBiL,iCAAOV,EAAiBvK,OACxBkL,iCAAOV,IAGuB,IAA5BD,EAAiBvK,OACnB,MAAM,IAAI2I,MAAM,+KAGlB,GAAI6B,EAAsB1J,EACxB,MAAM,IAAI6H,MAAM,wFAADjI,OAAwBI,EAAQ,iCAAAJ,OAAY8J,EAAmB,MAIhF,MAAMW,GAAwBtB,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,QAAS9D,EAAkB,aAClEoF,GAAiBC,EAAAA,EAAAA,GAAMF,GAAuBG,EAAAA,EAAAA,IAAM,SAAU,KAAMlE,EAAMhE,YAAYT,SACtF4I,QAA+BvB,EAAAA,EAAAA,IAAQoB,GAEvCI,EAA0BD,EAAuBE,MAAQ,KAAOF,EAAuBrB,KAAK,GAAGwB,IAErG3C,EAAAA,GAAOO,IAAI,qHAAsC,CAC/CqC,8CAAUJ,EAAuBE,MACjCG,qBAAKL,EAAuBnB,OAG9Bf,EAAoB,IAAI/H,GAExB,MAAMuK,EAAmB,GACzB,IAAIC,EAAoBhL,EAExB,IAAK,MAAM4B,KAAQpB,EACjB,GAAIoB,EAAKC,SAAWyE,EAAMhE,YAAYT,QAAUmJ,EAAoB,EAAG,CACrE,MAAMC,EAAe1L,KAAKyH,IAAIpF,EAAK5B,SAAUgL,GACvCE,EAActJ,EAAK5B,SAAWiL,EAEhCC,EAAc,GAChBH,EAAiB3I,MAAImC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAI3C,GAAI,IAAE5B,SAAUkL,KAG7CF,GAAqBC,CACvB,MACEF,EAAiB3I,KAAKR,GAItBhB,GACFA,EAAqBmK,SAIjBI,EAAAA,EAAAA,IAAenC,EAAAA,GAAI5B,UAIvB,MAAMgE,EAAkB,GACxB,IAAK,MAAMC,KAAa5B,EAAkB,CACxC,MAAM6B,GAAgBzB,EAAAA,EAAAA,IAAYb,EAAAA,GAAI,QAAS7I,EAAKqD,IAAK,YAAa6H,EAAUtE,IAC1EwE,QAAuBC,EAAYvJ,IAAIqJ,GAE7C,IAAKC,EAAevB,SAElB,MADA/B,EAAAA,GAAOH,MAAM,6GAAmCuD,EAAUtE,IACpD,IAAIc,MAAM,qJAGlB,MAAM4D,EAAkBF,EAAelC,OAAOrJ,UAAY,EAC1D,GAAIyL,GAAmB,EAErB,MADAxD,EAAAA,GAAOH,MAAM,4FAAiCuD,EAAUtE,IAClD,IAAIc,MAAM,wKAGlBuD,EAAgBhJ,KAAK,CACnBwI,IAAKU,EACLI,KAAMH,EACNvL,SAAUyL,GAEd,CAGA,IAAIE,EAAmB,KACnBC,EAA2B,EAE/B,GAAIlB,EAAyB,CAE3BiB,EAAmBjB,EACnB,MAAMmB,QAAsBL,EAAYvJ,IAAI0J,GAExCE,EAAc7B,UAChB4B,EAA2BC,EAAcxC,OAAOrJ,UAAY,EAC5DiI,EAAAA,GAAOO,IAAI,oFAA8B,CACvCsD,iBAAMH,EAAiB5E,GACvBgF,2BAAMH,MAGR3D,EAAAA,GAAOgC,KAAK,iKACZ0B,EAAmB,KAEvB,MACE1D,EAAAA,GAAOO,IAAI,uGAKb,IAAIwD,EAAkBhM,EAClBiM,EAAkB,EAGtB,IAAK,MAAQrB,IAAKU,EAAetL,SAAUyL,KAAqBL,EAAiB,CAC/E,GAAIY,GAAmB,EAAG,MAE1B,MAAME,EAAoB3M,KAAKyH,IAAIyE,EAAiBO,GAC9CG,EAAeV,EAAkBS,EAEvCjE,EAAAA,GAAOO,IAAI,6CAAqB,CAC9BsD,iBAAMR,EAAcvE,GACpBqF,2BAAMX,EACNY,2BAAMH,EACNI,2BAAMH,IAGJA,GAAgB,EAClBX,EAAYe,OAAOjB,GAEnBE,EAAYgB,OAAOlB,EAAe,CAAEtL,SAAUmM,IAGhDH,GAAmBE,EACnBD,GAAmBC,CACrB,CAGA,GAAID,EAAkBjM,EAEpB,MADAiI,EAAAA,GAAOH,MAAM,0DAAwB,CAAE2E,eAAIzM,EAAU0M,qBAAKT,IACpD,IAAIpE,MAAM,wFAADjI,OAAwBI,EAAQ,iCAAAJ,OAAYqM,EAAe,MAI5E,GAAIN,EAEF1D,EAAAA,GAAOO,IAAI,wIAA0C,CACnD4D,2BAAMR,EACNe,2BAAMV,EACNW,2BAAMhB,EAA2BK,IAEnCT,EAAYgB,OAAOb,EAAkB,CACnC3L,SAAU4L,EAA2BK,EACrCY,WAAWC,EAAAA,EAAAA,YAER,CAEL7E,EAAAA,GAAOO,IAAI,mGAAmC,CAAEE,eAAIuD,IACpD,MAAMc,GAAsBlD,EAAAA,EAAAA,IAAYQ,GACxCmB,EAAY/I,IAAIsK,EAAqB,CACnClL,OAAQyE,EAAMhE,YAAYT,OAC1BQ,KAAMiE,EAAMhE,YAAYD,KACxBE,KAAM+D,EAAMhE,YAAYC,KACxBC,YAAa8D,EAAMhE,YAAYE,YAC/BpB,KAAMkF,EAAMhE,YAAYlB,KACxBpB,SAAUiM,EACVe,YAAYF,EAAAA,EAAAA,MACZD,WAAWC,EAAAA,EAAAA,OAEf,IAGF7E,EAAAA,GAAOO,IAAI,uEACXrH,EAAiB,UAAU,GAADvB,OAAK0I,EAAa,uBAAA1I,OAAO0G,EAAMhE,YAAYD,KAAI,KAAAzC,OAAII,EAAQ,uDACrF6F,IAEAvE,WAAW,KACLX,GAAaA,KAChB,IAEL,CAAE,MAAOmH,GAaP,GAZAG,EAAAA,GAAOH,MAAM,mDAAsBA,GAG/BlH,GAAwB2H,IAC1BN,EAAAA,GAAOO,IAAI,qHACX5H,EAAqB2H,IAIvBpH,EAAiB,QAAQ,0CAADvB,OAAckI,EAAMzG,UAGxCV,EAAa,CACfsH,EAAAA,GAAOO,IAAI,sEACX,IACE,MAAMb,EAAShH,IACXgH,GAAiC,oBAAhBA,EAAOsF,YACpBtF,EAERM,EAAAA,GAAOO,IAAI,qEACb,CAAE,MAAO0E,GACPjF,EAAAA,GAAOH,MAAM,sEAA0BoF,EACzC,CACF,CACF,CAAC,QACC3H,GAAa,EACf,GA0P2C7G,UAAU,iBAAiB8H,SAAUlB,GAAaE,EAAU7G,SAC1F2G,EAAY,qCAAeE,EAAY,+BAAa,qCAO9DE,EAAkBX,QAAUW,EAAkB9D,OAC7ChD,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAwB0H,QAAUzC,IAAYA,EAAE+C,SAAW/C,EAAEgD,eAAeb,KAAkCnH,UAC3HF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,IAAE+G,EAAkB9D,KAAKU,YAAYD,KAAK,oDAC9CzD,EAAAA,EAAAA,KAAA,UAAQwH,QAASN,EAA8BpH,UAAU,uBAAsBC,SAAC,eAElFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBC,SAAA,EAClCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,kBAAiBC,SAAE+G,EAAkB9D,KAAKU,YAAYC,QACtE9D,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAO+G,EAAkB9D,KAAKU,YAAYD,KAAK,mBAAOqD,EAAkB9D,KAAKM,cAAc,iBAE7FzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,MAAA,SAAOmI,QAAQ,uBAAsBjI,SAAA,CAAC,4CAAY+G,EAAkB9D,KAAKM,cAAc,eACvFtD,EAAAA,EAAAA,KAAA,SAAOwC,KAAK,SAAS2F,GAAG,uBAAuBE,MAAOvB,EAAkB1F,SAAUkH,SAAWvD,GA7nBjEsD,KAAW,IAADkG,EAClD,MAAMC,GAA+B,QAAtBD,EAAAzH,EAAkB9D,YAAI,IAAAuL,OAAA,EAAtBA,EAAwBjL,gBAAiB,EAClDmL,EAAS9N,KAAKuH,IAAI,EAAGvH,KAAKyH,IAAIoG,EAAQjG,SAASF,IAAU,IAC/DtB,EAAsBkB,IAAItC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACrBsC,GAAI,IACP7G,SAAUqN,MAwnBmGC,CAAiC3J,EAAE+C,OAAOO,OAAQD,IAAI,IAAIF,IAAKpB,EAAkB9D,KAAKM,oBAE3LzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,SAAOgI,QAAQ,oBAAmBjI,SAAC,sDACnCC,EAAAA,EAAAA,KAAA,SAAOwC,KAAK,SAAS2F,GAAG,oBAAoBE,MAAOvB,EAAkBhD,MAAOwE,SAAWvD,GAxnB9DsD,KACrC,MAAMsG,EAAWhO,KAAKuH,IAAI,EAAGK,SAASF,IAAU,GAChDtB,EAAsBkB,IAAItC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACrBsC,GAAI,IACPnE,MAAO6K,MAonBgGC,CAA8B7J,EAAE+C,OAAOO,OAAQD,IAAI,UAElJvI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAAC,4CACzBF,EAAAA,EAAAA,MAAA,UAAAE,SAAA,EAAU+G,EAAkBhD,MAAQgD,EAAkB1F,UAAUyN,iBAAiB,mBAG/FhP,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UAAQwH,QAASN,EAA8BpH,UAAU,mBAAkBC,SAAC,kBAC5EC,EAAAA,EAAAA,KAAA,UAAQwH,QAzRcgB,UAChC,MAAQxF,KAAM0E,EAAK,SAAEtG,EAAQ,MAAE0C,GAAUgD,EACzC,GAAKY,GAAUtG,GAAa0C,EAK5B,IAEE,MAAM8G,EAASlD,EAAMnE,WAAW+D,IAAIuB,GAAOA,EAAIV,IACzC0C,EAAmB,GACzB,IAAIC,EAAsB,EAE1B,IAAK,MAAMC,KAASH,EAAQ,CAC1B,MAAMI,GAASC,EAAAA,EAAAA,IAAYb,EAAAA,GAAI,QAAS7I,EAAKqD,IAAK,YAAamG,GACzDG,QAAgBC,EAAAA,EAAAA,IAAOH,GAE7B,GAAIE,EAAQE,SAAU,CACpB,MAAMX,EAAOS,EAAQT,OACrBI,EAAiBrH,MAAImC,EAAAA,EAAAA,GAAC,CACpBwC,GAAI+C,EAAQ/C,IACTsC,IAELK,GAAwBL,EAAKrJ,UAAY,CAC3C,CACF,CAQA,GANAiI,EAAAA,GAAOO,IAAI,yEAA6B,CACtCkF,2BAAM1N,EACN2N,2BAAMjE,EACNoB,qBAAKrB,EAAiBvK,SAGQ,IAA5BuK,EAAiBvK,OACnB,MAAM,IAAI2I,MAAM,wKAGlB,GAAI6B,EAAsB1J,EACxB,MAAM,IAAI6H,MAAM,wFAADjI,OAAwBI,EAAQ,iCAAAJ,OAAY8J,EAAmB,MAIhF,IAAIkE,EAAkB5N,EACtB,MAAM6N,EAAiB,IAAIpE,GAAkB1G,KAAK,CAACC,EAAEC,IAAMD,EAAEhD,SAAWiD,EAAEjD,UAE1E,IAAI,MAAMyH,KAAOoG,EAAgB,CAC/B,GAAGD,GAAmB,EAAG,MACzB,MAAME,EAAevO,KAAKyH,IAAIS,EAAIzH,SAAU4N,GAGtCG,EAAe,CAAC,EAatB,QAZwB5O,IAApBsI,EAAIjF,cACNyF,EAAAA,GAAOgC,KAAK,uEAADrK,OAAqC6H,EAAIV,KACpDgH,EAAavL,YAAc,SAEZrD,IAAbsI,EAAIlF,OACN0F,EAAAA,GAAOgC,KAAK,gEAADrK,OAA8B6H,EAAIV,KAC7CgH,EAAaxL,KAAO,qBAELpD,IAAbsI,EAAIrG,OACN6G,EAAAA,GAAOgC,KAAK,gEAADrK,OAA8B6H,EAAIV,KAC7CgH,EAAa3M,KAAO,WAElB4C,OAAOC,KAAK8J,GAAc7O,OAAS,EAAG,CACxC,MAAM8O,GAAUnE,EAAAA,EAAAA,IAAYb,EAAAA,GAAI,QAAS7I,EAAKqD,IAAK,YAAaiE,EAAIV,UAC9DkH,EAAAA,EAAAA,IAAUD,EAASD,GAEzB/J,OAAOkK,OAAOzG,EAAKsG,EACrB,CAEA,MAAMpG,QAAejH,EAAgB,CACnCmB,OAAQ4F,EAAIV,GACZ/G,SAAU8N,EACVpL,UAGF,IAAKiF,EAAOC,QACV,MAAM,IAAIC,MAAMF,EAAOtG,SAAW,yGAEpCuM,GAAmBE,CACrB,CAEA3M,EAAiB,UAAU,GAADvB,OAAK0G,EAAMhE,YAAYD,KAAI,KAAAzC,OAAII,EAAQ,uFACjE8F,IAEAxE,WAAW,KACL6M,OAAOC,QAAQ,kGACjBtN,EAAS,iBAEV,IAEL,CAAE,MAAMgH,GACNG,EAAAA,GAAOH,MAAM,iEAA0BA,GAEnCA,EAAMzG,QAAQgN,SAAS,wDAAkBvG,EAAMzG,QAAQgN,SAAS,sDAClElN,EAAiB,UAAW,oJAC5BsE,GAAa,GAET9E,EACAA,IAAcsM,KAAK,KACf9L,EAAiB,UAAW,2HAC5BsE,GAAa,KACd6I,MAAOpB,IACNjF,EAAAA,GAAOH,MAAM,gEAAyBoF,GACtC/L,EAAiB,QAAS,qFAC1BsE,GAAa,MAGjBtE,EAAiB,QAAQ,wIAADvB,OAAiCkI,EAAMzG,UAC/DoE,GAAa,KAGjBtE,EAAiB,QAAQ,+DAADvB,OAAoBkI,EAAMzG,SAEtD,MA/GEF,EAAiB,QAAS,uFAsR0BzC,UAAU,6BAA6B8H,SAAUhB,EAAU7G,SACpG6G,EAAY,+BAAa,0CAU1C,EAAe+I,EAAAA,KAAWrO,E","sources":["components/LoginWarning.js","pages/my-items/MyItems.js"],"sourcesContent":["// src/LoginWarning.js\r\nimport React from \"react\";\r\n\r\nconst LoginWarning = () => {\r\n  return (\r\n    <div className=\"login-warning\">\r\n      <h3>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</h3>\r\n      <p>ì•„ì´í…œì„ êµ¬ë§¤í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ë ¤ë©´ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginWarning;\r\n","// src/pages/my-items/MyItems.js\r\nimport React, { useState, useEffect, useMemo } from \"react\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { useItems } from \"../../contexts/ItemContext\";\r\nimport \"./MyItems.css\";\r\nimport LoginWarning from \"../../components/LoginWarning\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { logger } from \"../../utils/logger\";\r\n// Firebase\r\nimport {\r\n  db,\r\n  firebaseDoc,\r\n  collection,\r\n  serverTimestamp,\r\n  runTransaction,\r\n  increment,\r\n  query,\r\n  where,\r\n  getDocs,\r\n  getDoc,\r\n  updateDoc,\r\n} from \"../../firebase\";\r\n\r\nconst ITEM_DEFAULT_DURATION_MS = 5 * 60 * 1000;\r\n\r\nconst formatTimeLeft = (usedTimestamp, durationMs = ITEM_DEFAULT_DURATION_MS) => {\r\n  const now = Date.now();\r\n  const timeElapsed = now - usedTimestamp;\r\n  const timeLeft = durationMs - timeElapsed;\r\n  if (timeLeft <= 0) return \"ë§Œë£Œë¨\";\r\n  const hours = Math.floor(timeLeft / (60 * 60 * 1000));\r\n  const minutes = Math.floor((timeLeft % (60 * 60 * 1000)) / (60 * 1000));\r\n  const seconds = Math.floor((timeLeft % (60 * 1000)) / 1000);\r\n  let formatted = \"\";\r\n  if (hours > 0) formatted += `${hours}ì‹œê°„ `;\r\n  if (minutes > 0 || hours > 0) formatted += `${minutes}ë¶„ `;\r\n  formatted += `${seconds}ì´ˆ ë‚¨ìŒ`;\r\n  return formatted.trim();\r\n};\r\n\r\nconst QuantityBadge = ({ quantity }) => {\r\n  let badgeClass = \"\";\r\n  if (quantity > 10) badgeClass = \"quantity-high\";\r\n  else if (quantity > 5) badgeClass = \"quantity-medium\";\r\n  else badgeClass = \"quantity-low\";\r\n  return <span className={`quantity-badge ${badgeClass}`}>Ã—{quantity}</span>;\r\n};\r\n\r\nconst MyItems = () => {\r\n  const { user, userDoc, users, classmates } = useAuth() || {};\r\n  const {\r\n    userItems,\r\n    useItem,\r\n    listItemForSale,\r\n    refreshData,\r\n    updateLocalUserItems,\r\n  } = useItems() || {\r\n    userItems: [],\r\n    useItem: null,\r\n    listItemForSale: null,\r\n    refreshData: null,\r\n    updateLocalUserItems: null,\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [notification, setNotification] = useState(null);\r\n  const showNotification = (type, message) => {\r\n    setNotification({ type, message });\r\n    setTimeout(() => setNotification(null), 3000);\r\n  };\r\n\r\n  const groupedUserItems = useMemo(() => {\r\n    if (!userItems || userItems.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    const itemsMap = new Map();\r\n\r\n    userItems.forEach(item => {\r\n      if (!item || !item.itemId || typeof item.quantity !== 'number' || item.quantity <= 0) {\r\n        return;\r\n      }\r\n\r\n      const key = item.itemId;\r\n\r\n      if (itemsMap.has(key)) {\r\n        const existingGroup = itemsMap.get(key);\r\n        existingGroup.totalQuantity += item.quantity;\r\n        existingGroup.sourceDocs.push(item);\r\n        if (item.name && !existingGroup.displayInfo.name) {\r\n          existingGroup.displayInfo.name = item.name;\r\n        }\r\n        if (item.icon && !existingGroup.displayInfo.icon) {\r\n          existingGroup.displayInfo.icon = item.icon;\r\n        }\r\n        if (item.description && !existingGroup.displayInfo.description) {\r\n          existingGroup.displayInfo.description = item.description;\r\n        }\r\n      } else {\r\n        itemsMap.set(key, {\r\n          displayInfo: {\r\n            itemId: item.itemId,\r\n            name: item.name || 'ì•Œ ìˆ˜ ì—†ëŠ” ì•„ì´í…œ',\r\n            icon: item.icon || 'ğŸ”®',\r\n            description: item.description || '',\r\n            type: item.type || 'general',\r\n            price: item.price || 0,\r\n            durationMs: item.durationMs || ITEM_DEFAULT_DURATION_MS\r\n          },\r\n          totalQuantity: item.quantity,\r\n          sourceDocs: [item],\r\n        });\r\n      }\r\n    });\r\n\r\n    return Array.from(itemsMap.values()).sort((a, b) =>\r\n      a.displayInfo.name.localeCompare(b.displayInfo.name)\r\n    );\r\n  }, [userItems]);\r\n\r\n  const [recentlyUsedItems, setRecentlyUsedItems] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem(\r\n        `recentlyUsedItems_${user?.uid || \"guest\"}`\r\n      );\r\n      return saved ? JSON.parse(saved) : {};\r\n    } catch (e) {\r\n      return {};\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (user?.uid) {\r\n      localStorage.setItem(\r\n        `recentlyUsedItems_${user.uid}`,\r\n        JSON.stringify(recentlyUsedItems)\r\n      );\r\n    }\r\n  }, [recentlyUsedItems, user?.uid]);\r\n\r\n  const hasRecentlyUsedItems = Object.keys(recentlyUsedItems).length > 0;\r\n  useEffect(() => {\r\n    if (!hasRecentlyUsedItems) return;\r\n    const timer = setInterval(() => {\r\n      setRecentlyUsedItems((prevItems) => {\r\n        let itemsChanged = false;\r\n        const updatedItems = { ...prevItems };\r\n        const now = Date.now();\r\n        Object.keys(updatedItems).forEach((itemId) => {\r\n          const itemData = updatedItems[itemId];\r\n          const duration =\r\n            itemData.itemDetails?.durationMs || ITEM_DEFAULT_DURATION_MS;\r\n          if (now - itemData.usedTimestamp > duration) {\r\n            delete updatedItems[itemId];\r\n            itemsChanged = true;\r\n          }\r\n        });\r\n        return itemsChanged ? updatedItems : prevItems;\r\n      });\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, [hasRecentlyUsedItems]);\r\n\r\n  const [useItemModal, setUseItemModal] = useState({\r\n    isOpen: false,\r\n    item: null,\r\n    quantity: 1,\r\n  });\r\n  const [giftModal, setGiftModal] = useState({\r\n    isOpen: false,\r\n    item: null,\r\n  });\r\n  const [giftRecipientUid, setGiftRecipientUid] = useState(\"\");\r\n  const [giftQuantity, setGiftQuantity] = useState(1);\r\n  const [isGifting, setIsGifting] = useState(false);\r\n  const [isSyncing, setIsSyncing] = useState(false);\r\n  const [sellToMarketModal, setSellToMarketModal] = useState({\r\n    isOpen: false,\r\n    item: null,\r\n    quantity: 1,\r\n    price: 0,\r\n  });\r\n\r\n  const handleOpenUseItemModal = (group) => {\r\n    if (!user) {\r\n      showNotification(\"error\", \"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    if (!group || group.totalQuantity <= 0) {\r\n      showNotification(\"error\", \"ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì•„ì´í…œì´ ì•„ë‹™ë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    setUseItemModal({ isOpen: true, item: group, quantity: 1 });\r\n  };\r\n\r\n  const handleCloseUseItemModal = () => {\r\n    setUseItemModal({ isOpen: false, item: null, quantity: 1 });\r\n  };\r\n\r\n  const handleOpenGiftModal = (group) => {\r\n    if (!user) {\r\n      showNotification(\"error\", \"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    if (!classmates || classmates.length === 0) {\r\n      showNotification(\"error\", \"ì„ ë¬¼í•  ì¹œêµ¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    if (!group || group.totalQuantity <= 0) {\r\n      showNotification(\"error\", \"ì„ ë¬¼í•  ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n\r\n    setGiftRecipientUid(\"\");\r\n    setGiftQuantity(1);\r\n    setGiftModal({ isOpen: true, item: group });\r\n  };\r\n\r\n  const handleCloseGiftModal = () => {\r\n    setGiftModal({ isOpen: false, item: null });\r\n  };\r\n\r\n  const handleOpenSellToMarketModal = (group) => {\r\n    if (!user) {\r\n      showNotification(\"error\", \"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    if (!group || group.totalQuantity <= 0) {\r\n      showNotification(\"error\", \"íŒë§¤í•  ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    if (!listItemForSale) {\r\n      showNotification(\"error\", \"íŒë§¤ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    const defaultPrice = group.displayInfo.price\r\n      ? Math.max(1, Math.round(group.displayInfo.price * 0.8))\r\n      : 100;\r\n    setSellToMarketModal({\r\n      isOpen: true,\r\n      item: group,\r\n      quantity: 1,\r\n      price: defaultPrice,\r\n    });\r\n  };\r\n\r\n  const handleCloseSellToMarketModal = () => {\r\n    setSellToMarketModal({\r\n      isOpen: false,\r\n      item: null,\r\n      quantity: 1,\r\n      price: 0,\r\n    });\r\n  };\r\n\r\n  const handleSellToMarketQuantityChange = (value) => {\r\n    const maxQty = sellToMarketModal.item?.totalQuantity || 1;\r\n    const newQty = Math.max(1, Math.min(maxQty, parseInt(value) || 1));\r\n    setSellToMarketModal((prev) => ({\r\n      ...prev,\r\n      quantity: newQty,\r\n    }));\r\n  };\r\n\r\n  const handleSellToMarketPriceChange = (value) => {\r\n    const newPrice = Math.max(1, parseInt(value) || 1);\r\n    setSellToMarketModal((prev) => ({\r\n      ...prev,\r\n      price: newPrice,\r\n    }));\r\n  };\r\n\r\n  const handleConfirmUseItem = async () => {\r\n    const { item: group, quantity: quantityToUse } = useItemModal;\r\n    if (!group || !quantityToUse || quantityToUse <= 0) {\r\n      showNotification(\"error\", \"ì‚¬ìš©í•  ì•„ì´í…œ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n\r\n    if (group.totalQuantity < quantityToUse) {\r\n      showNotification(\"error\", \"ë³´ìœ  ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      let remainingToUse = quantityToUse;\r\n      const results = [];\r\n\r\n      const sortedDocs = [...group.sourceDocs].sort((a, b) => a.quantity - b.quantity);\r\n\r\n      for (const doc of sortedDocs) {\r\n        if (remainingToUse <= 0) break;\r\n\r\n        const amountToUse = Math.min(doc.quantity, remainingToUse);\r\n\r\n        // eslint-disable-next-line react-hooks/rules-of-hooks\r\n        const result = await useItem(doc.id, amountToUse);\r\n        results.push(result);\r\n\r\n        if (!result.success) {\r\n          throw new Error(result.message || `ì•„ì´í…œ ì‚¬ìš©ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ (${doc.id})`);\r\n        }\r\n\r\n        remainingToUse -= amountToUse;\r\n      }\r\n\r\n      if (remainingToUse > 0) {\r\n        throw new Error(`ìš”ì²­í•œ ìˆ˜ëŸ‰ì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (ë¶€ì¡±í•œ ìˆ˜ëŸ‰: ${remainingToUse})`);\r\n      }\r\n\r\n      showNotification(\"success\", `${group.displayInfo.name} ${quantityToUse}ê°œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.`);\r\n      handleCloseUseItemModal();\r\n\r\n      setRecentlyUsedItems(prev => ({\r\n        ...prev,\r\n        [group.displayInfo.itemId]: {\r\n          usedTimestamp: Date.now(),\r\n          itemDetails: {\r\n            name: group.displayInfo.name,\r\n            icon: group.displayInfo.icon,\r\n            durationMs: group.displayInfo.durationMs || ITEM_DEFAULT_DURATION_MS\r\n          }\r\n        }\r\n      }));\r\n\r\n    } catch (error) {\r\n      showNotification(\"error\", `ì•„ì´í…œ ì‚¬ìš© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleRemoveUsedItem = (itemId) => {\r\n    setRecentlyUsedItems(prevItems => {\r\n      const updatedItems = { ...prevItems };\r\n      delete updatedItems[itemId];\r\n      return updatedItems;\r\n    });\r\n    showNotification(\"info\", \"ì•„ì´í…œ ì‚¬ìš©ì„ ì¤‘ì§€í–ˆìŠµë‹ˆë‹¤.\");\r\n  };\r\n\r\n  const handleSendGift = async () => {\r\n    if (isGifting) return;\r\n\r\n    const { item: group } = giftModal;\r\n    if (!user || !giftRecipientUid || !group) {\r\n      logger.error('[MyItems] ì„ ë¬¼ ì •ë³´ ì˜¤ë¥˜:', { user: !!user, giftRecipientUid, group: !!group });\r\n      showNotification(\"error\", \"ì„ ë¬¼ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    const quantity = Number(giftQuantity) || 1;\r\n    if (quantity <= 0 || quantity > group.totalQuantity) {\r\n      logger.error('[MyItems] ì„ ë¬¼ ìˆ˜ëŸ‰ ì˜¤ë¥˜:', { quantity, totalQuantity: group.totalQuantity });\r\n      showNotification(\"error\", \"ì„ ë¬¼ ìˆ˜ëŸ‰ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n\r\n    // ë°›ëŠ” ì‚¬ëŒ ì •ë³´ ì°¾ê¸°\r\n    const recipient = classmates.find(c => (c.uid || c.id) === giftRecipientUid);\r\n    const recipientName = recipient ? recipient.name : 'ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì';\r\n\r\n    logger.log('[MyItems] ì„ ë¬¼ ì‹œì‘:', {\r\n      ì•„ì´í…œ: group.displayInfo.name,\r\n      ìˆ˜ëŸ‰: quantity,\r\n      ë³´ë‚´ëŠ”ì‚¬ëŒ: userDoc?.name || user.uid,\r\n      ë°›ëŠ”ì‚¬ëŒ: recipientName,\r\n      ë°›ëŠ”ì‚¬ëŒUID: giftRecipientUid\r\n    });\r\n\r\n    setIsGifting(true);\r\n    let originalUserItems;\r\n    try {\r\n      // ğŸ”¥ ë””ë²„ê¹…: inventory ì»¬ë ‰ì…˜ ì „ì²´ ì¡°íšŒ\r\n      const inventoryRef = collection(db, \"users\", user.uid, \"inventory\");\r\n      const allInventoryDocs = await getDocs(inventoryRef);\r\n      const actualDocs = allInventoryDocs.docs.map(doc => ({\r\n        id: doc.id,\r\n        itemId: doc.data().itemId,\r\n        name: doc.data().name,\r\n        quantity: doc.data().quantity\r\n      }));\r\n\r\n      logger.log('[MyItems] ğŸ” ì‹¤ì œ inventory ì»¬ë ‰ì…˜ ì „ì²´ ì¡°íšŒ:');\r\n      logger.log('ì´ë¬¸ì„œìˆ˜:', allInventoryDocs.size);\r\n      logger.log('ë¬¸ì„œë“¤:', actualDocs);\r\n\r\n      // itemIdë¡œ ê·¸ë£¹í•‘\r\n      const itemIdGroups = {};\r\n      actualDocs.forEach(doc => {\r\n        const key = doc.itemId || doc.id;\r\n        if (!itemIdGroups[key]) itemIdGroups[key] = [];\r\n        itemIdGroups[key].push(doc.id);\r\n      });\r\n      logger.log('[MyItems] itemIdë³„ ê·¸ë£¹:', itemIdGroups);\r\n\r\n      // ğŸ”¥ ë³´ë‚´ëŠ” ì‚¬ëŒì˜ ì‹¤ì œ ì•„ì´í…œ ë¬¸ì„œë¥¼ Firestoreì—ì„œ ë‹¤ì‹œ ì¡°íšŒ\r\n      // group.sourceDocsì—ì„œ ë¬¸ì„œ ID ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\r\n      const docIds = group.sourceDocs.map(doc => doc.id);\r\n\r\n      logger.log('[MyItems] ìºì‹œëœ ë¬¸ì„œ ID ëª©ë¡:', docIds);\r\n\r\n      // ê° ë¬¸ì„œ IDë¡œ ì§ì ‘ ì¡°íšŒ (getDoc ì‚¬ìš©)\r\n      const actualSourceDocs = [];\r\n      let actualTotalQuantity = 0;\r\n\r\n      for (const docId of docIds) {\r\n        const docRef = firebaseDoc(db, \"users\", user.uid, \"inventory\", docId);\r\n        const docSnap = await getDoc(docRef);\r\n\r\n        if (docSnap.exists()) {\r\n          const data = docSnap.data();\r\n          actualSourceDocs.push({\r\n            id: docSnap.id,\r\n            ...data\r\n          });\r\n          actualTotalQuantity += (data.quantity || 0);\r\n          logger.log('[MyItems] âœ… ë¬¸ì„œ ë°œê²¬:', { id: docSnap.id, quantity: data.quantity });\r\n        } else {\r\n          logger.warn('[MyItems] âš ï¸ ë¬¸ì„œ ì—†ìŒ:', docId);\r\n        }\r\n      }\r\n\r\n      logger.log('[MyItems] ë³´ë‚´ëŠ” ì‚¬ëŒ ì¸ë²¤í† ë¦¬ ì‹¤ì œ ì¡°íšŒ ì™„ë£Œ:', {\r\n        ìºì‹œë¬¸ì„œìˆ˜: group.sourceDocs.length,\r\n        ì‹¤ì œë¬¸ì„œìˆ˜: actualSourceDocs.length,\r\n        ì‹¤ì œì´ìˆ˜ëŸ‰: actualTotalQuantity\r\n      });\r\n\r\n      if (actualSourceDocs.length === 0) {\r\n        throw new Error('ë³´ìœ  ì¤‘ì¸ ì•„ì´í…œì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');\r\n      }\r\n\r\n      if (actualTotalQuantity < quantity) {\r\n        throw new Error(`ì•„ì´í…œ ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (í•„ìš”: ${quantity}, ì‹¤ì œ ë³´ìœ : ${actualTotalQuantity})`);\r\n      }\r\n\r\n      // ğŸ”¥ ë°›ëŠ” ì‚¬ëŒì˜ ì¸ë²¤í† ë¦¬ ì¿¼ë¦¬ (íŠ¸ëœì­ì…˜ ì™¸ë¶€ì—ì„œ ì‹¤í–‰ - Firestore ì œí•œì‚¬í•­)\r\n      const recipientInventoryRef = collection(db, \"users\", giftRecipientUid, \"inventory\");\r\n      const recipientQuery = query(recipientInventoryRef, where(\"itemId\", \"==\", group.displayInfo.itemId));\r\n      const recipientQuerySnapshot = await getDocs(recipientQuery);\r\n\r\n      const recipientExistingDocRef = recipientQuerySnapshot.empty ? null : recipientQuerySnapshot.docs[0].ref;\r\n\r\n      logger.log('[MyItems] ë°›ëŠ” ì‚¬ëŒ ì¸ë²¤í† ë¦¬ ì¡°íšŒ (íŠ¸ëœì­ì…˜ ì™¸ë¶€):', {\r\n        ê¸°ì¡´ì•„ì´í…œì¡´ì¬: !recipientQuerySnapshot.empty,\r\n        ë¬¸ì„œìˆ˜: recipientQuerySnapshot.size\r\n      });\r\n\r\n      originalUserItems = [...userItems];\r\n\r\n      const updatedUserItems = [];\r\n      let remainingToDeduct = quantity;\r\n\r\n      for (const item of userItems) {\r\n        if (item.itemId === group.displayInfo.itemId && remainingToDeduct > 0) {\r\n          const deductAmount = Math.min(item.quantity, remainingToDeduct);\r\n          const newQuantity = item.quantity - deductAmount;\r\n\r\n          if (newQuantity > 0) {\r\n            updatedUserItems.push({ ...item, quantity: newQuantity });\r\n          }\r\n\r\n          remainingToDeduct -= deductAmount;\r\n        } else {\r\n          updatedUserItems.push(item);\r\n        }\r\n      }\r\n\r\n      if (updateLocalUserItems) {\r\n        updateLocalUserItems(updatedUserItems);\r\n      }\r\n\r\n      // ğŸ”¥ íŠ¸ëœì­ì…˜: ëª¨ë“  ì½ê¸°ë¥¼ ë¨¼ì € ìˆ˜í–‰í•˜ê³ , ê·¸ ë‹¤ìŒ ëª¨ë“  ì“°ê¸°ë¥¼ ìˆ˜í–‰\r\n      await runTransaction(db, async (transaction) => {\r\n        // ===== 1ë‹¨ê³„: ëª¨ë“  ì½ê¸° ì‘ì—… =====\r\n\r\n        // 1-1. ë³´ë‚´ëŠ” ì‚¬ëŒì˜ ì•„ì´í…œ ë¬¸ì„œë“¤ ì½ê¸°\r\n        const senderItemSnaps = [];\r\n        for (const senderDoc of actualSourceDocs) {\r\n          const senderItemRef = firebaseDoc(db, \"users\", user.uid, \"inventory\", senderDoc.id);\r\n          const senderItemSnap = await transaction.get(senderItemRef);\r\n\r\n          if (!senderItemSnap.exists()) {\r\n            logger.error('[MyItems] âŒ íŠ¸ëœì­ì…˜ ì¤‘ ì•„ì´í…œ ë¬¸ì„œê°€ ì‚¬ë¼ì§:', senderDoc.id);\r\n            throw new Error('íŠ¸ëœì­ì…˜ ì¤‘ ì•„ì´í…œì´ ì‚¬ë¼ì¡ŒìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\r\n          }\r\n\r\n          const currentQuantity = senderItemSnap.data().quantity || 0;\r\n          if (currentQuantity <= 0) {\r\n            logger.error('[MyItems] âŒ íŠ¸ëœì­ì…˜ ì¤‘ ì•„ì´í…œ ìˆ˜ëŸ‰ì´ 0:', senderDoc.id);\r\n            throw new Error('íŠ¸ëœì­ì…˜ ì¤‘ ì•„ì´í…œ ìˆ˜ëŸ‰ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\r\n          }\r\n\r\n          senderItemSnaps.push({\r\n            ref: senderItemRef,\r\n            snap: senderItemSnap,\r\n            quantity: currentQuantity\r\n          });\r\n        }\r\n\r\n        // 1-2. ë°›ëŠ” ì‚¬ëŒì˜ ì¸ë²¤í† ë¦¬ ì•„ì´í…œ ì½ê¸° (íŠ¸ëœì­ì…˜ ë‚´ë¶€ì—ì„œ)\r\n        let recipientItemRef = null;\r\n        let recipientCurrentQuantity = 0;\r\n\r\n        if (recipientExistingDocRef) {\r\n          // ê¸°ì¡´ ì•„ì´í…œì´ ìˆëŠ” ê²½ìš°, íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ë‹¤ì‹œ ì½ê¸°\r\n          recipientItemRef = recipientExistingDocRef;\r\n          const recipientSnap = await transaction.get(recipientItemRef);\r\n\r\n          if (recipientSnap.exists()) {\r\n            recipientCurrentQuantity = recipientSnap.data().quantity || 0;\r\n            logger.log('[MyItems] ë°›ëŠ” ì‚¬ëŒ ê¸°ì¡´ ì•„ì´í…œ ë°œê²¬:', {\r\n              ë¬¸ì„œID: recipientItemRef.id,\r\n              í˜„ì¬ìˆ˜ëŸ‰: recipientCurrentQuantity\r\n            });\r\n          } else {\r\n            logger.warn('[MyItems] âš ï¸ ë°›ëŠ” ì‚¬ëŒì˜ ê¸°ì¡´ ì•„ì´í…œì´ ì‚¬ë¼ì§, ìƒˆë¡œ ìƒì„±í•©ë‹ˆë‹¤.');\r\n            recipientItemRef = null;\r\n          }\r\n        } else {\r\n          logger.log('[MyItems] ë°›ëŠ” ì‚¬ëŒì—ê²Œ ìƒˆ ì•„ì´í…œ ìƒì„± ì˜ˆì •');\r\n        }\r\n\r\n        // ===== 2ë‹¨ê³„: ëª¨ë“  ì“°ê¸° ì‘ì—… =====\r\n\r\n        let remainingToSend = quantity;\r\n        let processedAmount = 0;\r\n\r\n        // 2-1. ë³´ë‚´ëŠ” ì‚¬ëŒì˜ ì•„ì´í…œ ì°¨ê°\r\n        for (const { ref: senderItemRef, quantity: currentQuantity } of senderItemSnaps) {\r\n          if (remainingToSend <= 0) break;\r\n\r\n          const amountFromThisDoc = Math.min(currentQuantity, remainingToSend);\r\n          const newSenderQty = currentQuantity - amountFromThisDoc;\r\n\r\n          logger.log('[MyItems] ì•„ì´í…œ ì°¨ê°:', {\r\n            ë¬¸ì„œID: senderItemRef.id,\r\n            ê¸°ì¡´ìˆ˜ëŸ‰: currentQuantity,\r\n            ì°¨ê°ìˆ˜ëŸ‰: amountFromThisDoc,\r\n            ë‚¨ì€ìˆ˜ëŸ‰: newSenderQty\r\n          });\r\n\r\n          if (newSenderQty <= 0) {\r\n            transaction.delete(senderItemRef);\r\n          } else {\r\n            transaction.update(senderItemRef, { quantity: newSenderQty });\r\n          }\r\n\r\n          remainingToSend -= amountFromThisDoc;\r\n          processedAmount += amountFromThisDoc;\r\n        }\r\n\r\n        // ì‹¤ì œë¡œ ì²˜ë¦¬ëœ ìˆ˜ëŸ‰ í™•ì¸\r\n        if (processedAmount < quantity) {\r\n          logger.error('[MyItems] ì²˜ë¦¬ëœ ìˆ˜ëŸ‰ ë¶€ì¡±:', { ìš”ì²­: quantity, ì²˜ë¦¬ë¨: processedAmount });\r\n          throw new Error(`ì•„ì´í…œ ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (í•„ìš”: ${quantity}, ì‹¤ì œ ë³´ìœ : ${processedAmount})`);\r\n        }\r\n\r\n        // 2-2. ë°›ëŠ” ì‚¬ëŒì—ê²Œ ì•„ì´í…œ ì¶”ê°€\r\n        if (recipientItemRef) {\r\n          // ê¸°ì¡´ ì•„ì´í…œì— ìˆ˜ëŸ‰ ì¶”ê°€\r\n          logger.log('[MyItems] ë°›ëŠ” ì‚¬ëŒ ì•„ì´í…œ ì—…ë°ì´íŠ¸ (ê¸°ì¡´ ì•„ì´í…œì— ì¶”ê°€):', {\r\n            ê¸°ì¡´ìˆ˜ëŸ‰: recipientCurrentQuantity,\r\n            ì¶”ê°€ìˆ˜ëŸ‰: processedAmount,\r\n            ìµœì¢…ìˆ˜ëŸ‰: recipientCurrentQuantity + processedAmount\r\n          });\r\n          transaction.update(recipientItemRef, {\r\n            quantity: recipientCurrentQuantity + processedAmount,\r\n            updatedAt: serverTimestamp()\r\n          });\r\n        } else {\r\n          // ìƒˆ ì•„ì´í…œ ìƒì„±\r\n          logger.log('[MyItems] ë°›ëŠ” ì‚¬ëŒ ì•„ì´í…œ ìƒì„± (ìƒˆ ì•„ì´í…œ):', { ìˆ˜ëŸ‰: processedAmount });\r\n          const newRecipientItemRef = firebaseDoc(recipientInventoryRef);\r\n          transaction.set(newRecipientItemRef, {\r\n            itemId: group.displayInfo.itemId,\r\n            name: group.displayInfo.name,\r\n            icon: group.displayInfo.icon,\r\n            description: group.displayInfo.description,\r\n            type: group.displayInfo.type,\r\n            quantity: processedAmount,\r\n            receivedAt: serverTimestamp(),\r\n            updatedAt: serverTimestamp(),\r\n          });\r\n        }\r\n      });\r\n\r\n      logger.log('[MyItems] âœ… ì„ ë¬¼ íŠ¸ëœì­ì…˜ ì™„ë£Œ');\r\n      showNotification(\"success\", `${recipientName}ë‹˜ì—ê²Œ ${group.displayInfo.name} ${quantity}ê°œë¥¼ ì„ ë¬¼í–ˆìŠµë‹ˆë‹¤.`);\r\n      handleCloseGiftModal();\r\n\r\n      setTimeout(() => {\r\n        if (refreshData) refreshData();\r\n      }, 2000);\r\n\r\n    } catch (error) {\r\n      logger.error('[MyItems] ì„ ë¬¼í•˜ê¸° ì‹¤íŒ¨:', error);\r\n\r\n      // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ë¡¤ë°±\r\n      if (updateLocalUserItems && originalUserItems) {\r\n        logger.log('[MyItems] ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ë¡¤ë°± - ì›ë˜ ìƒíƒœë¡œ ë³µì›');\r\n        updateLocalUserItems(originalUserItems);\r\n      }\r\n\r\n      // ë°ì´í„° ë™ê¸°í™” í›„ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ\r\n      showNotification(\"error\", `ì„ ë¬¼í•˜ê¸° ì‹¤íŒ¨: ${error.message}`);\r\n\r\n      // í•­ìƒ ë°ì´í„° ìƒˆë¡œê³ ì¹¨\r\n      if (refreshData) {\r\n        logger.log('[MyItems] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì‹œì‘');\r\n        try {\r\n          const result = refreshData();\r\n          if (result && typeof result.then === 'function') {\r\n            await result;\r\n          }\r\n          logger.log('[MyItems] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ');\r\n        } catch (syncError) {\r\n          logger.error(\"[MyItems] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨:\", syncError);\r\n        }\r\n      }\r\n    } finally {\r\n      setIsGifting(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirmSellToMarket = async () => {\r\n    const { item: group, quantity, price } = sellToMarketModal;\r\n    if (!group || !quantity || !price) {\r\n      showNotification(\"error\", \"íŒë§¤ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // ğŸ”¥ ì‹¤ì œ Firestoreì—ì„œ ë¬¸ì„œ ë‹¤ì‹œ ì¡°íšŒ\r\n      const docIds = group.sourceDocs.map(doc => doc.id);\r\n      const actualSourceDocs = [];\r\n      let actualTotalQuantity = 0;\r\n\r\n      for (const docId of docIds) {\r\n        const docRef = firebaseDoc(db, \"users\", user.uid, \"inventory\", docId);\r\n        const docSnap = await getDoc(docRef);\r\n\r\n        if (docSnap.exists()) {\r\n          const data = docSnap.data();\r\n          actualSourceDocs.push({\r\n            id: docSnap.id,\r\n            ...data\r\n          });\r\n          actualTotalQuantity += (data.quantity || 0);\r\n        }\r\n      }\r\n\r\n      logger.log('[MyItems] ì‹œì¥ì— íŒ”ê¸° - ì‹¤ì œ ì¡°íšŒ:', {\r\n        ìš”ì²­ìˆ˜ëŸ‰: quantity,\r\n        ì‹¤ì œë³´ìœ : actualTotalQuantity,\r\n        ë¬¸ì„œìˆ˜: actualSourceDocs.length\r\n      });\r\n\r\n      if (actualSourceDocs.length === 0) {\r\n        throw new Error('íŒë§¤í•  ì•„ì´í…œì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');\r\n      }\r\n\r\n      if (actualTotalQuantity < quantity) {\r\n        throw new Error(`ì•„ì´í…œ ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (í•„ìš”: ${quantity}, ì‹¤ì œ ë³´ìœ : ${actualTotalQuantity})`);\r\n      }\r\n\r\n      // ì‹¤ì œ ë¬¸ì„œë“¤ë¡œ íŒë§¤ ì§„í–‰\r\n      let remainingToSell = quantity;\r\n      const itemsToProcess = [...actualSourceDocs].sort((a,b) => a.quantity - b.quantity);\r\n\r\n      for(const doc of itemsToProcess) {\r\n        if(remainingToSell <= 0) break;\r\n        const amountToSell = Math.min(doc.quantity, remainingToSell);\r\n\r\n        // ğŸ”¥ FIX: íŒë§¤ ì „ í•„ìˆ˜ í•„ë“œê°€ undefinedì¸ ê²½ìš° ê¸°ë³¸ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸\r\n        const updateFields = {};\r\n        if (doc.description === undefined) {\r\n          logger.warn(`[MyItems] ëˆ„ë½ëœ description í•„ë“œ ìˆ˜ì •: ${doc.id}`);\r\n          updateFields.description = \"\";\r\n        }\r\n        if (doc.icon === undefined) {\r\n          logger.warn(`[MyItems] ëˆ„ë½ëœ icon í•„ë“œ ìˆ˜ì •: ${doc.id}`);\r\n          updateFields.icon = \"ğŸ”®\";\r\n        }\r\n        if (doc.type === undefined) {\r\n          logger.warn(`[MyItems] ëˆ„ë½ëœ type í•„ë“œ ìˆ˜ì •: ${doc.id}`);\r\n          updateFields.type = \"general\";\r\n        }\r\n        if (Object.keys(updateFields).length > 0) {\r\n          const itemRef = firebaseDoc(db, \"users\", user.uid, \"inventory\", doc.id);\r\n          await updateDoc(itemRef, updateFields);\r\n          // ë¡œì»¬ doc ê°ì²´ë„ ì—…ë°ì´íŠ¸\r\n          Object.assign(doc, updateFields);\r\n        }\r\n\r\n        const result = await listItemForSale({\r\n          itemId: doc.id,\r\n          quantity: amountToSell,\r\n          price,\r\n        });\r\n\r\n        if (!result.success) {\r\n          throw new Error(result.message || \"ì¼ë¶€ ì•„ì´í…œ íŒë§¤ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\r\n        }\r\n        remainingToSell -= amountToSell;\r\n      }\r\n\r\n      showNotification(\"success\", `${group.displayInfo.name} ${quantity}ê°œë¥¼ ì‹œì¥ì— íŒë§¤ ë“±ë¡í–ˆìŠµë‹ˆë‹¤.`);\r\n      handleCloseSellToMarketModal();\r\n\r\n      setTimeout(() => {\r\n        if (window.confirm(\"ì•„ì´í…œ ì‹œì¥ìœ¼ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\")) {\r\n          navigate(\"/item-market\");\r\n        }\r\n      }, 500);\r\n\r\n    } catch(error) {\r\n      logger.error('[MyItems] ì‹œì¥ íŒë§¤ ë“±ë¡ ì‹¤íŒ¨:', error);\r\n\r\n      if (error.message.includes('ì•„ì´í…œì„ ì°¾ì„ ìˆ˜ ì—†') || error.message.includes('ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤')) {\r\n        showNotification(\"warning\", \"ì•„ì´í…œ ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ë°ì´í„°ë¥¼ ë™ê¸°í™”í•©ë‹ˆë‹¤.\");\r\n        setIsSyncing(true);\r\n        \r\n        if (refreshData) {\r\n            refreshData().then(() => {\r\n                showNotification(\"success\", \"ë™ê¸°í™”ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\");\r\n                setIsSyncing(false);\r\n            }).catch((syncError) => {\r\n                logger.error(\"[MyItems] ë°ì´í„° ë™ê¸°í™” ì‹¤íŒ¨:\", syncError);\r\n                showNotification(\"error\", \"ë°ì´í„° ë™ê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\r\n                setIsSyncing(false);\r\n            });\r\n        } else {\r\n            showNotification(\"error\", `ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìœ¼ë©° ë°ì´í„°ë¥¼ ìƒˆë¡œê³ ì¹  ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${error.message}`);\r\n            setIsSyncing(false);\r\n        }\r\n      } else {\r\n        showNotification(\"error\", `ì‹œì¥ íŒë§¤ ë“±ë¡ ì¤‘ ì˜¤ë¥˜: ${error.message}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const itemToGift = giftModal.isOpen ? giftModal.item : null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"page-container relative\">\r\n        <h2 className=\"page-title\">ë‚´ ì•„ì´í…œ ê´€ë¦¬</h2>\r\n        {!user && <LoginWarning />}\r\n        {notification && (<div className={`notification bg-${notification.type}-100`}>{notification.message}</div>)}\r\n\r\n        {user && (\r\n          <>\r\n            {Object.keys(recentlyUsedItems).length > 0 && (\r\n              <div className=\"content-card-section\">\r\n                <h3 className=\"section-title\">ì‚¬ìš© ì¤‘ì¸ ì•„ì´í…œ</h3>\r\n                <div className=\"items-grid\">\r\n                  {Object.entries(recentlyUsedItems).map(([itemId, itemData]) => (\r\n                    <div key={itemId} className=\"store-item-card active-item-card\">\r\n                       <div className=\"item-content\">\r\n                         <div className=\"my-item-header\">\r\n                           <div className=\"item-icon-group\"><div className=\"item-icon\">{itemData.itemDetails.icon || 'âœ¨'}</div></div>\r\n                           <div className=\"item-info\">\r\n                             <h3 className=\"item-name\">{itemData.itemDetails.name}</h3>\r\n                             <p className=\"timer-text\">{formatTimeLeft(itemData.usedTimestamp, itemData.itemDetails.durationMs)}</p>\r\n                           </div>\r\n                         </div>\r\n                         <div className=\"my-item-actions\"><button className=\"stop-using-button\" onClick={() => handleRemoveUsedItem(itemId)}>ì‚¬ìš© ì¤‘ì§€</button></div>\r\n                       </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"content-card-section\">\r\n              <h3 className=\"section-title\">ë³´ìœ  ì•„ì´í…œ</h3>\r\n              {groupedUserItems.length > 0 ? (\r\n                <div className=\"items-grid\">\r\n                  {groupedUserItems.map((group) => (\r\n                    <div key={group.displayInfo.itemId} className=\"store-item-card compact-myitem-card\">\r\n                      <div className=\"item-content\">\r\n                        <div className=\"my-item-header-compact\">\r\n                          <h3 className=\"my-item-name-compact\">{group.displayInfo.name}</h3>\r\n                          <QuantityBadge quantity={group.totalQuantity} />\r\n                        </div>\r\n                        {group.displayInfo.description && group.displayInfo.description.trim() && (\r\n                          <p className=\"my-item-description-compact\">{group.displayInfo.description}</p>\r\n                        )}\r\n                        <div className=\"my-item-actions\">\r\n                          <button className=\"use-item-button\" onClick={() => {\r\n                            handleOpenUseItemModal(group);\r\n                          }} disabled={isSyncing}>ì‚¬ìš©í•˜ê¸°</button>\r\n                          <button\r\n                            className=\"gift-item-button\"\r\n                            onClick={() => {\r\n                              handleOpenGiftModal(group);\r\n                            }}\r\n                            disabled={!classmates || classmates.length === 0 || isSyncing}\r\n                          >\r\n                            {isSyncing ? 'ë™ê¸°í™” ì¤‘' : 'ì„ ë¬¼í•˜ê¸°'}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"empty-message\"><p>ë³´ìœ  ì¤‘ì¸ ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤.</p></div>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {useItemModal.isOpen && useItemModal.item && (\r\n        <div className=\"myitems-modal-overlay\" onClick={(e) => { if (e.target === e.currentTarget) handleCloseUseItemModal(); }}>\r\n          <div className=\"myitems-modal-container\">\r\n            <div className=\"myitems-modal-header\">\r\n              <h3>{useItemModal.item.displayInfo.name} ì‚¬ìš©í•˜ê¸°</h3>\r\n              <button onClick={handleCloseUseItemModal} className=\"myitems-close-button\">âœ•</button>\r\n            </div>\r\n            <div className=\"myitems-modal-body\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"useQuantity\">ì‚¬ìš©í•  ìˆ˜ëŸ‰: (ìµœëŒ€ {useItemModal.item.totalQuantity}ê°œ)</label>\r\n                <div className=\"quantity-controls\">\r\n                  <button onClick={() => setUseItemModal(prev => ({ ...prev, quantity: Math.max(1, prev.quantity - 1) }))} disabled={useItemModal.quantity <= 1}>-</button>\r\n                  <input id=\"useQuantity\" type=\"number\" min=\"1\" max={useItemModal.item.totalQuantity} value={useItemModal.quantity}\r\n                    onChange={(e) => setUseItemModal(prev => ({ ...prev, quantity: Math.max(1, Math.min(prev.item.totalQuantity, parseInt(e.target.value) || 1)) }))}\r\n                  />\r\n                  <button onClick={() => setUseItemModal(prev => ({ ...prev, quantity: Math.min(prev.item.totalQuantity, prev.quantity + 1) }))} disabled={useItemModal.quantity >= useItemModal.item.totalQuantity}>+</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"myitems-modal-footer\">\r\n              <button onClick={handleCloseUseItemModal} className=\"button-secondary\">ì·¨ì†Œ</button>\r\n              <button onClick={handleConfirmUseItem} className=\"button-primary\">ì‚¬ìš©í•˜ê¸°</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {giftModal.isOpen && itemToGift && (\r\n        <div className=\"myitems-modal-overlay\" onClick={(e) => { if (e.target === e.currentTarget) handleCloseGiftModal(); }}>\r\n          <div className=\"myitems-modal-container\">\r\n            <div className=\"myitems-modal-header\">\r\n              <h3>{itemToGift.displayInfo.name || \"ì•„ì´í…œ\"} ì„ ë¬¼í•˜ê¸°</h3>\r\n              <button onClick={handleCloseGiftModal} className=\"myitems-close-button\">âœ•</button>\r\n            </div>\r\n            <div className=\"myitems-modal-body\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"giftRecipient\">ì„ ë¬¼ ë°›ì„ ì¹œêµ¬:</label>\r\n                <select id=\"giftRecipient\" value={giftRecipientUid} onChange={(e) => setGiftRecipientUid(e.target.value)} className=\"form-select\">\r\n                  <option value=\"\" disabled>-- ì¹œêµ¬ë¥¼ ì„ íƒí•˜ì„¸ìš” --</option>\r\n                  {classmates.map((classmate) => (\r\n                    <option key={classmate.uid || classmate.id} value={classmate.uid || classmate.id}>{classmate.name} ({classmate.nickname})</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"giftQuantity\">ì„ ë¬¼í•  ìˆ˜ëŸ‰: (ìµœëŒ€ {itemToGift.totalQuantity}ê°œ)</label>\r\n                <div className=\"quantity-controls\">\r\n                  <button onClick={() => setGiftQuantity((prev) => Math.max(1, prev - 1))} disabled={giftQuantity <= 1}>-</button>\r\n                  <input id=\"giftQuantity\" type=\"number\" min=\"1\" max={itemToGift.totalQuantity} value={giftQuantity}\r\n                    onChange={(e) => setGiftQuantity(Math.max(1, Math.min(itemToGift.totalQuantity, parseInt(e.target.value) || 1)))}\r\n                  />\r\n                  <button onClick={() => setGiftQuantity((prev) => Math.min(itemToGift.totalQuantity, prev + 1))} disabled={giftQuantity >= itemToGift.totalQuantity}>+</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"myitems-modal-footer\">\r\n              <button onClick={handleCloseGiftModal} className=\"button-secondary\">ì·¨ì†Œ</button>\r\n              <button onClick={handleSendGift} className=\"button-primary\" disabled={isGifting || isSyncing}>\r\n                {isGifting ? \"ì„ ë¬¼í•˜ëŠ” ì¤‘...\" : (isSyncing ? \"ë™ê¸°í™” ì¤‘...\" : \"ì„ ë¬¼í•˜ê¸°\")}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {sellToMarketModal.isOpen && sellToMarketModal.item && (\r\n        <div className=\"myitems-modal-overlay\" onClick={(e) => { if (e.target === e.currentTarget) handleCloseSellToMarketModal(); }}>\r\n          <div className=\"myitems-modal-container\">\r\n            <div className=\"myitems-modal-header\">\r\n              <h3>'{sellToMarketModal.item.displayInfo.name}' ì‹œì¥ì— íŒë§¤í•˜ê¸°</h3>\r\n              <button onClick={handleCloseSellToMarketModal} className=\"myitems-close-button\">âœ•</button>\r\n            </div>\r\n            <div className=\"myitems-modal-body\">\r\n              <div className=\"item-preview-simple\">\r\n                <span className=\"item-icon-small\">{sellToMarketModal.item.displayInfo.icon}</span>\r\n                <span>{sellToMarketModal.item.displayInfo.name} (ë³´ìœ : {sellToMarketModal.item.totalQuantity}ê°œ)</span>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"sellToMarketQuantity\">íŒë§¤ ìˆ˜ëŸ‰ (ìµœëŒ€: {sellToMarketModal.item.totalQuantity}ê°œ):</label>\r\n                <input type=\"number\" id=\"sellToMarketQuantity\" value={sellToMarketModal.quantity} onChange={(e) => handleSellToMarketQuantityChange(e.target.value)} min=\"1\" max={sellToMarketModal.item.totalQuantity} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"sellToMarketPrice\">ê°œë‹¹ íŒë§¤ ê°€ê²© (ì›):</label>\r\n                <input type=\"number\" id=\"sellToMarketPrice\" value={sellToMarketModal.price} onChange={(e) => handleSellToMarketPriceChange(e.target.value)} min=\"1\" />\r\n              </div>\r\n              <div className=\"total-price-preview\">\r\n                ì˜ˆìƒ íŒë§¤ ì´ì•¡: <strong>{(sellToMarketModal.price * sellToMarketModal.quantity).toLocaleString()}ì›</strong>\r\n              </div>\r\n            </div>\r\n            <div className=\"myitems-modal-footer\">\r\n              <button onClick={handleCloseSellToMarketModal} className=\"button-secondary\">ì·¨ì†Œ</button>\r\n              <button onClick={handleConfirmSellToMarket} className=\"button-primary sell-button\" disabled={isSyncing}>\r\n                {isSyncing ? 'ë™ê¸°í™” ì¤‘...' : 'íŒë§¤ ë“±ë¡'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(MyItems);\r\n"],"names":["LoginWarning","_jsxs","className","children","_jsx","ITEM_DEFAULT_DURATION_MS","formatTimeLeft","usedTimestamp","timeLeft","arguments","length","undefined","Date","now","hours","Math","floor","minutes","seconds","formatted","concat","trim","QuantityBadge","_ref","quantity","badgeClass","MyItems","user","userDoc","users","classmates","useAuth","userItems","useItem","listItemForSale","refreshData","updateLocalUserItems","useItems","navigate","useNavigate","notification","setNotification","useState","showNotification","type","message","setTimeout","groupedUserItems","useMemo","itemsMap","Map","forEach","item","itemId","key","has","existingGroup","get","totalQuantity","sourceDocs","push","name","displayInfo","icon","description","set","price","durationMs","Array","from","values","sort","a","b","localeCompare","recentlyUsedItems","setRecentlyUsedItems","saved","localStorage","getItem","uid","JSON","parse","e","useEffect","setItem","stringify","hasRecentlyUsedItems","Object","keys","timer","setInterval","prevItems","itemsChanged","updatedItems","_objectSpread","_itemData$itemDetails","itemData","duration","itemDetails","clearInterval","useItemModal","setUseItemModal","isOpen","giftModal","setGiftModal","giftRecipientUid","setGiftRecipientUid","giftQuantity","setGiftQuantity","isGifting","setIsGifting","isSyncing","setIsSyncing","sellToMarketModal","setSellToMarketModal","handleCloseUseItemModal","handleCloseGiftModal","handleCloseSellToMarketModal","itemToGift","_Fragment","entries","map","_ref2","onClick","handleRemoveUsedItem","group","handleOpenUseItemModal","disabled","handleOpenGiftModal","target","currentTarget","htmlFor","prev","max","id","min","value","onChange","parseInt","async","quantityToUse","remainingToUse","results","sortedDocs","doc","amountToUse","result","success","Error","error","classmate","nickname","logger","Number","recipient","find","c","recipientName","originalUserItems","log","ì•„ì´í…œ","ìˆ˜ëŸ‰","ë³´ë‚´ëŠ”ì‚¬ëŒ","ë°›ëŠ”ì‚¬ëŒ","ë°›ëŠ”ì‚¬ëŒUID","inventoryRef","collection","db","allInventoryDocs","getDocs","actualDocs","docs","data","size","itemIdGroups","docIds","actualSourceDocs","actualTotalQuantity","docId","docRef","firebaseDoc","docSnap","getDoc","exists","warn","ìºì‹œë¬¸ì„œìˆ˜","ì‹¤ì œë¬¸ì„œìˆ˜","ì‹¤ì œì´ìˆ˜ëŸ‰","recipientInventoryRef","recipientQuery","query","where","recipientQuerySnapshot","recipientExistingDocRef","empty","ref","ê¸°ì¡´ì•„ì´í…œì¡´ì¬","ë¬¸ì„œìˆ˜","updatedUserItems","remainingToDeduct","deductAmount","newQuantity","runTransaction","senderItemSnaps","senderDoc","senderItemRef","senderItemSnap","transaction","currentQuantity","snap","recipientItemRef","recipientCurrentQuantity","recipientSnap","ë¬¸ì„œID","í˜„ì¬ìˆ˜ëŸ‰","remainingToSend","processedAmount","amountFromThisDoc","newSenderQty","ê¸°ì¡´ìˆ˜ëŸ‰","ì°¨ê°ìˆ˜ëŸ‰","ë‚¨ì€ìˆ˜ëŸ‰","delete","update","ìš”ì²­","ì²˜ë¦¬ë¨","ì¶”ê°€ìˆ˜ëŸ‰","ìµœì¢…ìˆ˜ëŸ‰","updatedAt","serverTimestamp","newRecipientItemRef","receivedAt","then","syncError","_sellToMarketModal$it","maxQty","newQty","handleSellToMarketQuantityChange","newPrice","handleSellToMarketPriceChange","toLocaleString","ìš”ì²­ìˆ˜ëŸ‰","ì‹¤ì œë³´ìœ ","remainingToSell","itemsToProcess","amountToSell","updateFields","itemRef","updateDoc","assign","window","confirm","includes","catch","React"],"ignoreList":[],"sourceRoot":""}