{"version":3,"file":"static/js/512.bd47c8bb.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/loader-circle.ts","components/PageWrapper.js","pages/government/SubmitComplaint.js","pages/government/ComplaintStatus.js","pages/government/TrialRoom.js","pages/government/Court.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('loader-circle', __iconNode);\n\nexport default LoaderCircle;\n","// src/components/PageWrapper.js\n//    -     \n\nimport React from \"react\";\nimport { Loader2, CheckSquare } from \"lucide-react\";\nimport { AlchanLoadingScreen } from \"./ui/Skeleton\";\n\n// ============================================\n//  \n// ============================================\nexport const PageContainer = ({ children, className = \"\" }) => (\n  <div className={`min-h-full w-full bg-[#0a0a12] ${className}`}>\n    <div className=\"w-full max-w-none px-2 md:px-3 lg:px-4 py-1 md:py-2\">\n      {children}\n    </div>\n  </div>\n);\n\n// ============================================\n//   -  \n// ============================================\nexport const PageHeader = ({\n  title,\n  subtitle,\n  icon: Icon,\n  badge,\n  action,\n  backButton,\n  className = \"\",\n}) => (\n  <section\n    className={`bg-[#14142380] backdrop-blur-sm rounded-lg px-3 py-1.5 md:px-4 md:py-2 shadow-lg border border-cyan-900/30 flex flex-col md:flex-row md:items-center justify-between gap-1.5 md:gap-2 mb-2 md:mb-3 ${className}`}\n  >\n    <div className=\"flex items-center gap-3\">\n      {backButton}\n      {Icon && (\n        <div className=\"w-9 h-9 md:w-10 md:h-10 bg-cyan-900/30 rounded-lg flex items-center justify-center text-cyan-400 shrink-0 shadow-sm border border-cyan-500/30\">\n          <Icon className=\"w-5 h-5\" />\n        </div>\n      )}\n      <div>\n        <div className=\"flex items-center gap-2\">\n          <h2 className=\"text-lg md:text-xl font-bold text-white tracking-tight\">\n            {title}\n          </h2>\n          {badge}\n        </div>\n        {subtitle && (\n          <p className=\"text-xs md:text-sm text-slate-400 font-medium\">\n            {subtitle}\n          </p>\n        )}\n      </div>\n    </div>\n    {action && (\n      <div className=\"flex flex-wrap items-center gap-2 md:gap-3 md:ml-auto\">\n        {action}\n      </div>\n    )}\n  </section>\n);\n\n// ============================================\n//  \n// ============================================\nexport const SectionTitle = ({\n  children,\n  icon: Icon,\n  action,\n  className = \"\",\n}) => (\n  <div className={`flex items-center justify-between px-1 mb-4 ${className}`}>\n    <h3 className=\"text-lg md:text-xl font-bold text-white flex items-center gap-2\">\n      {Icon && <Icon className=\"w-5 h-5 text-cyan-400\" />}\n      {children}\n    </h3>\n    {action}\n  </div>\n);\n\n// ============================================\n//   - null (HTML  )\n// ============================================\nexport const LoadingState = ({ message = \"  ...\" }) => null;\n\n// ============================================\n//  \n// ============================================\nexport const ErrorState = ({\n  title = \" \",\n  message,\n  onRetry,\n}) => (\n  <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n    <div className=\"w-16 h-16 bg-red-900/30 rounded-full flex items-center justify-center mb-4\">\n      <span className=\"text-3xl text-red-400\">!</span>\n    </div>\n    <h3 className=\"text-lg font-semibold text-white mb-2\">{title}</h3>\n    {message && <p className=\"text-slate-400 mb-4 max-w-md\">{message}</p>}\n    {onRetry && (\n      <button\n        onClick={onRetry}\n        className=\"px-5 py-2.5 bg-cyan-500 hover:bg-cyan-400 text-slate-900 rounded-xl font-bold text-sm transition-all shadow-lg shadow-cyan-500/30\"\n      >\n         \n      </button>\n    )}\n  </div>\n);\n\n// ============================================\n//  \n// ============================================\nexport const EmptyState = ({ icon: Icon, title, description, action }) => (\n  <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n    {Icon && (\n      <div className=\"w-16 h-16 rounded-full bg-[#14142380] shadow-lg flex items-center justify-center mb-4 border border-cyan-900/30\">\n        <Icon className=\"w-8 h-8 text-slate-400\" />\n      </div>\n    )}\n    {title && (\n      <h3 className=\"text-lg font-bold text-slate-300 mb-2\">{title}</h3>\n    )}\n    {description && (\n      <p className=\"text-slate-500 font-medium mb-6 max-w-md\">{description}</p>\n    )}\n    {action}\n  </div>\n);\n\n// ============================================\n//  \n// ============================================\nexport const CardGrid = ({ children, cols = 3, className = \"\" }) => {\n  const colsClass = {\n    1: \"grid-cols-1\",\n    2: \"grid-cols-1 md:grid-cols-2\",\n    3: \"grid-cols-1 md:grid-cols-2 xl:grid-cols-3\",\n    4: \"grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4\",\n  };\n\n  return (\n    <div\n      className={`grid ${colsClass[cols] || colsClass[3]} gap-6 ${className}`}\n    >\n      {children}\n    </div>\n  );\n};\n\n// ============================================\n//   -  \n// ============================================\nexport const StatCard = ({\n  icon: Icon,\n  label,\n  value,\n  subValue,\n  trend,\n  iconBg = \"bg-cyan-900/30\",\n  iconColor = \"text-cyan-400\",\n  onClick,\n}) => (\n  <div\n    className={`bg-[#14142380] backdrop-blur-sm rounded-2xl p-6 border border-cyan-900/30 shadow-lg hover:shadow-xl hover:shadow-cyan-500/10 transition-all duration-300 ${\n      onClick ? \"cursor-pointer\" : \"\"\n    }`}\n    onClick={onClick}\n  >\n    <div className=\"flex items-start justify-between\">\n      <div\n        className={`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${iconBg}`}\n      >\n        <Icon className={`w-6 h-6 ${iconColor}`} />\n      </div>\n      {trend && (\n        <span\n          className={`text-xs font-bold px-2.5 py-1 rounded-lg ${\n            trend.type === \"up\"\n              ? \"bg-emerald-900/30 text-emerald-400\"\n              : \"bg-red-900/30 text-red-400\"\n          }`}\n        >\n          {trend.type === \"up\" ? \"+\" : \"-\"}\n          {trend.value}%\n        </span>\n      )}\n    </div>\n    <div className=\"mt-4\">\n      <p className=\"text-sm text-slate-400 font-medium\">{label}</p>\n      <p className=\"text-2xl font-bold text-white mt-1 tracking-tight\">\n        {value}\n      </p>\n      {subValue && <p className=\"text-sm text-slate-500 mt-1\">{subValue}</p>}\n    </div>\n  </div>\n);\n\n// ============================================\n//   - \n// ============================================\nexport const AssetCard = ({ icon: Icon, label, value, color, iconColor }) => (\n  <div\n    className={`hidden lg:flex items-center gap-3 px-3 py-1.5 rounded-xl ${color} bg-opacity-50 border border-transparent`}\n  >\n    <div\n      className={`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${iconColor}`}\n    >\n      <Icon className=\"w-5 h-5\" />\n    </div>\n    <div>\n      <p className=\"text-[10px] font-bold opacity-70 mb-0 leading-tight\">\n        {label}\n      </p>\n      <p className=\"text-lg font-black tracking-tight leading-tight\">{value}</p>\n    </div>\n  </div>\n);\n\n// ============================================\n//  \n// ============================================\nexport const TabGroup = ({ tabs, activeTab, onChange, className = \"\" }) => (\n  <div\n    className={`flex gap-1 p-1 bg-[#0a0a12] rounded-xl border border-cyan-900/30 ${className}`}\n  >\n    {tabs.map((tab) => (\n      <button\n        key={tab.id}\n        onClick={() => onChange(tab.id)}\n        className={`flex-1 px-4 py-2.5 text-sm font-bold rounded-lg transition-all duration-200 ${\n          activeTab === tab.id\n            ? \"bg-cyan-500 text-slate-900 shadow-lg shadow-cyan-500/30\"\n            : \"text-slate-400 hover:text-white hover:bg-white/5\"\n        }`}\n      >\n        {tab.icon && <tab.icon className=\"w-4 h-4 mr-2 inline-block\" />}\n        {tab.label}\n        {tab.count !== undefined && (\n          <span\n            className={`ml-2 px-1.5 py-0.5 text-xs rounded-full ${\n              activeTab === tab.id\n                ? \"bg-slate-900 text-cyan-400\"\n                : \"bg-slate-800 text-slate-400\"\n            }`}\n          >\n            {tab.count}\n          </span>\n        )}\n      </button>\n    ))}\n  </div>\n);\n\n// ============================================\n//   -  \n// ============================================\nexport const ActionButton = ({\n  children,\n  icon: Icon,\n  variant = \"primary\",\n  size = \"md\",\n  loading = false,\n  disabled = false,\n  onClick,\n  className = \"\",\n  title,\n}) => {\n  const variants = {\n    primary:\n      \"bg-cyan-500 text-slate-900 hover:bg-cyan-400 ring-1 ring-cyan-400 shadow-cyan-500/30\",\n    secondary: \"bg-slate-800 hover:bg-slate-700 text-slate-200\",\n    outline:\n      \"bg-transparent text-slate-300 ring-1 ring-slate-600 hover:bg-slate-800 hover:ring-slate-500 shadow-sm\",\n    \"outline-green\":\n      \"bg-transparent text-emerald-400 ring-1 ring-emerald-600 hover:bg-emerald-900/30 hover:ring-emerald-500 shadow-sm\",\n    \"outline-red\":\n      \"bg-transparent text-rose-400 ring-1 ring-rose-600 hover:bg-rose-900/30 hover:ring-rose-500 shadow-sm\",\n    danger:\n      \"bg-transparent text-rose-400 ring-1 ring-rose-600 hover:bg-rose-900/30 hover:ring-rose-500 shadow-sm\",\n    success:\n      \"bg-transparent text-emerald-400 ring-1 ring-emerald-600 hover:bg-emerald-900/30 hover:ring-emerald-500 shadow-sm\",\n    ghost: \"text-slate-400 hover:bg-slate-800 hover:text-white\",\n    indigo: \"bg-purple-900/30 text-purple-300 hover:bg-purple-900/50\",\n  };\n\n  const sizes = {\n    sm: \"px-4 py-2 text-sm\",\n    md: \"px-5 py-2.5 text-sm\",\n    lg: \"px-6 py-3 text-base\",\n  };\n\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled || loading}\n      title={title}\n      className={`inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-200 active:scale-95 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${variants[variant]} ${sizes[size]} ${className}`}\n    >\n      {loading ? (\n        <Loader2 className=\"w-4 h-4 animate-spin\" />\n      ) : Icon ? (\n        <Icon className=\"w-4 h-4\" />\n      ) : null}\n      {children}\n    </button>\n  );\n};\n\n// ============================================\n//  \n// ============================================\nexport const InfoBadge = ({\n  children,\n  variant = \"default\",\n  className = \"\",\n}) => {\n  const variants = {\n    default: \"bg-slate-100 text-slate-700\",\n    primary: \"bg-indigo-100 text-indigo-700\",\n    success: \"bg-emerald-100 text-emerald-700\",\n    warning: \"bg-amber-100 text-amber-700\",\n    danger: \"bg-red-100 text-red-700\",\n  };\n\n  return (\n    <span\n      className={`inline-flex items-center px-2.5 py-1 text-xs font-bold rounded-lg ${variants[variant]} ${className}`}\n    >\n      {children}\n    </span>\n  );\n};\n\n// ============================================\n//  \n// ============================================\nexport const AlertBanner = ({\n  children,\n  variant = \"info\",\n  icon: Icon,\n  onClose,\n  className = \"\",\n}) => {\n  const variants = {\n    info: \"bg-blue-50 border-blue-200 text-blue-800\",\n    success: \"bg-emerald-50 border-emerald-200 text-emerald-800\",\n    warning: \"bg-amber-50 border-amber-200 text-amber-800\",\n    danger: \"bg-red-50 border-red-200 text-red-800\",\n  };\n\n  return (\n    <div\n      className={`flex items-start gap-3 p-4 rounded-xl border ${variants[variant]} ${className}`}\n    >\n      {Icon && <Icon className=\"w-5 h-5 flex-shrink-0 mt-0.5\" />}\n      <div className=\"flex-1 text-sm font-medium\">{children}</div>\n      {onClose && (\n        <button\n          onClick={onClose}\n          className=\"text-current opacity-50 hover:opacity-100\"\n        >\n          \n        </button>\n      )}\n    </div>\n  );\n};\n\n// ============================================\n//   /  \n// ============================================\nexport const ListItem = ({\n  children,\n  icon: Icon,\n  onClick,\n  active,\n  className = \"\",\n}) => (\n  <div\n    className={`flex items-center gap-3 p-4 rounded-xl transition-all ${\n      onClick ? \"cursor-pointer\" : \"\"\n    } ${\n      active\n        ? \"bg-cyan-900/30 border border-cyan-500/50\"\n        : \"bg-[#14142380] border border-cyan-900/20 hover:border-cyan-500/30 hover:shadow-lg hover:shadow-cyan-500/10\"\n    } ${className}`}\n    onClick={onClick}\n  >\n    {Icon && (\n      <div\n        className={`p-2 rounded-lg ${active ? \"bg-cyan-500\" : \"bg-slate-800\"}`}\n      >\n        <Icon\n          className={`w-5 h-5 ${active ? \"text-slate-900\" : \"text-slate-400\"}`}\n        />\n      </div>\n    )}\n    <div className=\"flex-1 min-w-0\">{children}</div>\n  </div>\n);\n\n// ============================================\n//   -  \n// ============================================\nexport const TaskItem = ({\n  task,\n  onComplete,\n  onEdit,\n  onDelete,\n  showActions = true,\n}) => (\n  <div className=\"group flex items-center justify-between p-3 rounded-xl bg-[#0a0a12] border border-cyan-900/30 hover:border-cyan-500/50 hover:bg-slate-900/50 hover:shadow-lg hover:shadow-cyan-500/10 transition-all\">\n    <div className=\"flex items-center gap-3 min-w-0\">\n      <div\n        onClick={onComplete}\n        className=\"w-5 h-5 rounded md:rounded-md border-2 border-slate-600 group-hover:border-cyan-500 cursor-pointer transition-colors flex items-center justify-center shrink-0\"\n      >\n        {/*   */}\n      </div>\n      <span className=\"font-bold text-slate-300 text-base truncate group-hover:text-cyan-400 transition-colors\">\n        {task.name}\n      </span>\n    </div>\n\n    <div className=\"flex items-center gap-2 shrink-0\">\n      {task.rewardType === \"random\" && (\n        <span className=\"px-2.5 py-1 rounded-lg bg-amber-900/30 text-amber-400 text-xs font-bold flex items-center gap-1\">\n           \n        </span>\n      )}\n      {showActions && (\n        <div className=\"opacity-0 group-hover:opacity-100 flex gap-1 transition-opacity\">\n          {onEdit && (\n            <button\n              onClick={onEdit}\n              className=\"p-1.5 text-slate-500 hover:text-cyan-400 rounded hover:bg-cyan-900/30\"\n            >\n              \n            </button>\n          )}\n          {onDelete && (\n            <button\n              onClick={onDelete}\n              className=\"p-1.5 text-slate-500 hover:text-red-400 rounded hover:bg-red-900/30\"\n            >\n              \n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  </div>\n);\n\n// ============================================\n//   -  \n// ============================================\nexport const JobCard = ({ job, children, onEdit, onDelete, onAddTask }) => {\n  const gradients = {\n    indigo: \"from-indigo-500 to-purple-600\",\n    blue: \"from-blue-500 to-cyan-500\",\n    emerald: \"from-emerald-500 to-teal-600\",\n    orange: \"from-orange-400 to-red-500\",\n    pink: \"from-pink-500 to-rose-500\",\n    violet: \"from-violet-500 to-purple-600\",\n  };\n\n  const gradient = job.color || gradients.indigo;\n\n  return (\n    <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl hover:shadow-cyan-500/10 transition-all duration-300 border border-cyan-900/30 overflow-hidden flex flex-col\">\n      {/*   */}\n      <div\n        className={`h-16 px-6 flex items-center justify-between bg-gradient-to-r ${gradient}`}\n      >\n        <h4 className=\"text-white font-bold text-lg tracking-wide flex items-center gap-2\">\n           {job.title}\n        </h4>\n        {(onEdit || onDelete) && (\n          <div className=\"flex gap-2\">\n            {onEdit && (\n              <button\n                onClick={onEdit}\n                className=\"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors\"\n              >\n                \n              </button>\n            )}\n            {onDelete && (\n              <button\n                onClick={onDelete}\n                className=\"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors\"\n              >\n                \n              </button>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/*   */}\n      <div className=\"p-6 space-y-4 flex-1\">{children}</div>\n\n      {/*   */}\n      {onAddTask && (\n        <div className=\"px-6 pb-6 pt-2\">\n          <button\n            onClick={onAddTask}\n            className=\"w-full py-3 rounded-xl bg-slate-900/50 text-slate-400 text-sm font-bold border border-cyan-900/30 hover:bg-cyan-900/30 hover:text-cyan-400 hover:border-cyan-500/50 transition-colors flex items-center justify-center gap-2\"\n          >\n                \n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// ============================================\n//   \n// ============================================\nexport const ContentSection = ({ children, className = \"\" }) => (\n  <div\n    className={`bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 p-6 ${className}`}\n  >\n    {children}\n  </div>\n);\n\n// ============================================\n//  \n// ============================================\nexport const MoneyDisplay = ({\n  amount,\n  size = \"md\",\n  showSign = false,\n  className = \"\",\n}) => {\n  const formatted = Math.abs(amount || 0).toLocaleString(\"ko-KR\");\n  const isNegative = amount < 0;\n  const isPositive = amount > 0;\n\n  const sizes = {\n    sm: \"text-sm\",\n    md: \"text-base\",\n    lg: \"text-xl\",\n    xl: \"text-2xl\",\n  };\n\n  return (\n    <span\n      className={`font-bold tabular-nums ${sizes[size]} ${\n        isNegative\n          ? \"text-red-500\"\n          : isPositive && showSign\n            ? \"text-emerald-500\"\n            : \"text-slate-900\"\n      } ${className}`}\n    >\n      {showSign && isPositive && \"+\"}\n      {isNegative && \"-\"}\n      {formatted}\n    </span>\n  );\n};\n\n// ============================================\n//   \n// ============================================\nexport const AddCard = ({ onClick, label = \" \" }) => (\n  <button\n    onClick={onClick}\n    className=\"group relative flex flex-col items-center justify-center h-full min-h-[260px] rounded-2xl border-2 border-dashed border-cyan-900/50 bg-slate-900/30 hover:bg-cyan-900/20 hover:border-cyan-500/50 transition-all\"\n  >\n    <div className=\"w-16 h-16 rounded-full bg-slate-800 shadow-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform\">\n      <span className=\"text-3xl text-slate-500 group-hover:text-cyan-400\">\n        \n      </span>\n    </div>\n    <span className=\"text-slate-500 font-bold group-hover:text-cyan-400 text-sm\">\n      {label}\n    </span>\n  </button>\n);\n\nexport default {\n  PageContainer,\n  PageHeader,\n  SectionTitle,\n  LoadingState,\n  ErrorState,\n  EmptyState,\n  CardGrid,\n  StatCard,\n  AssetCard,\n  TabGroup,\n  ActionButton,\n  InfoBadge,\n  AlertBanner,\n  ListItem,\n  TaskItem,\n  JobCard,\n  ContentSection,\n  MoneyDisplay,\n  AddCard,\n};\n","// src/SubmitComplaint.js\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\n// users:    (: [{id: 'user1', name: ''}, ...])\r\n// currentUserId:    ID\r\n// onSubmitComplaint:  (Court.js) handleAddComplaint \r\n// isAdmin:       \r\nconst SubmitComplaint = ({\r\n  onSubmitComplaint,\r\n  users = [],\r\n  currentUserId,\r\n  isAdmin = false,\r\n}) => {\r\n  const [complainantName, setComplainantName] = useState(\"\"); //  ,   \r\n  const [defendantId, setDefendantId] = useState(\"\"); //   ID \r\n  const [reason, setReason] = useState(\"\");\r\n  const [desiredResolution, setDesiredResolution] = useState(\"\");\r\n\r\n  //     \r\n  const [selectedReasonType, setSelectedReasonType] = useState(\"custom\"); // 'custom', 'predefined', 'law'\r\n  const [predefinedReasons, setPredefinedReasons] = useState([]);\r\n  const [selectedPredefinedReason, setSelectedPredefinedReason] = useState(\"\");\r\n  const [approvedLaws, setApprovedLaws] = useState([]);\r\n  const [selectedLaw, setSelectedLaw] = useState(\"\");\r\n\r\n  //      \r\n  const [newReason, setNewReason] = useState(\"\");\r\n  const [showAddReasonModal, setShowAddReasonModal] = useState(false);\r\n\r\n  //    (  ,   )\r\n  useEffect(() => {\r\n    //      \r\n    const savedReasons = localStorage.getItem(\"predefinedComplaintReasons\");\r\n    if (savedReasons) {\r\n      try { setPredefinedReasons(JSON.parse(savedReasons)); } catch { /* corrupted data, use defaults */ }\r\n    } else {\r\n      //   \r\n      const initialReasons = [\r\n        \"   \",\r\n        \" \",\r\n        \" \",\r\n        \" \",\r\n        \" \",\r\n      ];\r\n      setPredefinedReasons(initialReasons);\r\n      localStorage.setItem(\r\n        \"predefinedComplaintReasons\",\r\n        JSON.stringify(initialReasons)\r\n      );\r\n    }\r\n\r\n    //     \r\n    const savedLaws = localStorage.getItem(\"nationalAssemblyLaws\");\r\n    if (savedLaws) {\r\n      let parsedLaws;\r\n      try { parsedLaws = JSON.parse(savedLaws); } catch { parsedLaws = []; }\r\n      //    (approved, veto_overridden, final_approved )\r\n      const lawsFiltered = parsedLaws.filter(\r\n        (law) =>\r\n          law.status === \"approved\" ||\r\n          law.status === \"veto_overridden\" ||\r\n          law.finalStatus === \"final_approved\"\r\n      );\r\n      setApprovedLaws(lawsFiltered);\r\n    }\r\n  }, []);\r\n\r\n  //     \r\n  useEffect(() => {\r\n    if (predefinedReasons.length > 0) {\r\n      localStorage.setItem(\r\n        \"predefinedComplaintReasons\",\r\n        JSON.stringify(predefinedReasons)\r\n      );\r\n    }\r\n  }, [predefinedReasons]);\r\n\r\n  //     \r\n  const handleAddPredefinedReason = () => {\r\n    if (!newReason.trim()) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    const updatedReasons = [...predefinedReasons, newReason.trim()];\r\n    setPredefinedReasons(updatedReasons);\r\n    setNewReason(\"\");\r\n    setShowAddReasonModal(false);\r\n  };\r\n\r\n  //   \r\n  const handleDeleteReason = (index) => {\r\n    if (window.confirm(\"   ?\")) {\r\n      const updatedReasons = [...predefinedReasons];\r\n      updatedReasons.splice(index, 1);\r\n      setPredefinedReasons(updatedReasons);\r\n    }\r\n  };\r\n\r\n  //     \r\n  const handleReasonTypeChange = (type) => {\r\n    setSelectedReasonType(type);\r\n\r\n    //         \r\n    if (type === \"custom\") {\r\n      setReason(\"\"); //      \r\n    } else if (type === \"predefined\") {\r\n      setSelectedPredefinedReason(\"\");\r\n      setReason(\"\");\r\n    } else if (type === \"law\") {\r\n      setSelectedLaw(\"\");\r\n      setReason(\"\");\r\n    }\r\n  };\r\n\r\n  //   (    )   \r\n  useEffect(() => {\r\n    if (selectedReasonType === \"predefined\" && selectedPredefinedReason) {\r\n      setReason(selectedPredefinedReason);\r\n    } else if (selectedReasonType === \"law\" && selectedLaw) {\r\n      const selectedLawObj = approvedLaws.find(\r\n        (law) => law.id === parseInt(selectedLaw)\r\n      );\r\n      if (selectedLawObj) {\r\n        setReason(\r\n          ` : ${selectedLawObj.title} - ${selectedLawObj.description}`\r\n        );\r\n      }\r\n    }\r\n  }, [selectedPredefinedReason, selectedLaw, approvedLaws, selectedReasonType]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!defendantId) {\r\n      alert(\" .\");\r\n      return;\r\n    }\r\n    if (!reason.trim()) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n    onSubmitComplaint({\r\n      complainantName, //   (   )\r\n      defendantId, //   ID\r\n      reason,\r\n      desiredResolution,\r\n      //      \r\n      lawViolation:\r\n        selectedReasonType === \"law\"\r\n          ? {\r\n              lawId: parseInt(selectedLaw),\r\n              lawTitle:\r\n                approvedLaws.find((law) => law.id === parseInt(selectedLaw))\r\n                  ?.title || \"\",\r\n            }\r\n          : null,\r\n    });\r\n    //  \r\n    setDefendantId(\"\");\r\n    setReason(\"\");\r\n    setDesiredResolution(\"\");\r\n    setSelectedReasonType(\"custom\");\r\n    setSelectedPredefinedReason(\"\");\r\n    setSelectedLaw(\"\");\r\n  };\r\n\r\n  //    (  )\r\n  const defendantOptions = users\r\n    .filter((user) => user.id !== currentUserId) //  \r\n    .map((user) => (\r\n      <option key={user.id} value={user.id}>\r\n        {user.name} {/*  ID  : {user.name} ({user.id}) */}\r\n      </option>\r\n    ));\r\n\r\n  return (\r\n    <div className=\"complaint-submission-container\">\r\n      <h2 className=\"section-title\"> </h2>\r\n\r\n      <form onSubmit={handleSubmit} className=\"submit-complaint-form\">\r\n        {/*    */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defendantSelect\" className=\"form-label\">\r\n             \r\n          </label>\r\n          <select\r\n            id=\"defendantSelect\"\r\n            className=\"form-select\"\r\n            value={defendantId}\r\n            onChange={(e) => setDefendantId(e.target.value)}\r\n            required\r\n          >\r\n            <option value=\"\">--   --</option>\r\n            {defendantOptions}\r\n          </select>\r\n        </div>\r\n\r\n        {/*     */}\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">   </label>\r\n          <div className=\"reason-type-selection\">\r\n            <div className=\"reason-type-option\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"reasonTypeCustom\"\r\n                name=\"reasonType\"\r\n                value=\"custom\"\r\n                checked={selectedReasonType === \"custom\"}\r\n                onChange={() => handleReasonTypeChange(\"custom\")}\r\n              />\r\n              <label htmlFor=\"reasonTypeCustom\"> </label>\r\n            </div>\r\n\r\n            <div className=\"reason-type-option\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"reasonTypePredefined\"\r\n                name=\"reasonType\"\r\n                value=\"predefined\"\r\n                checked={selectedReasonType === \"predefined\"}\r\n                onChange={() => handleReasonTypeChange(\"predefined\")}\r\n              />\r\n              <label htmlFor=\"reasonTypePredefined\">  </label>\r\n            </div>\r\n\r\n            <div className=\"reason-type-option\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"reasonTypeLaw\"\r\n                name=\"reasonType\"\r\n                value=\"law\"\r\n                checked={selectedReasonType === \"law\"}\r\n                onChange={() => handleReasonTypeChange(\"law\")}\r\n              />\r\n              <label htmlFor=\"reasonTypeLaw\"> </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/*      / UI */}\r\n        {selectedReasonType === \"custom\" && (\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"reason\" className=\"form-label\">\r\n               \r\n            </label>\r\n            <textarea\r\n              id=\"reason\"\r\n              className=\"form-textarea\"\r\n              value={reason}\r\n              onChange={(e) => setReason(e.target.value)}\r\n              placeholder=\"   \"\r\n              required\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {selectedReasonType === \"predefined\" && (\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"predefinedReason\" className=\"form-label\">\r\n                \r\n            </label>\r\n            <div className=\"predefined-reason-container\">\r\n              <select\r\n                id=\"predefinedReason\"\r\n                className=\"form-select\"\r\n                value={selectedPredefinedReason}\r\n                onChange={(e) => setSelectedPredefinedReason(e.target.value)}\r\n                required\r\n              >\r\n                <option value=\"\">--    --</option>\r\n                {predefinedReasons.map((reason, index) => (\r\n                  <option key={index} value={reason}>\r\n                    {reason}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              {/*      */}\r\n              {isAdmin && (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"add-reason-button\"\r\n                  onClick={() => setShowAddReasonModal(true)}\r\n                >\r\n                  +   \r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/*     */}\r\n            {selectedPredefinedReason && (\r\n              <div className=\"selected-reason-display\">\r\n                <p>  : {selectedPredefinedReason}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {selectedReasonType === \"law\" && (\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"lawViolation\" className=\"form-label\">\r\n                \r\n            </label>\r\n            <select\r\n              id=\"lawViolation\"\r\n              className=\"form-select\"\r\n              value={selectedLaw}\r\n              onChange={(e) => setSelectedLaw(e.target.value)}\r\n              required\r\n            >\r\n              <option value=\"\">--    --</option>\r\n              {approvedLaws.map((law) => (\r\n                <option key={law.id} value={law.id}>\r\n                  {law.title} (: {law.fine})\r\n                </option>\r\n              ))}\r\n            </select>\r\n\r\n            {/*     */}\r\n            {selectedLaw && (\r\n              <div className=\"selected-law-display\">\r\n                {approvedLaws.find(\r\n                  (law) => law.id === parseInt(selectedLaw)\r\n                ) && (\r\n                  <>\r\n                    <p>\r\n                      <strong> :</strong>{\" \"}\r\n                      {\r\n                        approvedLaws.find(\r\n                          (law) => law.id === parseInt(selectedLaw)\r\n                        ).purpose\r\n                      }\r\n                    </p>\r\n                    <p>\r\n                      <strong> :</strong>{\" \"}\r\n                      {\r\n                        approvedLaws.find(\r\n                          (law) => law.id === parseInt(selectedLaw)\r\n                        ).description\r\n                      }\r\n                    </p>\r\n                    <p>\r\n                      <strong>:</strong>{\" \"}\r\n                      {\r\n                        approvedLaws.find(\r\n                          (law) => law.id === parseInt(selectedLaw)\r\n                        ).fine\r\n                      }\r\n                    </p>\r\n                  </>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/*   */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"desiredResolution\" className=\"form-label\">\r\n             \r\n          </label>\r\n          <textarea\r\n            id=\"desiredResolution\"\r\n            className=\"form-textarea\"\r\n            value={desiredResolution}\r\n            onChange={(e) => setDesiredResolution(e.target.value)}\r\n            placeholder=\"    ()\"\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"submit-button\">\r\n           \r\n        </button>\r\n      </form>\r\n\r\n      {/*      */}\r\n      {showAddReasonModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-container small\">\r\n            <div className=\"modal-header\">\r\n              <h3 className=\"modal-title\">   </h3>\r\n            </div>\r\n\r\n            <div className=\"modal-content\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"newReason\" className=\"form-label\">\r\n                   \r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"newReason\"\r\n                  className=\"form-input\"\r\n                  value={newReason}\r\n                  onChange={(e) => setNewReason(e.target.value)}\r\n                  placeholder=\"   \"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"modal-button cancel\"\r\n                onClick={() => {\r\n                  setShowAddReasonModal(false);\r\n                  setNewReason(\"\");\r\n                }}\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"modal-button submit\"\r\n                onClick={handleAddPredefinedReason}\r\n                disabled={!newReason.trim()}\r\n              >\r\n                \r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/*      */}\r\n      {isAdmin &&\r\n        selectedReasonType === \"predefined\" &&\r\n        predefinedReasons.length > 0 && (\r\n          <div className=\"admin-reasons-management\">\r\n            <h3>  </h3>\r\n            <div className=\"reasons-list\">\r\n              {predefinedReasons.map((reason, index) => (\r\n                <div key={index} className=\"reason-item\">\r\n                  <span className=\"reason-text\">{reason}</span>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"delete-reason-button\"\r\n                    onClick={() => handleDeleteReason(index)}\r\n                  >\r\n                    \r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitComplaint;\r\n","// src/ComplaintStatus.js ( -     )\r\nimport React from \"react\";\r\n\r\n//  props  (complaints, users, isAdmin, currentUserId, onVote, onStartTrial, onOpenJudgment )\r\nconst ComplaintStatus = ({\r\n  complaints,\r\n  users,\r\n  isAdmin,\r\n  currentUserId,\r\n  onVote,\r\n  onStartTrial,\r\n  onOpenJudgment,\r\n  onEditComplaint, //   \r\n  onDeleteComplaint, //   \r\n  onIndictComplaint, //   ()\r\n  onDismissComplaint, //   ()\r\n}) => {\r\n  const getUserNameById = (userId) =>\r\n    users.find((u) => u.id === userId)?.name || \"  \";\r\n\r\n  //      .\r\n  // const pending = complaints.filter(c => c.status === 'pending');\r\n  // const indicted = complaints.filter(c => c.status === 'indicted');\r\n  // ... etc\r\n\r\n  return (\r\n    <div className=\"complaint-list-container\">\r\n      {/* complaints  map     */}\r\n      <ul className=\"complaint-list\">\r\n        {\" \"}\r\n        {/* ul  div  grid    */}\r\n        {complaints.length === 0 ? (\r\n          <li className=\"empty-state\">   .</li>\r\n        ) : (\r\n          complaints.map((complaint) => {\r\n            const likedByCount = complaint.likedBy?.length || 0;\r\n            const dislikedByCount = complaint.dislikedBy?.length || 0;\r\n            const didCurrentUserLike =\r\n              complaint.likedBy?.includes(currentUserId);\r\n            const didCurrentUserDislike =\r\n              complaint.dislikedBy?.includes(currentUserId);\r\n\r\n            //    \r\n            let cardClass = \"complaint-card\";\r\n            if (complaint.status === \"indicted\") cardClass += \" indicted-card\";\r\n            else if (complaint.status === \"on_trial\")\r\n              cardClass += \" on-trial-card\";\r\n            else if (complaint.status === \"dismissed\")\r\n              cardClass += \" dismissed-card\";\r\n            // 'pending'       \r\n\r\n            return (\r\n              <li key={complaint.id} className={cardClass}>\r\n                {\" \"}\r\n                {/* li  div    */}\r\n                {/*  : , , * */}\r\n                <div className=\"complaint-card-header\">\r\n                  <span className=\"case-id\">ID: {complaint.id.slice(-6)}</span>\r\n                  {/*  *   */}\r\n                  <span className=\"parties-display\">\r\n                    {getUserNameById(complaint.complainantId)} *{\" \"}\r\n                    {getUserNameById(complaint.defendantId)}\r\n                  </span>\r\n                  {/*    */}\r\n                  <span className={`case-status status-${complaint.status}`}>\r\n                    {complaint.status === \"pending\"\r\n                      ? \"\"\r\n                      : complaint.status === \"indicted\"\r\n                      ? \"\"\r\n                      : complaint.status === \"on_trial\"\r\n                      ? \"\"\r\n                      : complaint.status === \"dismissed\"\r\n                      ? \"/\"\r\n                      : complaint.status === \"resolved\"\r\n                      ? \"\"\r\n                      : complaint.status}\r\n                  </span>\r\n                </div>\r\n                {/*  :  ,   */}\r\n                <div className=\"complaint-card-content\">\r\n                  <h4> </h4>\r\n                  <p>{complaint.reason}</p>\r\n                  {complaint.desiredResolution && (\r\n                    <>\r\n                      <h4> </h4>\r\n                      <p>{complaint.desiredResolution}</p>\r\n                    </>\r\n                  )}\r\n                </div>\r\n                {/* /  (pending  ,    ) */}\r\n                {complaint.status === \"pending\" && (\r\n                  <div className=\"complaint-voting\">\r\n                    <button\r\n                      className={`vote-button like-button ${\r\n                        didCurrentUserLike ? \"voted\" : \"\"\r\n                      }`}\r\n                      onClick={() => onVote(complaint.id, \"like\")}\r\n                      disabled={!currentUserId}\r\n                      title=\"\"\r\n                    >\r\n                       <span className=\"vote-count\">{likedByCount}</span>\r\n                    </button>\r\n                    <button\r\n                      className={`vote-button dislike-button ${\r\n                        didCurrentUserDislike ? \"voted\" : \"\"\r\n                      }`}\r\n                      onClick={() => onVote(complaint.id, \"dislike\")}\r\n                      disabled={!currentUserId}\r\n                      title=\"\"\r\n                    >\r\n                       <span className=\"vote-count\">{dislikedByCount}</span>\r\n                    </button>\r\n                  </div>\r\n                )}\r\n                {/* /   ( ) */}\r\n                {isAdmin && (\r\n                  <div className=\"complaint-card-actions\">\r\n                    {/*    */}\r\n                    {complaint.status === \"pending\" && (\r\n                      <>\r\n                        <button\r\n                          onClick={() => onIndictComplaint(complaint.id)}\r\n                          className=\"indict-button\"\r\n                        >\r\n                          \r\n                        </button>\r\n                        <button\r\n                          onClick={() => onDismissComplaint(complaint.id)}\r\n                          className=\"dismiss-button\"\r\n                        >\r\n                          \r\n                        </button>\r\n                        <button\r\n                          onClick={() => onEditComplaint(complaint)}\r\n                          className=\"edit-button\"\r\n                        >\r\n                          \r\n                        </button>\r\n                        <button\r\n                          onClick={() => onDeleteComplaint(complaint.id)}\r\n                          className=\"delete-button\"\r\n                        >\r\n                          \r\n                        </button>\r\n                      </>\r\n                    )}\r\n                    {complaint.status === \"indicted\" && (\r\n                      <>\r\n                        {/* \"\"   */}\r\n                        <button\r\n                          onClick={() => onStartTrial(complaint.id)}\r\n                          className=\"start-trial-button\"\r\n                        >\r\n                          \r\n                        </button>\r\n                        <button\r\n                          onClick={() => onEditComplaint(complaint)}\r\n                          className=\"edit-button\"\r\n                        >\r\n                           \r\n                        </button>{\" \"}\r\n                        {/*     ? */}\r\n                        <button\r\n                          onClick={() => onDeleteComplaint(complaint.id)}\r\n                          className=\"delete-button\"\r\n                        >\r\n                           /\r\n                        </button>{\" \"}\r\n                        {/*  */}\r\n                      </>\r\n                    )}\r\n                    {complaint.status === \"on_trial\" && (\r\n                      <>\r\n                        {/* \" \"   */}\r\n                        <button\r\n                          onClick={() => onOpenJudgment(complaint)}\r\n                          className=\"write-judgment-button\"\r\n                        >\r\n                           \r\n                        </button>\r\n                        {/*    /    */}\r\n                      </>\r\n                    )}\r\n                    {/* /    (:  ) */}\r\n                    {(complaint.status === \"dismissed\" ||\r\n                      complaint.status === \"resolved\") && (\r\n                      <button\r\n                        onClick={() => onDeleteComplaint(complaint.id)}\r\n                        className=\"delete-button\"\r\n                      >\r\n                         \r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </li>\r\n            );\r\n          })\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ComplaintStatus;\r\n","import { processFineTransaction, transferCash } from \"../../firebase\";\r\n// src/TrialRoom.js\r\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport {\r\n  doc,\r\n  updateDoc,\r\n  serverTimestamp,\r\n  arrayUnion,\r\n  arrayRemove,\r\n  collection,\r\n  addDoc,\r\n  query,\r\n  orderBy,\r\n  limit,\r\n  deleteDoc,\r\n  writeBatch,\r\n  getDocs,\r\n  getDoc,\r\n  setDoc,\r\n} from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { db, storage } from \"../../firebase\";\r\nimport { usePolling, POLLING_INTERVALS } from \"../../hooks/usePolling\";\r\nimport \"./TrialRoom.css\";\r\n\r\nimport { logger } from \"../../utils/logger\";\r\n//   \r\nconst Avatar = ({ role, name, isActive, userId, onAvatarClick, showSpeechBubble, canGrantPermission }) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [position, setPosition] = useState({ x: 0, y: 0 });\r\n  const [isWalking, setIsWalking] = useState(false);\r\n  \r\n  const avatarStyles = {\r\n    judge: { bg: \"#6f42c1\", icon: \"\", title: \"\" },\r\n    prosecutor: { bg: \"#dc3545\", icon: \"\", title: \"\" },\r\n    lawyer: { bg: \"#0d6efd\", icon: \"\", title: \"\" },\r\n    complainant: { bg: \"#198754\", icon: \"\", title: \"\" },\r\n    defendant: { bg: \"#fd7e14\", icon: \"\", title: \"\" },\r\n    jury: { bg: \"#0dcaf0\", icon: \"\", title: \"\" },\r\n    spectator: { bg: \"#6c757d\", icon: \"\", title: \"\" },\r\n  };\r\n\r\n  const style = avatarStyles[role] || avatarStyles.spectator;\r\n\r\n  //    ()\r\n  useEffect(() => {\r\n    if (isActive) {\r\n      const interval = setInterval(() => {\r\n        setIsWalking(true);\r\n        setPosition({\r\n          x: Math.random() * 10 - 5,\r\n          y: Math.random() * 10 - 5\r\n        });\r\n        setTimeout(() => setIsWalking(false), 500);\r\n      }, 5000);\r\n      \r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [isActive]);\r\n\r\n  const handleClick = () => {\r\n    if (onAvatarClick) {\r\n      onAvatarClick(userId);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`avatar ${isActive ? 'active' : ''} ${isWalking ? 'walking' : ''}`}\r\n      onClick={handleClick}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n      data-role={role}\r\n      style={{\r\n        transform: `translate(${position.x}px, ${position.y}px)`,\r\n        cursor: canGrantPermission ? 'pointer' : 'default'\r\n      }}\r\n    >\r\n      {/*  -      */}\r\n      {(isHovered || showSpeechBubble) && (\r\n        <div className={`speech-bubble ${showSpeechBubble ? 'show' : ''}`}>\r\n          {showSpeechBubble ? \"  \" : canGrantPermission && userId ? \"   \" : name}\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"avatar-circle\" style={{ backgroundColor: style.bg }}>\r\n        <span className=\"avatar-icon\">{style.icon}</span>\r\n      </div>\r\n      <div className=\"avatar-name\">{name || \" \"}</div>\r\n      <div className=\"avatar-role\">{style.title}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TrialRoom = ({ roomId, classCode, currentUser, users, onClose }) => {\r\n  const [roomData, setRoomData] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n  const [userRole, setUserRole] = useState(\"spectator\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [evidence, setEvidence] = useState([]);\r\n  const [uploadingEvidence, setUploadingEvidence] = useState(false);\r\n  const [isSilenced, setIsSilenced] = useState(false); //     \r\n  const [votingData, setVotingData] = useState(null);\r\n  const [myVote, setMyVote] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n\r\n  //   \r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  //   (onSnapshot  polling)   \r\n  const fetchRoomSnapshot = useCallback(async () => {\r\n    if (!roomId || !classCode) return null;\r\n    const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n    const docSnap = await getDoc(roomRef);\r\n    return docSnap.exists() ? { id: docSnap.id, ...docSnap.data() } : null;\r\n  }, [roomId, classCode]);\r\n\r\n  const { data: polledRoom, loading: roomPolling } = usePolling(fetchRoomSnapshot, {\r\n    interval: 10 * 60 * 1000, //  [] 10   (Firestore  )\r\n    enabled: !!roomId && !!classCode,\r\n    deps: [roomId, classCode],\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (roomPolling) return;\r\n    if (!polledRoom) {\r\n      setRoomData(null);\r\n      setVotingData(null);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setRoomData(polledRoom);\r\n\r\n    const voting = polledRoom.voting || null;\r\n    setVotingData(voting);\r\n    if (!voting || !voting.isActive) {\r\n      setMyVote(null);\r\n    }\r\n\r\n    let currentRole = \"spectator\";\r\n    if (polledRoom.judgeId === currentUser.id) {\r\n      currentRole = \"judge\";\r\n    } else if (polledRoom.complainantId === currentUser.id) {\r\n      currentRole = \"complainant\";\r\n    } else if (polledRoom.defendantId === currentUser.id) {\r\n      currentRole = \"defendant\";\r\n    } else if (polledRoom.prosecutorId === currentUser.id) {\r\n      currentRole = \"prosecutor\";\r\n    } else if (polledRoom.lawyerId === currentUser.id) {\r\n      currentRole = \"lawyer\";\r\n    } else if (polledRoom.juryIds?.includes(currentUser.id)) {\r\n      currentRole = \"jury\";\r\n    }\r\n    setUserRole(currentRole);\r\n\r\n    setIsSilenced(Boolean(polledRoom.silencedUsers?.includes(currentUser.id)));\r\n    setLoading(false);\r\n  }, [polledRoom, roomPolling, currentUser.id]);\r\n\r\n  useEffect(() => {\r\n    if (!roomId || !classCode) return;\r\n    handleJoinRoom();\r\n    return () => {\r\n      handleLeaveRoom();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [roomId, classCode]);\r\n\r\n  // /   (  )\r\n  const fetchMessages = useCallback(async () => {\r\n    if (!roomId || !classCode) return [];\r\n    const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n    const messagesQuery = query(messagesRef, orderBy(\"timestamp\", \"asc\"), limit(100));\r\n    const snapshot = await getDocs(messagesQuery);\r\n    return snapshot.docs.map(d => ({ id: d.id, ...d.data() }));\r\n  }, [roomId, classCode]);\r\n\r\n  const fetchEvidence = useCallback(async () => {\r\n    if (!roomId || !classCode) return [];\r\n    const evidenceRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"evidence\");\r\n    const evidenceQuery = query(evidenceRef, orderBy(\"uploadedAt\", \"desc\"), limit(50));\r\n    const snapshot = await getDocs(evidenceQuery);\r\n    return snapshot.docs.map(d => ({ id: d.id, ...d.data() }));\r\n  }, [roomId, classCode]);\r\n\r\n  const { data: polledMessages } = usePolling(fetchMessages, {\r\n    interval: 10 * 60 * 1000, //  [ ] 5  10\r\n    enabled: !!roomId && !!classCode,\r\n    deps: [roomId, classCode],\r\n  });\r\n\r\n  const { data: polledEvidence } = usePolling(fetchEvidence, {\r\n    interval: POLLING_INTERVALS.NORMAL, // 5 \r\n    enabled: !!roomId && !!classCode,\r\n    deps: [roomId, classCode],\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (polledMessages) setMessages(polledMessages);\r\n  }, [polledMessages]);\r\n\r\n  useEffect(() => {\r\n    if (polledEvidence) setEvidence(polledEvidence);\r\n  }, [polledEvidence]);\r\n\r\n  const handleJoinRoom = async () => {\r\n    try {\r\n      const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n      \r\n      // Get the latest room data to check for available roles\r\n      const roomSnap = await getDoc(roomRef);\r\n      if (!roomSnap.exists()) {\r\n          logger.error(\"Trial room not found!\");\r\n          return;\r\n      }\r\n      const currentRoomData = roomSnap.data();\r\n      let updateData = {\r\n          participants: arrayUnion(currentUser.id),\r\n          lastActivity: serverTimestamp(),\r\n      };\r\n      let assignedRole = '';\r\n\r\n      // Automatic role assignment based on job\r\n      if (currentUser.job === '' && !currentRoomData.judgeId) {\r\n          updateData.judgeId = currentUser.id;\r\n          updateData.judgeName = currentUser.name || currentUser.displayName;\r\n          assignedRole = '';\r\n      } else if (currentUser.job === '' && !currentRoomData.prosecutorId) {\r\n          updateData.prosecutorId = currentUser.id;\r\n          updateData.prosecutorName = currentUser.name || currentUser.displayName;\r\n          assignedRole = '';\r\n      } else if (currentUser.job === '' && !currentRoomData.lawyerId) {\r\n          updateData.lawyerId = currentUser.id;\r\n          updateData.lawyerName = currentUser.name || currentUser.displayName;\r\n          assignedRole = '';\r\n      }\r\n\r\n      await updateDoc(roomRef, updateData);\r\n      \r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      const joinMessage = `${currentUser.name || currentUser.displayName} .`;\r\n      const roleMessage = assignedRole ? ` ${assignedRole}   .` : '';\r\n      \r\n      await addDoc(messagesRef, {\r\n        type: \"system\",\r\n        text: joinMessage + roleMessage,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n\r\n    } catch (error) {\r\n      logger.error(\"Error joining room:\", error);\r\n    }\r\n  };\r\n\r\n  const handleLeaveRoom = async () => {\r\n    try {\r\n      const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n      await updateDoc(roomRef, {\r\n        participants: arrayRemove(currentUser.id),\r\n        lastActivity: serverTimestamp(),\r\n      });\r\n    } catch (error) {\r\n      logger.error(\"Error leaving room:\", error);\r\n    }\r\n  };\r\n\r\n  const handleTakeRole = async (role) => {\r\n    if (!roomData) return;\r\n    \r\n    const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n    let updateData = {};\r\n    let roleTitle = \"\";\r\n    \r\n    switch (role) {\r\n      case \"prosecutor\":\r\n        if (roomData.prosecutorId) return alert(\"  .\");\r\n        updateData.prosecutorId = currentUser.id;\r\n        updateData.prosecutorName = currentUser.name || currentUser.displayName;\r\n        roleTitle = \"\";\r\n        break;\r\n      case \"lawyer\":\r\n        if (roomData.lawyerId) return alert(\"  .\");\r\n        updateData.lawyerId = currentUser.id;\r\n        updateData.lawyerName = currentUser.name || currentUser.displayName;\r\n        roleTitle = \"\";\r\n        break;\r\n      case \"jury\":\r\n        if (roomData.juryIds?.includes(currentUser.id)) return alert(\" .\");\r\n        if ((roomData.juryIds?.length || 0) >= 6) return alert(\"  .\");\r\n        updateData.juryIds = arrayUnion(currentUser.id);\r\n        roleTitle = \"\";\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n    \r\n    try {\r\n      await updateDoc(roomRef, {\r\n        ...updateData,\r\n        lastActivity: serverTimestamp(),\r\n      });\r\n      \r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      await addDoc(messagesRef, {\r\n        type: \"system\",\r\n        text: `${currentUser.name || currentUser.displayName} ${roleTitle}  .`,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n    } catch (error) {\r\n      logger.error(\"Error taking role:\", error);\r\n      alert(\"    .\");\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!inputMessage.trim() || !roomData) return;\r\n\r\n    //     \r\n    if (isSilenced) {\r\n      alert(\"     .\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      await addDoc(messagesRef, {\r\n        type: \"chat\",\r\n        userId: currentUser.id,\r\n        userName: currentUser.name || currentUser.displayName,\r\n        userRole: userRole,\r\n        text: inputMessage,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n      setInputMessage(\"\");\r\n    } catch (error) {\r\n      logger.error(\"Error sending message:\", error);\r\n    }\r\n  };\r\n\r\n  //   \r\n  const handleApplySilence = async (userId) => {\r\n    if (userRole !== \"judge\" || !userId) return;\r\n\r\n    try {\r\n      const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n      await updateDoc(roomRef, {\r\n        silencedUsers: arrayUnion(userId),\r\n      });\r\n\r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      await addDoc(messagesRef, {\r\n        type: \"system\",\r\n        text: `  ${getUserName(userId)}   .`,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n    } catch (error) {\r\n      logger.error(\"Error applying silence:\", error);\r\n    }\r\n  };\r\n\r\n  //   \r\n  const handleRemoveSilence = async (userId) => {\r\n    if (userRole !== \"judge\" || !userId) return;\r\n\r\n    try {\r\n      const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n      await updateDoc(roomRef, {\r\n        silencedUsers: arrayRemove(userId),\r\n      });\r\n\r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      await addDoc(messagesRef, {\r\n        type: \"system\",\r\n        text: `  ${getUserName(userId)}   .`,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n    } catch (error) {\r\n      logger.error(\"Error removing silence:\", error);\r\n    }\r\n  };\r\n  \r\n  const handleUploadEvidence = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n    if (file.size > 10 * 1024 * 1024) return alert(\"  10MB  .\");\r\n    const ALLOWED_TYPES = ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'application/pdf',\r\n      'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\r\n    if (!ALLOWED_TYPES.includes(file.type)) {\r\n      return alert(\"   . (, PDF, Word )\");\r\n    }\r\n    \r\n    setUploadingEvidence(true);\r\n    \r\n    try {\r\n      const storageRef = ref(storage, `trial-evidence/${classCode}/${roomId}/${Date.now()}_${file.name}`);\r\n      const snapshot = await uploadBytes(storageRef, file);\r\n      const downloadURL = await getDownloadURL(snapshot.ref);\r\n      \r\n      const evidenceRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"evidence\");\r\n      await addDoc(evidenceRef, {\r\n        fileName: file.name,\r\n        fileType: file.type,\r\n        fileSize: file.size,\r\n        url: downloadURL,\r\n        uploadedBy: currentUser.id,\r\n        uploaderName: currentUser.name || currentUser.displayName,\r\n        uploaderRole: userRole,\r\n        uploadedAt: serverTimestamp(),\r\n      });\r\n      \r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      await addDoc(messagesRef, {\r\n        type: \"system\",\r\n        text: `${currentUser.name || currentUser.displayName}   \"${file.name}\" .`,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n      \r\n      alert(\"  .\");\r\n    } catch (error) {\r\n      logger.error(\"Error uploading evidence:\", error);\r\n      alert(\"     .\");\r\n    } finally {\r\n      setUploadingEvidence(false);\r\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  const handleStartVoting = async (question, isAnonymous = false) => {\r\n    if (userRole !== \"judge\") return;\r\n    \r\n    try {\r\n      const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n      // Update the main room document with voting data\r\n      await updateDoc(roomRef, {\r\n        voting: {\r\n          question: question,\r\n          isAnonymous: isAnonymous,\r\n          isActive: true,\r\n          startedAt: serverTimestamp(),\r\n          votes: {},\r\n          guilty: 0,\r\n          notGuilty: 0,\r\n        }\r\n      });\r\n      \r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      await addDoc(messagesRef, {\r\n        type: \"system\",\r\n        text: `  : \"${question}\"`,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n    } catch (error) {\r\n      logger.error(\"Error starting vote:\", error);\r\n    }\r\n  };\r\n\r\n  const handleVote = async (vote) => {\r\n    if (userRole !== \"jury\" || !votingData?.isActive) return;\r\n    \r\n    try {\r\n      const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n      let updateData = {};\r\n      \r\n      if (votingData.isAnonymous) {\r\n        // For anonymous, we still need to increment a counter\r\n        updateData[`voting.${vote}`] = (roomData.voting[vote] || 0) + 1;\r\n      } else {\r\n        // For public, we set the specific user's vote\r\n        updateData[`voting.votes.${currentUser.id}`] = {\r\n          vote: vote,\r\n          voterName: currentUser.name || currentUser.displayName,\r\n          timestamp: serverTimestamp(),\r\n        };\r\n      }\r\n      \r\n      await updateDoc(roomRef, updateData);\r\n      setMyVote(vote);\r\n      alert(` : ${vote === \"guilty\" ? \"\" : \"\"}`);\r\n    } catch (error) {\r\n      logger.error(\"Error voting:\", error);\r\n    }\r\n  };\r\n\r\n  const handleEndVoting = async () => {\r\n    if (userRole !== \"judge\" || !votingData?.isActive) return;\r\n\r\n    try {\r\n      const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n      // We need to get the latest vote counts before declaring the result\r\n      const roomSnap = await getDoc(roomRef);\r\n      const latestRoomData = roomSnap.data();\r\n      const currentVotes = latestRoomData.voting;\r\n\r\n      let resultText = ` . `;\r\n      if (currentVotes.isAnonymous) {\r\n        resultText += `: ${currentVotes.guilty || 0}, : ${currentVotes.notGuilty || 0}`;\r\n      } else {\r\n        const guiltyVotes = Object.values(currentVotes.votes || {}).filter(v => v.vote === \"guilty\").length;\r\n        const notGuiltyVotes = Object.values(currentVotes.votes || {}).filter(v => v.vote === \"notGuilty\").length;\r\n        resultText += `: ${guiltyVotes}, : ${notGuiltyVotes}`;\r\n      }\r\n      \r\n      // Update the voting status within the main room document\r\n      await updateDoc(roomRef, {\r\n        \"voting.isActive\": false,\r\n        \"voting.endedAt\": serverTimestamp(),\r\n      });\r\n      \r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      await addDoc(messagesRef, {\r\n        type: \"system\",\r\n        text: resultText,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n    } catch (error) {\r\n      logger.error(\"Error ending vote:\", error);\r\n    }\r\n  };\r\n\r\n  //    -   /\r\n  const handleAvatarClick = async (clickedUserId) => {\r\n    if (userRole !== \"judge\" || !clickedUserId || clickedUserId === currentUser.id) return;\r\n\r\n    if (roomData?.silencedUsers?.includes(clickedUserId)) {\r\n      if (window.confirm(`${getUserName(clickedUserId)}   ?`)) {\r\n        await handleRemoveSilence(clickedUserId);\r\n      }\r\n    } else {\r\n      if (window.confirm(`${getUserName(clickedUserId)}   ?`)) {\r\n        await handleApplySilence(clickedUserId);\r\n      }\r\n    }\r\n  };\r\n\r\n  //  \r\n  const handleMakeVerdict = async () => {\r\n    if (userRole !== \"judge\") return;\r\n\r\n    const verdict = window.prompt(\"  (: , ,  10,000,  5,000):\");\r\n    if (!verdict || !verdict.trim()) return;\r\n\r\n    const reason = window.prompt(\"  :\");\r\n    if (!reason || !reason.trim()) return;\r\n\r\n    logger.log(\"Making verdict...\", { verdict, reason });\r\n\r\n    try {\r\n      // 1. Parse payment from verdict string\r\n      let paymentAmount = 0;\r\n      let paymentType = null;\r\n      const fineRegex = /\\s*([0-9,]+)/;\r\n      const settlementRegex = /\\s*([0-9,]+)/;\r\n\r\n      const fineMatch = verdict.match(fineRegex);\r\n      const settlementMatch = verdict.match(settlementRegex);\r\n\r\n      if (fineMatch && fineMatch[1]) {\r\n        paymentType = 'fine';\r\n        paymentAmount = parseInt(fineMatch[1].replace(/,/g, ''), 10);\r\n        logger.log(`Fine detected: ${paymentAmount}`);\r\n      } else if (settlementMatch && settlementMatch[1]) {\r\n        paymentType = 'settlement';\r\n        paymentAmount = parseInt(settlementMatch[1].replace(/,/g, ''), 10);\r\n        logger.log(`Settlement detected: ${paymentAmount}`);\r\n      }\r\n\r\n      // 2. Process payment if any\r\n      if (paymentType && paymentAmount > 0) {\r\n        if (paymentType === 'fine') {\r\n          logger.log(`Processing fine of ${paymentAmount} from ${roomData.defendantId}`);\r\n          await processFineTransaction(roomData.defendantId, classCode, paymentAmount, `  : ${reason}`);\r\n          logger.log(\"Fine processed successfully.\");\r\n        } else if (paymentType === 'settlement') {\r\n          logger.log(`Processing settlement of ${paymentAmount} from ${roomData.defendantId} to ${roomData.complainantId}`);\r\n          await transferCash(roomData.defendantId, roomData.complainantId, paymentAmount, ` : ${reason}`);\r\n          logger.log(\"Settlement processed successfully.\");\r\n        }\r\n      }\r\n\r\n      // 3. Save trial result\r\n      logger.log(\"Saving trial result...\");\r\n      const resultsRef = collection(db, \"classes\", classCode, \"trialResults\");\r\n      await addDoc(resultsRef, {\r\n        roomId: roomId,\r\n        caseNumber: roomData.caseNumber,\r\n        caseTitle: roomData.caseTitle || ' ',\r\n        judgeId: roomData.judgeId,\r\n        judgeName: roomData.judgeName,\r\n        complainantId: roomData.complainantId,\r\n        defendantId: roomData.defendantId,\r\n        verdict: verdict,\r\n        verdictReason: reason,\r\n        verdictDate: serverTimestamp(),\r\n        votingResult: votingData || null,\r\n        participants: roomData.participants || [],\r\n        paymentAmount: paymentAmount || 0,\r\n        paymentType: paymentType || null,\r\n      });\r\n      logger.log(\"Trial result saved.\");\r\n\r\n      // 4. Update trial room status\r\n      logger.log(\"Updating trial room status...\");\r\n      const roomRef = doc(db, \"classes\", classCode, \"trialRooms\", roomId);\r\n      await updateDoc(roomRef, {\r\n        status: \"completed\",\r\n        verdict: verdict,\r\n        verdictDate: serverTimestamp(),\r\n      });\r\n      logger.log(\"Trial room status updated.\");\r\n\r\n      // 5. Post system message\r\n      logger.log(\"Posting system message...\");\r\n      const messagesRef = collection(db, \"classes\", classCode, \"trialRooms\", roomId, \"messages\");\r\n      await addDoc(messagesRef, {\r\n        type: \"system\",\r\n        text: `  : ${verdict}\\n: ${reason}`,\r\n        timestamp: serverTimestamp(),\r\n      });\r\n      logger.log(\"System message posted.\");\r\n\r\n      alert(\" .      .\");\r\n\r\n      // 6. Close the trial room\r\n      if (onClose) onClose();\r\n    } catch (error) {\r\n      logger.error(\"Error making verdict:\", error);\r\n      alert(`    : ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const getUserName = (userId) => {\r\n    const user = users.find(u => u.id === userId);\r\n    return user?.name || user?.displayName || userId || \"  \";\r\n  };\r\n\r\n  const getRoleDisplay = (role) => ({\r\n    judge: \" \", prosecutor: \" \", lawyer: \" \",\r\n    complainant: \" \", defendant: \" \", jury: \" \",\r\n    spectator: \" \",\r\n  }[role] || \"\");\r\n\r\n  const getRoleColor = (role) => ({\r\n    judge: \"#6f42c1\", prosecutor: \"#dc3545\", lawyer: \"#0d6efd\",\r\n    complainant: \"#198754\", defendant: \"#fd7e14\", jury: \"#0dcaf0\",\r\n    spectator: \"#6c757d\",\r\n  }[role] || \"#6c757d\");\r\n\r\n  if (loading) return <div className=\"trial-room-loading\">  ...</div>;\r\n  if (!roomData) return <div className=\"trial-room-error\">   .</div>;\r\n\r\n  return (\r\n    <div className=\"trial-room-container\">\r\n      <div className=\"trial-room-header\">\r\n        <h2> -  {roomData.caseNumber}</h2>\r\n        <button onClick={onClose} className=\"close-room-btn\"> </button>\r\n      </div>\r\n      \r\n      <div className=\"trial-room-layout\">\r\n        <div className=\"courtroom-view\">\r\n          <div className=\"judge-bench\">\r\n            <Avatar \r\n              role=\"judge\" \r\n              name={roomData.judgeName} \r\n              isActive={roomData.participants?.includes(roomData.judgeId)}\r\n              userId={roomData.judgeId}\r\n              onAvatarClick={handleAvatarClick}\r\n              canGrantPermission={userRole === \"judge\"}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"court-floor\">\r\n            <div className=\"left-side\">\r\n              <div className=\"role-position\">\r\n                {roomData.prosecutorId ? (\r\n                  <Avatar\r\n                    role=\"prosecutor\"\r\n                    name={roomData.prosecutorName}\r\n                    isActive={roomData.participants?.includes(roomData.prosecutorId)}\r\n                    userId={roomData.prosecutorId}\r\n                    onAvatarClick={handleAvatarClick}\r\n                    canGrantPermission={userRole === \"judge\"}\r\n                    showSpeechBubble={roomData.silencedUsers?.includes(roomData.prosecutorId)}\r\n                  />\r\n                ) : (\r\n                  <div className=\"empty-role\">\r\n                    <button onClick={() => handleTakeRole(\"prosecutor\")} className=\"take-role-btn\" disabled={userRole !== \"spectator\"}> </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"role-position\">\r\n                <Avatar\r\n                  role=\"complainant\"\r\n                  name={getUserName(roomData.complainantId)}\r\n                  isActive={roomData.participants?.includes(roomData.complainantId)}\r\n                  userId={roomData.complainantId}\r\n                  onAvatarClick={handleAvatarClick}\r\n                  canGrantPermission={userRole === \"judge\"}\r\n                  showSpeechBubble={roomData.silencedUsers?.includes(roomData.complainantId)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"right-side\">\r\n              <div className=\"role-position\">\r\n                {roomData.lawyerId ? (\r\n                  <Avatar\r\n                    role=\"lawyer\"\r\n                    name={roomData.lawyerName}\r\n                    isActive={roomData.participants?.includes(roomData.lawyerId)}\r\n                    userId={roomData.lawyerId}\r\n                    onAvatarClick={handleAvatarClick}\r\n                    canGrantPermission={userRole === \"judge\"}\r\n                    showSpeechBubble={roomData.silencedUsers?.includes(roomData.lawyerId)}\r\n                  />\r\n                ) : (\r\n                  <div className=\"empty-role\">\r\n                    <button onClick={() => handleTakeRole(\"lawyer\")} className=\"take-role-btn\" disabled={userRole !== \"spectator\"}> </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"role-position\">\r\n                <Avatar\r\n                  role=\"defendant\"\r\n                  name={getUserName(roomData.defendantId)}\r\n                  isActive={roomData.participants?.includes(roomData.defendantId)}\r\n                  userId={roomData.defendantId}\r\n                  onAvatarClick={handleAvatarClick}\r\n                  canGrantPermission={userRole === \"judge\"}\r\n                  showSpeechBubble={roomData.silencedUsers?.includes(roomData.defendantId)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"jury-box\">\r\n            <div className=\"jury-label\"></div>\r\n            <div className=\"jury-seats\">\r\n              {[...Array(6)].map((_, index) => (\r\n                <div key={index} className=\"jury-position\">\r\n                  {roomData.juryIds?.[index] ? (\r\n                    <Avatar\r\n                      role=\"jury\"\r\n                      name={getUserName(roomData.juryIds[index])}\r\n                      isActive={roomData.participants?.includes(roomData.juryIds[index])}\r\n                      userId={roomData.juryIds[index]}\r\n                      onAvatarClick={handleAvatarClick}\r\n                      canGrantPermission={userRole === \"judge\"}\r\n                      showSpeechBubble={roomData.silencedUsers?.includes(roomData.juryIds[index])}\r\n                    />\r\n                  ) : (\r\n                    <button onClick={() => handleTakeRole(\"jury\")} className=\"take-jury-btn\" disabled={userRole !== \"spectator\"}> </button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"trial-sidebar\">\r\n          <div className=\"participant-info\">\r\n            <h3> </h3>\r\n            <div className=\"my-role\" style={{ color: getRoleColor(userRole) }}>{getRoleDisplay(userRole)}</div>\r\n            <div className=\"my-name\">{currentUser.name || currentUser.displayName}</div>\r\n            {isSilenced && (\r\n              <div className=\"silence-badge\" style={{\r\n                marginTop: '10px', background: '#dc3545', color: 'white',\r\n                padding: '6px 12px', borderRadius: '15px', fontSize: '0.85rem'\r\n              }}>\r\n                    \r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"chat-section\">\r\n            <h3> </h3>\r\n            <div className=\"messages-container\">\r\n              {messages.map((msg) => (\r\n                <div key={msg.id} className={`message ${msg.type}`}>\r\n                  {msg.type === \"system\" ? (\r\n                    <div className=\"system-message\">{msg.text}</div>\r\n                  ) : (\r\n                    <div className=\"chat-message\">\r\n                      <span className=\"message-author\" style={{ color: getRoleColor(msg.userRole) }}>\r\n                        {msg.userName}:\r\n                      </span>\r\n                      <span className=\"message-text\">{msg.text}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n            <div className=\"message-input-container\">\r\n              <input type=\"text\" value={inputMessage}\r\n                onChange={(e) => setInputMessage(e.target.value)}\r\n                onKeyPress={(e) => e.key === \"Enter\" && handleSendMessage()}\r\n                placeholder={isSilenced ? \"  \" : \" ...\"}\r\n                disabled={isSilenced} className=\"message-input\" />\r\n              <button onClick={handleSendMessage} className=\"send-btn\" disabled={isSilenced}></button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"evidence-section\">\r\n            <h3> </h3>\r\n            <div className=\"evidence-list\">\r\n              {evidence.map((item) => (\r\n                <div key={item.id} className=\"evidence-item\">\r\n                  <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">{item.fileName}</a>\r\n                  <span className=\"evidence-uploader\">- {item.uploaderName}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {[\"judge\", \"prosecutor\", \"lawyer\"].includes(userRole) && (\r\n              <div className=\"evidence-upload\">\r\n                <input type=\"file\" ref={fileInputRef} onChange={handleUploadEvidence}\r\n                  style={{ display: \"none\" }} accept=\"image/*,application/pdf,.doc,.docx\" />\r\n                <button onClick={() => fileInputRef.current?.click()} disabled={uploadingEvidence} className=\"upload-btn\">\r\n                  {uploadingEvidence ? \" ...\" : \" \"}\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {userRole === \"judge\" && (\r\n            <div className=\"judge-controls\">\r\n              <h3> </h3>\r\n              <p style={{ fontSize: '0.85rem', color: '#666', marginBottom: '10px' }}>\r\n                    /\r\n              </p>\r\n              <button className=\"judge-action-btn\" onClick={() => {\r\n                const q = window.prompt(\"  :\");\r\n                if (q) {\r\n                  const isAnon = window.confirm(\"  ?\");\r\n                  handleStartVoting(q, isAnon);\r\n                }\r\n              }}>  </button>\r\n              {votingData?.isActive && (\r\n                <button className=\"judge-action-btn\" onClick={handleEndVoting}>\r\n                    \r\n                </button>\r\n              )}\r\n              <button\r\n                className=\"judge-action-btn\"\r\n                onClick={handleMakeVerdict}\r\n                style={{\r\n                  background: '#6f42c1',\r\n                  fontWeight: 'bold',\r\n                  marginTop: '10px'\r\n                }}\r\n              >\r\n                 \r\n              </button>\r\n            </div>\r\n          )}\r\n          \r\n          {userRole === \"jury\" && votingData?.isActive && !myVote && (\r\n            <div className=\"voting-section\">\r\n              <h3> </h3>\r\n              <p className=\"voting-question\">{votingData.question}</p>\r\n              <div className=\"voting-buttons\">\r\n                <button onClick={() => handleVote(\"guilty\")} className=\"vote-btn guilty\"></button>\r\n                <button onClick={() => handleVote(\"notGuilty\")} className=\"vote-btn not-guilty\"></button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {votingData && !votingData.isActive && (\r\n            <div className=\"voting-results\">\r\n              <h3> </h3>\r\n              <p>{votingData.question}</p>\r\n              {votingData.isAnonymous ? (\r\n                <div>\r\n                  <p>: {votingData.guilty || 0}</p>\r\n                  <p>: {votingData.notGuilty || 0}</p>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  {Object.entries(votingData.votes || {}).map(([userId, vote]) => (\r\n                    <p key={userId}>{vote.voterName}: {vote.vote === \"guilty\" ? \"\" : \"\"}</p>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrialRoom;\r\n","// src/Court.js - Tailwind UI \r\nimport React, { useState, useEffect, useMemo } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { db } from \"../../firebase\";\r\nimport \"./Court.css\";\r\nimport SubmitComplaint from \"./SubmitComplaint\";\r\nimport ComplaintStatus from \"./ComplaintStatus\";\r\nimport TrialRoom from \"./TrialRoom\";\r\nimport { usePolling } from \"../../hooks/usePolling\";\r\nimport {\r\n  PageContainer,\r\n  PageHeader,\r\n  LoadingState,\r\n} from \"../../components/PageWrapper\";\r\n\r\nimport { logger } from '../../utils/logger';\r\nimport {\r\n  collection,\r\n  doc,\r\n  runTransaction,\r\n  increment,\r\n  serverTimestamp,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  query,\r\n  orderBy,\r\n  limit,\r\n  getDoc,\r\n  setDoc,\r\n  where,\r\n  getDocs,\r\n} from \"firebase/firestore\";\r\n\r\n// --- Helper Components ---\r\nconst EditComplaintModal = ({ complaint, onSave, onCancel, users }) => {\r\n  const [reason, setReason] = useState(complaint.reason);\r\n  const [desiredResolution, setDesiredResolution] = useState(\r\n    complaint.desiredResolution\r\n  );\r\n  const [defendantId, setDefendantId] = useState(complaint.defendantId);\r\n\r\n  const handleSave = () => {\r\n    if (!defendantId || !reason.trim() || !desiredResolution.trim()) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n    onSave({ ...complaint, reason, desiredResolution, defendantId });\r\n  };\r\n\r\n  const defendantOptions = users\r\n    .filter((user) => user.id !== complaint.complainantId)\r\n    .map((user) => (\r\n      <option key={user.id} value={user.id}>\r\n        {user.name || user.displayName || user.id}\r\n      </option>\r\n    ));\r\n\r\n  // Portal   \r\n  const modalRoot = document.getElementById(\"modal-root\");\r\n  if (!modalRoot) {\r\n    // modal-root  body \r\n    const newModalRoot = document.createElement(\"div\");\r\n    newModalRoot.id = \"modal-root\";\r\n    document.body.appendChild(newModalRoot);\r\n  }\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className=\"modal-overlay\" onClick={onCancel}>\r\n      <div\r\n        className=\"edit-modal-container modal-container\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"modal-header\">\r\n          <h3>  (ID: {complaint.id.slice(-6)})</h3>\r\n          <button className=\"close-button\" onClick={onCancel}>\r\n            \r\n          </button>\r\n        </div>\r\n        <div className=\"modal-content\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"defendantSelectEdit\" className=\"form-label\">\r\n              \r\n            </label>\r\n            <select\r\n              id=\"defendantSelectEdit\"\r\n              className=\"form-select\"\r\n              value={defendantId}\r\n              onChange={(e) => setDefendantId(e.target.value)}\r\n            >\r\n              <option value=\"\">--  --</option>\r\n              {defendantOptions}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\"> </label>\r\n            <textarea\r\n              className=\"form-textarea\"\r\n              value={reason}\r\n              onChange={(e) => setReason(e.target.value)}\r\n              rows={5}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\"> </label>\r\n            <textarea\r\n              className=\"form-textarea\"\r\n              value={desiredResolution}\r\n              onChange={(e) => setDesiredResolution(e.target.value)}\r\n              rows={3}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button onClick={onCancel} className=\"modal-button cancel\">\r\n            \r\n          </button>\r\n          <button onClick={handleSave} className=\"modal-button process\">\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.getElementById(\"modal-root\") || document.body\r\n  );\r\n};\r\n\r\nconst JudgmentModal = ({ complaint, onSave, onCancel }) => {\r\n  const [judgmentText, setJudgmentText] = useState(complaint.judgment || \"\");\r\n\r\n  const handleSaveClick = () => {\r\n    if (!judgmentText.trim()) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n    onSave(complaint.id, judgmentText);\r\n  };\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className=\"modal-overlay\" onClick={onCancel}>\r\n      <div\r\n        className=\"modal-container\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"modal-header\">\r\n          <h3>  (ID: {complaint.id.slice(-6)})</h3>\r\n          <button className=\"close-button\" onClick={onCancel}>\r\n            \r\n          </button>\r\n        </div>\r\n        <div className=\"modal-content\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"judgmentText\" className=\"form-label\">\r\n               \r\n            </label>\r\n            <textarea\r\n              id=\"judgmentText\"\r\n              className=\"form-textarea judgment-textarea\"\r\n              value={judgmentText}\r\n              onChange={(e) => setJudgmentText(e.target.value)}\r\n              rows={10}\r\n              placeholder=\"   ...\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button onClick={onCancel} className=\"modal-button cancel\">\r\n            \r\n          </button>\r\n          <button onClick={handleSaveClick} className=\"modal-button process\">\r\n             \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.getElementById(\"modal-root\") || document.body\r\n  );\r\n};\r\n\r\n//   \r\nconst SettlementModal = ({\r\n  complaint,\r\n  users,\r\n  onSave,\r\n  onCancel,\r\n  getUserNameById,\r\n}) => {\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [senderId, setSenderId] = useState(complaint.defendantId || \"\");\r\n  const [recipientId, setRecipientId] = useState(complaint.complainantId || \"\");\r\n\r\n  const handleSave = async () => {\r\n    if (!amount || isNaN(parseInt(amount)) || parseInt(amount) <= 0) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n    if (!senderId || !recipientId) {\r\n      alert(\"     .\");\r\n      return;\r\n    }\r\n    if (senderId === recipientId) {\r\n      alert(\"      .\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const success = await onSave(complaint.id, parseInt(amount), senderId, recipientId);\r\n      if (success) {\r\n        onCancel(); //   \r\n      }\r\n    } catch (error) {\r\n      logger.error(\"Settlement error:\", error);\r\n      alert(\"    .\");\r\n    }\r\n  };\r\n\r\n  return ReactDOM.createPortal(\r\n    <div className=\"modal-overlay\" onClick={onCancel}>\r\n      <div\r\n        className=\"modal-container\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"modal-header\">\r\n          <h3>   (: {complaint.id?.slice(-6) || ''})</h3>\r\n          <button className=\"close-button\" onClick={onCancel}>\r\n            \r\n          </button>\r\n        </div>\r\n        <div className=\"modal-content\">\r\n          <p>\r\n            <strong>:</strong> {getUserNameById(complaint.complainantId)}\r\n          </p>\r\n          <p>\r\n            <strong>:</strong> {getUserNameById(complaint.defendantId)}\r\n          </p>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"settlementSender\" className=\"form-label\">\r\n              :\r\n            </label>\r\n            <select\r\n              id=\"settlementSender\"\r\n              className=\"form-select\"\r\n              value={senderId}\r\n              onChange={(e) => setSenderId(e.target.value)}\r\n            >\r\n              <option value=\"\">--  --</option>\r\n              {users.filter(u => u.id !== recipientId).map((user) => (\r\n                <option key={user.id} value={user.id}>\r\n                  {getUserNameById(user.id)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"settlementRecipient\" className=\"form-label\">\r\n              :\r\n            </label>\r\n            <select\r\n              id=\"settlementRecipient\"\r\n              className=\"form-select\"\r\n              value={recipientId}\r\n              onChange={(e) => setRecipientId(e.target.value)}\r\n            >\r\n              <option value=\"\">--  --</option>\r\n              {users.filter(u => u.id !== senderId).map((user) => (\r\n                <option key={user.id} value={user.id}>\r\n                  {getUserNameById(user.id)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"settlementAmount\" className=\"form-label\">\r\n               ():\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"settlementAmount\"\r\n              className=\"form-input\"\r\n              value={amount}\r\n              onChange={(e) => setAmount(e.target.value)}\r\n              placeholder=\" \"\r\n              min=\"1\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button onClick={onCancel} className=\"modal-button cancel\">\r\n            \r\n          </button>\r\n          <button onClick={handleSave} className=\"modal-button process\">\r\n             \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.getElementById(\"modal-root\") || document.body\r\n  );\r\n};\r\n\r\nconst TrialResults = ({ complaints, users, onOpenSettlementModal }) => {\r\n  const getUserNameById = (userId) => {\r\n    const user = users.find((u) => u.id === userId);\r\n    return user?.name || user?.displayName || userId || \"  \";\r\n  };\r\n\r\n  const resolvedComplaints = (complaints || []).filter((c) => c.status === \"resolved\");\r\n\r\n  if (resolvedComplaints.length === 0) {\r\n    return <p className=\"empty-state\">  .</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"trial-results-container\">\r\n      {resolvedComplaints.map((complaint) => (\r\n        <div key={complaint.id} className=\"result-card\">\r\n          <div className=\"result-header\">\r\n            <span className=\"case-id\">: {complaint.id.slice(-6)}</span>\r\n            <span className=\"parties\">\r\n              {getUserNameById(complaint.complainantId)} vs{\" \"}\r\n              {getUserNameById(complaint.defendantId)}\r\n            </span>\r\n            <span className=\"case-status status-resolved\"></span>\r\n          </div>\r\n          <div className=\"result-content\">\r\n            <h4> </h4>\r\n            <p className=\"summary\">\r\n              {complaint.reason.substring(0, 100)}\r\n              {complaint.reason.length > 100 ? \"...\" : \"\"}\r\n            </p>\r\n            <h4></h4>\r\n            <div className=\"judgment-display\">\r\n              <p>{complaint.judgment || \"  .\"}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"result-actions\">\r\n            {complaint.settlementPaid ? (\r\n              <button className=\"settlement-button paid\" disabled>\r\n                 \r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"settlement-button\"\r\n                onClick={() => onOpenSettlementModal(complaint)}\r\n              >\r\n                 \r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n//   \r\nconst BankruptcySection = ({ refetchComplaints }) => {\r\n  const { userDoc, classCode } = useAuth();\r\n  const [hasPendingBankruptcyCase, setHasPendingBankruptcyCase] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (userDoc?.id && classCode) {\r\n      const checkPendingCase = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n          const casesRef = collection(db, \"classes\", classCode, \"courtComplaints\");\r\n          const q = query(\r\n            casesRef,\r\n            where(\"complainantId\", \"==\", userDoc.id),\r\n            where(\"caseType\", \"==\", \"bankruptcy\"),\r\n            where(\"status\", \"==\", \"pending\"),\r\n            limit(10)\r\n          );\r\n          const querySnapshot = await getDocs(q);\r\n          setHasPendingBankruptcyCase(!querySnapshot.empty);\r\n        } catch (error) {\r\n          logger.error(\"    :\", error);\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      };\r\n      checkPendingCase();\r\n    } else {\r\n      setIsLoading(false);\r\n    }\r\n  }, [userDoc, classCode]);\r\n\r\n  const handleApplyForBankruptcy = async () => {\r\n    if (window.confirm(\"  ?        .\")) {\r\n      try {\r\n        const casesRef = collection(db, \"classes\", classCode, \"courtComplaints\");\r\n        await addDoc(casesRef, {\r\n          complainantId: userDoc.id,\r\n          complainantName: userDoc.name,\r\n          caseType: \"bankruptcy\",\r\n          defendantId: \"system\",\r\n          defendantName: \"\",\r\n          status: \"pending\",\r\n          reason: ` ${userDoc.money.toLocaleString()}   `,\r\n          desiredResolution: \"    0  \",\r\n          submissionDate: serverTimestamp(),\r\n          likedBy: [],\r\n          dislikedBy: [],\r\n        });\r\n        refetchComplaints();\r\n        alert(\"   .   .\");\r\n        setHasPendingBankruptcyCase(true);\r\n      } catch (error) {\r\n        logger.error(\"    :\", error);\r\n        alert(\"    .\");\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <p>    ...</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"bankruptcy-section\">\r\n      <h3> </h3>\r\n      <p> : {userDoc?.money ? userDoc.money.toLocaleString() : 0}</p>\r\n      {userDoc?.money < 0 ? (\r\n        <div>\r\n          <p>\r\n              .         . ( )\r\n          </p>\r\n          {hasPendingBankruptcyCase ? (\r\n            <p><strong>    .</strong></p>\r\n          ) : (\r\n            <button onClick={handleApplyForBankruptcy} className=\"action-button delete\">\r\n               \r\n            </button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <p>       .</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Main Court Component ---\r\nconst Court = () => {\r\n  const auth = useAuth();\r\n  const currentUserDoc = auth?.userDoc;\r\n  const currentUserId = currentUserDoc?.id;\r\n  const classCode = currentUserDoc?.classCode;\r\n\r\n  const isAdmin = auth?.isAdmin\r\n    ? auth.isAdmin()\r\n    : currentUserDoc?.isAdmin || currentUserDoc?.id === \"admin1\";\r\n\r\n  const [activeTab, setActiveTab] = useState(\"submit\");\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [editingComplaint, setEditingComplaint] = useState(null);\r\n  const [isJudgmentModalOpen, setIsJudgmentModalOpen] = useState(false);\r\n  const [judgingComplaint, setJudgingComplaint] = useState(null);\r\n  const [users, setUsers] = useState([]);\r\n  const [usersLoading, setUsersLoading] = useState(true);\r\n  const [isSettlementModalOpen, setIsSettlementModalOpen] = useState(false);\r\n  const [settlementComplaint, setSettlementComplaint] = useState(null);\r\n\r\n  const [activeTrialRoom, setActiveTrialRoom] = useState(null);\r\n\r\n  // modal-root  \r\n  useEffect(() => {\r\n    if (!document.getElementById(\"modal-root\")) {\r\n      const modalRoot = document.createElement(\"div\");\r\n      modalRoot.id = \"modal-root\";\r\n      document.body.appendChild(modalRoot);\r\n    }\r\n  }, []);\r\n\r\n  //  [] AuthContext      (DB  )\r\n  useEffect(() => {\r\n    if (!auth.loading && auth.allClassMembers) {\r\n      setUsers(auth.allClassMembers || []);\r\n      setUsersLoading(false);\r\n    }\r\n  }, [auth.loading, auth.allClassMembers]);\r\n\r\n  // usePolling for complaints\r\n  const { data: complaints = [], loading: complaintsLoading, refetch: refetchComplaints } = usePolling(\r\n    async () => {\r\n      if (!classCode) return [];\r\n      const complaintsRef = collection(db, \"classes\", classCode, \"courtComplaints\");\r\n      const q = query(complaintsRef, orderBy(\"submissionDate\", \"desc\"), limit(100));\r\n      const querySnapshot = await getDocs(q);\r\n      return querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n        submissionDate: doc.data().submissionDate?.toDate\r\n          ? doc.data().submissionDate.toDate().toISOString()\r\n          : null,\r\n        indictmentDate: doc.data().indictmentDate?.toDate\r\n          ? doc.data().indictmentDate.toDate().toISOString()\r\n          : null,\r\n      }));\r\n    },\r\n    { interval: 10 * 60 * 1000, enabled: !!classCode, deps: [classCode] } //  [ ] 5  10\r\n  );\r\n\r\n  // usePolling for trial rooms\r\n  const { data: trialRooms = [], loading: trialRoomsLoading, refetch: refetchTrialRooms } = usePolling(\r\n    async () => {\r\n      if (!classCode) return [];\r\n      const trialRoomsRef = collection(db, \"classes\", classCode, \"trialRooms\");\r\n      const q = query(trialRoomsRef, limit(50));\r\n      const querySnapshot = await getDocs(q);\r\n      return querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n    },\r\n    { interval: 10 * 60 * 1000, enabled: !!classCode, deps: [classCode] } //  [ ] 5  10\r\n  );\r\n\r\n  // Jobs polling - for prosecutor check\r\n  const jobsQuery = useMemo(() => {\r\n    if (!classCode) return null;\r\n    const jobsRef = collection(db, \"jobs\");\r\n    return query(jobsRef, where(\"classCode\", \"==\", classCode));\r\n  }, [classCode]);\r\n\r\n  const { data: jobs, loading: jobsLoading } = usePolling(\r\n    async () => {\r\n      if (!jobsQuery) return [];\r\n      const snapshot = await getDocs(jobsQuery);\r\n      return snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n    },\r\n    {\r\n      interval: 30 * 60 * 1000, //  [ ] 5  30 (    )\r\n      enabled: !!classCode,\r\n      deps: [classCode],\r\n    }\r\n  );\r\n\r\n  // Check if user is prosecutor\r\n  const isProsecutor = useMemo(() => {\r\n    if (!currentUserDoc?.selectedJobIds || !jobs) return false;\r\n    const selectedJobs = jobs.filter(job =>\r\n      currentUserDoc.selectedJobIds.includes(job.id)\r\n    );\r\n    return selectedJobs.some(job => job.title === '');\r\n  }, [currentUserDoc?.selectedJobIds, jobs]);\r\n\r\n  // Check if user is judge\r\n  const isJudge = useMemo(() => {\r\n    if (!currentUserDoc?.selectedJobIds || !jobs) return false;\r\n    const selectedJobs = jobs.filter(job =>\r\n      currentUserDoc.selectedJobIds.includes(job.id)\r\n    );\r\n    return selectedJobs.some(job => job.title === '');\r\n  }, [currentUserDoc?.selectedJobIds, jobs]);\r\n\r\n  const hasProsecutorPrivileges = isAdmin || isProsecutor;\r\n  const hasJudgePrivileges = isAdmin || isJudge;\r\n  const hasAdminPrivileges = hasJudgePrivileges;\r\n\r\n  const handleAddComplaint = async (newComplaintData) => {\r\n    if (!currentUserId || !classCode) {\r\n      alert(\"      .\");\r\n      return;\r\n    }\r\n    const currentUserInfo =\r\n      users.find((u) => u.id === currentUserId) || currentUserDoc;\r\n\r\n    const complaintToSave = {\r\n      ...newComplaintData,\r\n      caseType: \"general\",\r\n      status: \"pending\",\r\n      submissionDate: serverTimestamp(),\r\n      complainantId: currentUserId,\r\n      complainantName:\r\n        currentUserInfo?.name || currentUserInfo?.displayName || \"  \",\r\n      likedBy: [],\r\n      dislikedBy: [],\r\n      judgment: null,\r\n      indictmentDate: null,\r\n      settlementPaid: false,\r\n      classCode: classCode,\r\n    };\r\n    try {\r\n      const complaintsRef = collection(\r\n        db,\r\n        \"classes\",\r\n        classCode,\r\n        \"courtComplaints\"\r\n      );\r\n      await addDoc(complaintsRef, complaintToSave);\r\n      refetchComplaints();\r\n      setActiveTab(\"status\");\r\n      alert(\"  .\");\r\n    } catch (error) {\r\n      logger.error(\"Error adding complaint to Firestore:\", error);\r\n      alert(\"    .\");\r\n    }\r\n  };\r\n\r\n  const handleIndictComplaint = async (id) => {\r\n    if (!(hasProsecutorPrivileges || hasAdminPrivileges) || !classCode)\r\n      return alert(\"  .\");\r\n    const complaintRef = doc(db, \"classes\", classCode, \"courtComplaints\", id);\r\n    try {\r\n      await updateDoc(complaintRef, {\r\n        status: \"indicted\",\r\n        indictmentDate: serverTimestamp(),\r\n      });\r\n      refetchComplaints();\r\n      alert(` ${id.slice(-6)}() .`);\r\n    } catch (error) {\r\n      logger.error(\"Error indicting complaint:\", error);\r\n      alert(\"    .\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteComplaint = async (id) => {\r\n    if (!(hasProsecutorPrivileges || hasJudgePrivileges || hasAdminPrivileges) || !classCode)\r\n      return alert(\"  .\");\r\n\r\n    if (\r\n      window.confirm(` ${id.slice(-6)}   ?`)\r\n    ) {\r\n      const complaintRef = doc(db, \"classes\", classCode, \"courtComplaints\", id);\r\n      try {\r\n        await deleteDoc(complaintRef);\r\n        refetchComplaints();\r\n        alert(\" .\");\r\n      } catch (error) {\r\n        logger.error(\"Error deleting complaint:\", error);\r\n        alert(\"    .\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDismissComplaint = async (id) => {\r\n    if (!(hasProsecutorPrivileges || hasJudgePrivileges || hasAdminPrivileges) || !classCode)\r\n      return alert(\"  .\");\r\n    const complaintRef = doc(db, \"classes\", classCode, \"courtComplaints\", id);\r\n    try {\r\n      await updateDoc(complaintRef, { status: \"dismissed\" });\r\n      refetchComplaints();\r\n      alert(` ${id.slice(-6)}() / .`);\r\n    } catch (error) {\r\n      logger.error(\"Error dismissing complaint:\", error);\r\n      alert(\"   .\");\r\n    }\r\n  };\r\n\r\n  const handleEditClick = (complaint) => {\r\n    if (!currentUserId) {\r\n      alert(\" .\");\r\n      return;\r\n    }\r\n    const canModify = hasProsecutorPrivileges || hasJudgePrivileges || hasAdminPrivileges;\r\n    const isOwner = complaint.complainantId === currentUserId;\r\n\r\n    if (!canModify && !isOwner) {\r\n      return alert(\"       .\");\r\n    }\r\n\r\n    if (!canModify && isOwner && complaint.status !== \"pending\") {\r\n      return alert(\"      .\");\r\n    }\r\n\r\n    if ([\"resolved\", \"dismissed\"].includes(complaint.status) && !isAdmin) {\r\n      return alert(\"    .\");\r\n    }\r\n\r\n    if (complaint.caseType === 'bankruptcy') {\r\n      return alert(\"    .\");\r\n    }\r\n\r\n    setEditingComplaint(complaint);\r\n    setIsEditModalOpen(true);\r\n  };\r\n\r\n  const handleSaveEdit = async (updatedComplaintData) => {\r\n    if (!classCode || !editingComplaint?.id) return;\r\n\r\n    const complaintRef = doc(\r\n      db,\r\n      \"classes\",\r\n      classCode,\r\n      \"courtComplaints\",\r\n      editingComplaint.id\r\n    );\r\n    const {\r\n      id,\r\n      classCode: prevClassCode,\r\n      ...dataToSave\r\n    } = updatedComplaintData;\r\n\r\n    try {\r\n      await updateDoc(complaintRef, {\r\n        ...dataToSave,\r\n        updatedAt: serverTimestamp(),\r\n      });\r\n      refetchComplaints();\r\n      setIsEditModalOpen(false);\r\n      setEditingComplaint(null);\r\n      alert(` ${editingComplaint.id.slice(-6)}  .`);\r\n    } catch (error) {\r\n      logger.error(\"Error updating complaint:\", error);\r\n      alert(\"    .\");\r\n    }\r\n  };\r\n\r\n  const handleCloseEditModal = () => {\r\n    setIsEditModalOpen(false);\r\n    setEditingComplaint(null);\r\n  };\r\n\r\n  const handleVote = async (complaintId, voteType) => {\r\n    if (!currentUserId || !classCode) return alert(\" .\");\r\n    const complaintRef = doc(\r\n      db,\r\n      \"classes\",\r\n      classCode,\r\n      \"courtComplaints\",\r\n      complaintId\r\n    );\r\n\r\n    try {\r\n      await runTransaction(db, async (transaction) => {\r\n        const complaintDoc = await transaction.get(complaintRef);\r\n        if (!complaintDoc.exists()) {\r\n          throw \"   .\";\r\n        }\r\n        const complaintData = complaintDoc.data();\r\n        let likedBy = complaintData.likedBy || [];\r\n        let dislikedBy = complaintData.dislikedBy || [];\r\n\r\n        const alreadyLiked = likedBy.includes(currentUserId);\r\n        const alreadyDisliked = dislikedBy.includes(currentUserId);\r\n\r\n        if (voteType === \"like\") {\r\n          likedBy = alreadyLiked\r\n            ? likedBy.filter((id) => id !== currentUserId)\r\n            : [...likedBy, currentUserId];\r\n          dislikedBy = dislikedBy.filter((id) => id !== currentUserId);\r\n        } else if (voteType === \"dislike\") {\r\n          dislikedBy = alreadyDisliked\r\n            ? dislikedBy.filter((id) => id !== currentUserId)\r\n            : [...dislikedBy, currentUserId];\r\n          likedBy = likedBy.filter((id) => id !== currentUserId);\r\n        }\r\n        transaction.update(complaintRef, {\r\n          likedBy,\r\n          dislikedBy,\r\n          updatedAt: serverTimestamp(),\r\n        });\r\n      });\r\n      refetchComplaints();\r\n    } catch (error) {\r\n      logger.error(\"Error voting on complaint:\", error);\r\n      alert(\"    : \" + error.message);\r\n    }\r\n  };\r\n\r\n  const handleStartTrial = async (complaintId) => {\r\n    if (!hasJudgePrivileges || !classCode)\r\n      return alert(\"   .\");\r\n\r\n    const complaint = (complaints || []).find(c => c.id === complaintId);\r\n    if (!complaint) return alert(\"   .\");\r\n\r\n    try {\r\n      const trialRoomData = {\r\n        caseId: complaintId,\r\n        caseNumber: complaintId.slice(-6),\r\n        judgeId: currentUserId,\r\n        judgeName: currentUserDoc?.name || currentUserDoc?.displayName || \"\",\r\n        complainantId: complaint.complainantId,\r\n        defendantId: complaint.defendantId,\r\n        prosecutorId: null,\r\n        lawyerId: null,\r\n        juryIds: [],\r\n        status: \"active\",\r\n        createdAt: serverTimestamp(),\r\n        participants: [currentUserId],\r\n      };\r\n\r\n      const trialRoomsRef = collection(\r\n        db,\r\n        \"classes\",\r\n        classCode,\r\n        \"trialRooms\"\r\n      );\r\n      const newRoomRef = await addDoc(trialRoomsRef, trialRoomData);\r\n\r\n      const complaintRef = doc(db, \"classes\", classCode, \"courtComplaints\", complaintId);\r\n      await updateDoc(complaintRef, {\r\n        status: \"on_trial\",\r\n        trialRoomId: newRoomRef.id\r\n      });\r\n\r\n      refetchComplaints();\r\n      refetchTrialRooms();\r\n\r\n      alert(` ${complaintId.slice(-6)}  .  .`);\r\n\r\n      setActiveTrialRoom(newRoomRef.id);\r\n      setActiveTab(\"trial-room\");\r\n    } catch (error) {\r\n      logger.error(\"Error starting trial:\", error);\r\n      alert(\"     .\");\r\n    }\r\n  };\r\n\r\n  const handleOpenJudgmentModal = (complaint) => {\r\n    if (!hasJudgePrivileges) return alert(\"   .\");\r\n    if (complaint.status !== \"on_trial\")\r\n      return alert(\"      .\");\r\n    setJudgingComplaint(complaint);\r\n    setIsJudgmentModalOpen(true);\r\n  };\r\n\r\n  const handleSaveJudgment = async (complaintId, judgmentText) => {\r\n    if (!classCode) return;\r\n    const complaintRef = doc(\r\n      db,\r\n      \"classes\",\r\n      classCode,\r\n      \"courtComplaints\",\r\n      complaintId\r\n    );\r\n    try {\r\n      await updateDoc(complaintRef, {\r\n        judgment: judgmentText,\r\n        status: \"resolved\",\r\n        resolvedAt: serverTimestamp(),\r\n      });\r\n\r\n      const complaint = (complaints || []).find(c => c.id === complaintId);\r\n      if (complaint?.trialRoomId) {\r\n        const trialRoomRef = doc(\r\n          db,\r\n          \"classes\",\r\n          classCode,\r\n          \"trialRooms\",\r\n          complaint.trialRoomId\r\n        );\r\n        await updateDoc(trialRoomRef, {\r\n          status: \"completed\",\r\n          completedAt: serverTimestamp(),\r\n        });\r\n        refetchTrialRooms();\r\n      }\r\n\r\n      refetchComplaints();\r\n\r\n      setIsJudgmentModalOpen(false);\r\n      setJudgingComplaint(null);\r\n      alert(` ${complaintId.slice(-6)}  .`);\r\n      setActiveTab(\"results\");\r\n    } catch (error) {\r\n      logger.error(\"Error saving judgment:\", error);\r\n      alert(\"    .\");\r\n    }\r\n  };\r\n\r\n  const handleCloseJudgmentModal = () => {\r\n    setIsJudgmentModalOpen(false);\r\n    setJudgingComplaint(null);\r\n  };\r\n\r\n  const handleOpenSettlementModal = (complaint) => {\r\n    if (!hasJudgePrivileges && !hasAdminPrivileges)\r\n      return alert(\"       .\");\r\n    if (complaint.status !== \"resolved\")\r\n      return alert(\r\n        \"       .\"\r\n      );\r\n    if (complaint.settlementPaid)\r\n      return alert(\"    .\");\r\n\r\n    setSettlementComplaint(complaint);\r\n    setIsSettlementModalOpen(true);\r\n  };\r\n\r\n  const handleCloseSettlementModal = () => {\r\n    setIsSettlementModalOpen(false);\r\n    setSettlementComplaint(null);\r\n  };\r\n\r\n  const handleSendSettlement = async (\r\n    complaintId,\r\n    amount,\r\n    senderId,\r\n    recipientId\r\n  ) => {\r\n    if (!classCode) {\r\n      alert(\"       .\");\r\n      return false;\r\n    }\r\n    const numericAmount = parseInt(amount, 10);\r\n    if (isNaN(numericAmount) || numericAmount <= 0) {\r\n      alert(\"  .\");\r\n      return false;\r\n    }\r\n    if (!senderId || !recipientId) {\r\n      alert(\"     .\");\r\n      return false;\r\n    }\r\n    if (senderId === recipientId) {\r\n      alert(\"      .\");\r\n      return false;\r\n    }\r\n\r\n    const sender = users.find((u) => u.id === senderId);\r\n    const recipient = users.find((u) => u.id === recipientId);\r\n\r\n    if (!sender || !recipient) {\r\n      alert(\"   .\");\r\n      return false;\r\n    }\r\n    const senderName = sender?.name || sender?.displayName || senderId;\r\n    const recipientName =\r\n      recipient?.name || recipient?.displayName || recipientId;\r\n\r\n    try {\r\n      await runTransaction(db, async (transaction) => {\r\n        const senderRef = doc(db, \"users\", senderId);\r\n        const recipientRef = doc(db, \"users\", recipientId);\r\n        const complaintDocRef = doc(\r\n          db,\r\n          \"classes\",\r\n          classCode,\r\n          \"courtComplaints\",\r\n          complaintId\r\n        );\r\n\r\n        const senderSnap = await transaction.get(senderRef);\r\n        const recipientSnap = await transaction.get(recipientRef);\r\n        const complaintSnap = await transaction.get(complaintDocRef);\r\n\r\n        if (!senderSnap.exists())\r\n          throw new Error(`${senderName}     .`);\r\n        if (!recipientSnap.exists())\r\n          throw new Error(\r\n            `${recipientName}     .`\r\n          );\r\n        if (!complaintSnap.exists())\r\n          throw new Error(\"     .\");\r\n\r\n        const senderCash = senderSnap.data().cash || 0;\r\n\r\n        if (senderCash < numericAmount) {\r\n          throw new Error(`${senderName}  . (: ${senderCash.toLocaleString()})`);\r\n        }\r\n\r\n        transaction.update(senderRef, {\r\n          cash: increment(-numericAmount),\r\n        });\r\n        transaction.update(recipientRef, {\r\n          cash: increment(numericAmount),\r\n        });\r\n        transaction.update(complaintDocRef, {\r\n          settlementPaid: true,\r\n          settlementAmount: numericAmount,\r\n          settlementDate: serverTimestamp(),\r\n        });\r\n      });\r\n\r\n      refetchComplaints();\r\n\r\n      alert(\r\n        `${senderName} ${recipientName} ${numericAmount.toLocaleString()}   .`\r\n      );\r\n      handleCloseSettlementModal();\r\n      return true;\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      alert(`  : ${error.message}`);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const getUserNameById = (userId) => {\r\n    const user = users.find((u) => u.id === userId);\r\n    return user?.name || user?.displayName || userId || \"  \";\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return \"-\";\r\n    try {\r\n      const date = new Date(dateString);\r\n      if (isNaN(date.getTime())) return \"  \";\r\n      return date.toLocaleString(\"ko-KR\", {\r\n        year: \"numeric\",\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n      });\r\n    } catch (error) {\r\n      logger.error(\"Date formatting error:\", dateString, error);\r\n      return \"  \";\r\n    }\r\n  };\r\n\r\n  const renderTabContent = () => {\r\n    if (!currentUserId && (activeTab === \"submit\" || activeTab === \"bankruptcy\")) {\r\n      return <p className=\"empty-state\"> .</p>;\r\n    }\r\n\r\n    switch (activeTab) {\r\n      case \"submit\":\r\n        return (\r\n          <>\r\n            <SubmitComplaint\r\n              onSubmitComplaint={handleAddComplaint}\r\n              users={users.filter(\r\n                (u) => u.id !== currentUserId && u.classCode === classCode\r\n              )}\r\n              currentUserId={currentUserId}\r\n            />\r\n          </>\r\n        );\r\n      case \"bankruptcy\":\r\n        return <BankruptcySection refetchComplaints={refetchComplaints} />;\r\n      case \"status\":\r\n        return (\r\n          <ComplaintStatus\r\n            complaints={(complaints || []).filter((c) =>\r\n              [\"pending\", \"indicted\", \"on_trial\", \"dismissed\"].includes(\r\n                c.status\r\n              )\r\n            )}\r\n            onEditComplaint={handleEditClick}\r\n            onDeleteComplaint={handleDeleteComplaint}\r\n            onIndictComplaint={handleIndictComplaint}\r\n            onDismissComplaint={handleDismissComplaint}\r\n            onStartTrial={handleStartTrial}\r\n            onOpenJudgment={handleOpenJudgmentModal}\r\n            onVote={handleVote}\r\n            isAdmin={hasProsecutorPrivileges || hasJudgePrivileges || hasAdminPrivileges}\r\n            currentUserId={currentUserId}\r\n            users={users}\r\n            formatDate={formatDate}\r\n            getUserNameById={getUserNameById}\r\n          />\r\n        );\r\n      case \"results\":\r\n        return (\r\n          <TrialResults\r\n            complaints={complaints}\r\n            users={users}\r\n            onOpenSettlementModal={handleOpenSettlementModal}\r\n          />\r\n        );\r\n      case \"trial-room\":\r\n        return activeTrialRoom ? (\r\n          <TrialRoom\r\n            roomId={activeTrialRoom}\r\n            classCode={classCode}\r\n            currentUser={currentUserDoc}\r\n            users={users}\r\n            onClose={() => {\r\n              setActiveTrialRoom(null);\r\n              setActiveTab(\"status\");\r\n            }}\r\n          />\r\n        ) : (\r\n          <div className=\"trial-rooms-list\">\r\n            <h3>  </h3>\r\n            {trialRooms.filter(r => r.status === \"active\").length > 0 ? (\r\n              <div className=\"rooms-grid\">\r\n                {trialRooms.filter(r => r.status === \"active\").map(room => (\r\n                  <div key={room.id} className=\"room-card\">\r\n                    <h4>: {room.caseNumber}</h4>\r\n                    <p>: {room.judgeName}</p>\r\n                    <p>: {room.participants?.length || 0}</p>\r\n                    <button\r\n                      className=\"enter-room-btn\"\r\n                      onClick={() => {\r\n                        setActiveTrialRoom(room.id);\r\n                      }}\r\n                    >\r\n                       \r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p className=\"empty-state\">   .</p>\r\n            )}\r\n          </div>\r\n        );\r\n      default:\r\n        return <p> .</p>;\r\n    }\r\n  };\r\n\r\n  if (auth.loading || usersLoading || jobsLoading) {\r\n    return (\r\n      <div className=\"court-container\">\r\n        <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\r\n             ...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  if (!currentUserDoc) {\r\n    return (\r\n      <div className=\"court-container\">\r\n        <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\r\n            .  .\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  if (!classCode) {\r\n    return (\r\n      <div className=\"court-container\">\r\n        <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\r\n                .\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  if (complaintsLoading) {\r\n    return (\r\n      <div className=\"court-container\">\r\n        <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\r\n            ...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"court-container\">\r\n      <div className=\"court-header-container\">\r\n        <h1 className=\"court-header\">\r\n            (: {classCode})\r\n          {hasJudgePrivileges && \" -  \"}\r\n          {hasAdminPrivileges && \" \"}\r\n        </h1>\r\n      </div>\r\n\r\n      <div className=\"court-tabs\">\r\n        <div className=\"main-tabs\">\r\n          <button\r\n            className={`court-tab-button ${activeTab === \"submit\" ? \"active\" : \"\"}`}\r\n            onClick={() => setActiveTab(\"submit\")}\r\n          >\r\n             \r\n          </button>\r\n          <button\r\n            className={`court-tab-button ${activeTab === \"status\" ? \"active\" : \"\"}`}\r\n            onClick={() => setActiveTab(\"status\")}\r\n          >\r\n             \r\n          </button>\r\n          <button\r\n            className={`court-tab-button ${activeTab === \"results\" ? \"active\" : \"\"}`}\r\n            onClick={() => setActiveTab(\"results\")}\r\n          >\r\n             \r\n          </button>\r\n          <button\r\n            className={`court-tab-button ${activeTab === \"trial-room\" ? \"active\" : \"\"}`}\r\n            onClick={() => setActiveTab(\"trial-room\")}\r\n          >\r\n             \r\n          </button>\r\n          <button\r\n            className={`court-tab-button bankruptcy-tab-button ${activeTab === \"bankruptcy\" ? \"active\" : \"\"}`}\r\n            onClick={() => setActiveTab(\"bankruptcy\")}\r\n          >\r\n             \r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"court-tab-content\">{renderTabContent()}</div>\r\n\r\n      {/*  */}\r\n      {isEditModalOpen && editingComplaint && (\r\n        <EditComplaintModal\r\n          complaint={editingComplaint}\r\n          onSave={handleSaveEdit}\r\n          onCancel={handleCloseEditModal}\r\n          users={users.filter(\r\n            (u) =>\r\n              u.id !== editingComplaint.complainantId &&\r\n              u.classCode === classCode\r\n          )}\r\n        />\r\n      )}\r\n      {isJudgmentModalOpen && judgingComplaint && (\r\n        <JudgmentModal\r\n          complaint={judgingComplaint}\r\n          onSave={handleSaveJudgment}\r\n          onCancel={handleCloseJudgmentModal}\r\n        />\r\n      )}\r\n      {isSettlementModalOpen && settlementComplaint && (\r\n        <SettlementModal\r\n          complaint={settlementComplaint}\r\n          users={users}\r\n          onSave={handleSendSettlement}\r\n          onCancel={handleCloseSettlementModal}\r\n          getUserNameById={getUserNameById}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Court;"],"names":["LoaderCircle","createLucideIcon","d","key","PageContainer","_ref","children","className","_jsx","concat","PageHeader","_ref2","title","subtitle","icon","Icon","badge","action","backButton","_jsxs","LoadingState","_ref4","message","EmptyState","_ref6","description","ActionButton","_ref1","variant","size","loading","disabled","onClick","primary","secondary","outline","danger","success","ghost","indigo","sm","md","lg","Loader2","onSubmitComplaint","users","currentUserId","isAdmin","complainantName","setComplainantName","useState","defendantId","setDefendantId","reason","setReason","desiredResolution","setDesiredResolution","selectedReasonType","setSelectedReasonType","predefinedReasons","setPredefinedReasons","selectedPredefinedReason","setSelectedPredefinedReason","approvedLaws","setApprovedLaws","selectedLaw","setSelectedLaw","newReason","setNewReason","showAddReasonModal","setShowAddReasonModal","useEffect","savedReasons","localStorage","getItem","JSON","parse","_unused","initialReasons","setItem","stringify","savedLaws","parsedLaws","_unused2","lawsFiltered","filter","law","status","finalStatus","length","handleReasonTypeChange","type","selectedLawObj","find","id","parseInt","defendantOptions","user","map","value","name","onSubmit","e","_approvedLaws$find","preventDefault","trim","lawViolation","lawId","lawTitle","alert","htmlFor","onChange","target","required","checked","placeholder","index","fine","_Fragment","purpose","handleAddPredefinedReason","updatedReasons","window","confirm","splice","handleDeleteReason","complaints","onVote","onStartTrial","onOpenJudgment","onEditComplaint","onDeleteComplaint","onIndictComplaint","onDismissComplaint","getUserNameById","userId","_users$find","u","complaint","_complaint$likedBy","_complaint$dislikedBy","_complaint$likedBy2","_complaint$dislikedBy2","likedByCount","likedBy","dislikedByCount","dislikedBy","didCurrentUserLike","includes","didCurrentUserDislike","cardClass","slice","complainantId","Avatar","role","isActive","onAvatarClick","showSpeechBubble","canGrantPermission","isHovered","setIsHovered","position","setPosition","x","y","isWalking","setIsWalking","avatarStyles","judge","bg","prosecutor","lawyer","complainant","defendant","jury","spectator","style","interval","setInterval","Math","random","setTimeout","clearInterval","handleClick","onMouseEnter","onMouseLeave","transform","cursor","backgroundColor","_roomData$participant","_roomData$participant2","_roomData$silencedUse2","_roomData$participant3","_roomData$silencedUse3","_roomData$participant4","_roomData$silencedUse4","_roomData$participant5","_roomData$silencedUse5","roomId","classCode","currentUser","onClose","roomData","setRoomData","messages","setMessages","inputMessage","setInputMessage","userRole","setUserRole","setLoading","evidence","setEvidence","uploadingEvidence","setUploadingEvidence","isSilenced","setIsSilenced","votingData","setVotingData","myVote","setMyVote","messagesEndRef","useRef","fileInputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","fetchRoomSnapshot","useCallback","async","roomRef","doc","db","docSnap","getDoc","exists","_objectSpread","data","polledRoom","roomPolling","usePolling","enabled","deps","_polledRoom$juryIds","_polledRoom$silencedU","voting","currentRole","judgeId","prosecutorId","lawyerId","juryIds","Boolean","silencedUsers","handleJoinRoom","handleLeaveRoom","fetchMessages","messagesRef","collection","messagesQuery","query","orderBy","limit","getDocs","docs","fetchEvidence","evidenceRef","evidenceQuery","polledMessages","polledEvidence","POLLING_INTERVALS","NORMAL","roomSnap","logger","error","currentRoomData","updateData","participants","arrayUnion","lastActivity","serverTimestamp","assignedRole","job","lawyerName","displayName","prosecutorName","judgeName","updateDoc","joinMessage","roleMessage","addDoc","text","timestamp","arrayRemove","handleTakeRole","_roomData$juryIds","_roomData$juryIds2","roleTitle","handleSendMessage","userName","handleVote","isAnonymous","vote","voterName","handleAvatarClick","_roomData$silencedUse","clickedUserId","getUserName","handleRemoveSilence","handleApplySilence","getRoleColor","caseNumber","Array","_","_roomData$juryIds3","_roomData$participant6","_roomData$silencedUse6","color","marginTop","background","padding","borderRadius","fontSize","msg","ref","onKeyPress","item","href","url","rel","fileName","uploaderName","file","event","files","storageRef","storage","Date","now","snapshot","uploadBytes","downloadURL","getDownloadURL","fileType","fileSize","uploadedBy","uploaderRole","uploadedAt","display","accept","_fileInputRef$current","click","marginBottom","q","prompt","question","arguments","undefined","startedAt","votes","guilty","notGuilty","handleStartVoting","currentVotes","resultText","guiltyVotes","Object","values","v","notGuiltyVotes","verdict","log","paymentAmount","paymentType","fineRegex","settlementRegex","fineMatch","match","settlementMatch","replace","processFineTransaction","transferCash","resultsRef","caseTitle","verdictReason","verdictDate","votingResult","fontWeight","entries","_ref3","EditComplaintModal","onSave","onCancel","document","getElementById","newModalRoot","createElement","body","appendChild","ReactDOM","stopPropagation","rows","handleSave","JudgmentModal","judgmentText","setJudgmentText","judgment","handleSaveClick","SettlementModal","_complaint$id","amount","setAmount","senderId","setSenderId","recipientId","setRecipientId","min","isNaN","TrialResults","onOpenSettlementModal","resolvedComplaints","c","substring","settlementPaid","BankruptcySection","_ref5","refetchComplaints","userDoc","useAuth","hasPendingBankruptcyCase","setHasPendingBankruptcyCase","isLoading","setIsLoading","casesRef","where","querySnapshot","empty","checkPendingCase","money","toLocaleString","caseType","defendantName","submissionDate","Court","auth","currentUserDoc","activeTab","setActiveTab","isEditModalOpen","setIsEditModalOpen","editingComplaint","setEditingComplaint","isJudgmentModalOpen","setIsJudgmentModalOpen","judgingComplaint","setJudgingComplaint","setUsers","usersLoading","setUsersLoading","isSettlementModalOpen","setIsSettlementModalOpen","settlementComplaint","setSettlementComplaint","activeTrialRoom","setActiveTrialRoom","modalRoot","allClassMembers","complaintsLoading","refetch","complaintsRef","_doc$data$submissionD","_doc$data$indictmentD","toDate","toISOString","indictmentDate","trialRooms","trialRoomsLoading","refetchTrialRooms","trialRoomsRef","jobsQuery","useMemo","jobsRef","jobs","jobsLoading","isProsecutor","selectedJobIds","some","isJudge","hasProsecutorPrivileges","hasJudgePrivileges","hasAdminPrivileges","handleAddComplaint","currentUserInfo","complaintToSave","newComplaintData","handleIndictComplaint","complaintRef","handleDeleteComplaint","deleteDoc","handleDismissComplaint","handleEditClick","canModify","isOwner","complaintId","voteType","runTransaction","complaintDoc","transaction","get","complaintData","alreadyLiked","alreadyDisliked","update","updatedAt","handleStartTrial","trialRoomData","caseId","createdAt","newRoomRef","trialRoomId","handleOpenJudgmentModal","handleOpenSettlementModal","handleCloseSettlementModal","formatDate","dateString","date","getTime","year","month","day","hour","minute","renderTabContent","SubmitComplaint","ComplaintStatus","TrialRoom","r","room","_room$participants","prevClassCode","updatedComplaintData","dataToSave","_objectWithoutProperties","_excluded","handleCloseEditModal","resolvedAt","trialRoomRef","completedAt","handleCloseJudgmentModal","numericAmount","sender","recipient","senderName","recipientName","senderRef","recipientRef","complaintDocRef","senderSnap","recipientSnap","complaintSnap","Error","senderCash","cash","increment","settlementAmount","settlementDate"],"ignoreList":[],"sourceRoot":""}