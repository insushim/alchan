{"version":3,"file":"static/js/367.869fc5d1.chunk.js","mappings":"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","sources":["components/LoginWarning.js","components/CouponGoal.js","components/modals/DonateCouponModal.js","components/modals/SellCouponModal.js","components/modals/GiftCouponModal.js","components/modals/DonationHistoryModal.js","pages/coupon/CouponGoalPage.js"],"sourcesContent":["// src/LoginWarning.js\r\nimport React from \"react\";\r\n\r\nconst LoginWarning = () => {\r\n  return (\r\n    <div className=\"login-warning\">\r\n      <h3>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</h3>\r\n      <p>ì•„ì´í…œì„ êµ¬ë§¤í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ë ¤ë©´ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginWarning;\r\n","// src/CouponGoal.js\nimport React from \"react\";\n\n// ì›í˜• í”„ë¡œê·¸ë ˆìŠ¤ ì»´í¬ë„ŒíŠ¸\nconst CircularProgress = ({\n  percentage,\n  size = 140,\n  strokeWidth = 12,\n  color,\n  children,\n}) => {\n  const radius = (size - strokeWidth) / 2;\n  const circumference = radius * 2 * Math.PI;\n  const offset = circumference - (percentage / 100) * circumference;\n\n  return (\n    <div className=\"relative\" style={{ width: size, height: size }}>\n      <svg width={size} height={size} style={{ transform: \"rotate(-90deg)\" }}>\n        {/* ë°°ê²½ ì› */}\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          fill=\"none\"\n          stroke=\"rgba(255, 255, 255, 0.1)\"\n          strokeWidth={strokeWidth}\n        />\n        {/* í”„ë¡œê·¸ë ˆìŠ¤ ì› */}\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          fill=\"none\"\n          stroke={color}\n          strokeWidth={strokeWidth}\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n          strokeLinecap=\"round\"\n          style={{ transition: \"stroke-dashoffset 0.5s ease\" }}\n        />\n      </svg>\n      {/* ì¤‘ì•™ ì½˜í…ì¸  */}\n      <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center\">\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default function CouponGoal({\n  classCouponGoal,\n  goalProgress,\n  myContribution,\n  currentCoupons,\n  couponValue,\n  setShowDonateModal,\n  setShowSellCouponModal,\n  setShowDonationHistoryModal,\n  setShowGiftCouponModal,\n  goalAchieved,\n  resetGoalButton,\n  isResettingGoal,\n}) {\n  const validClassCouponGoal =\n    typeof classCouponGoal === \"number\" && classCouponGoal > 0\n      ? classCouponGoal\n      : 1;\n\n  const goalPercentage = Math.min(\n    Math.round((goalProgress / validClassCouponGoal) * 100),\n    100,\n  );\n\n  const myContributionPercentage =\n    validClassCouponGoal > 0\n      ? Math.min(Math.round((myContribution / validClassCouponGoal) * 100), 100)\n      : 0;\n\n  const mainColor = goalAchieved ? \"#10b981\" : \"#6366f1\";\n\n  return (\n    <div\n      className=\"class-coupon-goal p-6 rounded-2xl relative overflow-hidden\"\n      style={{\n        backgroundColor: \"rgba(20, 20, 35, 0.6)\",\n        boxShadow: goalAchieved\n          ? \"0 4px 20px rgba(16, 185, 129, 0.25)\"\n          : \"0 4px 20px rgba(0, 255, 242, 0.15)\",\n        border: goalAchieved\n          ? \"2px solid #10b981\"\n          : \"1px solid rgba(0, 255, 242, 0.2)\",\n        backdropFilter: \"blur(10px)\",\n      }}\n    >\n      {/* ë°°ê²½ ì¥ì‹ */}\n      <div\n        className=\"absolute -top-12 -right-12 w-36 h-36 rounded-full\"\n        style={{\n          background: goalAchieved\n            ? \"radial-gradient(circle, rgba(16,185,129,0.1) 0%, transparent 70%)\"\n            : \"radial-gradient(circle, rgba(99,102,241,0.1) 0%, transparent 70%)\",\n        }}\n      />\n\n      {/* í—¤ë” */}\n      <div className=\"flex justify-between items-center mb-5\">\n        <div className=\"flex items-center gap-2.5\">\n          <span className=\"text-3xl\">ğŸ¯</span>\n          <h3\n            className=\"text-xl font-bold m-0\"\n            style={{\n              color: \"#e8e8ff\",\n              textShadow: \"0 0 5px rgba(0, 255, 242, 0.5)\",\n            }}\n          >\n            í•™ê¸‰ ì¿ í° ëª©í‘œ\n          </h3>\n        </div>\n\n        <div className=\"flex gap-2 items-center\">\n          {goalAchieved && (\n            <span\n              className=\"text-white px-3.5 py-1.5 rounded-2xl text-sm font-bold\"\n              style={{\n                background: \"linear-gradient(135deg, #10b981, #059669)\",\n                boxShadow: \"0 2px 8px rgba(16, 185, 129, 0.4)\",\n                animation: \"pulse 2s infinite\",\n              }}\n            >\n              ğŸ‰ ëª©í‘œ ë‹¬ì„±!\n            </span>\n          )}\n          {resetGoalButton && (\n            <button\n              onClick={resetGoalButton}\n              disabled={isResettingGoal}\n              className=\"text-white border-none rounded-xl px-3 py-1.5 text-xs font-semibold\"\n              style={{\n                backgroundColor: isResettingGoal ? \"#9ca3af\" : \"#ef4444\",\n                cursor: isResettingGoal ? \"not-allowed\" : \"pointer\",\n                opacity: isResettingGoal ? 0.7 : 1,\n              }}\n            >\n              {isResettingGoal ? \"ì´ˆê¸°í™” ì¤‘...\" : \"ì´ˆê¸°í™”\"}\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* ë©”ì¸ í”„ë¡œê·¸ë ˆìŠ¤ ì˜ì—­ */}\n      <div className=\"flex items-center justify-center gap-7 py-5 flex-wrap\">\n        {/* í•™ê¸‰ ëª©í‘œ ì›í˜• í”„ë¡œê·¸ë ˆìŠ¤ */}\n        <div className=\"text-center\">\n          <CircularProgress\n            percentage={goalPercentage}\n            size={150}\n            strokeWidth={14}\n            color={mainColor}\n          >\n            <div\n              className=\"text-3xl font-extrabold\"\n              style={{ color: mainColor }}\n            >\n              {goalPercentage}%\n            </div>\n            <div className=\"text-xs font-medium\" style={{ color: \"#a0a0c0\" }}>\n              ë‹¬ì„±ë¥ \n            </div>\n          </CircularProgress>\n          <div className=\"mt-3\">\n            <div\n              className=\"text-2xl font-extrabold\"\n              style={{ color: \"#e8e8ff\" }}\n            >\n              {(goalProgress || 0).toLocaleString()}\n              <span\n                className=\"text-sm font-medium\"\n                style={{ color: \"#a0a0c0\" }}\n              >\n                {\" \"}\n                / {validClassCouponGoal.toLocaleString()}\n              </span>\n            </div>\n            <div className=\"text-xs mt-0.5\" style={{ color: \"#6b7280\" }}>\n              í•™ê¸‰ ì „ì²´ ì‘ëª¨ëŸ‰\n            </div>\n          </div>\n        </div>\n\n        {/* ë‚´ ê¸°ì—¬ë„ ì›í˜• í”„ë¡œê·¸ë ˆìŠ¤ */}\n        <div className=\"text-center\">\n          <CircularProgress\n            percentage={myContributionPercentage}\n            size={120}\n            strokeWidth={10}\n            color=\"#f59e0b\"\n          >\n            <div\n              className=\"text-2xl font-extrabold\"\n              style={{ color: \"#f59e0b\" }}\n            >\n              {myContributionPercentage}%\n            </div>\n            <div className=\"text-xs font-medium\" style={{ color: \"#a0a0c0\" }}>\n              ë‚´ ê¸°ì—¬\n            </div>\n          </CircularProgress>\n          <div className=\"mt-3\">\n            <div className=\"text-lg font-bold\" style={{ color: \"#e8e8ff\" }}>\n              {(myContribution || 0).toLocaleString()}\n              <span\n                className=\"text-xs font-medium\"\n                style={{ color: \"#a0a0c0\" }}\n              >\n                {\" \"}\n                ì¿ í°\n              </span>\n            </div>\n            <div className=\"text-xs mt-0.5\" style={{ color: \"#6b7280\" }}>\n              ë‚´ê°€ ì‘ëª¨í•œ ì¿ í°\n            </div>\n          </div>\n        </div>\n\n        {/* ë‚´ ë³´ìœ ëŸ‰ ì¹´ë“œ */}\n        <div\n          className=\"rounded-2xl p-5 text-center min-w-[130px]\"\n          style={{\n            background:\n              \"linear-gradient(135deg, rgba(251, 191, 36, 0.2) 0%, rgba(245, 158, 11, 0.2) 100%)\",\n            boxShadow: \"0 4px 12px rgba(245, 158, 11, 0.1)\",\n            border: \"1px solid rgba(251, 191, 36, 0.3)\",\n          }}\n        >\n          <div className=\"text-3xl mb-2\">ğŸ«</div>\n          <div\n            className=\"text-3xl font-extrabold\"\n            style={{\n              color: \"#fbbf24\",\n              textShadow: \"0 0 10px rgba(251, 191, 36, 0.3)\",\n            }}\n          >\n            {(currentCoupons || 0).toLocaleString()}\n          </div>\n          <div\n            className=\"text-xs font-semibold mt-1\"\n            style={{ color: \"#fcd34d\" }}\n          >\n            ë³´ìœ  ì¿ í°\n          </div>\n          <div\n            className=\"text-xs mt-2 px-2 py-1 rounded-lg\"\n            style={{ color: \"#fcd34d\", background: \"rgba(0,0,0,0.3)\" }}\n          >\n            1ì¿ í° ={\" \"}\n            {typeof couponValue === \"number\"\n              ? couponValue.toLocaleString()\n              : \"0\"}\n            ì›\n          </div>\n        </div>\n      </div>\n\n      {/* ì•¡ì…˜ ë²„íŠ¼ë“¤ */}\n      <div className=\"grid grid-cols-4 gap-2 mt-5\">\n        <button\n          onClick={() => setShowDonateModal(true)}\n          className=\"border-none rounded-xl py-3.5 px-2 cursor-pointer flex flex-col justify-center items-center gap-1.5 transition-all\"\n          style={{\n            background: \"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)\",\n            boxShadow: \"0 4px 12px rgba(99, 102, 241, 0.35)\",\n          }}\n        >\n          <span className=\"text-2xl\">ğŸ’°</span>\n          <span className=\"text-white text-sm font-bold\">ì¿ í° ì‘ëª¨</span>\n        </button>\n\n        <button\n          onClick={() => setShowSellCouponModal(true)}\n          className=\"border-none rounded-xl py-3.5 px-2 cursor-pointer flex flex-col justify-center items-center gap-1.5 transition-all\"\n          style={{\n            background: \"linear-gradient(135deg, #f87171 0%, #ef4444 100%)\",\n            boxShadow: \"0 4px 12px rgba(239, 68, 68, 0.35)\",\n          }}\n        >\n          <span className=\"text-2xl\">ğŸ’µ</span>\n          <span className=\"text-white text-sm font-bold\">ì¿ í° íŒë§¤</span>\n        </button>\n\n        <button\n          onClick={() => setShowGiftCouponModal(true)}\n          className=\"border-none rounded-xl py-3.5 px-2 cursor-pointer flex flex-col justify-center items-center gap-1.5 transition-all\"\n          style={{\n            background: \"linear-gradient(135deg, #34d399 0%, #10b981 100%)\",\n            boxShadow: \"0 4px 12px rgba(16, 185, 129, 0.35)\",\n          }}\n        >\n          <span className=\"text-2xl\">ğŸ</span>\n          <span className=\"text-white text-sm font-bold\">ì¿ í° ì„ ë¬¼</span>\n        </button>\n\n        <button\n          onClick={() => setShowDonationHistoryModal(true)}\n          className=\"rounded-xl py-3.5 px-2 cursor-pointer flex flex-col justify-center items-center gap-1.5 transition-all\"\n          style={{\n            background: \"linear-gradient(135deg, #374151 0%, #1f2937 100%)\",\n            border: \"1px solid #4b5563\",\n          }}\n        >\n          <span className=\"text-2xl\">ğŸ“‹</span>\n          <span className=\"text-sm font-bold\" style={{ color: \"#4b5563\" }}>\n            ì‘ëª¨ ë‚´ì—­\n          </span>\n        </button>\n      </div>\n\n      {/* ì¿ í° ëª©í‘œ ê¸€ì”¨ í¬ê¸° ì „ì²´ í™•ëŒ€ */}\n      <style>{`\n        .class-coupon-goal { font-size: 1.05rem; }\n        .class-coupon-goal h3 { font-size: 1.3rem !important; }\n        .class-coupon-goal .text-xs { font-size: 0.85rem !important; }\n        .class-coupon-goal .text-sm { font-size: 0.95rem !important; }\n        .class-coupon-goal .text-2xl { font-size: 1.6rem !important; }\n        .class-coupon-goal .text-3xl { font-size: 2rem !important; }\n      `}</style>\n\n      {/* ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ */}\n      <style>{`\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.05); }\n        }\n        .class-coupon-goal button:hover {\n          transform: translateY(-2px);\n        }\n      `}</style>\n    </div>\n  );\n}\n","// src/DonateCouponModal.js\n// ğŸ”¥ ì„±ëŠ¥ ìµœì í™”: React.memo ì ìš©\nimport React, { useState, memo } from \"react\";\nimport { logger } from \"../../utils/logger\";\n\nconst DonateCouponModal = memo(function DonateCouponModal({\n  showDonateModal,\n  setShowDonateModal,\n  currentCoupons,\n  onDonate,\n  classCode, // ğŸ”¥ userId, currentGoalIdëŠ” ë” ì´ìƒ í•„ìš” ì—†ìŒ\n}) {\n  const [donateAmount, setDonateAmount] = useState(\"\");\n  const [donateMessage, setDonateMessage] = useState(\"\");\n  const [isDonating, setIsDonating] = useState(false);\n\n  const handleDonate = async () => {\n    const amount = parseInt(donateAmount, 10);\n    if (isNaN(amount) || amount <= 0) {\n      alert(\"ì˜¬ë°”ë¥¸ ì¿ í° ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n    if (amount > currentCoupons) {\n      alert(\"ë³´ìœ  ì¿ í°ë³´ë‹¤ ë§ì´ ì‘ëª¨í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n\n    setIsDonating(true);\n    try {\n      // onDonateëŠ” MyAssets.jsì˜ handleDonateCoupon í•¨ìˆ˜\n      const success = await onDonate(amount, donateMessage);\n      if (success) {\n        // ğŸ”¥ ì„±ê³µ ì‹œ ëª¨ë‹¬ì„ ë‹«ê³  ìƒíƒœë¥¼ ì´ˆê¸°í™”\n        setDonateAmount(\"\");\n        setDonateMessage(\"\");\n        setShowDonateModal(false);\n      }\n    } catch (error) {\n      logger.error(\"[DonateCouponModal] ì‘ëª¨ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜:\", error);\n      alert(\"ì‘ëª¨ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    } finally {\n      setIsDonating(false);\n    }\n  };\n\n  const handleClose = () => {\n    if (!isDonating) {\n      setShowDonateModal(false);\n      setDonateAmount(\"\");\n      setDonateMessage(\"\");\n    }\n  };\n\n  if (!showDonateModal) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-[1000] p-5\"\n      onClick={handleClose}\n    >\n      <div\n        className=\"bg-[#1a1a2e] rounded-xl shadow-lg w-full max-w-[500px] overflow-hidden border border-slate-600\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* í—¤ë” */}\n        <div className=\"px-5 py-4 border-b border-slate-600 flex justify-between items-center bg-[#151528]\">\n          <h3 className=\"m-0 text-lg font-semibold text-slate-100\">\n            ì¿ í° ì‘ëª¨í•˜ê¸°\n            {classCode && (\n              <span className=\"ml-2 text-sm bg-indigo-900/60 text-indigo-300 px-2 py-1 rounded-xl font-medium\">\n                {classCode}\n              </span>\n            )}\n          </h3>\n          <button\n            onClick={handleClose}\n            disabled={isDonating}\n            className={`bg-transparent border-0 text-xl text-slate-400 p-0 leading-none ${isDonating ? \"cursor-not-allowed\" : \"cursor-pointer hover:text-slate-200\"}`}\n            aria-label=\"ë‹«ê¸°\"\n          >\n            &times;\n          </button>\n        </div>\n\n        {/* ë‚´ìš© */}\n        <div className=\"p-5\">\n          <div className=\"mb-5\">\n            <div className=\"flex justify-between items-center bg-indigo-900/30 px-4 py-3 rounded-lg border border-indigo-700/50\">\n              <span className=\"text-sm font-medium text-indigo-300\">\n                í˜„ì¬ ë³´ìœ  ì¿ í°\n              </span>\n              <span className=\"text-base font-semibold text-indigo-400\">\n                {currentCoupons.toLocaleString()} ê°œ\n              </span>\n            </div>\n          </div>\n\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-slate-300 mb-1.5\">\n              ì‘ëª¨í•  ì¿ í° ìˆ˜ëŸ‰\n            </label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              max={currentCoupons}\n              value={donateAmount}\n              onChange={(e) => setDonateAmount(e.target.value)}\n              disabled={isDonating}\n              className={`w-full p-3 border border-slate-600 rounded-md text-base text-slate-100 ${isDonating ? \"bg-slate-800 cursor-not-allowed\" : \"bg-slate-700/50 cursor-text\"}`}\n              placeholder=\"ì‘ëª¨í•  ì¿ í° ìˆ˜ëŸ‰ì„ ì…ë ¥í•˜ì„¸ìš”\"\n            />\n          </div>\n\n          <div className=\"mb-5\">\n            <label className=\"block text-sm font-medium text-slate-300 mb-1.5\">\n              ì‘ëª¨ ë©”ì‹œì§€ (ì„ íƒì‚¬í•­)\n            </label>\n            <textarea\n              value={donateMessage}\n              onChange={(e) => setDonateMessage(e.target.value)}\n              disabled={isDonating}\n              className={`w-full p-3 border border-slate-600 rounded-md text-sm resize-y min-h-[80px] text-slate-100 ${isDonating ? \"bg-slate-800 cursor-not-allowed\" : \"bg-slate-700/50 cursor-text\"}`}\n              placeholder=\"ì‘ëª¨ì™€ í•¨ê»˜ ì „í•  ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”\"\n            />\n          </div>\n\n          {/* ì˜ˆìƒ ì‘ëª¨ì•¡ í‘œì‹œ */}\n          {donateAmount && !isNaN(parseInt(donateAmount, 10)) && (\n            <div className=\"bg-emerald-900/30 px-4 py-3 rounded-lg border border-emerald-700/50 mb-5\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm font-medium text-emerald-300\">\n                  ì‘ëª¨ ì˜ˆì • ì¿ í°\n                </span>\n                <span className=\"text-base font-semibold text-emerald-400\">\n                  {parseInt(donateAmount, 10).toLocaleString()} ê°œ\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* í‘¸í„° */}\n        <div className=\"px-5 py-4 border-t border-slate-600 flex justify-end gap-3\">\n          <button\n            onClick={handleClose}\n            disabled={isDonating}\n            className={`px-4 py-2 bg-slate-600 text-slate-200 border-0 rounded-md font-medium ${isDonating ? \"cursor-not-allowed opacity-60\" : \"cursor-pointer opacity-100 hover:bg-slate-500\"}`}\n          >\n            ì·¨ì†Œ\n          </button>\n          <button\n            onClick={handleDonate}\n            disabled={\n              isDonating ||\n              !donateAmount ||\n              isNaN(parseInt(donateAmount, 10)) ||\n              parseInt(donateAmount, 10) <= 0 ||\n              parseInt(donateAmount, 10) > currentCoupons\n            }\n            style={{\n              backgroundColor:\n                isDonating ||\n                !donateAmount ||\n                isNaN(parseInt(donateAmount, 10)) ||\n                parseInt(donateAmount, 10) <= 0 ||\n                parseInt(donateAmount, 10) > currentCoupons\n                  ? \"#4b5563\"\n                  : \"#4f46e5\",\n            }}\n            className={`px-4 py-2 text-white border-0 rounded-md font-medium ${\n              isDonating ||\n              !donateAmount ||\n              isNaN(parseInt(donateAmount, 10)) ||\n              parseInt(donateAmount, 10) <= 0 ||\n              parseInt(donateAmount, 10) > currentCoupons\n                ? \"cursor-not-allowed\"\n                : \"cursor-pointer\"\n            }`}\n          >\n            {isDonating ? \"ì‘ëª¨ ì¤‘...\" : \"ì‘ëª¨í•˜ê¸°\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default DonateCouponModal;\n","// src/SellCouponModal.js\n// ğŸ”¥ ì„±ëŠ¥ ìµœì í™”: React.memo ì ìš©\nimport React, { useState, memo } from \"react\";\nimport { logger } from \"../../utils/logger\";\n\nconst SellCouponModal = memo(function SellCouponModal({\n  showSellCouponModal,\n  setShowSellCouponModal,\n  currentCoupons = 0,\n  couponValue = 1000,\n  sellAmount = \"\",\n  setSellAmount,\n  // Dashboard ë˜ëŠ” MyAssetsë¡œë¶€í„° ì‹¤ì œ íŒë§¤ ì²˜ë¦¬ í•¨ìˆ˜ë¥¼ propsë¡œ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤.\n  // ì´ì „ ë‹µë³€ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´, Dashboard.jsì—ì„œëŠ” <SellCouponModal SellCoupon={handleSellCoupon} ... /> í˜•íƒœë¡œ ì „ë‹¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n  // ì´ prop ì´ë¦„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\n  SellCoupon, // ì‹¤ì œ íŒë§¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ (Dashboard ë˜ëŠ” MyAssets ì—ì„œ ì „ë‹¬ë°›ìŒ)\n}) {\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // ëª¨ë‹¬ì´ í‘œì‹œë˜ì§€ ì•Šì„ ë•ŒëŠ” ë Œë”ë§í•˜ì§€ ì•ŠìŒ\n  if (!showSellCouponModal) return null;\n\n  // íŒë§¤ ê¸ˆì•¡ ê³„ì‚°\n  const calculateValue = () => {\n    const amount = parseInt(sellAmount);\n    if (!isNaN(amount) && amount > 0) {\n      return amount * couponValue;\n    }\n    return 0;\n  };\n\n  // handleSubmit í•¨ìˆ˜ì—ì„œ Dashboardì˜ handleSellCoupon (propsë¡œ ì „ë‹¬ë°›ì€ SellCoupon)ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const amount = parseInt(sellAmount);\n\n    // ì˜¤ë¥˜ ë©”ì‹œì§€ ì´ˆê¸°í™”\n    setError(\"\");\n\n    // ìœ íš¨ì„± ê²€ì‚¬ ì¶”ê°€\n    if (!amount || isNaN(amount) || amount <= 0) {\n      setError(\"ìœ íš¨í•œ ì¿ í° ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n\n    if (amount > currentCoupons) {\n      setError(\"ë³´ìœ í•œ ì¿ í°ë³´ë‹¤ ë§ì€ ìˆ˜ëŸ‰ì„ íŒë§¤í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n\n    // SellCoupon propì´ í•¨ìˆ˜ì¸ì§€ í™•ì¸\n    if (typeof SellCoupon !== \"function\") {\n      setError(\"íŒë§¤ ì²˜ë¦¬ í•¨ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\");\n      logger.error(\"SellCoupon prop is not a function:\", SellCoupon);\n      return;\n    }\n\n    setIsProcessing(true);\n\n    try {\n      await SellCoupon(); // Dashboardì˜ handleSellCoupon ë˜ëŠ” MyAssetsì˜ handleSellCoupon í˜¸ì¶œ\n    } catch (err) {\n      logger.error(\"íŒë§¤ ì²˜ë¦¬ ì¤‘ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜:\", err);\n      setError(\n        err.message || \"íŒë§¤ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\",\n      );\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setSellAmount(\"\");\n    setError(\"\");\n    setShowSellCouponModal(false);\n  };\n\n  // íŒë§¤ ë²„íŠ¼ í™œì„±í™” ì¡°ê±´\n  const isInvalidAmount =\n    !sellAmount ||\n    isNaN(parseInt(sellAmount)) ||\n    parseInt(sellAmount) <= 0 ||\n    parseInt(sellAmount) > currentCoupons;\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-[1000]\"\n      onClick={handleCancel}\n    >\n      <div\n        className=\"bg-[#1a1a2e] p-5 rounded-lg max-w-[500px] w-[90%] max-h-[90vh] overflow-y-auto shadow-md border border-slate-600\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <h3 className=\"text-lg font-semibold mb-4 text-slate-100\">\n          ì¿ í° íŒë§¤í•˜ê¸°\n        </h3>\n        <p className=\"mb-2.5 text-sm text-slate-400\">\n          ì¿ í°ì„ íŒë§¤í•˜ê³  í˜„ê¸ˆìœ¼ë¡œ êµí™˜í•˜ì„¸ìš”.\n        </p>\n        <div className=\"flex justify-between mb-4 p-2.5 bg-slate-800/60 rounded-md text-[15px] text-slate-300\">\n          <span>í˜„ì¬ ë³´ìœ  ì¿ í°:</span>\n          <strong className=\"text-slate-100\">\n            {currentCoupons.toLocaleString()}\n          </strong>\n        </div>\n        <div className=\"flex justify-between mb-4 p-2.5 bg-slate-800/60 rounded-md text-[15px] text-indigo-400\">\n          <span>1ì¿ í° íŒë§¤ê°€:</span>\n          <strong>{couponValue.toLocaleString()}ì›</strong>\n        </div>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label\n              htmlFor=\"sellAmount\"\n              className=\"block mb-1 font-medium text-slate-300\"\n            >\n              íŒë§¤í•  ì¿ í° ìˆ˜:\n            </label>\n            <input\n              id=\"sellAmount\"\n              type=\"number\"\n              value={sellAmount}\n              onChange={(e) => setSellAmount(e.target.value)}\n              min=\"1\"\n              max={currentCoupons}\n              className=\"w-full px-3 py-2 border border-slate-600 rounded-md text-sm outline-none bg-slate-700/50 text-slate-100\"\n              disabled={isProcessing}\n              required\n            />\n          </div>\n\n          {/* ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ */}\n          {error && (\n            <div className=\"bg-red-900/30 border border-red-700/50 rounded-md px-4 py-3 mb-4 text-red-300 text-sm\">\n              <p className=\"m-0\">{error}</p>\n            </div>\n          )}\n\n          <div className=\"mb-5 px-4 py-2.5 bg-indigo-900/30 rounded-md border-l-4 border-indigo-500\">\n            <div className=\"flex justify-between text-base font-semibold text-slate-200\">\n              <span>ì˜ˆìƒ ìˆ˜ë ¹ì•¡:</span>\n              <span className=\"text-indigo-400\">\n                {calculateValue().toLocaleString()}ì›\n              </span>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-2.5 mt-5\">\n            <button\n              type=\"button\"\n              onClick={handleCancel}\n              className=\"px-4 py-2 bg-slate-600 text-slate-200 border-0 rounded-md text-sm cursor-pointer transition-colors duration-200 hover:bg-slate-500\"\n              disabled={isProcessing}\n            >\n              ì·¨ì†Œ\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-red-600 text-white border-0 rounded-md text-sm font-medium transition-all duration-200\"\n              style={{\n                cursor:\n                  isInvalidAmount || isProcessing ? \"not-allowed\" : \"pointer\",\n                opacity: isInvalidAmount || isProcessing ? 0.6 : 1,\n              }}\n              disabled={isInvalidAmount || isProcessing}\n            >\n              {isProcessing ? \"ì²˜ë¦¬ ì¤‘...\" : \"íŒë§¤í•˜ê¸°\"}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n});\n\nexport default SellCouponModal;\n","// ğŸ”¥ ì„±ëŠ¥ ìµœì í™”: React.memo ì ìš©\nimport React, { memo } from \"react\";\nimport { logger } from \"../../utils/logger\";\n\nconst GiftCouponModal = memo(function GiftCouponModal({\n  showGiftCouponModal,\n  setShowGiftCouponModal,\n  recipients,\n  giftRecipient,\n  setGiftRecipient, // ì´ í•¨ìˆ˜ëŠ” Dashboardì—ì„œ ì „ë‹¬ë˜ì–´ì•¼ í•¨\n  giftAmount,\n  setGiftAmount, // ì´ í•¨ìˆ˜ê°€ Dashboardì—ì„œ ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬ë˜ì–´ì•¼ í•¨\n  handleGiftCoupon,\n  currentCoupons,\n  userId,\n}) {\n  if (!showGiftCouponModal) {\n    return null;\n  }\n\n  const validRecipients = recipients ?? [];\n\n  const closeModal = () => {\n    setShowGiftCouponModal(false);\n    // --- ì˜¤ë¥˜ ë°œìƒ ì§€ì  ---\n    // setGiftAmountì™€ setGiftRecipientê°€ í•¨ìˆ˜ í˜•íƒœë¡œ ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬ë˜ì—ˆëŠ”ì§€ í™•ì¸ í•„ìš”\n    if (typeof setGiftAmount === \"function\") {\n      setGiftAmount(\"\"); // ëª¨ë‹¬ ë‹«ì„ ë•Œ ìƒíƒœ ì´ˆê¸°í™”\n    } else {\n      logger.error(\"setGiftAmount prop is not a function!\", setGiftAmount); // ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€\n    }\n    if (typeof setGiftRecipient === \"function\") {\n      setGiftRecipient(\"\");\n    } else {\n      logger.error(\n        \"setGiftRecipient prop is not a function!\",\n        setGiftRecipient,\n      ); // ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€\n    }\n  };\n\n  return (\n    <div\n      className=\"modal-backdrop fixed inset-0 bg-black/60 flex justify-center items-center z-[1000]\"\n      onClick={closeModal} // ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸°\n    >\n      <div\n        className=\"gift-coupon-modal bg-[#1a1a2e] rounded-xl p-6 w-[90%] max-w-[400px] shadow-xl border border-slate-600\"\n        onClick={(e) => e.stopPropagation()} // ëª¨ë‹¬ ë‚´ë¶€ í´ë¦­ ì‹œ ë‹«í˜ ë°©ì§€\n      >\n        <h3 className=\"mt-0 text-slate-100\">ì¿ í° ì„ ë¬¼í•˜ê¸°</h3>\n        <div className=\"mb-4 text-slate-400\">\n          <p>\n            í˜„ì¬ ë³´ìœ  ì¿ í°:{\" \"}\n            <strong className=\"text-slate-200\">{currentCoupons}ê°œ</strong>\n          </p>\n        </div>\n        <div className=\"form-group mb-4\">\n          <label className=\"block mb-2 font-medium text-slate-300\">\n            ë°›ëŠ” ì‚¬ëŒ\n          </label>\n          <select\n            value={giftRecipient}\n            // onChange í•¸ë“¤ëŸ¬ì—ì„œ setGiftRecipientê°€ í•¨ìˆ˜ì¸ì§€ í™•ì¸\n            onChange={(e) =>\n              typeof setGiftRecipient === \"function\"\n                ? setGiftRecipient(e.target.value)\n                : logger.error(\"setGiftRecipient is not a function\")\n            }\n            className=\"w-full p-2.5 border border-slate-600 rounded-md text-sm bg-slate-700/50 text-slate-100\"\n          >\n            <option value=\"\">ë°›ëŠ” ë¶„ì„ ì„ íƒí•˜ì„¸ìš”</option>\n            {validRecipients\n              .filter((recipient) => recipient.id !== userId)\n              .map((recipient) => (\n                <option key={recipient.id} value={recipient.id}>\n                  {recipient.name} ({recipient.id})\n                </option>\n              ))}\n          </select>\n        </div>\n        <div className=\"form-group mb-6\">\n          <label className=\"block mb-2 font-medium text-slate-300\">\n            ì„ ë¬¼í•  ì¿ í° ìˆ˜ëŸ‰\n          </label>\n          <input\n            type=\"number\"\n            value={giftAmount}\n            // onChange í•¸ë“¤ëŸ¬ì—ì„œ setGiftAmountê°€ í•¨ìˆ˜ì¸ì§€ í™•ì¸\n            onChange={(e) =>\n              typeof setGiftAmount === \"function\"\n                ? setGiftAmount(e.target.value)\n                : logger.error(\"setGiftAmount is not a function\")\n            }\n            placeholder=\"ì„ ë¬¼í•  ì¿ í° ìˆ˜ëŸ‰ì„ ì…ë ¥í•˜ì„¸ìš”\"\n            className=\"w-full p-2.5 border border-slate-600 rounded-md text-sm bg-slate-700/50 text-slate-100\"\n            max={currentCoupons}\n            min=\"1\"\n          />\n        </div>\n        <div className=\"modal-actions flex justify-end gap-2.5\">\n          <button\n            className=\"cancel-button px-4 py-2 bg-slate-600 text-slate-200 border-0 rounded-md cursor-pointer font-medium hover:bg-slate-500\"\n            onClick={closeModal}\n          >\n            ì·¨ì†Œ\n          </button>\n          <button\n            className=\"confirm-button px-4 py-2 bg-emerald-600 text-white border-0 rounded-md text-sm font-medium\"\n            onClick={handleGiftCoupon}\n            disabled={\n              !giftRecipient ||\n              !giftAmount ||\n              parseInt(giftAmount) <= 0 ||\n              parseInt(giftAmount) > currentCoupons\n            }\n            style={{\n              cursor:\n                !giftRecipient ||\n                !giftAmount ||\n                parseInt(giftAmount) <= 0 ||\n                parseInt(giftAmount) > currentCoupons\n                  ? \"not-allowed\"\n                  : \"pointer\",\n              opacity:\n                !giftRecipient ||\n                !giftAmount ||\n                parseInt(giftAmount) <= 0 ||\n                parseInt(giftAmount) > currentCoupons\n                  ? 0.7\n                  : 1,\n            }}\n          >\n            ì„ ë¬¼í•˜ê¸°\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default GiftCouponModal;\n","// src/DonationHistoryModal.js\n// ğŸ”¥ ì„±ëŠ¥ ìµœì í™”: React.memo ì ìš©\nimport React, { useState, useEffect, memo } from \"react\";\nimport { useAuth } from \"../../contexts/AuthContext\";\n\nimport { logger } from \"../../utils/logger\";\nconst DonationHistoryModal = memo(function DonationHistoryModal({\n  showDonationHistoryModal,\n  setShowDonationHistoryModal,\n  students = [],\n  classCode,\n  donations = [],\n}) {\n  const { user, userDoc } = useAuth();\n  const userId = user?.uid;\n  const userClassCode = userDoc?.classCode || classCode;\n\n  const [studentDonationSummary, setStudentDonationSummary] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [totalDonationForThisClassGoal, setTotalDonationForThisClassGoal] =\n    useState(0);\n\n  const tableStyles = {\n    table: {\n      width: \"100%\",\n      borderCollapse: \"collapse\",\n      fontSize: \"14px\",\n      borderRadius: \"8px\",\n      overflow: \"hidden\",\n      border: \"1px solid #475569\",\n    },\n    thead: {\n      backgroundColor: \"#1e293b\",\n    },\n    th: {\n      padding: \"12px 16px\",\n      textAlign: \"left\",\n      fontWeight: \"600\",\n      color: \"#cbd5e1\",\n      borderBottom: \"1px solid #475569\",\n      position: \"sticky\",\n      top: 0,\n      backgroundColor: \"#1e293b\",\n      zIndex: 1,\n    },\n    td: {\n      padding: \"12px 16px\",\n      borderBottom: \"1px solid #334155\",\n      color: \"#cbd5e1\",\n    },\n    tr: {\n      transition: \"background-color 0.2s\",\n    },\n    emptyContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      padding: \"40px 20px\",\n      backgroundColor: \"#1e293b\",\n      borderRadius: \"8px\",\n      border: \"1px dashed #475569\",\n      textAlign: \"center\",\n      color: \"#94a3b8\",\n    },\n    emptyIcon: {\n      fontSize: \"36px\",\n      marginBottom: \"16px\",\n      color: \"#64748b\",\n    },\n  };\n\n  useEffect(() => {\n    if (showDonationHistoryModal) {\n      const processDonationData = () => {\n        setLoading(true);\n        setError(null);\n        setStudentDonationSummary([]);\n        setTotalDonationForThisClassGoal(0);\n\n        logger.log(\"[DonationHistoryModal] ë°ì´í„° ì²˜ë¦¬ ì‹œì‘:\", {\n          userClassCode,\n          studentsCount: students.length,\n          donationsCount: donations.length,\n          students: students.map((s) => ({\n            id: s.id || s.uid,\n            name: s.name || s.nickname,\n            classCode: s.classCode,\n          })),\n          donations: donations,\n        });\n\n        if (!userClassCode) {\n          setError(\n            \"í•™ê¸‰ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ì–´ ì‘ëª¨ ë‚´ì—­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\",\n          );\n          setLoading(false);\n          return;\n        }\n\n        try {\n          const classDonations = donations || [];\n          const validStudents = Array.isArray(students) ? students : [];\n\n          const donationsByStudent = {};\n          let currentClassGoalTotal = 0;\n\n          // ëª¨ë“  ì‘ëª¨ ê¸°ë¡ì„ ì²˜ë¦¬í•˜ì—¬ í•™ìƒë³„ ì‘ëª¨ì•¡ê³¼ ì´ ì‘ëª¨ì•¡ì„ ê³„ì‚°\n          classDonations.forEach((donation) => {\n            const amount = Number(donation.amount) || 0;\n            const donorId = donation.userId;\n            const donorName =\n              donation.userName || donation.name || \"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì\";\n\n            if (donorId) {\n              if (!donationsByStudent[donorId]) {\n                donationsByStudent[donorId] = {\n                  amount: 0,\n                  name: donorName,\n                };\n              }\n              donationsByStudent[donorId].amount += amount;\n              // ì´ë¦„ ì—…ë°ì´íŠ¸ (ê°€ì¥ ìµœì‹  ì´ë¦„ ì‚¬ìš©)\n              if (donorName && donorName !== \"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì\") {\n                donationsByStudent[donorId].name = donorName;\n              }\n            }\n            currentClassGoalTotal += amount;\n          });\n\n          setTotalDonationForThisClassGoal(currentClassGoalTotal);\n\n          logger.log(\"[DonationHistoryModal] ì‘ëª¨ ì§‘ê³„:\", {\n            donationsByStudent,\n            totalAmount: currentClassGoalTotal,\n            uniqueDonors: Object.keys(donationsByStudent).length,\n          });\n\n          // ğŸ”¥ ìˆ˜ì •: students ë°°ì—´ì˜ ëª¨ë“  í•™ìƒ í¬í•¨ + donationsì—ë§Œ ìˆëŠ” ì‚¬ìš©ìë„ í¬í•¨\n          const allStudentIds = new Set();\n\n          // students ë°°ì—´ì˜ ëª¨ë“  í•™ìƒ ì¶”ê°€\n          validStudents.forEach((student) => {\n            const studentId = student.id || student.uid || student.userId;\n            if (studentId) {\n              allStudentIds.add(studentId);\n            }\n          });\n\n          // donationsì—ë§Œ ìˆëŠ” ì‚¬ìš©ì ì¶”ê°€\n          Object.keys(donationsByStudent).forEach((donorId) => {\n            allStudentIds.add(donorId);\n          });\n\n          // í•™ìƒ ì •ë³´ë¥¼ ë‹´ì„ Map ìƒì„±\n          const studentInfoMap = new Map();\n\n          // students ë°°ì—´ì—ì„œ í•™ìƒ ì •ë³´ ì¶”ê°€\n          validStudents.forEach((student) => {\n            const studentId = student.id || student.uid || student.userId;\n            const studentName =\n              student.name || student.nickname || \"ì•Œ ìˆ˜ ì—†ëŠ” í•™ìƒ\";\n            if (studentId) {\n              studentInfoMap.set(studentId, studentName);\n            }\n          });\n\n          // donationsì—ì„œ ì´ë¦„ ì •ë³´ ì¶”ê°€ (ìš°ì„ ìˆœìœ„: donationsì˜ userName)\n          Object.keys(donationsByStudent).forEach((donorId) => {\n            if (\n              !studentInfoMap.has(donorId) ||\n              donationsByStudent[donorId].name !== \"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì\"\n            ) {\n              studentInfoMap.set(donorId, donationsByStudent[donorId].name);\n            }\n          });\n\n          // ëª¨ë“  í•™ìƒ ëª©ë¡ ìƒì„± (ì‘ëª¨ 0ì› í•™ìƒ í¬í•¨)\n          const summary = Array.from(allStudentIds)\n            .map((studentId) => {\n              const studentName =\n                studentInfoMap.get(studentId) || \"ì•Œ ìˆ˜ ì—†ëŠ” í•™ìƒ\";\n              const donationAmount = donationsByStudent[studentId]?.amount || 0;\n              const isCurrentUser = userId && studentId === userId;\n\n              return {\n                id: studentId,\n                name: studentName,\n                cumulativeAmount: donationAmount,\n                isCurrentUser: isCurrentUser,\n              };\n            })\n            // ì´ë¦„ ê¸°ì¤€ìœ¼ë¡œ ê°€ë‚˜ë‹¤ìˆœ ì •ë ¬ (ã„±, ã„´, ã„· ìˆœ)\n            .sort((a, b) => a.name.localeCompare(b.name, \"ko\"));\n\n          logger.log(\"[DonationHistoryModal] ìµœì¢… í•™ìƒ ëª©ë¡:\", {\n            totalStudents: summary.length,\n            studentsWithDonations: summary.filter((s) => s.cumulativeAmount > 0)\n              .length,\n            summary,\n          });\n\n          setStudentDonationSummary(summary);\n        } catch (err) {\n          logger.error(\"[DonationHistoryModal] ì‘ëª¨ ë‚´ì—­ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜:\", err);\n          setError(\"ì‘ëª¨ ë‚´ì—­ì„ ì²˜ë¦¬í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n        } finally {\n          setLoading(false);\n        }\n      };\n\n      processDonationData();\n    }\n  }, [showDonationHistoryModal, students, userId, userClassCode, donations]);\n\n  const handleClose = () => {\n    setShowDonationHistoryModal(false);\n  };\n\n  const formatAmount = (amount) => {\n    if (typeof amount !== \"number\" || isNaN(amount)) return \"0\";\n    return amount.toLocaleString();\n  };\n\n  const myTotalDonation =\n    studentDonationSummary.find((s) => s.isCurrentUser)?.cumulativeAmount || 0;\n\n  return (\n    <div\n      className={`${showDonationHistoryModal ? \"flex\" : \"hidden\"} fixed inset-0 bg-black/60 items-center justify-center z-[1000] p-5`}\n      onClick={handleClose}\n    >\n      <div\n        className=\"bg-[#1a1a2e] rounded-xl shadow-lg w-full max-w-[600px] max-h-[85vh] overflow-hidden flex flex-col border border-slate-600\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"px-5 py-4 border-b border-slate-600 flex justify-between items-center bg-[#151528]\">\n          <h3 className=\"m-0 text-lg font-semibold text-slate-100\">\n            ìš°ë¦¬ í•™ê¸‰ ì‘ëª¨ í˜„í™©\n            {userClassCode && (\n              <span className=\"ml-2 text-sm bg-indigo-900/60 text-indigo-300 px-2 py-1 rounded-xl font-medium\">\n                {userClassCode}\n              </span>\n            )}\n          </h3>\n          <button\n            onClick={handleClose}\n            className=\"bg-transparent border-0 cursor-pointer text-xl text-slate-400 p-0 leading-none hover:text-slate-200\"\n            aria-label=\"ë‹«ê¸°\"\n          >\n            &times;\n          </button>\n        </div>\n\n        <div className=\"p-5 overflow-y-auto max-h-[calc(85vh-120px)]\">\n          <div className=\"bg-indigo-900/30 px-4 py-3 rounded-lg mb-5 border border-indigo-700/50\">\n            <div className=\"flex justify-between items-center mb-2\">\n              <span className=\"text-sm font-medium text-indigo-300\">\n                ë‚´ ëˆ„ì  ì‘ëª¨ì•¡\n              </span>\n              <span className=\"text-base font-semibold text-indigo-400\">\n                {formatAmount(myTotalDonation)} ì¿ í°\n              </span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-sm font-medium text-indigo-300\">\n                ìš°ë¦¬ í•™ê¸‰ ì´ ì‘ëª¨ì•¡\n              </span>\n              <span className=\"text-base font-semibold text-indigo-400\">\n                {formatAmount(totalDonationForThisClassGoal)} ì¿ í°\n              </span>\n            </div>\n          </div>\n\n          {loading ? (\n            <div className=\"text-center py-10 text-slate-400\">\n              ì‘ëª¨ í˜„í™©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...\n            </div>\n          ) : error ? (\n            <div className=\"text-red-400 text-center py-10\">{error}</div>\n          ) : (\n            <>\n              {studentDonationSummary.length > 0 ? (\n                <table style={tableStyles.table}>\n                  <thead style={tableStyles.thead}>\n                    <tr>\n                      <th style={tableStyles.th}>í•™ìƒ ì´ë¦„</th>\n                      <th\n                        style={{\n                          ...tableStyles.th,\n                          width: \"150px\",\n                          textAlign: \"right\",\n                        }}\n                      >\n                        ëˆ„ì  ì‘ëª¨ ì¿ í°\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {studentDonationSummary.map((student, index) => (\n                      <tr\n                        key={student.id || index}\n                        style={{\n                          ...tableStyles.tr,\n                          backgroundColor: student.isCurrentUser\n                            ? \"rgba(99, 102, 241, 0.2)\"\n                            : index % 2 === 0\n                              ? \"#1e293b\"\n                              : \"#1a1a2e\",\n                        }}\n                        onMouseOver={(e) => {\n                          if (!student.isCurrentUser) {\n                            e.currentTarget.style.backgroundColor =\n                              \"rgba(99, 102, 241, 0.1)\";\n                          }\n                        }}\n                        onMouseOut={(e) => {\n                          if (!student.isCurrentUser) {\n                            e.currentTarget.style.backgroundColor =\n                              index % 2 === 0 ? \"#1e293b\" : \"#1a1a2e\";\n                          }\n                        }}\n                      >\n                        <td style={tableStyles.td}>\n                          {student.name}\n                          {student.isCurrentUser && (\n                            <span className=\"ml-2 text-xs bg-indigo-900/60 text-indigo-300 px-1.5 py-0.5 rounded-lg font-semibold align-middle\">\n                              ë‚˜\n                            </span>\n                          )}\n                        </td>\n                        <td\n                          style={{\n                            ...tableStyles.td,\n                            textAlign: \"right\",\n                            color:\n                              student.cumulativeAmount > 0\n                                ? \"#818cf8\"\n                                : \"#64748b\",\n                            fontWeight:\n                              student.cumulativeAmount > 0 ? \"600\" : \"normal\",\n                          }}\n                        >\n                          {formatAmount(student.cumulativeAmount)} ì¿ í°\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ) : (\n                <div style={tableStyles.emptyContainer}>\n                  <div style={tableStyles.emptyIcon}>ğŸ‘¥</div>\n                  <p className=\"m-0 mb-2 text-base font-medium text-slate-300\">\n                    í•™ê¸‰ í•™ìƒ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ê±°ë‚˜ ë“±ë¡ëœ í•™ìƒì´ ì—†ìŠµë‹ˆë‹¤\n                  </p>\n                  <p className=\"m-0 text-sm text-slate-400\">\n                    ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì—¬ í•™ê¸‰ ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.\n                  </p>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n\n        <div className=\"px-5 py-4 border-t border-slate-600 flex justify-end\">\n          <button\n            onClick={handleClose}\n            className=\"px-4 py-2 bg-slate-600 text-slate-200 border-0 rounded-md cursor-pointer font-medium transition-all duration-200 hover:bg-slate-500\"\n          >\n            ë‹«ê¸°\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default DonationHistoryModal;\n","// src/pages/coupon/CouponGoalPage.js - ì¿ í° ëª©í‘œ ì „ìš© í˜ì´ì§€\nimport React, {\n  useState,\n  useEffect,\n  useCallback,\n  useRef,\n  useMemo,\n} from \"react\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport {\n  db,\n  doc,\n  getDoc,\n  getDocs,\n  collection,\n  query,\n  where,\n  functions,\n  httpsCallable,\n  writeBatch,\n  serverTimestamp,\n  runTransaction,\n} from \"../../firebase\";\nimport CouponGoal from \"../../components/CouponGoal\";\nimport LoginWarning from \"../../components/LoginWarning\";\nimport DonateCouponModal from \"../../components/modals/DonateCouponModal\";\nimport SellCouponModal from \"../../components/modals/SellCouponModal\";\nimport GiftCouponModal from \"../../components/modals/GiftCouponModal\";\nimport DonationHistoryModal from \"../../components/modals/DonationHistoryModal\";\nimport { AlchanLoading } from \"../../components/AlchanLayout\";\nimport {\n  safeTimestampToDate,\n  getCachedFirestoreData,\n  setCachedFirestoreData,\n} from \"../../utils/firestoreHelpers\";\n\nimport { logger } from \"../../utils/logger\";\nexport default function CouponGoalPage() {\n  const {\n    user,\n    userDoc,\n    users,\n    classmates,\n    allClassMembers,\n    loading: authLoading,\n    optimisticUpdate,\n  } = useAuth();\n\n  const userId = user?.uid;\n  const currentUserClassCode = userDoc?.classCode;\n\n  const [assetsLoading, setAssetsLoading] = useState(true);\n  const loadingRef = useRef(false);\n  const loadGoalDataRef = useRef(null); // ğŸ”¥ loadGoalData í•¨ìˆ˜ë¥¼ ì €ì¥í•  ref\n  const [goalDonations, setGoalDonations] = useState([]);\n\n  const donateCouponFunction = useMemo(\n    () => httpsCallable(functions, \"donateCoupon\"),\n    [],\n  );\n  const sellCouponFunction = useMemo(\n    () => httpsCallable(functions, \"sellCoupon\"),\n    [],\n  );\n  const giftCouponFunction = useMemo(\n    () => httpsCallable(functions, \"giftCoupon\"),\n    [],\n  );\n\n  const CACHE_DURATION = 5 * 60 * 1000;\n\n  const currentGoalId = currentUserClassCode\n    ? `${currentUserClassCode}_goal`\n    : null;\n\n  const [classCouponGoal, setClassCouponGoal] = useState(1000);\n  const [couponValue, setCouponValue] = useState(1000);\n\n  // ğŸ”¥ [ë²„ê·¸ ìˆ˜ì •] Firestoreì—ì„œ ì¿ í° ê°€ì¹˜ ì„¤ì • ë¡œë“œ\n  useEffect(() => {\n    const loadCouponValueFromSettings = async () => {\n      try {\n        const settingsRef = doc(db, \"settings\", \"mainSettings\");\n        const settingsSnap = await getDoc(settingsRef);\n        if (settingsSnap.exists()) {\n          const settingsData = settingsSnap.data();\n          if (settingsData.couponValue) {\n            setCouponValue(Number(settingsData.couponValue));\n          }\n        }\n      } catch (error) {\n        logger.error(\"[CouponGoalPage] ì¿ í° ê°€ì¹˜ ì„¤ì • ë¡œë“œ ì‹¤íŒ¨:\", error);\n      }\n    };\n\n    if (userId) {\n      loadCouponValueFromSettings();\n    }\n  }, [userId]);\n  const [goalProgress, setGoalProgress] = useState(0);\n  const [myContribution, setMyContribution] = useState(0);\n  const [goalAchieved, setGoalAchieved] = useState(false);\n  const [isResettingGoal, setIsResettingGoal] = useState(false);\n\n  const [showDonateModal, setShowDonateModal] = useState(false);\n  const [showSellCouponModal, setShowSellCouponModal] = useState(false);\n  const [sellAmount, setSellAmount] = useState(\"\");\n  const [showGiftCouponModal, setShowGiftCouponModal] = useState(false);\n  const [giftRecipient, setGiftRecipient] = useState(\"\");\n  const [giftAmount, setGiftAmount] = useState(\"\");\n  const [showDonationHistoryModal, setShowDonationHistoryModal] =\n    useState(false);\n\n  // ğŸ”¥ [ìµœì í™”] ë°ì´í„° ì²˜ë¦¬ í—¬í¼ í•¨ìˆ˜ (ìºì‹œ/Firestore ê³µìš©)\n  const processGoalData = useCallback(\n    (goalData) => {\n      setClassCouponGoal(Number(goalData.targetAmount) || 1000);\n      setGoalProgress(Number(goalData.progress) || 0);\n\n      // ì‘ëª¨ ë‚´ì—­ ì²˜ë¦¬ - timestamp ì¼ê´€ì„± ìœ ì§€\n      const donations = Array.isArray(goalData.donations)\n        ? goalData.donations.map((donation) => {\n            let processedTimestamp;\n            if (donation.timestamp && donation.timestamp.toDate) {\n              processedTimestamp = donation.timestamp.toDate().toISOString();\n            } else if (donation.timestamp && donation.timestamp.seconds) {\n              processedTimestamp = new Date(\n                donation.timestamp.seconds * 1000,\n              ).toISOString();\n            } else if (donation.timestampISO) {\n              processedTimestamp = donation.timestampISO;\n            } else if (typeof donation.timestamp === \"string\") {\n              processedTimestamp = donation.timestamp;\n            } else {\n              processedTimestamp = new Date().toISOString();\n            }\n\n            return {\n              ...donation,\n              amount: Number(donation.amount) || 0,\n              timestamp: processedTimestamp,\n              userId: donation.userId || \"\",\n              userName: donation.userName || \"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì\",\n              message: donation.message || \"\",\n              classCode: donation.classCode || currentUserClassCode,\n            };\n          })\n        : [];\n\n      setGoalDonations(donations);\n\n      // ë‚´ ê¸°ì—¬ë„ ê³„ì‚°\n      const myDonations = donations.filter((d) => d.userId === userId);\n      const myTotal = myDonations.reduce((sum, d) => sum + d.amount, 0);\n      setMyContribution(myTotal);\n    },\n    [currentUserClassCode, userId],\n  );\n\n  // ğŸ”¥ loadGoalData í•¨ìˆ˜ - useCallback ì œê±°í•˜ê³  ì¼ë°˜ í•¨ìˆ˜ë¡œ ë³€ê²½\n  const loadGoalData = async (forceRefresh = false) => {\n    if (!userId || !currentUserClassCode || !currentGoalId) {\n      setAssetsLoading(false);\n      return;\n    }\n\n    if (loadingRef.current) {\n      return;\n    }\n\n    loadingRef.current = true;\n    setAssetsLoading(true);\n\n    try {\n      // ğŸ”¥ [ìµœì í™”] ìºì‹œ ìš°ì„  ë¡œë“œ - Firestore ì½ê¸° ì ˆê°\n      const cacheKey = `goal_${currentGoalId}`;\n      if (!forceRefresh) {\n        const cachedData = getCachedFirestoreData(\n          cacheKey,\n          userId,\n          CACHE_DURATION,\n        );\n        if (cachedData) {\n          processGoalData(cachedData);\n          setAssetsLoading(false);\n          loadingRef.current = false;\n          return;\n        }\n      }\n\n      // ğŸ”¥ Firestoreì—ì„œ ìµœì‹  ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\n      const goalDocRef = doc(db, \"goals\", currentGoalId);\n      const goalDocSnap = await getDoc(goalDocRef);\n\n      if (goalDocSnap.exists()) {\n        const goalData = goalDocSnap.data();\n\n        // ğŸ”¥ [ìµœì í™”] ê³µìš© í—¬í¼ í•¨ìˆ˜ë¡œ ì²˜ë¦¬\n        processGoalData(goalData);\n\n        // ğŸ”¥ ìºì‹œì— ì €ì¥\n        const cacheKey = `goal_${currentGoalId}`;\n        setCachedFirestoreData(cacheKey, userId, goalData);\n      } else {\n        logger.warn(\"[CouponGoalPage] ëª©í‘œ ë¬¸ì„œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤\");\n      }\n    } catch (error) {\n      logger.error(\"[CouponGoalPage] ëª©í‘œ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:\", error);\n    } finally {\n      setAssetsLoading(false);\n      loadingRef.current = false;\n    }\n  };\n\n  // ğŸ”¥ refì— loadGoalData í•¨ìˆ˜ ì €ì¥\n  loadGoalDataRef.current = loadGoalData;\n\n  // ğŸ”¥ ì´ˆê¸° ë¡œë“œ useEffect - loadGoalDataRef ì‚¬ìš©\n  useEffect(() => {\n    if (!authLoading && user && currentUserClassCode && currentGoalId) {\n      if (loadGoalDataRef.current) {\n        loadGoalDataRef.current();\n      }\n    } else if (!authLoading && !user) {\n      setAssetsLoading(false);\n    } else if (authLoading) {\n      setAssetsLoading(true);\n    }\n  }, [authLoading, user, currentUserClassCode, currentGoalId]);\n\n  // ğŸ”¥ [ì œê±°] userDoc.myContribution ì‚¬ìš© ì¤‘ë‹¨ - donations ë°°ì—´ì—ì„œ ì§ì ‘ ê³„ì‚°\n  // useEffect(() => {\n  //   if (userDoc) {\n  //     setMyContribution(userDoc.myContribution || 0);\n  //   }\n  // }, [userDoc]);\n\n  useEffect(() => {\n    setGoalAchieved(goalProgress >= classCouponGoal && classCouponGoal > 0);\n  }, [goalProgress, classCouponGoal]);\n\n  const handleDonateCoupon = async (amount, memo) => {\n    if (!userId || !currentUserClassCode || !userDoc) {\n      alert(\"ì‚¬ìš©ì ë˜ëŠ” í•™ê¸‰ ì •ë³´ê°€ ì—†ì–´ ì‘ëª¨í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return false;\n    }\n\n    const donationAmount = parseInt(amount, 10);\n    if (isNaN(donationAmount) || donationAmount <= 0) {\n      alert(\"ìœ íš¨í•œ ì¿ í° ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return false;\n    }\n\n    // ğŸ”¥ ì¿ í° ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (ë‚™ê´€ì  ì—…ë°ì´íŠ¸)\n    if (optimisticUpdate) {\n      optimisticUpdate({ coupons: -donationAmount });\n    }\n    setMyContribution((prev) => prev + donationAmount);\n    setGoalProgress((prev) => prev + donationAmount);\n\n    // ğŸ”¥ ë¡œë”© ìƒíƒœ í‘œì‹œ\n    setAssetsLoading(true);\n\n    try {\n      // Call the server function in the background\n      const result = await donateCouponFunction({\n        amount: donationAmount,\n        message: memo,\n      });\n\n      // ğŸ”¥ ìºì‹œ ë¬´íš¨í™”\n      const cacheKey = `goal_${currentGoalId}`;\n      localStorage.removeItem(`firestore_cache_${cacheKey}_${userId}`);\n      localStorage.removeItem(\n        `goalDonationHistory_${currentUserClassCode}_goal`,\n      );\n\n      // ğŸ”¥ ì¦‰ì‹œ ìµœì‹  ë°ì´í„° ë¡œë“œ\n      loadingRef.current = false;\n      if (loadGoalDataRef.current) {\n        await loadGoalDataRef.current();\n      }\n\n      alert(`${donationAmount} ì¿ í° ì‘ëª¨ ì™„ë£Œ!`);\n      setShowDonateModal(false);\n\n      return true;\n    } catch (error) {\n      logger.error(\"[CouponGoalPage] ì‘ëª¨ ì˜¤ë¥˜ (ìƒì„¸):\", {\n        error,\n        message: error.message,\n        code: error.code,\n        details: error.details,\n        stack: error.stack,\n      });\n      alert(`ì‘ëª¨ ì˜¤ë¥˜: ${error.message}`);\n\n      // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±\n      if (optimisticUpdate) {\n        optimisticUpdate({ coupons: donationAmount });\n      }\n\n      return false;\n    } finally {\n      setAssetsLoading(false);\n    }\n  };\n\n  const forceRefreshGoalData = async () => {\n    if (!currentGoalId || !currentUserClassCode) {\n      alert(\"í•™ê¸‰ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n\n    setAssetsLoading(true);\n\n    try {\n      localStorage.removeItem(\n        `firestore_cache_goal_${currentGoalId}_${userId}`,\n      );\n\n      const goalDocRef = doc(db, \"goals\", currentGoalId);\n      const goalDocSnap = await getDoc(goalDocRef);\n\n      if (goalDocSnap.exists()) {\n        const latestGoalData = goalDocSnap.data();\n\n        setClassCouponGoal(Number(latestGoalData.targetAmount) || 1000);\n        setGoalProgress(Number(latestGoalData.progress) || 0);\n\n        const freshDonations = Array.isArray(latestGoalData.donations)\n          ? latestGoalData.donations.map((donation) => {\n              let processedTimestamp;\n              if (donation.timestamp && donation.timestamp.toDate) {\n                processedTimestamp = donation.timestamp.toDate().toISOString();\n              } else if (donation.timestamp && donation.timestamp.seconds) {\n                processedTimestamp = new Date(\n                  donation.timestamp.seconds * 1000,\n                ).toISOString();\n              } else if (donation.timestampISO) {\n                processedTimestamp = donation.timestampISO;\n              } else if (typeof donation.timestamp === \"string\") {\n                processedTimestamp = donation.timestamp;\n              } else {\n                processedTimestamp = new Date().toISOString();\n              }\n\n              return {\n                ...donation,\n                amount: Number(donation.amount) || 0,\n                timestamp: processedTimestamp,\n                userId: donation.userId || \"\",\n                userName: donation.userName || \"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì\",\n                message: donation.message || \"\",\n                classCode: donation.classCode || currentUserClassCode,\n              };\n            })\n          : [];\n\n        setGoalDonations(freshDonations);\n        setCachedFirestoreData(`goal_${currentGoalId}`, userId, latestGoalData);\n\n        alert(\n          `ëª©í‘œ ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ!\\nëª©í‘œ ì§„í–‰ë¥ : ${latestGoalData.progress || 0}/${latestGoalData.targetAmount || 1000}\\nì‘ëª¨ ë‚´ì—­: ${freshDonations.length}ê°œ`,\n        );\n      } else {\n        alert(\"ëª©í‘œ ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.\");\n      }\n    } catch (error) {\n      alert(`ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`);\n    } finally {\n      setAssetsLoading(false);\n    }\n  };\n\n  const showDebugInfo = () => {\n    const debugInfo = {\n      userId,\n      currentUserClassCode,\n      currentGoalId,\n      goalProgress,\n      classCouponGoal,\n      myContribution,\n      donationsCount: goalDonations.length,\n      donations: goalDonations,\n      userCoupons: userDoc?.coupons,\n      userCash: userDoc?.cash,\n    };\n\n    logger.log(\"[CouponGoalPage Debug]\", debugInfo);\n    alert(\n      `ë””ë²„ê·¸ ì •ë³´ê°€ ì½˜ì†”ì— ì¶œë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.\\nì‘ëª¨ ë‚´ì—­: ${goalDonations.length}ê°œ\\nëª©í‘œ ì§„í–‰ë¥ : ${goalProgress}/${classCouponGoal}`,\n    );\n  };\n\n  const resetCouponGoal = async () => {\n    if (!userDoc?.isAdmin && !userDoc?.isSuperAdmin) {\n      alert(\"ê´€ë¦¬ìë§Œ ì´ˆê¸°í™” ê°€ëŠ¥í•©ë‹ˆë‹¤.\");\n      return;\n    }\n    if (!currentUserClassCode || !currentGoalId) {\n      alert(\"í•™ê¸‰ ì½”ë“œë‚˜ ëª©í‘œ ì •ë³´ê°€ ì—†ì–´ ì´ˆê¸°í™”í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    if (\n      !window.confirm(\n        `ì •ë§ë¡œ ${currentUserClassCode} í•™ê¸‰ì˜ ì¿ í° ëª©í‘œì™€ ê¸°ì—¬ ê¸°ë¡ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`,\n      )\n    ) {\n      return;\n    }\n\n    setIsResettingGoal(true);\n    try {\n      const batch = writeBatch(db);\n      const goalRef = doc(db, \"goals\", currentGoalId);\n\n      const usersQuery = query(\n        collection(db, \"users\"),\n        where(\"classCode\", \"==\", currentUserClassCode),\n      );\n      const usersSnapshot = await getDocs(usersQuery);\n\n      usersSnapshot.forEach((userDocument) => {\n        const userRef = doc(db, \"users\", userDocument.id);\n        batch.update(userRef, {\n          myContribution: 0,\n          updatedAt: serverTimestamp(),\n        });\n      });\n\n      batch.update(goalRef, {\n        progress: 0,\n        donations: [],\n        donationCount: 0,\n        updatedAt: serverTimestamp(),\n        resetAt: serverTimestamp(),\n        resetBy: userId,\n      });\n\n      await batch.commit();\n\n      localStorage.removeItem(\n        `goalDonationHistory_${currentUserClassCode}_goal`,\n      );\n      localStorage.removeItem(\n        `firestore_cache_goal_${currentGoalId}_${userId}`,\n      );\n\n      setMyContribution(0);\n      setGoalProgress(0);\n      setGoalDonations([]);\n\n      alert(\n        `í•™ê¸‰(${currentUserClassCode})ì˜ ì¿ í° ëª©í‘œì™€ ê¸°ì—¬ ê¸°ë¡ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.`,\n      );\n    } catch (error) {\n      alert(`ëª©í‘œ ì´ˆê¸°í™” ì˜¤ë¥˜: ${error.message}`);\n    } finally {\n      setIsResettingGoal(false);\n    }\n  };\n\n  const handleSellCoupon = async () => {\n    const amount = parseInt(sellAmount, 10);\n    if (isNaN(amount) || amount <= 0) {\n      alert(\"ìœ íš¨í•œ ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n\n    // ğŸ”¥ ë‚™ê´€ì  ì—…ë°ì´íŠ¸\n    if (optimisticUpdate) {\n      optimisticUpdate({\n        coupons: -amount,\n        cash: amount * couponValue,\n      });\n    }\n\n    setAssetsLoading(true);\n    try {\n      await sellCouponFunction({ amount });\n      alert(`${amount}ê°œ ì¿ í°ì„ íŒë§¤í–ˆìŠµë‹ˆë‹¤.`);\n      setShowSellCouponModal(false);\n      setSellAmount(\"\");\n\n      // ğŸ”¥ refë¥¼ í†µí•´ ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ\n      setTimeout(() => {\n        loadingRef.current = false;\n        if (loadGoalDataRef.current) {\n          loadGoalDataRef.current();\n        }\n      }, 500);\n    } catch (error) {\n      alert(`íŒë§¤ ì˜¤ë¥˜: ${error.message}`);\n    } finally {\n      setAssetsLoading(false);\n    }\n  };\n\n  const handleGiftCoupon = async () => {\n    logger.log(\"handleGiftCoupon called\"); // í•¨ìˆ˜ í˜¸ì¶œ í™•ì¸ ë¡œê·¸\n    const recipientUser = users.find((u) => u.id === giftRecipient);\n    const amount = parseInt(giftAmount, 10);\n\n    if (!recipientUser) {\n      alert(\"ë°›ëŠ” ì‚¬ëŒì„ ì„ íƒí•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n    if (isNaN(amount) || amount <= 0) {\n      alert(\"ì˜¬ë°”ë¥¸ ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n\n    // ë‚™ê´€ì  ì—…ë°ì´íŠ¸\n    if (optimisticUpdate) {\n      optimisticUpdate({ coupons: -amount });\n    }\n\n    if (\n      window.confirm(\n        `${recipientUser.name}ë‹˜ì—ê²Œ ì¿ í° ${amount}ê°œë¥¼ ì„ ë¬¼í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`,\n      )\n    ) {\n      setAssetsLoading(true);\n      try {\n        await giftCouponFunction({\n          recipientId: recipientUser.id,\n          amount,\n          message: \"\",\n        });\n        alert(\"ì¿ í° ì„ ë¬¼ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\");\n        setShowGiftCouponModal(false);\n        setGiftRecipient(\"\");\n        setGiftAmount(\"\");\n\n        // ğŸ”¥ refë¥¼ í†µí•´ ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ\n        setTimeout(() => {\n          loadingRef.current = false;\n          if (loadGoalDataRef.current) {\n            loadGoalDataRef.current();\n          }\n        }, 500);\n      } catch (error) {\n        alert(`ì„ ë¬¼ ì˜¤ë¥˜: ${error.message}`);\n        // ë¡¤ë°±\n        if (optimisticUpdate) {\n          optimisticUpdate({ coupons: amount });\n        }\n      } finally {\n        setAssetsLoading(false);\n      }\n    }\n  };\n\n  if (authLoading || assetsLoading) {\n    return <AlchanLoading />;\n  }\n\n  if (!user) {\n    return <LoginWarning />;\n  }\n\n  if (!currentUserClassCode && !authLoading) {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          height: \"80vh\",\n          fontSize: \"1.2em\",\n          color: \"#ef4444\",\n        }}\n      >\n        í•™ê¸‰ ì½”ë“œ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì—¬ í•™ê¸‰ ì½”ë“œë¥¼ í• ë‹¹ë°›ìœ¼ì„¸ìš”.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full min-h-full\" style={{ backgroundColor: \"#0a0a12\" }}>\n      <div className=\"w-full px-4 md:px-6 lg:px-8 py-6\">\n        <h2\n          className=\"text-2xl font-bold text-emerald-400 border-b-2 border-emerald-900 pb-3 mb-6\"\n          style={{ textShadow: \"0 0 10px rgba(52, 211, 153, 0.3)\" }}\n        >\n          ğŸ¯ ì¿ í° ëª©í‘œ (í•™ê¸‰: {currentUserClassCode})\n        </h2>\n\n        {currentUserClassCode && currentGoalId && (\n          <>\n            <CouponGoal\n              classCouponGoal={classCouponGoal}\n              goalProgress={goalProgress}\n              myContribution={myContribution}\n              currentCoupons={Number(userDoc?.coupons) || 0}\n              couponValue={couponValue}\n              setShowDonateModal={setShowDonateModal}\n              setShowSellCouponModal={setShowSellCouponModal}\n              setShowDonationHistoryModal={setShowDonationHistoryModal}\n              setShowGiftCouponModal={setShowGiftCouponModal}\n              goalAchieved={goalAchieved}\n              resetGoalButton={\n                userDoc?.isAdmin || userDoc?.isSuperAdmin\n                  ? resetCouponGoal\n                  : null\n              }\n              isResettingGoal={isResettingGoal}\n            />\n\n            <div\n              style={{\n                marginTop: \"20px\",\n                padding: \"15px\",\n                backgroundColor: \"rgba(20, 20, 35, 0.85)\",\n                borderRadius: \"8px\",\n                border: \"1px solid rgba(0, 255, 242, 0.15)\",\n              }}\n            >\n              <h4\n                style={{\n                  fontSize: \"14px\",\n                  color: \"#00fff2\",\n                  marginBottom: \"10px\",\n                  fontWeight: \"600\",\n                }}\n              >\n                ğŸ”§ ë°ì´í„° ê´€ë¦¬ ë„êµ¬\n              </h4>\n              <div style={{ display: \"flex\", gap: \"10px\", flexWrap: \"wrap\" }}>\n                <button\n                  onClick={forceRefreshGoalData}\n                  disabled={assetsLoading}\n                  style={{\n                    padding: \"8px 12px\",\n                    backgroundColor: \"#17a2b8\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    fontSize: \"12px\",\n                    cursor: \"pointer\",\n                    fontWeight: \"500\",\n                  }}\n                >\n                  ğŸ“Š ëª©í‘œ ë°ì´í„° ìƒˆë¡œê³ ì¹¨\n                </button>\n                <button\n                  onClick={showDebugInfo}\n                  style={{\n                    padding: \"8px 12px\",\n                    backgroundColor: \"#6c757d\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    fontSize: \"12px\",\n                    cursor: \"pointer\",\n                    fontWeight: \"500\",\n                  }}\n                >\n                  ğŸ” ë””ë²„ê·¸ ì •ë³´ í™•ì¸\n                </button>\n                <button\n                  onClick={() => {\n                    localStorage.clear();\n                    alert(\n                      \"ë¡œì»¬ ìºì‹œê°€ ëª¨ë‘ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.\",\n                    );\n                    window.location.reload();\n                  }}\n                  style={{\n                    padding: \"8px 12px\",\n                    backgroundColor: \"#dc3545\",\n                    color: \"white\",\n                    border: \"none\",\n                    borderRadius: \"4px\",\n                    fontSize: \"12px\",\n                    cursor: \"pointer\",\n                    fontWeight: \"500\",\n                  }}\n                >\n                  ğŸ—‘ï¸ ìºì‹œ ì‚­ì œ í›„ ìƒˆë¡œê³ ì¹¨\n                </button>\n              </div>\n              <p\n                style={{\n                  fontSize: \"11px\",\n                  color: \"#868e96\",\n                  marginTop: \"8px\",\n                  marginBottom: \"0\",\n                  lineHeight: \"1.4\",\n                }}\n              >\n                â€¢ ì‘ëª¨ ë‚´ì—­ì´ í‘œì‹œë˜ì§€ ì•Šìœ¼ë©´ \"ëª©í‘œ ë°ì´í„° ìƒˆë¡œê³ ì¹¨\" ë²„íŠ¼ì„\n                í´ë¦­í•˜ì„¸ìš”\n                <br />\n                â€¢ ë¬¸ì œê°€ ì§€ì†ë˜ë©´ \"ìºì‹œ ì‚­ì œ í›„ ìƒˆë¡œê³ ì¹¨\"ì„ ì‹œë„í•´ë³´ì„¸ìš”\n                <br />â€¢ í˜„ì¬ ìƒíƒœ: ì‘ëª¨ ë‚´ì—­ {goalDonations.length}ê°œ, ëª©í‘œ\n                ì§„í–‰ë¥  {goalProgress}/{classCouponGoal}\n              </p>\n            </div>\n          </>\n        )}\n\n        {showDonateModal && currentUserClassCode && currentGoalId && (\n          <DonateCouponModal\n            showDonateModal={showDonateModal}\n            setShowDonateModal={setShowDonateModal}\n            currentCoupons={Number(userDoc?.coupons) || 0}\n            onDonate={handleDonateCoupon}\n            classCode={currentUserClassCode}\n          />\n        )}\n        {showSellCouponModal && (\n          <SellCouponModal\n            showSellCouponModal={showSellCouponModal}\n            setShowSellCouponModal={setShowSellCouponModal}\n            currentCoupons={Number(userDoc?.coupons) || 0}\n            couponValue={couponValue}\n            sellAmount={sellAmount}\n            setSellAmount={setSellAmount}\n            SellCoupon={handleSellCoupon}\n          />\n        )}\n        {showGiftCouponModal && (\n          <GiftCouponModal\n            showGiftCouponModal={showGiftCouponModal}\n            setShowGiftCouponModal={setShowGiftCouponModal}\n            recipients={classmates}\n            giftRecipient={giftRecipient}\n            setGiftRecipient={setGiftRecipient}\n            giftAmount={giftAmount}\n            setGiftAmount={setGiftAmount}\n            handleGiftCoupon={handleGiftCoupon}\n            currentCoupons={Number(userDoc?.coupons) || 0}\n            userId={userId}\n          />\n        )}\n        {showDonationHistoryModal && currentUserClassCode && currentGoalId && (\n          <DonationHistoryModal\n            showDonationHistoryModal={showDonationHistoryModal}\n            setShowDonationHistoryModal={setShowDonationHistoryModal}\n            students={allClassMembers || []}\n            classCode={currentUserClassCode}\n            donations={goalDonations}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["LoginWarning","_jsxs","className","children","_jsx","CircularProgress","_ref","percentage","size","strokeWidth","color","radius","circumference","Math","PI","offset","style","width","height","transform","cx","cy","r","fill","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","transition","CouponGoal","_ref2","classCouponGoal","goalProgress","myContribution","currentCoupons","couponValue","setShowDonateModal","setShowSellCouponModal","setShowDonationHistoryModal","setShowGiftCouponModal","goalAchieved","resetGoalButton","isResettingGoal","validClassCouponGoal","goalPercentage","min","round","myContributionPercentage","mainColor","backgroundColor","boxShadow","border","backdropFilter","background","textShadow","animation","onClick","disabled","cursor","opacity","toLocaleString","memo","showDonateModal","onDonate","classCode","donateAmount","setDonateAmount","useState","donateMessage","setDonateMessage","isDonating","setIsDonating","handleClose","e","stopPropagation","concat","type","max","value","onChange","target","placeholder","isNaN","parseInt","async","amount","alert","error","logger","showSellCouponModal","sellAmount","setSellAmount","SellCoupon","isProcessing","setIsProcessing","setError","handleCancel","isInvalidAmount","onSubmit","preventDefault","err","message","htmlFor","id","required","calculateValue","showGiftCouponModal","recipients","giftRecipient","setGiftRecipient","giftAmount","setGiftAmount","handleGiftCoupon","userId","validRecipients","closeModal","filter","recipient","map","name","_studentDonationSumma","showDonationHistoryModal","students","donations","user","userDoc","useAuth","uid","userClassCode","studentDonationSummary","setStudentDonationSummary","loading","setLoading","totalDonationForThisClassGoal","setTotalDonationForThisClassGoal","tableStyles","table","borderCollapse","fontSize","borderRadius","overflow","thead","th","padding","textAlign","fontWeight","borderBottom","position","top","zIndex","td","tr","emptyContainer","display","flexDirection","alignItems","justifyContent","emptyIcon","marginBottom","useEffect","processDonationData","log","studentsCount","length","donationsCount","s","nickname","classDonations","validStudents","Array","isArray","donationsByStudent","currentClassGoalTotal","forEach","donation","Number","donorId","donorName","userName","totalAmount","uniqueDonors","Object","keys","allStudentIds","Set","student","studentId","add","studentInfoMap","Map","studentName","set","has","summary","from","_donationsByStudent$s","get","cumulativeAmount","isCurrentUser","sort","a","b","localeCompare","totalStudents","studentsWithDonations","formatAmount","myTotalDonation","find","_Fragment","_objectSpread","index","onMouseOver","currentTarget","onMouseOut","CouponGoalPage","users","classmates","allClassMembers","authLoading","optimisticUpdate","currentUserClassCode","assetsLoading","setAssetsLoading","loadingRef","useRef","loadGoalDataRef","goalDonations","setGoalDonations","donateCouponFunction","useMemo","httpsCallable","functions","sellCouponFunction","giftCouponFunction","currentGoalId","setClassCouponGoal","setCouponValue","settingsRef","doc","db","settingsSnap","getDoc","exists","settingsData","data","loadCouponValueFromSettings","setGoalProgress","setMyContribution","setGoalAchieved","setIsResettingGoal","processGoalData","useCallback","goalData","targetAmount","progress","processedTimestamp","timestamp","toDate","toISOString","seconds","Date","timestampISO","myTotal","d","reduce","sum","current","forceRefresh","arguments","undefined","cacheKey","cachedData","getCachedFirestoreData","goalDocRef","goalDocSnap","setCachedFirestoreData","warn","AlchanLoading","coupons","isAdmin","isSuperAdmin","window","confirm","batch","writeBatch","goalRef","usersQuery","query","collection","where","getDocs","userDocument","userRef","update","updatedAt","serverTimestamp","donationCount","resetAt","resetBy","commit","localStorage","removeItem","marginTop","gap","flexWrap","latestGoalData","freshDonations","showDebugInfo","debugInfo","userCoupons","userCash","cash","clear","location","reload","lineHeight","DonateCouponModal","donationAmount","prev","code","details","stack","SellCouponModal","setTimeout","GiftCouponModal","recipientUser","u","recipientId","DonationHistoryModal"],"ignoreList":[],"sourceRoot":""}