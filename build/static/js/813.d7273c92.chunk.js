/*! For license information please see 813.d7273c92.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkinconomysu_class=self.webpackChunkinconomysu_class||[]).push([[813],{2813(e,s,a){a.r(s),a.d(s,{default:()=>E});var i=a(2555),r=a(5043),c=a(3216),t=a(5016),l=a(4689),n=a(5472),d=a(7033),o=a(7784);const h=(0,o.A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),m=(0,o.A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var v=a(7488);const x=(0,o.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),j=(0,o.A)("bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);var p=a(2489),u=a(516),y=a(7118);const N=(0,o.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var g=a(9292);const k=(0,o.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var b=a(5087);const A=(0,o.A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),f=(0,o.A)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),w=(0,o.A)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),z=(0,o.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),M=(0,o.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var C=a(7719);const S=(0,o.A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),L=(0,o.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),D=(0,o.A)("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);var T=a(9855),F=a(5452),U=a(579);const q=[{id:"overview",label:"\uac1c\uc694",icon:d.A},{id:"pending",label:"\uc2b9\uc778 \ub300\uae30",icon:h},{id:"teachers",label:"\uc120\uc0dd\ub2d8 \uad00\ub9ac",icon:m},{id:"classes",label:"\ud559\uae09 \uad00\ub9ac",icon:v.A},{id:"monitoring",label:"\uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1",icon:x},{id:"errors",label:"\uc624\ub958 \ub85c\uadf8",icon:j}];function E(){const e=(0,c.Zp)(),{userDoc:s,user:a}=(0,t.As)(),[d,o]=(0,r.useState)("overview"),[m,E]=(0,r.useState)(!0),[R,H]=(0,r.useState)(!1),[J,I]=(0,r.useState)({totalTeachers:0,pendingTeachers:0,approvedTeachers:0,totalClasses:0,totalStudents:0,activeUsers24h:0}),[P,B]=(0,r.useState)([]),[O,V]=(0,r.useState)([]),[Z,_]=(0,r.useState)([]),[Q,W]=(0,r.useState)([]),[G,K]=(0,r.useState)({cpuUsage:0,memoryUsage:0,activeConnections:0,requestsPerMinute:0,avgResponseTime:0,errorRate:0}),[X,Y]=(0,r.useState)(""),[$,ee]=(0,r.useState)("all"),se=(0,r.useRef)(null),ae=(0,r.useRef)(null);(0,r.useEffect)(()=>{s&&!s.isSuperAdmin&&e("/dashboard/tasks")},[s,e]);const ie=(0,r.useCallback)(async()=>{if(null!==s&&void 0!==s&&s.isSuperAdmin){E(!0);try{await Promise.all([re(),ce(),te(),le(),ne()])}catch(e){F.vF.error("\ub370\uc774\ud130 \ub85c\ub4dc \uc624\ub958:",e)}finally{E(!1)}}},[s]),re=async()=>{try{const e=(0,n.rJ)(l.db,"users"),s=await(0,n.getDocs)(e);let a=0,i=0,r=0;s.docs.forEach(e=>{const s=e.data();if(s.isSuperAdmin)return;(!0===s.isTeacher||!0===s.isAdmin)&&(a++,!1===s.isApproved?i++:r++)});const c=(0,n.rJ)(l.db,"Class"),t=await(0,n.getDocs)(c);let d=0;for(const v of t.docs){const e=(0,n.rJ)(l.db,"Class",v.id,"students");d+=(await(0,n.getDocs)(e)).size}const o=new Date,h=new Date(o.getTime()-864e5);let m=0;s.docs.forEach(e=>{var s,a,i,r;const c=e.data(),t=(null===(s=c.lastActiveAt)||void 0===s||null===(a=s.toDate)||void 0===a?void 0:a.call(s))||(null===(i=c.lastLoginAt)||void 0===i||null===(r=i.toDate)||void 0===r?void 0:r.call(i));t&&t>h&&m++}),I({totalTeachers:a,pendingTeachers:i,approvedTeachers:r,totalClasses:t.size,totalStudents:d,activeUsers24h:m||Math.floor(.3*d)})}catch(e){F.vF.error("\ud1b5\uacc4 \ub85c\ub4dc \uc624\ub958:",e)}},ce=async()=>{try{const e=(0,n.rJ)(l.db,"users"),s=(await(0,n.getDocs)(e)).docs.map(e=>(0,i.A)({id:e.id},e.data())).filter(e=>{if(e.isSuperAdmin)return!1;return(!0===e.isTeacher||!0===e.isAdmin)&&!1===e.isApproved}).sort((e,s)=>{var a,i,r,c;const t=(null===(a=e.createdAt)||void 0===a||null===(i=a.toDate)||void 0===i?void 0:i.call(a))||new Date(0);return((null===(r=s.createdAt)||void 0===r||null===(c=r.toDate)||void 0===c?void 0:c.call(r))||new Date(0))-t});B(s)}catch(e){F.vF.error("\uc2b9\uc778 \ub300\uae30 \uc120\uc0dd\ub2d8 \ub85c\ub4dc \uc624\ub958:",e),B([])}},te=async()=>{try{const e=(0,n.rJ)(l.db,"users"),s=(await(0,n.getDocs)(e)).docs.map(e=>(0,i.A)({id:e.id},e.data())).filter(e=>{if(e.isSuperAdmin)return!1;return(!0===e.isTeacher||!0===e.isAdmin)&&!1!==e.isApproved}).sort((e,s)=>{const a=e.name||"",i=s.name||"";return a.localeCompare(i,"ko")});V(s)}catch(e){F.vF.error("\uc2b9\uc778\ub41c \uc120\uc0dd\ub2d8 \ub85c\ub4dc \uc624\ub958:",e),V([])}},le=async()=>{try{F.vF.log("[SuperAdmin] \ud559\uae09 \ubaa9\ub85d \ub85c\ub4dc \uc2dc\uc791...");const c=(0,n.rJ)(l.db,"users"),t=await(0,n.getDocs)(c),d=new Map;t.docs.forEach(e=>{const s=e.data(),a=s.classCode;if(s.isSuperAdmin||!a||"\ubbf8\uc9c0\uc815"===a)return;d.has(a)||d.set(a,{students:[],teacher:null});const r=d.get(a);s.isAdmin||s.isTeacher?r.teacher={id:e.id,name:s.name||"\uc774\ub984 \uc5c6\uc74c",email:s.email||""}:r.students.push((0,i.A)({id:e.id,name:s.name},s))}),F.vF.log("[SuperAdmin] \ubc1c\uacac\ub41c \ud559\uae09 \uc218: ".concat(d.size,"\uac1c"));const o=[];for(const[i,l]of d.entries()){var e,s,a,r;F.vF.log("[SuperAdmin] ".concat(i,": \uc120\uc0dd\ub2d8=").concat(null===(e=l.teacher)||void 0===e?void 0:e.name,", \ud559\uc0dd=").concat(l.students.length,"\uba85")),o.push({id:i,classCode:i,className:i,studentCount:l.students.length,totalMembers:l.students.length+(l.teacher?1:0),adminName:(null===(s=l.teacher)||void 0===s?void 0:s.name)||"\ubbf8\uc9c0\uc815",adminEmail:(null===(a=l.teacher)||void 0===a?void 0:a.email)||"",adminId:(null===(r=l.teacher)||void 0===r?void 0:r.id)||""})}o.sort((e,s)=>e.classCode.localeCompare(s.classCode,"ko")),F.vF.log("[SuperAdmin] \ucd5c\uc885 \ud559\uae09 \ub370\uc774\ud130:",o),_(o)}catch(c){F.vF.error("[SuperAdmin] \ud559\uae09 \ub85c\ub4dc \uc624\ub958:",c),F.vF.error("[SuperAdmin] \uc624\ub958 \uc0c1\uc138:",c.code,c.message),_([])}},ne=async()=>{try{const e=(0,n.rJ)(l.db,"errorLogs"),s=(0,n.query)(e,(0,n.orderBy)("timestamp","desc"),(0,n.limit)(100)),a=(await(0,n.getDocs)(s)).docs.map(e=>{var s,a;return(0,i.A)((0,i.A)({id:e.id},e.data()),{},{timestamp:(null===(s=e.data().timestamp)||void 0===s||null===(a=s.toDate)||void 0===a?void 0:a.call(s))||new Date})});W(a)}catch(e){F.vF.error("\uc5d0\ub7ec \ub85c\uadf8 \ub85c\ub4dc \uc624\ub958:",e),W([])}};(0,r.useEffect)(()=>{if(null!==s&&void 0!==s&&s.isSuperAdmin)return ae.current=setInterval(()=>{K(e=>({cpuUsage:Math.min(100,Math.max(0,e.cpuUsage+10*(Math.random()-.5))),memoryUsage:Math.min(100,Math.max(0,e.memoryUsage+5*(Math.random()-.5))),activeConnections:Math.floor(50*Math.random())+10,requestsPerMinute:Math.floor(200*Math.random())+50,avgResponseTime:Math.floor(300*Math.random())+100,errorRate:Math.max(0,Math.min(10,e.errorRate+2*(Math.random()-.5)))}))},5e3),()=>{ae.current&&clearInterval(ae.current)}},[s]),(0,r.useEffect)(()=>{if(null!==s&&void 0!==s&&s.isSuperAdmin){try{const e=(0,n.rJ)(l.db,"errorLogs"),s=(0,n.query)(e,(0,n.orderBy)("timestamp","desc"),(0,n.limit)(50));se.current=(0,n.aQ)(s,e=>{const s=e.docs.map(e=>{var s,a;return(0,i.A)((0,i.A)({id:e.id},e.data()),{},{timestamp:(null===(s=e.data().timestamp)||void 0===s||null===(a=s.toDate)||void 0===a?void 0:a.call(s))||new Date})});W(s)},e=>{F.vF.error("\uc5d0\ub7ec \ub85c\uadf8 \ub9ac\uc2a4\ub108 \uc624\ub958:",e)})}catch(e){F.vF.error("\uc5d0\ub7ec \ub85c\uadf8 \ub9ac\uc2a4\ub108 \uc124\uc815 \uc2e4\ud328:",e)}return()=>{se.current&&se.current()}}},[s]),(0,r.useEffect)(()=>{ie()},[ie]);if(null===s||void 0===s||!s.isSuperAdmin)return(0,U.jsx)("div",{className:"super-admin-dashboard",children:(0,U.jsxs)("div",{className:"access-denied",children:[(0,U.jsx)(p.A,{size:64}),(0,U.jsx)("h2",{children:"\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,U.jsx)("p",{children:"\uc571 \uad00\ub9ac\uc790\ub9cc \uc811\uadfc\ud560 \uc218 \uc788\ub294 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."}),(0,U.jsx)("button",{onClick:()=>e("/dashboard/tasks"),children:"\ub300\uc2dc\ubcf4\ub4dc\ub85c \uc774\ub3d9"})]})});const de=P.filter(e=>{var s,a;return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(X.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(X.toLowerCase()))}),oe=O.filter(e=>{var s,a;return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(X.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(X.toLowerCase()))}),he=Z.filter(e=>{var s,a;return(null===(s=e.classCode)||void 0===s?void 0:s.toLowerCase().includes(X.toLowerCase()))||(null===(a=e.adminName)||void 0===a?void 0:a.toLowerCase().includes(X.toLowerCase()))}),me=Q.filter(e=>{var s,a;const i=(null===(s=e.message)||void 0===s?void 0:s.toLowerCase().includes(X.toLowerCase()))||(null===(a=e.type)||void 0===a?void 0:a.toLowerCase().includes(X.toLowerCase())),r="all"===$||e.severity===$;return i&&r});return(0,U.jsxs)("div",{className:"super-admin-dashboard",children:[(0,U.jsxs)("header",{className:"sad-header",children:[(0,U.jsxs)("div",{className:"sad-header-left",children:[(0,U.jsx)(p.A,{className:"header-icon"}),(0,U.jsxs)("div",{children:[(0,U.jsx)("h1",{children:"\uc571 \uad00\ub9ac\uc790 \ub300\uc2dc\ubcf4\ub4dc"}),(0,U.jsx)("p",{children:"\uc54c\ucc2c \uc2dc\uc2a4\ud15c \uad00\ub9ac \ubc0f \ubaa8\ub2c8\ud130\ub9c1"})]})]}),(0,U.jsx)("div",{className:"sad-header-right",children:(0,U.jsxs)("button",{className:"refresh-btn ".concat(R?"spinning":""),onClick:async()=>{H(!0),await ie(),H(!1)},disabled:R,children:[(0,U.jsx)(u.A,{size:20}),"\uc0c8\ub85c\uace0\uce68"]})})]}),(0,U.jsx)("nav",{className:"sad-tabs",children:q.map(e=>(0,U.jsxs)("button",{className:"sad-tab ".concat(d===e.id?"active":""),onClick:()=>o(e.id),children:[(0,U.jsx)(e.icon,{size:18}),(0,U.jsx)("span",{children:e.label}),"pending"===e.id&&J.pendingTeachers>0&&(0,U.jsx)("span",{className:"badge",children:J.pendingTeachers}),"errors"===e.id&&Q.filter(e=>"critical"===e.severity||"error"===e.severity).length>0&&(0,U.jsx)("span",{className:"badge error",children:Q.filter(e=>"critical"===e.severity||"error"===e.severity).length})]},e.id))}),(0,U.jsx)("main",{className:"sad-content",children:m?(0,U.jsxs)("div",{className:"loading-state",children:[(0,U.jsx)(u.A,{className:"spinning",size:40}),(0,U.jsx)("p",{children:"\ub370\uc774\ud130 \ub85c\ub529 \uc911..."})]}):(0,U.jsxs)(U.Fragment,{children:["overview"===d&&(0,U.jsxs)("div",{className:"overview-tab",children:[(0,U.jsxs)("div",{className:"stats-grid",children:[(0,U.jsxs)("div",{className:"stat-card teachers",children:[(0,U.jsx)("div",{className:"stat-icon",children:(0,U.jsx)(y.A,{size:24})}),(0,U.jsxs)("div",{className:"stat-info",children:[(0,U.jsx)("span",{className:"stat-value",children:J.totalTeachers}),(0,U.jsx)("span",{className:"stat-label",children:"\uc804\uccb4 \uc120\uc0dd\ub2d8"})]})]}),(0,U.jsxs)("div",{className:"stat-card pending",children:[(0,U.jsx)("div",{className:"stat-icon",children:(0,U.jsx)(h,{size:24})}),(0,U.jsxs)("div",{className:"stat-info",children:[(0,U.jsx)("span",{className:"stat-value",children:J.pendingTeachers}),(0,U.jsx)("span",{className:"stat-label",children:"\uc2b9\uc778 \ub300\uae30"})]}),J.pendingTeachers>0&&(0,U.jsx)("button",{className:"stat-action",onClick:()=>o("pending"),children:"\ud655\uc778\ud558\uae30"})]}),(0,U.jsxs)("div",{className:"stat-card approved",children:[(0,U.jsx)("div",{className:"stat-icon",children:(0,U.jsx)(N,{size:24})}),(0,U.jsxs)("div",{className:"stat-info",children:[(0,U.jsx)("span",{className:"stat-value",children:J.approvedTeachers}),(0,U.jsx)("span",{className:"stat-label",children:"\uc2b9\uc778\ub41c \uc120\uc0dd\ub2d8"})]})]}),(0,U.jsxs)("div",{className:"stat-card classes",children:[(0,U.jsx)("div",{className:"stat-icon",children:(0,U.jsx)(v.A,{size:24})}),(0,U.jsxs)("div",{className:"stat-info",children:[(0,U.jsx)("span",{className:"stat-value",children:J.totalClasses}),(0,U.jsx)("span",{className:"stat-label",children:"\uc6b4\uc601 \uc911 \ud559\uae09"})]})]}),(0,U.jsxs)("div",{className:"stat-card students",children:[(0,U.jsx)("div",{className:"stat-icon",children:(0,U.jsx)(y.A,{size:24})}),(0,U.jsxs)("div",{className:"stat-info",children:[(0,U.jsx)("span",{className:"stat-value",children:J.totalStudents}),(0,U.jsx)("span",{className:"stat-label",children:"\uc804\uccb4 \ud559\uc0dd"})]})]}),(0,U.jsxs)("div",{className:"stat-card active",children:[(0,U.jsx)("div",{className:"stat-icon",children:(0,U.jsx)(x,{size:24})}),(0,U.jsxs)("div",{className:"stat-info",children:[(0,U.jsx)("span",{className:"stat-value",children:J.activeUsers24h}),(0,U.jsx)("span",{className:"stat-label",children:"24\uc2dc\uac04 \ud65c\uc131 \uc0ac\uc6a9\uc790"})]})]})]}),(0,U.jsxs)("div",{className:"quick-actions",children:[(0,U.jsx)("h3",{children:"\ube60\ub978 \uc791\uc5c5"}),(0,U.jsxs)("div",{className:"action-buttons",children:[J.pendingTeachers>0&&(0,U.jsxs)("button",{className:"action-btn warning",onClick:()=>o("pending"),children:[(0,U.jsx)(h,{size:20}),"\uc2b9\uc778 \ub300\uae30 ",J.pendingTeachers,"\uba85 \ucc98\ub9ac"]}),(0,U.jsxs)("button",{className:"action-btn",onClick:()=>o("monitoring"),children:[(0,U.jsx)(x,{size:20}),"\uc2dc\uc2a4\ud15c \uc0c1\ud0dc \ud655\uc778"]}),(0,U.jsxs)("button",{className:"action-btn",onClick:()=>o("errors"),children:[(0,U.jsx)(j,{size:20}),"\uc5d0\ub7ec \ub85c\uadf8 \ud655\uc778"]})]})]}),(0,U.jsxs)("div",{className:"recent-activity",children:[(0,U.jsx)("h3",{children:"\ucd5c\uadfc \uc5d0\ub7ec \ub85c\uadf8"}),0===Q.length?(0,U.jsx)("p",{className:"no-data",children:"\uc5d0\ub7ec \ub85c\uadf8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,U.jsx)("div",{className:"error-list-mini",children:Q.slice(0,5).map(e=>{var s,a;return(0,U.jsxs)("div",{className:"error-item ".concat(e.severity),children:[(0,U.jsx)("span",{className:"error-severity",children:e.severity}),(0,U.jsx)("span",{className:"error-message",children:e.message}),(0,U.jsx)("span",{className:"error-time",children:(null===(s=e.timestamp)||void 0===s||null===(a=s.toLocaleTimeString)||void 0===a?void 0:a.call(s))||"\uc54c \uc218 \uc5c6\uc74c"})]},e.id)})})]})]}),"pending"===d&&(0,U.jsxs)("div",{className:"pending-tab",children:[(0,U.jsxs)("div",{className:"tab-header",children:[(0,U.jsx)("h2",{children:"\uc2b9\uc778 \ub300\uae30 \uc120\uc0dd\ub2d8"}),(0,U.jsxs)("div",{className:"search-box",children:[(0,U.jsx)(g.A,{size:18}),(0,U.jsx)("input",{type:"text",placeholder:"\uc774\ub984 \ub610\ub294 \uc774\uba54\uc77c \uac80\uc0c9...",value:X,onChange:e=>Y(e.target.value)})]})]}),0===de.length?(0,U.jsxs)("div",{className:"empty-state",children:[(0,U.jsx)(N,{size:64}),(0,U.jsx)("h3",{children:"\uc2b9\uc778 \ub300\uae30 \uc911\uc778 \uc120\uc0dd\ub2d8\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,U.jsx)("p",{children:"\ubaa8\ub4e0 \uac00\uc785 \uc694\uccad\uc774 \ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})]}):(0,U.jsx)("div",{className:"teacher-list",children:de.map(e=>{var r,c,t;return(0,U.jsxs)("div",{className:"teacher-card pending",children:[(0,U.jsx)("div",{className:"teacher-avatar",children:(null===(r=e.name)||void 0===r?void 0:r.charAt(0))||"?"}),(0,U.jsxs)("div",{className:"teacher-info",children:[(0,U.jsx)("h4",{children:e.name||"\uc774\ub984 \uc5c6\uc74c"}),(0,U.jsx)("p",{children:e.email}),(0,U.jsxs)("span",{className:"join-date",children:["\uac00\uc785\uc77c: ",(null===(c=e.createdAt)||void 0===c||null===(t=c.toDate)||void 0===t?void 0:t.call(c).toLocaleDateString())||"\uc54c \uc218 \uc5c6\uc74c"]})]}),(0,U.jsxs)("div",{className:"teacher-actions",children:[(0,U.jsxs)("button",{className:"approve-btn",onClick:()=>(async e=>{if(window.confirm("\uc774 \uc120\uc0dd\ub2d8\uc744 \uc2b9\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{const r=(0,n.H9)(l.db,"users",e);await(0,n.mZ)(r,{isApproved:!0,approvedAt:(0,n.O5)(),approvedBy:(null===s||void 0===s?void 0:s.id)||(null===a||void 0===a?void 0:a.uid)});const c=P.find(s=>s.id===e);c&&(B(s=>s.filter(s=>s.id!==e)),V(e=>[...e,(0,i.A)((0,i.A)({},c),{},{isApproved:!0})])),await re(),alert("\uc120\uc0dd\ub2d8\uc774 \uc2b9\uc778\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(r){F.vF.error("\uc2b9\uc778 \uc624\ub958:",r),alert("\uc2b9\uc778 \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}})(e.id),children:[(0,U.jsx)(N,{size:18}),"\uc2b9\uc778"]}),(0,U.jsxs)("button",{className:"reject-btn",onClick:()=>(async(e,s)=>{if(window.confirm("'".concat(s,"' \uc120\uc0dd\ub2d8\uc758 \uac00\uc785\uc744 \uac70\uc808\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")))try{const s=(0,n.H9)(l.db,"users",e);await(0,n.kd)(s),B(s=>s.filter(s=>s.id!==e)),await re(),alert("\uc120\uc0dd\ub2d8 \uac00\uc785\uc774 \uac70\uc808\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(a){F.vF.error("\uac70\uc808 \uc624\ub958:",a),alert("\uac70\uc808 \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}})(e.id,e.name),children:[(0,U.jsx)(k,{size:18}),"\uac70\uc808"]})]})]},e.id)})})]}),"teachers"===d&&(0,U.jsxs)("div",{className:"teachers-tab",children:[(0,U.jsxs)("div",{className:"tab-header",children:[(0,U.jsx)("h2",{children:"\uc2b9\uc778\ub41c \uc120\uc0dd\ub2d8 \ubaa9\ub85d"}),(0,U.jsxs)("div",{className:"search-box",children:[(0,U.jsx)(g.A,{size:18}),(0,U.jsx)("input",{type:"text",placeholder:"\uc774\ub984 \ub610\ub294 \uc774\uba54\uc77c \uac80\uc0c9...",value:X,onChange:e=>Y(e.target.value)})]})]}),0===oe.length?(0,U.jsxs)("div",{className:"empty-state",children:[(0,U.jsx)(y.A,{size:64}),(0,U.jsx)("h3",{children:"\uc2b9\uc778\ub41c \uc120\uc0dd\ub2d8\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,U.jsx)("p",{children:"\uc2b9\uc778 \ub300\uae30 \ud0ed\uc5d0\uc11c \uc120\uc0dd\ub2d8\uc744 \uc2b9\uc778\ud574\uc8fc\uc138\uc694."})]}):(0,U.jsx)("div",{className:"teacher-list",children:oe.map(e=>{var r;return(0,U.jsxs)("div",{className:"teacher-card approved",children:[(0,U.jsx)("div",{className:"teacher-avatar",children:(null===(r=e.name)||void 0===r?void 0:r.charAt(0))||"?"}),(0,U.jsxs)("div",{className:"teacher-info",children:[(0,U.jsx)("h4",{children:e.name||"\uc774\ub984 \uc5c6\uc74c"}),(0,U.jsx)("p",{children:e.email}),(0,U.jsxs)("span",{className:"class-code",children:["\ud559\uae09: ",e.classCode||"\ubbf8\uc9c0\uc815"]})]}),(0,U.jsxs)("div",{className:"teacher-actions",children:[(0,U.jsxs)("button",{className:"view-btn",onClick:()=>{Y(e.classCode||""),o("classes")},children:[(0,U.jsx)(b.A,{size:18}),"\ud559\uae09 \ubcf4\uae30"]}),(0,U.jsxs)("button",{className:"revoke-btn",onClick:()=>(async(e,r)=>{if(window.confirm("'".concat(r,"' \uc120\uc0dd\ub2d8\uc758 \uc2b9\uc778\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")))try{const r=(0,n.H9)(l.db,"users",e);await(0,n.mZ)(r,{isApproved:!1,revokedAt:(0,n.O5)(),revokedBy:(null===s||void 0===s?void 0:s.id)||(null===a||void 0===a?void 0:a.uid)});const c=O.find(s=>s.id===e);c&&(V(s=>s.filter(s=>s.id!==e)),B(e=>[...e,(0,i.A)((0,i.A)({},c),{},{isApproved:!1})])),await re(),alert("\uc2b9\uc778\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(c){F.vF.error("\uc2b9\uc778 \ucde8\uc18c \uc624\ub958:",c),alert("\uc2b9\uc778 \ucde8\uc18c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}})(e.id,e.name),children:[(0,U.jsx)(A,{size:18}),"\uc2b9\uc778 \ucde8\uc18c"]})]})]},e.id)})})]}),"classes"===d&&(0,U.jsxs)("div",{className:"classes-tab",children:[(0,U.jsxs)("div",{className:"tab-header",children:[(0,U.jsx)("h2",{children:"\ud559\uae09 \ubaa9\ub85d"}),(0,U.jsxs)("div",{className:"search-box",children:[(0,U.jsx)(g.A,{size:18}),(0,U.jsx)("input",{type:"text",placeholder:"\ud559\uae09 \ucf54\ub4dc \ub610\ub294 \ub2f4\uc784 \uac80\uc0c9...",value:X,onChange:e=>Y(e.target.value)})]})]}),0===he.length?(0,U.jsxs)("div",{className:"empty-state",children:[(0,U.jsx)(v.A,{size:64}),(0,U.jsx)("h3",{children:"\ub4f1\ub85d\ub41c \ud559\uae09\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})]}):(0,U.jsx)("div",{className:"class-grid",children:he.map(e=>(0,U.jsxs)("div",{className:"class-card",children:[(0,U.jsxs)("div",{className:"class-header",children:[(0,U.jsx)(v.A,{size:24}),(0,U.jsx)("h4",{children:e.classCode})]}),(0,U.jsxs)("div",{className:"class-details",children:[(0,U.jsxs)("div",{className:"detail-row",children:[(0,U.jsx)("span",{className:"label",children:"\ub2f4\uc784 \uc120\uc0dd\ub2d8"}),(0,U.jsx)("span",{className:"value",children:e.adminName})]}),(0,U.jsxs)("div",{className:"detail-row",children:[(0,U.jsx)("span",{className:"label",children:"\ud559\uc0dd \uc218"}),(0,U.jsxs)("span",{className:"value",children:[e.studentCount,"\uba85"]})]}),e.adminEmail&&(0,U.jsxs)("div",{className:"detail-row",children:[(0,U.jsx)("span",{className:"label",children:"\uc774\uba54\uc77c"}),(0,U.jsx)("span",{className:"value email",children:e.adminEmail})]})]})]},e.id))})]}),"monitoring"===d&&(0,U.jsxs)("div",{className:"monitoring-tab",children:[(0,U.jsxs)("div",{className:"tab-header",children:[(0,U.jsx)("h2",{children:"\uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1"}),(0,U.jsxs)("span",{className:"live-indicator",children:[(0,U.jsx)("span",{className:"pulse"}),"\uc2e4\uc2dc\uac04"]})]}),(0,U.jsxs)("div",{className:"metrics-grid",children:[(0,U.jsxs)("div",{className:"metric-card",children:[(0,U.jsxs)("div",{className:"metric-header",children:[(0,U.jsx)(f,{size:20}),(0,U.jsx)("span",{children:"CPU \uc0ac\uc6a9\ub7c9"})]}),(0,U.jsx)("div",{className:"metric-value",children:(0,U.jsxs)("span",{className:G.cpuUsage>80?"warning":"",children:[G.cpuUsage.toFixed(1),"%"]})}),(0,U.jsx)("div",{className:"metric-bar",children:(0,U.jsx)("div",{className:"bar-fill ".concat(G.cpuUsage>80?"warning":G.cpuUsage>60?"caution":""),style:{width:"".concat(G.cpuUsage,"%")}})})]}),(0,U.jsxs)("div",{className:"metric-card",children:[(0,U.jsxs)("div",{className:"metric-header",children:[(0,U.jsx)(w,{size:20}),(0,U.jsx)("span",{children:"\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9"})]}),(0,U.jsx)("div",{className:"metric-value",children:(0,U.jsxs)("span",{className:G.memoryUsage>80?"warning":"",children:[G.memoryUsage.toFixed(1),"%"]})}),(0,U.jsx)("div",{className:"metric-bar",children:(0,U.jsx)("div",{className:"bar-fill ".concat(G.memoryUsage>80?"warning":G.memoryUsage>60?"caution":""),style:{width:"".concat(G.memoryUsage,"%")}})})]}),(0,U.jsxs)("div",{className:"metric-card",children:[(0,U.jsxs)("div",{className:"metric-header",children:[(0,U.jsx)(z,{size:20}),(0,U.jsx)("span",{children:"\ud65c\uc131 \uc5f0\uacb0"})]}),(0,U.jsx)("div",{className:"metric-value",children:G.activeConnections})]}),(0,U.jsxs)("div",{className:"metric-card",children:[(0,U.jsxs)("div",{className:"metric-header",children:[(0,U.jsx)(M,{size:20}),(0,U.jsx)("span",{children:"\uc694\uccad/\ubd84"})]}),(0,U.jsx)("div",{className:"metric-value",children:G.requestsPerMinute})]}),(0,U.jsxs)("div",{className:"metric-card",children:[(0,U.jsxs)("div",{className:"metric-header",children:[(0,U.jsx)(h,{size:20}),(0,U.jsx)("span",{children:"\ud3c9\uade0 \uc751\ub2f5\uc2dc\uac04"})]}),(0,U.jsxs)("div",{className:"metric-value",children:[G.avgResponseTime,"ms"]})]}),(0,U.jsxs)("div",{className:"metric-card",children:[(0,U.jsxs)("div",{className:"metric-header",children:[(0,U.jsx)(C.A,{size:20}),(0,U.jsx)("span",{children:"\uc5d0\ub7ec\uc728"})]}),(0,U.jsx)("div",{className:"metric-value",children:(0,U.jsxs)("span",{className:G.errorRate>5?"warning":"",children:[G.errorRate.toFixed(2),"%"]})})]})]}),(0,U.jsxs)("div",{className:"monitoring-info",children:[(0,U.jsx)("h3",{children:"\uc2dc\uc2a4\ud15c \uc0c1\ud0dc"}),(0,U.jsxs)("div",{className:"status-list",children:[(0,U.jsxs)("div",{className:"status-item ok",children:[(0,U.jsx)(S,{size:18}),(0,U.jsx)("span",{children:"Firebase \uc5f0\uacb0"}),(0,U.jsx)(N,{size:16})]}),(0,U.jsxs)("div",{className:"status-item ok",children:[(0,U.jsx)(L,{size:18}),(0,U.jsx)("span",{children:"Firestore \uc0c1\ud0dc"}),(0,U.jsx)(N,{size:16})]}),(0,U.jsxs)("div",{className:"status-item ok",children:[(0,U.jsx)(z,{size:18}),(0,U.jsx)("span",{children:"\ub124\ud2b8\uc6cc\ud06c \uc0c1\ud0dc"}),(0,U.jsx)(N,{size:16})]})]})]})]}),"errors"===d&&(0,U.jsxs)("div",{className:"errors-tab",children:[(0,U.jsxs)("div",{className:"tab-header",children:[(0,U.jsx)("h2",{children:"\uc5d0\ub7ec \ub85c\uadf8"}),(0,U.jsxs)("div",{className:"header-controls",children:[(0,U.jsxs)("div",{className:"search-box",children:[(0,U.jsx)(g.A,{size:18}),(0,U.jsx)("input",{type:"text",placeholder:"\uc5d0\ub7ec \uba54\uc2dc\uc9c0 \uac80\uc0c9...",value:X,onChange:e=>Y(e.target.value)})]}),(0,U.jsxs)("select",{value:$,onChange:e=>ee(e.target.value),className:"filter-select",children:[(0,U.jsx)("option",{value:"all",children:"\ubaa8\ub4e0 \uc2ec\uac01\ub3c4"}),(0,U.jsx)("option",{value:"info",children:"Info"}),(0,U.jsx)("option",{value:"warning",children:"Warning"}),(0,U.jsx)("option",{value:"error",children:"Error"}),(0,U.jsx)("option",{value:"critical",children:"Critical"})]}),(0,U.jsxs)("button",{className:"test-error-btn",onClick:async()=>{try{await(0,n.addDoc)((0,n.rJ)(l.db,"errorLogs"),{type:"test",severity:["info","warning","error","critical"][Math.floor(4*Math.random())],message:"\ud14c\uc2a4\ud2b8 \uc5d0\ub7ec \uba54\uc2dc\uc9c0 - ".concat((new Date).toLocaleTimeString()),stack:"Error: Test error\n    at SuperAdminDashboard.js:123",userAgent:navigator.userAgent,url:window.location.href,userId:(null===s||void 0===s?void 0:s.id)||"unknown",timestamp:(0,n.O5)()})}catch(e){F.vF.error("\ud14c\uc2a4\ud2b8 \uc5d0\ub7ec \uc0dd\uc131 \uc2e4\ud328:",e)}},title:"\ud14c\uc2a4\ud2b8 \uc5d0\ub7ec \uc0dd\uc131",children:[(0,U.jsx)(j,{size:18}),"\ud14c\uc2a4\ud2b8 \uc5d0\ub7ec"]})]})]}),0===me.length?(0,U.jsxs)("div",{className:"empty-state",children:[(0,U.jsx)(N,{size:64}),(0,U.jsx)("h3",{children:"\uc5d0\ub7ec \ub85c\uadf8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,U.jsx)("p",{children:"\uc2dc\uc2a4\ud15c\uc774 \uc815\uc0c1 \uc791\ub3d9 \uc911\uc785\ub2c8\ub2e4."})]}):(0,U.jsx)("div",{className:"error-log-list",children:me.map(e=>{var s,a;return(0,U.jsxs)("div",{className:"error-log-item ".concat(e.severity),children:[(0,U.jsxs)("div",{className:"error-log-header",children:[(0,U.jsxs)("span",{className:"severity-badge ".concat(e.severity),children:["critical"===e.severity&&(0,U.jsx)(D,{size:14}),"error"===e.severity&&(0,U.jsx)(k,{size:14}),"warning"===e.severity&&(0,U.jsx)(C.A,{size:14}),"info"===e.severity&&(0,U.jsx)(x,{size:14}),e.severity]}),(0,U.jsx)("span",{className:"error-type",children:e.type||"unknown"}),(0,U.jsx)("span",{className:"error-timestamp",children:(null===(s=e.timestamp)||void 0===s||null===(a=s.toLocaleString)||void 0===a?void 0:a.call(s))||"\uc54c \uc218 \uc5c6\uc74c"}),(0,U.jsx)("button",{className:"delete-log-btn",onClick:()=>(async e=>{try{await(0,n.kd)((0,n.H9)(l.db,"errorLogs",e)),W(s=>s.filter(s=>s.id!==e))}catch(s){F.vF.error("\uc5d0\ub7ec \ub85c\uadf8 \uc0ad\uc81c \uc624\ub958:",s)}})(e.id),children:(0,U.jsx)(T.A,{size:14})})]}),(0,U.jsxs)("div",{className:"error-log-body",children:[(0,U.jsx)("p",{className:"error-message",children:e.message}),e.stack&&(0,U.jsx)("pre",{className:"error-stack",children:e.stack}),e.url&&(0,U.jsxs)("span",{className:"error-url",children:["URL: ",e.url]})]})]},e.id)})})]})]})})]})}},7719(e,s,a){a.d(s,{A:()=>i});const i=(0,a(7784).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},9292(e,s,a){a.d(s,{A:()=>i});const i=(0,a(7784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}}]);
//# sourceMappingURL=813.d7273c92.chunk.js.map