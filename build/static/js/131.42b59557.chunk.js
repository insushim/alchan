/*! For license information please see 131.42b59557.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkinconomysu_class=self.webpackChunkinconomysu_class||[]).push([[131],{131(e,s,t){t.r(s),t.d(s,{default:()=>b});var a=t(2555),l=t(5043),r=t(5472),n=t(2864),i=t(5016),c=t(3216),o=t(7784);const d=(0,o.A)("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),x=(0,o.A)("vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);var m=t(614),u=t(579);function b(){const{userDoc:e}=(0,i.As)(),s=(0,c.Zp)(),t=null===e||void 0===e?void 0:e.classCode,o=(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.uid),[b,h]=(0,l.useState)(null),[p,f]=(0,l.useState)(!1),v=(0,l.useRef)(new Set),g=(0,l.useRef)(!0);(0,l.useEffect)(()=>{if(!t||!o)return;const e=(0,r.rJ)(n.db,"classes",t,"nationalAssemblyLaws"),s=(0,r.query)(e,(0,r.where)("status","==","pending")),l=(0,r.aQ)(s,async e=>{if(g.current){g.current=!1;const s=new Set;return e.docs.forEach(e=>s.add(e.id)),void(v.current=s)}const s=new Set;e.docs.forEach(e=>s.add(e.id));let l=null;for(const c of e.docs){const e=c.id;if(!v.current.has(e)){const s=c.data(),d="billPopup_".concat(t,"_").concat(e);if(localStorage.getItem(d))continue;if(s.voters&&s.voters[o])continue;try{const s=(0,r.H9)(n.db,"classes",t,"userVotes",o),a=await(0,r.x7)(s);if(a.exists()&&a.data()[e])continue}catch(i){}l=(0,a.A)((0,a.A)({id:e},s),{},{_seenKey:d});break}}v.current=s,l&&(h(l),setTimeout(()=>f(!0),50))});return()=>l()},[t,o]);const y=(0,l.useCallback)(()=>{null!==b&&void 0!==b&&b._seenKey&&localStorage.setItem(b._seenKey,"1"),f(!1),setTimeout(()=>h(null),300)},[b]),j=(0,l.useCallback)(()=>{null!==b&&void 0!==b&&b._seenKey&&localStorage.setItem(b._seenKey,"1"),f(!1),setTimeout(()=>{h(null),s("/national-assembly")},300)},[b,s]);return b?(0,u.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",style:{background:"rgba(0,0,0,0.75)",backdropFilter:"blur(4px)",opacity:p?1:0,transition:"opacity 0.3s ease",pointerEvents:p?"auto":"none"},onClick:e=>{e.target===e.currentTarget&&y()},children:(0,u.jsx)("div",{style:{transform:p?"scale(1) translateY(0)":"scale(0.9) translateY(20px)",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",maxWidth:440,width:"100%"},children:(0,u.jsxs)("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border border-amber-500/40 bg-gradient-to-br from-slate-900 via-amber-950/30 to-slate-900",children:[(0,u.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-amber-400 via-yellow-400 to-amber-400"}),(0,u.jsx)("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 50% 50%, white 1px, transparent 1px)",backgroundSize:"24px 24px"}}),(0,u.jsxs)("div",{className:"relative px-6 pt-6 pb-4 flex items-start gap-4",children:[(0,u.jsx)("div",{className:"flex-shrink-0 w-16 h-16 rounded-2xl flex items-center justify-center text-3xl shadow-lg bg-amber-500/20 ring-1 ring-amber-500/30",children:(0,u.jsx)(d,{className:"w-8 h-8 text-amber-400"})}),(0,u.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,u.jsx)(x,{className:"w-3.5 h-3.5 text-amber-400"}),(0,u.jsx)("span",{className:"text-xs font-bold uppercase tracking-widest text-amber-400",children:"\uc0c8 \ubc95\uc548 \uc81c\uc548"})]}),(0,u.jsx)("h2",{className:"text-xl font-bold text-white leading-tight",children:b.title}),(0,u.jsxs)("p",{className:"text-xs text-slate-500 mt-0.5",children:["\uc81c\uc548\uc790: ",b.proposerName||"\uc775\uba85"]})]}),(0,u.jsx)("button",{onClick:y,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:(0,u.jsx)(m.A,{className:"w-4 h-4"})})]}),(0,u.jsx)("div",{className:"mx-6 h-px bg-amber-500/20"}),(0,u.jsxs)("div",{className:"relative px-6 py-4 space-y-3",children:[(0,u.jsx)("p",{className:"text-sm text-slate-300 leading-relaxed",children:"\uc0c8 \ubc95\uc548\uc774 \uc81c\uc548\ub418\uc5c8\uc2b5\ub2c8\ub2e4! \ucc2c\ubc18 \ud22c\ud45c\uc5d0 \ucc38\uc5ec\ud574\uc8fc\uc138\uc694."}),(0,u.jsxs)("div",{className:"rounded-xl p-3 bg-amber-500/10 border border-amber-500/20",children:[b.purpose&&(0,u.jsxs)("p",{className:"text-sm text-amber-200 mb-1",children:[(0,u.jsx)("span",{className:"font-semibold text-amber-300",children:"\ucde8\uc9c0:"})," ",b.purpose]}),b.description&&(0,u.jsxs)("p",{className:"text-sm text-amber-200 mb-1",children:[(0,u.jsx)("span",{className:"font-semibold text-amber-300",children:"\uc124\uba85:"})," ",b.description.length>80?b.description.substring(0,80)+"...":b.description]}),b.fine&&(0,u.jsxs)("p",{className:"text-sm text-amber-200",children:[(0,u.jsx)("span",{className:"font-semibold text-amber-300",children:"\ubc8c\uae08:"})," ",b.fine]})]})]}),(0,u.jsxs)("div",{className:"px-6 pb-6 flex gap-3",children:[(0,u.jsx)("button",{onClick:y,className:"flex-1 py-3 rounded-xl font-bold text-sm transition-all active:scale-[0.98] bg-slate-700 hover:bg-slate-600 text-slate-300",children:"\ub098\uc911\uc5d0"}),(0,u.jsx)("button",{onClick:j,className:"flex-1 py-3 rounded-xl font-bold text-sm transition-all active:scale-[0.98] bg-amber-500 hover:bg-amber-400 text-white shadow-lg shadow-amber-500/25",children:"\ud22c\ud45c\ud558\ub7ec \uac00\uae30"})]})]})})}):null}}}]);
//# sourceMappingURL=131.42b59557.chunk.js.map