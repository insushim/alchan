{"version":3,"file":"static/js/175.7c912447.chunk.js","mappings":"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","sources":["pages/admin/AdminPage.js","pages/admin/AdminPanel.js"],"sourcesContent":["// src/AdminPage.js\r\n// ========================================\r\n// ⚠️ DEPRECATED - 레거시 관리자 페이지\r\n// ========================================\r\n// 이 컴포넌트는 더 이상 사용되지 않습니다.\r\n// 모든 관리자 기능은 AdminSettingsModal.js로 통합되었습니다.\r\n//\r\n// 통합된 위치:\r\n// - 금융 상품 관리 → AdminSettingsModal > \"금융 상품\" 탭\r\n// - 데이터베이스 → AdminSettingsModal > \"데이터베이스\" 탭\r\n// - 시장 제어 → AdminSettingsModal > \"시장 제어\" 탭\r\n// - 사용자 관리 → AdminSettingsModal > \"학생 관리\" / \"학급 구성원\" 탭\r\n//\r\n// AdminSettingsModal.js 경로:\r\n// src/components/modals/AdminSettingsModal.js\r\n//\r\n// 권한 체계:\r\n// - isAdmin (관리자): 자기 학급만 관리\r\n// - isSuperAdmin (최고관리자): 모든 학급 + 시스템 관리\r\n// ========================================\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { db, functions } from '../../firebase';\r\nimport { doc, getDoc, collection, getDocs, setDoc, updateDoc, deleteDoc } from 'firebase/firestore';\r\nimport { httpsCallable } from 'firebase/functions';\r\nimport AdminPanel from './AdminPanel';\r\nimport AdminDatabase from './AdminDatabase';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport './AdminPanel.css';\r\n\r\nimport { logger } from \"../../utils/logger\";\nconst AdminPage = () => {\r\n  const { currentUser, classCode } = useContext(AuthContext);\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedStudent, setSelectedStudent] = useState('');\r\n  const [amount, setAmount] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [marketStatus, setMarketStatus] = useState({ isOpen: false });\r\n  const [activeTab, setActiveTab] = useState('financial'); // 'financial', 'database', 'market', 'users'\r\n  const [editingUserId, setEditingUserId] = useState(null);\r\n  const [editFormData, setEditFormData] = useState({});\r\n  const [classList, setClassList] = useState([]);\r\n  const [selectedClass, setSelectedClass] = useState(null);\r\n\r\n  // 백엔드 함수 이름과 정확히 일치시킵니다.\r\n  const toggleMarketManually = httpsCallable(functions, 'toggleMarketManually');\r\n  const refundOldMarketItems = httpsCallable(functions, 'refundOldMarketItems');\r\n\r\n  useEffect(() => {\r\n    if (!classCode) return;\r\n\r\n    const fetchStudents = async () => {\r\n      const studentsCollection = collection(db, `Class/${classCode}/students`);\r\n      const studentSnapshot = await getDocs(studentsCollection);\r\n      const studentList = studentSnapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data()\r\n      }));\r\n      setStudents(studentList);\r\n    };\r\n\r\n    const fetchMarketStatus = async () => {\r\n      // classCode를 포함한 정확한 DB 경로를 바라보도록 수정합니다.\r\n      const marketStatusRef = doc(db, `ClassStock/${classCode}/marketStatus/status`);\r\n      const docSnap = await getDoc(marketStatusRef);\r\n      if (docSnap.exists()) {\r\n        setMarketStatus(docSnap.data());\r\n      } else {\r\n        // 해당 경로에 문서가 없으면 기본값으로 생성해줍니다.\r\n        await setDoc(marketStatusRef, { isOpen: false });\r\n        setMarketStatus({ isOpen: false });\r\n      }\r\n    };\r\n\r\n    fetchStudents();\r\n    fetchMarketStatus();\r\n  }, [classCode]);\r\n\r\n  // 슈퍼 관리자: 모든 학급 목록 가져오기\r\n  useEffect(() => {\r\n    if (!currentUser?.isSuperAdmin) return;\r\n\r\n    const fetchAllClasses = async () => {\r\n      try {\r\n        const classesRef = collection(db, 'Class');\r\n        const classesSnapshot = await getDocs(classesRef);\r\n\r\n        const classes = [];\r\n        for (const classDoc of classesSnapshot.docs) {\r\n          const classCodeValue = classDoc.id;\r\n          const studentsRef = collection(db, 'Class', classCodeValue, 'students');\r\n          const studentsSnapshot = await getDocs(studentsRef);\r\n\r\n          classes.push({\r\n            classCode: classCodeValue,\r\n            studentCount: studentsSnapshot.size\r\n          });\r\n        }\r\n\r\n        setClassList(classes);\r\n      } catch (error) {\r\n        console.error(\"학급 목록 조회 중 오류:\", error);\r\n      }\r\n    };\r\n\r\n    fetchAllClasses();\r\n  }, [currentUser]);\r\n\r\n  const handleMoneyTransfer = async () => {\r\n    if (!selectedStudent || !amount) {\r\n      setMessage('학생과 금액을 모두 선택해주세요.');\r\n      return;\r\n    }\r\n    // 돈 지급 로직... (여기에 화폐 지급 관련 로직을 구현하세요)\r\n    // 예: const giveMoney = httpsCallable(functions, 'giveMoneyToStudent');\r\n    // await giveMoney({ classCode, studentId: selectedStudent, amount: Number(amount) });\r\n    setMessage(`${selectedStudent} 학생에게 ${amount}원을 지급하는 로직을 추가해야 합니다.`);\r\n  };\r\n\r\n  const handleMarketControl = async (newIsOpenState) => {\r\n    try {\r\n      const actionText = newIsOpenState ? '수동 개장' : '수동 폐장';\r\n      if (!window.confirm(`정말로 시장을 '${actionText}' 상태로 변경하시겠습니까?`)) {\r\n        return;\r\n      }\r\n\r\n      // 함수를 호출할 때 'classCode'와 'isOpen' 파라미터를 정확히 전달합니다.\r\n      const result = await toggleMarketManually({\r\n        classCode: classCode,\r\n        isOpen: newIsOpenState\r\n      });\r\n\r\n      logger.log('Market status change result:', result.data);\r\n      setMessage(result.data.message);\r\n\r\n      // 프론트엔드 화면의 상태를 즉시 업데이트합니다.\r\n      setMarketStatus({ isOpen: newIsOpenState });\r\n\r\n    } catch (error) {\r\n      console.error(\"시장 상태 변경 오류:\", error);\r\n      setMessage(`오류가 발생했습니다: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleRefundOldItems = async () => {\r\n    try {\r\n      if (!window.confirm('기존 경로에 있는 마켓 아이템들을 모두 환불하시겠습니까?\\n(판매자들의 인벤토리로 아이템이 반환됩니다)')) {\r\n        return;\r\n      }\r\n\r\n      setMessage('환불 처리 중...');\r\n      const result = await refundOldMarketItems();\r\n\r\n      logger.log('Refund result:', result.data);\r\n      setMessage(result.data.message);\r\n\r\n    } catch (error) {\r\n      console.error(\"마켓 아이템 환불 오류:\", error);\r\n      setMessage(`오류가 발생했습니다: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // 사용자 관리 함수들\r\n  const handleEditUser = (user) => {\r\n    setEditingUserId(user.id);\r\n    setEditFormData({ ...user });\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingUserId(null);\r\n    setEditFormData({});\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEditFormData(prevData => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSaveUser = async (userId) => {\r\n    try {\r\n      const userDocRef = doc(db, 'Class', classCode, 'students', userId);\r\n      const dataToSave = {\r\n        ...editFormData,\r\n        money: Number(editFormData.money) || 0,\r\n        level: Number(editFormData.level) || 0,\r\n      };\r\n      delete dataToSave.password;\r\n\r\n      await updateDoc(userDocRef, dataToSave);\r\n\r\n      // 비밀번호 변경이 필요한 경우\r\n      if (editFormData.password && editFormData.password.trim() !== '') {\r\n        const updatePassword = httpsCallable(functions, 'updateUserPassword');\r\n        await updatePassword({\r\n          email: editFormData.email,\r\n          newPassword: editFormData.password\r\n        });\r\n        alert('사용자 정보 및 비밀번호가 성공적으로 업데이트되었습니다.');\r\n      } else {\r\n        alert('사용자 정보가 성공적으로 업데이트되었습니다.');\r\n      }\r\n\r\n      // students 배열 업데이트\r\n      setStudents(prevStudents =>\r\n        prevStudents.map(student => (student.id === userId ? { ...student, ...dataToSave } : student))\r\n      );\r\n      setEditingUserId(null);\r\n      setEditFormData({});\r\n    } catch (error) {\r\n      console.error(\"사용자 정보 업데이트 중 오류 발생:\", error);\r\n      alert(`정보 업데이트에 실패했습니다: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleToggleAdmin = async (user) => {\r\n    const isCurrentlyAdmin = user.isAdmin === true;\r\n    const actionText = isCurrentlyAdmin ? '관리자 권한을 제거' : '관리자로 지정';\r\n\r\n    if (!window.confirm(`정말로 '${user.name}' 학생을 ${actionText}하시겠습니까?`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const userDocRef = doc(db, 'Class', classCode, 'students', user.id);\r\n      await updateDoc(userDocRef, {\r\n        isAdmin: !isCurrentlyAdmin\r\n      });\r\n\r\n      setStudents(prevStudents =>\r\n        prevStudents.map(u =>\r\n          u.id === user.id ? { ...u, isAdmin: !isCurrentlyAdmin } : u\r\n        )\r\n      );\r\n\r\n      alert(`${user.name} 학생이 ${actionText}되었습니다.`);\r\n    } catch (error) {\r\n      console.error(\"관리자 권한 변경 중 오류 발생:\", error);\r\n      alert(`권한 변경에 실패했습니다: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (userId, userName) => {\r\n    if (window.confirm(`정말로 '${userName}' 학생을 삭제하시겠습니까? 모든 데이터가 사라집니다.`)) {\r\n      try {\r\n        await deleteDoc(doc(db, 'Class', classCode, 'students', userId));\r\n        setStudents(prevStudents => prevStudents.filter(student => student.id !== userId));\r\n        alert('학생이 삭제되었습니다.');\r\n      } catch (error) {\r\n        console.error(\"학생 삭제 중 오류 발생:\", error);\r\n        alert('학생 삭제에 실패했습니다.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = async (user, newPassword) => {\r\n    try {\r\n      const updatePassword = httpsCallable(functions, 'updateUserPassword');\r\n      await updatePassword({\r\n        email: user.email,\r\n        newPassword: newPassword\r\n      });\r\n      alert(`${user.name} 학생의 비밀번호가 '${newPassword}'로 초기화되었습니다.`);\r\n    } catch (error) {\r\n      console.error(\"비밀번호 초기화 중 오류 발생:\", error);\r\n      alert(`비밀번호 초기화에 실패했습니다: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // 선택된 학급의 학생들 가져오기\r\n  const fetchStudentsByClass = async (classCodeValue) => {\r\n    try {\r\n      const studentsRef = collection(db, 'Class', classCodeValue, 'students');\r\n      const studentsSnapshot = await getDocs(studentsRef);\r\n\r\n      const studentsList = studentsSnapshot.docs.map(studentDoc => {\r\n        const data = studentDoc.data();\r\n        return {\r\n          id: studentDoc.id,\r\n          classCode: classCodeValue,\r\n          ...data,\r\n          money: data.money !== undefined && data.money !== null ? data.money : 0,\r\n        };\r\n      });\r\n\r\n      setStudents(studentsList);\r\n    } catch (error) {\r\n      console.error(\"학생 정보를 불러오는 데 실패했습니다:\", error);\r\n    }\r\n  };\r\n\r\n  // 학급 선택 핸들러\r\n  const handleClassSelect = (classCodeValue) => {\r\n    setSelectedClass(classCodeValue);\r\n    fetchStudentsByClass(classCodeValue);\r\n  };\r\n\r\n  if (!currentUser?.isAdmin && !currentUser?.isSuperAdmin) {\r\n    return <div>관리자만 접근할 수 있는 페이지입니다.</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-page-container\">\r\n      <div className=\"admin-content\">\r\n        <h1>관리자 페이지 (CLASS: {classCode})</h1>\r\n\r\n        {/* 탭 메뉴 */}\r\n        <div className=\"admin-tabs mb-6 border-b\">\r\n          <div className=\"flex flex-wrap\">\r\n            <button\r\n              className={`py-2 px-4 font-medium ${\r\n                activeTab === 'financial'\r\n                  ? 'text-blue-600 border-b-2 border-blue-600'\r\n                  : 'text-gray-500'\r\n              }`}\r\n              onClick={() => setActiveTab('financial')}\r\n            >\r\n              금융 상품 관리\r\n            </button>\r\n            <button\r\n              className={`py-2 px-4 font-medium ${\r\n                activeTab === 'database'\r\n                  ? 'text-blue-600 border-b-2 border-blue-600'\r\n                  : 'text-gray-500'\r\n              }`}\r\n              onClick={() => setActiveTab('database')}\r\n            >\r\n              데이터베이스\r\n            </button>\r\n            <button\r\n              className={`py-2 px-4 font-medium ${\r\n                activeTab === 'market'\r\n                  ? 'text-blue-600 border-b-2 border-blue-600'\r\n                  : 'text-gray-500'\r\n              }`}\r\n              onClick={() => setActiveTab('market')}\r\n            >\r\n              시장 제어\r\n            </button>\r\n            {currentUser?.isSuperAdmin && (\r\n              <button\r\n                className={`py-2 px-4 font-medium ${\r\n                  activeTab === 'users'\r\n                    ? 'text-blue-600 border-b-2 border-blue-600'\r\n                    : 'text-gray-500'\r\n                }`}\r\n                onClick={() => setActiveTab('users')}\r\n              >\r\n                사용자 관리\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 금융 상품 관리 탭 */}\r\n        {activeTab === 'financial' && <AdminPanel />}\r\n\r\n        {/* 데이터베이스 탭 */}\r\n        {activeTab === 'database' && <AdminDatabase />}\r\n\r\n        {/* 시장 제어 탭 */}\r\n        {activeTab === 'market' && (\r\n          <div>\r\n            <div className=\"admin-section\">\r\n              <h2>주식 시장 제어</h2>\r\n              <p>현재 상태: <span className={marketStatus.isOpen ? 'market-open' : 'market-closed'}>\r\n                {marketStatus.isOpen ? '개장' : '폐장'}\r\n              </span></p>\r\n              <div className=\"market-controls\">\r\n                <button\r\n                  onClick={() => handleMarketControl(true)}\r\n                  disabled={marketStatus.isOpen}\r\n                  className=\"control-button open\"\r\n                >\r\n                  수동 개장\r\n                </button>\r\n                <button\r\n                  onClick={() => handleMarketControl(false)}\r\n                  disabled={!marketStatus.isOpen}\r\n                  className=\"control-button close\"\r\n                >\r\n                  수동 폐장\r\n                </button>\r\n              </div>\r\n              <p className=\"description\">\r\n                버튼을 누르면 정해진 시간과 상관없이 시장 상태가 즉시 변경됩니다.<br/>\r\n                자동 개장/폐장 시간(오전 8시/오후 3시)이 되면 자동으로 상태가 변경됩니다.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"admin-section\">\r\n              <h2>화폐 지급</h2>\r\n              <select value={selectedStudent} onChange={(e) => setSelectedStudent(e.target.value)}>\r\n                <option value=\"\">학생 선택</option>\r\n                {students.map(student => (\r\n                  <option key={student.id} value={student.id}>{student.name} ({student.id})</option>\r\n                ))}\r\n              </select>\r\n              <input\r\n                type=\"number\"\r\n                value={amount}\r\n                onChange={(e) => setAmount(e.target.value)}\r\n                placeholder=\"금액 입력\"\r\n              />\r\n              <button onClick={handleMoneyTransfer}>지급</button>\r\n            </div>\r\n\r\n            <div className=\"admin-section\">\r\n              <h2>아이템 마켓 데이터 정리</h2>\r\n              <p className=\"description\">\r\n                기존 경로(루트 marketItems)에 있는 마켓 아이템들을 모두 환불합니다.<br/>\r\n                판매자들의 인벤토리로 아이템이 자동 반환됩니다.\r\n              </p>\r\n              <button\r\n                onClick={handleRefundOldItems}\r\n                className=\"control-button close\"\r\n                style={{ marginTop: '10px' }}\r\n              >\r\n                기존 마켓 아이템 환불\r\n              </button>\r\n            </div>\r\n\r\n            {message && <p className=\"message-box\">{message}</p>}\r\n          </div>\r\n        )}\r\n\r\n        {/* 사용자 관리 탭 */}\r\n        {activeTab === 'users' && currentUser?.isSuperAdmin && (\r\n          <div className=\"users-management-section\">\r\n            <h2 style={{ marginBottom: '20px', fontSize: '24px', fontWeight: 'bold' }}>사용자 관리</h2>\r\n\r\n            {/* 학급 선택 UI */}\r\n            <div style={{ marginBottom: '30px' }}>\r\n              <h3 style={{ marginBottom: '15px', fontSize: '18px', fontWeight: '600', color: '#4a5568' }}>학급 선택</h3>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\r\n                gap: '15px'\r\n              }}>\r\n                {classList.map(classItem => (\r\n                  <button\r\n                    key={classItem.classCode}\r\n                    onClick={() => handleClassSelect(classItem.classCode)}\r\n                    style={{\r\n                      padding: '15px 20px',\r\n                      borderRadius: '12px',\r\n                      border: selectedClass === classItem.classCode ? '3px solid #667eea' : '2px solid #e2e8f0',\r\n                      background: selectedClass === classItem.classCode\r\n                        ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n                        : 'white',\r\n                      color: selectedClass === classItem.classCode ? 'white' : '#4a5568',\r\n                      fontWeight: '700',\r\n                      fontSize: '15px',\r\n                      cursor: 'pointer',\r\n                      transition: 'all 0.3s ease',\r\n                      boxShadow: selectedClass === classItem.classCode\r\n                        ? '0 8px 20px rgba(102, 126, 234, 0.3)'\r\n                        : '0 2px 8px rgba(0,0,0,0.1)',\r\n                      display: 'flex',\r\n                      flexDirection: 'column',\r\n                      alignItems: 'center',\r\n                      gap: '8px'\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      if (selectedClass !== classItem.classCode) {\r\n                        e.currentTarget.style.transform = 'translateY(-3px)';\r\n                        e.currentTarget.style.boxShadow = '0 6px 16px rgba(0,0,0,0.15)';\r\n                      }\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      if (selectedClass !== classItem.classCode) {\r\n                        e.currentTarget.style.transform = 'translateY(0)';\r\n                        e.currentTarget.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';\r\n                      }\r\n                    }}\r\n                  >\r\n                    <span style={{ fontSize: '18px' }}>{classItem.classCode}</span>\r\n                    <span style={{\r\n                      fontSize: '12px',\r\n                      opacity: 0.9,\r\n                      fontWeight: '600'\r\n                    }}>\r\n                      {classItem.studentCount}명\r\n                    </span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* 선택된 학급이 없을 때 메시지 표시 */}\r\n            {!selectedClass && (\r\n              <div style={{\r\n                textAlign: 'center',\r\n                padding: '60px 20px',\r\n                background: 'rgba(102, 126, 234, 0.05)',\r\n                borderRadius: '15px',\r\n                border: '2px dashed #667eea'\r\n              }}>\r\n                <p style={{ fontSize: '18px', color: '#667eea', fontWeight: '600', margin: 0 }}>\r\n                  학급을 선택하여 학생 목록을 확인하세요\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {/* 학생 목록 */}\r\n            {selectedClass && (\r\n              <div>\r\n                <h3 style={{ marginBottom: '15px', fontSize: '18px', fontWeight: '600', color: '#4a5568' }}>\r\n                  {selectedClass} 학급 학생 목록 ({students.length}명)\r\n                </h3>\r\n                <div className=\"users-grid\" style={{\r\n                  display: 'grid',\r\n                  gridTemplateColumns: 'repeat(auto-fill, minmax(350px, 1fr))',\r\n                  gap: '20px',\r\n                  padding: '10px'\r\n                }}>\r\n              {students.map(user => (\r\n                <div key={user.id} style={{\r\n                  background: 'white',\r\n                  borderRadius: '15px',\r\n                  boxShadow: '0 4px 15px rgba(0,0,0,0.1)',\r\n                  overflow: 'hidden',\r\n                  transition: 'transform 0.3s ease, box-shadow 0.3s ease'\r\n                }} className=\"user-card-hover\">\r\n                  {editingUserId === user.id ? (\r\n                    <div style={{\r\n                      padding: '25px',\r\n                      background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)',\r\n                      animation: 'slideIn 0.3s ease'\r\n                    }}>\r\n                      <div style={{ display: 'grid', gridTemplateColumns: '1fr', gap: '15px' }}>\r\n                        <div>\r\n                          <label style={{ display: 'block', fontWeight: '600', marginBottom: '5px', color: '#4a5568', fontSize: '13px' }}>이름</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            value={editFormData.name || ''}\r\n                            onChange={handleInputChange}\r\n                            style={{\r\n                              width: '100%',\r\n                              padding: '12px 16px',\r\n                              borderRadius: '10px',\r\n                              border: '2px solid #cbd5e0',\r\n                              fontSize: '15px',\r\n                              transition: 'all 0.3s ease'\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label style={{ display: 'block', fontWeight: '600', marginBottom: '5px', color: '#4a5568', fontSize: '13px' }}>이메일</label>\r\n                          <input\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            value={editFormData.email || ''}\r\n                            readOnly\r\n                            style={{\r\n                              width: '100%',\r\n                              padding: '12px 16px',\r\n                              borderRadius: '10px',\r\n                              border: '2px solid #e2e8f0',\r\n                              fontSize: '15px',\r\n                              backgroundColor: '#edf2f7',\r\n                              cursor: 'not-allowed'\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label style={{ display: 'block', fontWeight: '600', marginBottom: '5px', color: '#4a5568', fontSize: '13px' }}>비밀번호 (변경시에만 입력)</label>\r\n                          <input\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={editFormData.password || ''}\r\n                            onChange={handleInputChange}\r\n                            placeholder=\"변경하지 않으려면 비워두세요\"\r\n                            style={{\r\n                              width: '100%',\r\n                              padding: '12px 16px',\r\n                              borderRadius: '10px',\r\n                              border: '2px solid #cbd5e0',\r\n                              fontSize: '15px'\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label style={{ display: 'block', fontWeight: '600', marginBottom: '5px', color: '#4a5568', fontSize: '13px' }}>잔액</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            name=\"money\"\r\n                            value={editFormData.money || 0}\r\n                            onChange={handleInputChange}\r\n                            style={{\r\n                              width: '100%',\r\n                              padding: '12px 16px',\r\n                              borderRadius: '10px',\r\n                              border: '2px solid #cbd5e0',\r\n                              fontSize: '15px'\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label style={{ display: 'block', fontWeight: '600', marginBottom: '5px', color: '#4a5568', fontSize: '13px' }}>레벨</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            name=\"level\"\r\n                            value={editFormData.level || 0}\r\n                            onChange={handleInputChange}\r\n                            style={{\r\n                              width: '100%',\r\n                              padding: '12px 16px',\r\n                              borderRadius: '10px',\r\n                              border: '2px solid #cbd5e0',\r\n                              fontSize: '15px'\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px', marginTop: '20px', paddingTop: '20px', borderTop: '2px solid rgba(102, 126, 234, 0.1)' }}>\r\n                        <button\r\n                          onClick={() => handleSaveUser(user.id)}\r\n                          style={{\r\n                            padding: '12px',\r\n                            borderRadius: '10px',\r\n                            border: 'none',\r\n                            background: 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)',\r\n                            color: 'white',\r\n                            fontWeight: '700',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          저장\r\n                        </button>\r\n                        <button\r\n                          onClick={handleCancelEdit}\r\n                          style={{\r\n                            padding: '12px',\r\n                            borderRadius: '10px',\r\n                            border: 'none',\r\n                            background: 'linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%)',\r\n                            color: 'white',\r\n                            fontWeight: '700',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          취소\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div style={{ padding: '20px' }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '15px', marginBottom: '15px', paddingBottom: '15px', borderBottom: '2px solid rgba(102, 126, 234, 0.1)' }}>\r\n                        <div style={{\r\n                          width: '50px',\r\n                          height: '50px',\r\n                          borderRadius: '50%',\r\n                          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                          color: 'white',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center',\r\n                          fontSize: '20px',\r\n                          fontWeight: '700'\r\n                        }}>\r\n                          {user.name?.charAt(0) || '?'}\r\n                        </div>\r\n                        <div style={{ flex: 1 }}>\r\n                          <div style={{ display: 'flex', alignItems: 'center', gap: '10px', marginBottom: '5px' }}>\r\n                            <h3 style={{ margin: 0, fontSize: '18px', fontWeight: '700' }}>{user.name}</h3>\r\n                            {user.isAdmin ? (\r\n                              <span style={{\r\n                                fontSize: '11px',\r\n                                fontWeight: '700',\r\n                                padding: '4px 10px',\r\n                                borderRadius: '12px',\r\n                                background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\r\n                                color: 'white'\r\n                              }}>관리자</span>\r\n                            ) : (\r\n                              <span style={{\r\n                                fontSize: '11px',\r\n                                fontWeight: '700',\r\n                                padding: '4px 10px',\r\n                                borderRadius: '12px',\r\n                                background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\r\n                                color: 'white'\r\n                              }}>학생</span>\r\n                            )}\r\n                          </div>\r\n                          <p style={{ margin: 0, fontSize: '13px', color: '#666' }}>{user.email}</p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div style={{ display: 'grid', gridTemplateColumns: '1fr', gap: '10px', marginBottom: '15px' }}>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '10px 15px', background: 'rgba(102, 126, 234, 0.05)', borderRadius: '8px', borderLeft: '3px solid #667eea' }}>\r\n                          <span style={{ color: '#667eea', fontWeight: '600', fontSize: '13px' }}>직업</span>\r\n                          <span style={{ fontWeight: '600', fontSize: '14px' }}>{user.job?.name || user.jobName || '미지정'}</span>\r\n                        </div>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '10px 15px', background: 'rgba(102, 126, 234, 0.05)', borderRadius: '8px', borderLeft: '3px solid #667eea' }}>\r\n                          <span style={{ color: '#667eea', fontWeight: '600', fontSize: '13px' }}>레벨</span>\r\n                          <span style={{\r\n                            background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\r\n                            color: 'white',\r\n                            padding: '4px 12px',\r\n                            borderRadius: '12px',\r\n                            fontSize: '12px',\r\n                            fontWeight: '600'\r\n                          }}>Lv. {user.level || 0}</span>\r\n                        </div>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', padding: '10px 15px', background: 'rgba(102, 126, 234, 0.05)', borderRadius: '8px', borderLeft: '3px solid #667eea' }}>\r\n                          <span style={{ color: '#667eea', fontWeight: '600', fontSize: '13px' }}>잔액</span>\r\n                          <span style={{\r\n                            color: user.money < 0 ? '#eb3349' : '#11998e',\r\n                            fontWeight: '700',\r\n                            fontSize: '14px'\r\n                          }}>{user.money?.toLocaleString() || 0}원</span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px' }}>\r\n                        <button\r\n                          onClick={() => handleEditUser(user)}\r\n                          style={{\r\n                            padding: '10px',\r\n                            borderRadius: '10px',\r\n                            border: 'none',\r\n                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                            color: 'white',\r\n                            fontWeight: '600',\r\n                            fontSize: '13px',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          수정\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleToggleAdmin(user)}\r\n                          style={{\r\n                            padding: '10px',\r\n                            borderRadius: '10px',\r\n                            border: 'none',\r\n                            background: user.isAdmin\r\n                              ? 'linear-gradient(135deg, #757F9A 0%, #D7DDE8 100%)'\r\n                              : 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\r\n                            color: 'white',\r\n                            fontWeight: '600',\r\n                            fontSize: '13px',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          {user.isAdmin ? '관리자 해제' : '관리자 지정'}\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            const newPassword = prompt(`${user.name} 학생의 새 비밀번호를 입력하세요:`, 'test1234');\r\n                            if (newPassword) {\r\n                              handleResetPassword(user, newPassword);\r\n                            }\r\n                          }}\r\n                          style={{\r\n                            padding: '10px',\r\n                            borderRadius: '10px',\r\n                            border: 'none',\r\n                            background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\r\n                            color: 'white',\r\n                            fontWeight: '600',\r\n                            fontSize: '13px',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          비밀번호 초기화\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDeleteUser(user.id, user.name)}\r\n                          style={{\r\n                            padding: '10px',\r\n                            borderRadius: '10px',\r\n                            border: 'none',\r\n                            background: 'linear-gradient(135deg, #eb3349 0%, #f45c43 100%)',\r\n                            color: 'white',\r\n                            fontWeight: '600',\r\n                            fontSize: '13px',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                        >\r\n                          삭제\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPage;","// src/AdminPanel.js\r\n// ========================================\r\n// ⚠️ DEPRECATED - 레거시 관리자 패널\r\n// ========================================\r\n// 이 컴포넌트는 더 이상 사용되지 않습니다.\r\n// 금융 상품 관리 기능은 AdminSettingsModal.js의 \"금융 상품\" 탭으로 통합되었습니다.\r\n//\r\n// AdminSettingsModal.js 경로:\r\n// src/components/modals/AdminSettingsModal.js\r\n//\r\n// 사용 방법:\r\n// Dashboard.js에서 관리자 설정 버튼을 클릭하여 접근\r\n// ========================================\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./AdminPanel.css\";\r\n\r\nconst AdminPanel = () => {\r\n  const [depositProducts, setDepositProducts] = useState([]);\r\n  const [savingProducts, setSavingProducts] = useState([]);\r\n  const [loanProducts, setLoanProducts] = useState([]);\r\n  const [message, setMessage] = useState(null);\r\n  const [messageType, setMessageType] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"deposit\"); // 'deposit', 'saving', 'loan'\r\n  const [newProductName, setNewProductName] = useState(\"\");\r\n  const [newProductPeriod, setNewProductPeriod] = useState(\"\");\r\n  const [newProductRate, setNewProductRate] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const loadedDepositProducts =\r\n      JSON.parse(localStorage.getItem(\"depositProducts\")) || [];\r\n    const loadedSavingProducts =\r\n      JSON.parse(localStorage.getItem(\"savingProducts\")) || [];\r\n    const loadedLoanProducts =\r\n      JSON.parse(localStorage.getItem(\"loanProducts\")) || [];\r\n    setDepositProducts(loadedDepositProducts);\r\n    setSavingProducts(loadedSavingProducts);\r\n    setLoanProducts(loadedLoanProducts);\r\n  }, []);\r\n\r\n  const getProductTypeText = (type) => {\r\n    switch (type) {\r\n      case \"deposit\":\r\n        return \"예금\";\r\n      case \"saving\":\r\n        return \"적금\";\r\n      case \"loan\":\r\n        return \"대출\";\r\n      default:\r\n        return \"금융\";\r\n    }\r\n  };\r\n\r\n  const handleAddProduct = () => {\r\n    if (\r\n      !newProductName.trim() ||\r\n      !newProductPeriod ||\r\n      !newProductRate ||\r\n      isNaN(newProductPeriod) ||\r\n      isNaN(newProductRate)\r\n    ) {\r\n      setMessage(\"모든 필드를 올바르게 입력해주세요.\");\r\n      setMessageType(\"error\");\r\n      setTimeout(() => setMessage(null), 3000);\r\n      return;\r\n    }\r\n\r\n    const newProduct = {\r\n      id: Date.now(),\r\n      name: newProductName,\r\n      period: parseInt(newProductPeriod),\r\n      rate: parseFloat(newProductRate),\r\n    };\r\n\r\n    let updatedProducts = [];\r\n    let storageKey = \"\";\r\n\r\n    if (activeTab === \"deposit\") {\r\n      updatedProducts = [...depositProducts, newProduct];\r\n      setDepositProducts(updatedProducts);\r\n      storageKey = \"depositProducts\";\r\n    } else if (activeTab === \"saving\") {\r\n      updatedProducts = [...savingProducts, newProduct];\r\n      setSavingProducts(updatedProducts);\r\n      storageKey = \"savingProducts\";\r\n    } else if (activeTab === \"loan\") {\r\n      updatedProducts = [...loanProducts, newProduct];\r\n      setLoanProducts(updatedProducts);\r\n      storageKey = \"loanProducts\";\r\n    }\r\n\r\n    localStorage.setItem(storageKey, JSON.stringify(updatedProducts));\r\n    setMessage(`새 ${getProductTypeText(activeTab)} 상품이 추가되었습니다.`);\r\n    setMessageType(\"success\");\r\n    setNewProductName(\"\");\r\n    setNewProductPeriod(\"\");\r\n    setNewProductRate(\"\");\r\n    setTimeout(() => setMessage(null), 3000);\r\n  };\r\n\r\n  const handleDeleteProduct = (id, type) => {\r\n    let productList, setProductList, storageKey;\r\n\r\n    if (type === \"deposit\") {\r\n      productList = depositProducts;\r\n      setProductList = setDepositProducts;\r\n      storageKey = \"depositProducts\";\r\n    } else if (type === \"saving\") {\r\n      productList = savingProducts;\r\n      setProductList = setSavingProducts;\r\n      storageKey = \"savingProducts\";\r\n    } else if (type === \"loan\") {\r\n      productList = loanProducts;\r\n      setProductList = setLoanProducts;\r\n      storageKey = \"loanProducts\";\r\n    }\r\n\r\n    const updatedProducts = productList.filter((product) => product.id !== id);\r\n    setProductList(updatedProducts);\r\n    localStorage.setItem(storageKey, JSON.stringify(updatedProducts));\r\n    setMessage(`${getProductTypeText(type)} 상품이 삭제되었습니다.`);\r\n    setMessageType(\"success\");\r\n    setTimeout(() => setMessage(null), 3000);\r\n  };\r\n\r\n  const renderProductTable = (products, type) => {\r\n    if (products.length === 0) {\r\n      return (\r\n        <p className=\"text-gray-500 text-center py-4\">\r\n          등록된 {getProductTypeText(type)} 상품이 없습니다.\r\n        </p>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"min-w-full divide-y divide-gray-200\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                상품명\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                기간 (일)\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                이율 (%)\r\n              </th>\r\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                관리\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            {products.map((product) => (\r\n              <tr key={product.id}>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-700\">\r\n                  {product.name}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {product.period}일\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {product.rate}%\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                  <button\r\n                    onClick={() => handleDeleteProduct(product.id, type)}\r\n                    className=\"text-red-600 hover:text-red-900\"\r\n                  >\r\n                    삭제\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-panel bg-white p-6 rounded-lg shadow-md\">\r\n      {message && (\r\n        <div\r\n          className={`message ${\r\n            messageType === \"success\"\r\n              ? \"bg-green-100 border-green-400 text-green-700\"\r\n              : \"bg-red-100 border-red-400 text-red-700\"\r\n          } border px-4 py-3 rounded relative mb-4`}\r\n          role=\"alert\"\r\n        >\r\n          <span className=\"block sm:inline\">{message}</span>\r\n        </div>\r\n      )}\r\n\r\n      <h3 className=\"text-xl font-semibold mb-4\">금융 상품 관리</h3>\r\n\r\n      <div className=\"admin-tabs mb-6 border-b\">\r\n        <div className=\"flex flex-wrap\">\r\n          <button\r\n            className={`py-2 px-4 font-medium ${\r\n              activeTab === \"deposit\"\r\n                ? \"text-blue-600 border-b-2 border-blue-600\"\r\n                : \"text-gray-500\"\r\n            }`}\r\n            onClick={() => setActiveTab(\"deposit\")}\r\n          >\r\n            예금 상품 관리\r\n          </button>\r\n          <button\r\n            className={`py-2 px-4 font-medium ${\r\n              activeTab === \"saving\"\r\n                ? \"text-blue-600 border-b-2 border-blue-600\"\r\n                : \"text-gray-500\"\r\n            }`}\r\n            onClick={() => setActiveTab(\"saving\")}\r\n          >\r\n            적금 상품 관리\r\n          </button>\r\n          <button\r\n            className={`py-2 px-4 font-medium ${\r\n              activeTab === \"loan\"\r\n                ? \"text-blue-600 border-b-2 border-blue-600\"\r\n                : \"text-gray-500\"\r\n            }`}\r\n            onClick={() => setActiveTab(\"loan\")}\r\n          >\r\n            대출 상품 관리\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"add-product-form mb-6 p-4 bg-gray-50 rounded-md\">\r\n        <h4 className=\"font-semibold mb-3\">\r\n          {getProductTypeText(activeTab)} 상품 추가\r\n        </h4>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <input\r\n            type=\"text\"\r\n            value={newProductName}\r\n            onChange={(e) => setNewProductName(e.target.value)}\r\n            placeholder=\"상품명\"\r\n            className=\"w-full p-2 border rounded-md\"\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            value={newProductPeriod}\r\n            onChange={(e) => setNewProductPeriod(e.target.value)}\r\n            placeholder=\"기간 (일)\"\r\n            className=\"w-full p-2 border rounded-md\"\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.1\"\r\n            value={newProductRate}\r\n            onChange={(e) => setNewProductRate(e.target.value)}\r\n            placeholder=\"이율 (%)\"\r\n            className=\"w-full p-2 border rounded-md\"\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={handleAddProduct}\r\n          className=\"mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md\"\r\n        >\r\n          상품 추가\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"product-list\">\r\n        <h4 className=\"font-semibold mb-3\">\r\n          {getProductTypeText(activeTab)} 상품 목록\r\n        </h4>\r\n        {activeTab === \"deposit\" &&\r\n          renderProductTable(depositProducts, \"deposit\")}\r\n        {activeTab === \"saving\" &&\r\n          renderProductTable(savingProducts, \"saving\")}\r\n        {activeTab === \"loan\" && renderProductTable(loanProducts, \"loan\")}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;"],"names":["AdminPage","currentUser","classCode","useContext","AuthContext","students","setStudents","useState","selectedStudent","setSelectedStudent","amount","setAmount","message","setMessage","marketStatus","setMarketStatus","isOpen","activeTab","setActiveTab","editingUserId","setEditingUserId","editFormData","setEditFormData","classList","setClassList","selectedClass","setSelectedClass","toggleMarketManually","httpsCallable","functions","refundOldMarketItems","useEffect","async","studentsCollection","collection","db","concat","studentList","getDocs","docs","map","doc","_objectSpread","id","data","fetchStudents","marketStatusRef","docSnap","getDoc","exists","setDoc","fetchMarketStatus","isSuperAdmin","classesRef","classesSnapshot","classes","classDoc","classCodeValue","studentsRef","studentsSnapshot","push","studentCount","size","error","console","fetchAllClasses","handleMarketControl","actionText","newIsOpenState","window","confirm","result","logger","log","handleCancelEdit","handleInputChange","e","name","value","target","prevData","handleClassSelect","studentsList","studentDoc","money","undefined","fetchStudentsByClass","isAdmin","_jsx","className","children","_jsxs","onClick","AdminPanel","AdminDatabase","disabled","onChange","student","type","placeholder","style","marginTop","marginBottom","fontSize","fontWeight","color","display","gridTemplateColumns","gap","classItem","padding","borderRadius","border","background","cursor","transition","boxShadow","flexDirection","alignItems","onMouseEnter","currentTarget","transform","onMouseLeave","opacity","textAlign","margin","length","user","_user$name","_user$job","_user$money","overflow","animation","width","email","readOnly","backgroundColor","password","level","paddingTop","borderTop","userDocRef","userId","dataToSave","Number","updateDoc","trim","updatePassword","newPassword","alert","prevStudents","handleSaveUser","paddingBottom","borderBottom","height","justifyContent","charAt","flex","borderLeft","job","jobName","toLocaleString","handleEditUser","isCurrentlyAdmin","u","handleToggleAdmin","prompt","handleResetPassword","userName","deleteDoc","filter","handleDeleteUser","depositProducts","setDepositProducts","savingProducts","setSavingProducts","loanProducts","setLoanProducts","messageType","setMessageType","newProductName","setNewProductName","newProductPeriod","setNewProductPeriod","newProductRate","setNewProductRate","loadedDepositProducts","JSON","parse","localStorage","getItem","loadedSavingProducts","loadedLoanProducts","getProductTypeText","renderProductTable","products","product","period","rate","handleDeleteProduct","productList","setProductList","storageKey","updatedProducts","setItem","stringify","setTimeout","role","step","handleAddProduct","isNaN","newProduct","Date","now","parseInt","parseFloat"],"ignoreList":[],"sourceRoot":""}