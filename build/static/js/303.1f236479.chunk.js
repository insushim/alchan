/*! For license information please see 303.1f236479.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkinconomysu_class=self.webpackChunkinconomysu_class||[]).push([[303],{5088(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7819(e,t,s){s.d(t,{A:()=>a});const a=(0,s(7784).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8303(e,t,s){s.r(t),s.d(t,{default:()=>k});var a=s(2555),l=s(5043),r=s(5016),n=s(4689),i=s(5472),d=s(2395),c=s(5452),o=s(73),x=s(2054),m=s(7819),p=s(7784);const u=(0,p.A)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),h=(0,p.A)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]);var v=s(5088);const b=(0,p.A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var g=s(1360),j=s(9855);const N=(0,p.A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),y=(0,p.A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var f=s(2382),A=s(579);const w=[{value:"REAL_ESTATE_PRICE_CHANGE",label:"\ubd80\ub3d9\uc0b0 \uac00\uaca9 \ubcc0\ub3d9",emoji:"\ud83c\udfe0"},{value:"TAX_REFUND",label:"\uc138\uae08 \ud658\uae09",emoji:"\ud83d\udcb0"},{value:"TAX_EXTRA",label:"\ucd94\uac00 \uc138\uae08 \ubd80\uacfc",emoji:"\ud83d\udcb8"},{value:"CASH_BONUS",label:"\ud604\uae08 \uc9c0\uc6d0\uae08 \uc9c0\uae09",emoji:"\ud83c\udf81"},{value:"LOTTERY",label:"\ubcf5\uad8c \ub2f9\ucca8",emoji:"\ud83c\udfb0"}],E=[{id:"real_estate_up_20",type:"REAL_ESTATE_PRICE_CHANGE",title:"\ubd80\ub3d9\uc0b0 \ud638\ud669!",description:"\uacbd\uae30 \ud68c\ubcf5\uc73c\ub85c \ubd80\ub3d9\uc0b0 \uc804\uccb4 \uac00\uaca9\uc774 20% \uc0c1\uc2b9\ud588\uc2b5\ub2c8\ub2e4!",params:{changePercent:20},emoji:"\ud83c\udfe0\ud83d\udcc8",enabled:!0},{id:"real_estate_down_15",type:"REAL_ESTATE_PRICE_CHANGE",title:"\ubd80\ub3d9\uc0b0 \ubd88\ud669!",description:"\uacbd\uae30 \uce68\uccb4\ub85c \ubd80\ub3d9\uc0b0 \uc804\uccb4 \uac00\uaca9\uc774 15% \ud558\ub77d\ud588\uc2b5\ub2c8\ub2e4!",params:{changePercent:-15},emoji:"\ud83c\udfe0\ud83d\udcc9",enabled:!0},{id:"tax_refund",type:"TAX_REFUND",title:"\uc138\uae08 \ud658\uae09\uc758 \ub0a0!",description:"\uc815\ubd80\uac00 \uad6d\uace0 \uc7ac\uc6d0\uc73c\ub85c \ubaa8\ub4e0 \uc2dc\ubbfc\uc5d0\uac8c \uc138\uae08\uc744 \ud658\uae09\ud569\ub2c8\ub2e4!",params:{refundRate:.3},emoji:"\ud83d\udcb0\u2728",enabled:!0},{id:"tax_extra",type:"TAX_EXTRA",title:"\uae34\uae09 \uc138\uae08 \ucd94\uc9d5!",description:"\uc815\ubd80\uac00 \uad6d\uac00 \uc7ac\uc815\uc744 \uc704\ud574 \ucd94\uac00 \uc138\uae08\uc744 \ubd80\uacfc\ud569\ub2c8\ub2e4! (\ud604\uae08\uc758 3%)",params:{taxRate:.03},emoji:"\ud83d\udcb8\ud83d\ude31",enabled:!0},{id:"cash_bonus",type:"CASH_BONUS",title:"\uc815\ubd80 \uc9c0\uc6d0\uae08 \uc9c0\uae09!",description:"\uc815\ubd80\uac00 \uacbd\uc81c \ud65c\uc131\ud654\ub97c \uc704\ud574 \ubaa8\ub4e0 \uc2dc\ubbfc\uc5d0\uac8c \uc9c0\uc6d0\uae08\uc744 \uc9c0\uae09\ud569\ub2c8\ub2e4!",params:{amount:5e4},emoji:"\ud83c\udf81\ud83d\udcb5",enabled:!0},{id:"lottery",type:"LOTTERY",title:"\uc774\ubc88 \uc8fc \ubcf5\uad8c \ub2f9\ucca8!",description:"\ubcf5\uad8c \ucd94\ucca8 \uacb0\uacfc\uac00 \ubc1c\ud45c\ub429\ub2c8\ub2e4! \ub204\uac00 \ud589\uc6b4\uc758 \uc8fc\uc778\uacf5\uc77c\uae4c\uc694?",params:{amount:3e5,winnerCount:1},emoji:"\ud83c\udfb0\ud83c\udf40",enabled:!0}],C=Array.from({length:24},(e,t)=>({value:t,label:0===t?"\uc790\uc815(0\uc2dc)":t<12?"\uc624\uc804 ".concat(t,"\uc2dc"):12===t?"\uc815\uc624(12\uc2dc)":"\uc624\ud6c4 ".concat(t-12,"\uc2dc")})),_=e=>{switch(e){case"REAL_ESTATE_PRICE_CHANGE":return{changePercent:20};case"TAX_REFUND":return{refundRate:.3};case"TAX_EXTRA":return{taxRate:.03};case"CASH_BONUS":return{amount:5e4};case"LOTTERY":return{amount:3e5,winnerCount:1};default:return{}}};function k(){var e,t,s,p,k,R,T,S,H,F,L,X,O;const{userDoc:P}=(0,r.As)(),U=null===P||void 0===P?void 0:P.classCode,[D,I]=(0,l.useState)({enabled:!1,triggerHour:13,events:E}),[B,M]=(0,l.useState)(!0),[G,Y]=(0,l.useState)(!1),[q,z]=(0,l.useState)(!1),[K,Q]=(0,l.useState)(null),[J,V]=(0,l.useState)([]),[W,Z]=(0,l.useState)(!1),[$,ee]=(0,l.useState)(!1),[te,se]=(0,l.useState)(!1),[ae,le]=(0,l.useState)({type:"CASH_BONUS",title:"",description:"",emoji:"\u26a1",params:{amount:5e4}}),re=(0,d.Uz)(void 0,"asia-northeast3"),ne=(0,l.useCallback)(async()=>{if(U){M(!0);try{const t=(0,i.H9)(n.db,"economicEventSettings",U),s=await(0,i.x7)(t);if(s.exists()){var e;const t=s.data();I({enabled:t.enabled||!1,triggerHour:null!==(e=t.triggerHour)&&void 0!==e?e:13,events:t.events&&t.events.length>0?t.events:E})}else I({enabled:!1,triggerHour:13,events:E})}catch(t){c.vF.error("[AdminEconomicEvents] \uc124\uc815 \ub85c\ub4dc \uc624\ub958:",t),Q({type:"error",text:"\uc124\uc815\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})}finally{M(!1)}}},[U]),ie=(0,l.useCallback)(async()=>{if(U){Z(!0);try{const e=(0,i.rJ)(n.db,"economicEventLogs",U,"entries"),t=(0,i.query)(e,(0,i.orderBy)("triggeredAt","desc"),(0,i.limit)(20)),s=await(0,i.getDocs)(t);V(s.docs.map(e=>(0,a.A)({id:e.id},e.data())))}catch(e){c.vF.error("[AdminEconomicEvents] \ud788\uc2a4\ud1a0\ub9ac \ub85c\ub4dc \uc624\ub958:",e)}finally{Z(!1)}}},[U]);(0,l.useEffect)(()=>{ne()},[ne]),(0,l.useEffect)(()=>{$&&ie()},[$,ie]);const de=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(window.confirm("\uc9c0\uae08 \ubc14\ub85c \uacbd\uc81c \uc774\ubca4\ud2b8\ub97c \uc2e4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\uc624\ub298\uc758 \uc774\ubca4\ud2b8\uac00 \uc774\ubbf8 \ubc1c\uc0dd\ud588\uc5b4\ub3c4 \uac15\uc81c\ub85c \uc2e4\ud589\ub429\ub2c8\ub2e4.")){z(!0),Q(null);try{var t;const s=(0,d.Qg)(re,"triggerEconomicEventManual"),a=await s({forceEventId:e}),l=(null===(t=a.data.event)||void 0===t?void 0:t.title)||"\uc774\ubca4\ud2b8";Q({type:"success",text:'"'.concat(l,'" \uc774\ubca4\ud2b8\uac00 \uc2e4\ud589\ub418\uc5c8\uc2b5\ub2c8\ub2e4!')}),$&&ie()}catch(s){c.vF.error("[AdminEconomicEvents] \uc774\ubca4\ud2b8 \uc2e4\ud589 \uc624\ub958:",s),Q({type:"error",text:"\uc2e4\ud589 \uc2e4\ud328: ".concat(s.message)})}finally{z(!1)}}},ce=(e,t,s)=>{I(l=>(0,a.A)((0,a.A)({},l),{},{events:l.events.map(l=>l.id===e?(0,a.A)((0,a.A)({},l),{},{params:(0,a.A)((0,a.A)({},l.params),{},{[t]:parseFloat(s)||0})}):l)}))},oe=e=>{var t;if(!e)return"";return((null===(t=e.toDate)||void 0===t?void 0:t.call(e))||new Date(e)).toLocaleString("ko-KR",{month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},xe=e=>{var t,s,a,l,r;const n=null===(t=e.event)||void 0===t?void 0:t.type,i=e.result||{};if("REAL_ESTATE_PRICE_CHANGE"===n){var d,c;const t=(null===(d=e.event)||void 0===d||null===(c=d.params)||void 0===c?void 0:c.changePercent)||0;return"".concat(i.affectedCount||0,"\uac1c \ubd80\ub3d9\uc0b0 ").concat(t>0?"+":"").concat(t,"% \ubcc0\ub3d9")}return"TAX_REFUND"===n?"".concat((null===(s=i.refundedAmount)||void 0===s?void 0:s.toLocaleString())||0,"\uc6d0 \ud658\uae09"):"TAX_EXTRA"===n?"".concat((null===(a=i.collectedAmount)||void 0===a?void 0:a.toLocaleString())||0,"\uc6d0 \uc9d5\uc218"):"CASH_BONUS"===n?"".concat(i.affectedCount||0,"\uba85\uc5d0\uac8c ").concat((null===(l=i.perStudent)||void 0===l?void 0:l.toLocaleString())||0,"\uc6d0"):"LOTTERY"===n?(null===(r=i.winnerNames)||void 0===r?void 0:r.join(", "))||"\ucd94\ucca8 \uc644\ub8cc":""},me=e=>{var t,s,a,l,r,n,i,d,c,o,x,m;switch(e.type){case"REAL_ESTATE_PRICE_CHANGE":return(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\ubcc0\ub3d9\ub960"}),(0,A.jsx)("input",{type:"number",value:null!==(t=null===(s=e.params)||void 0===s?void 0:s.changePercent)&&void 0!==t?t:20,onChange:t=>ce(e.id,"changePercent",t.target.value),className:"w-20 text-xs bg-slate-800 border border-slate-700 rounded px-2 py-1 text-white",step:"5"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"% (\uc74c\uc218 = \ud558\ub77d)"})]});case"TAX_REFUND":return(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uad6d\uace0 \ud658\uae09 \ube44\uc728"}),(0,A.jsx)("input",{type:"number",value:Math.round(100*(null!==(a=null===(l=e.params)||void 0===l?void 0:l.refundRate)&&void 0!==a?a:.3)),onChange:t=>ce(e.id,"refundRate",(parseFloat(t.target.value)||0)/100),className:"w-20 text-xs bg-slate-800 border border-slate-700 rounded px-2 py-1 text-white",min:"1",max:"100",step:"5"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"%"})]});case"TAX_EXTRA":return(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\ucd94\uc9d5\uc728"}),(0,A.jsx)("input",{type:"number",value:Math.round(100*(null!==(r=null===(n=e.params)||void 0===n?void 0:n.taxRate)&&void 0!==r?r:.03)),onChange:t=>ce(e.id,"taxRate",(parseFloat(t.target.value)||0)/100),className:"w-20 text-xs bg-slate-800 border border-slate-700 rounded px-2 py-1 text-white",min:"1",max:"30",step:"1"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"% (\ud604\uae08 \uae30\uc900)"})]});case"CASH_BONUS":return(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"1\uc778\ub2f9 \uc9c0\uae09\uc561"}),(0,A.jsx)("input",{type:"number",value:null!==(i=null===(d=e.params)||void 0===d?void 0:d.amount)&&void 0!==i?i:5e4,onChange:t=>ce(e.id,"amount",t.target.value),className:"w-28 text-xs bg-slate-800 border border-slate-700 rounded px-2 py-1 text-white",step:"10000",min:"1000"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uc6d0"})]});case"LOTTERY":return(0,A.jsxs)("div",{className:"flex items-center gap-2 flex-wrap gap-y-1",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uc0c1\uae08"}),(0,A.jsx)("input",{type:"number",value:null!==(c=null===(o=e.params)||void 0===o?void 0:o.amount)&&void 0!==c?c:3e5,onChange:t=>ce(e.id,"amount",t.target.value),className:"w-28 text-xs bg-slate-800 border border-slate-700 rounded px-2 py-1 text-white",step:"50000",min:"10000"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uc6d0, \ub2f9\ucca8\uc790"}),(0,A.jsx)("input",{type:"number",value:null!==(x=null===(m=e.params)||void 0===m?void 0:m.winnerCount)&&void 0!==x?x:1,onChange:t=>ce(e.id,"winnerCount",t.target.value),className:"w-16 text-xs bg-slate-800 border border-slate-700 rounded px-2 py-1 text-white",min:"1",max:"10",step:"1"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uba85"})]});default:return null}};if(B)return(0,A.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,A.jsx)("div",{className:"text-slate-400",children:"\uc124\uc815 \ubd88\ub7ec\uc624\ub294 \uc911..."})});const pe=D.events.filter(e=>!1!==e.enabled).length;return(0,A.jsxs)("div",{className:"max-w-3xl mx-auto p-4 space-y-5",children:[(0,A.jsxs)("div",{className:"flex items-center gap-3",children:[(0,A.jsx)("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:(0,A.jsx)(o.A,{className:"w-5 h-5 text-purple-400"})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("h1",{className:"text-xl font-bold text-white",children:"\uacbd\uc81c \uc774\ubca4\ud2b8 \uad00\ub9ac"}),(0,A.jsx)("p",{className:"text-sm text-slate-400",children:"\ud3c9\uc77c \uc815\ud574\uc9c4 \uc2dc\uac04\uc5d0 \ub79c\ub364 \uacbd\uc81c \uc774\ubca4\ud2b8\uac00 \uc790\ub3d9 \ubc1c\uc0dd\ud569\ub2c8\ub2e4"})]})]}),K&&(0,A.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 rounded-xl text-sm ".concat("success"===K.type?"bg-emerald-900/50 border border-emerald-500/30 text-emerald-300":"bg-red-900/50 border border-red-500/30 text-red-300"),children:["success"===K.type?(0,A.jsx)(x.A,{className:"w-4 h-4 flex-shrink-0"}):(0,A.jsx)(m.A,{className:"w-4 h-4 flex-shrink-0"}),K.text]}),(0,A.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-5 space-y-4",children:[(0,A.jsx)("h2",{className:"text-base font-bold text-white",children:"\uae30\ubcf8 \uc124\uc815"}),(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"text-sm font-medium text-slate-200",children:"\uacbd\uc81c \uc774\ubca4\ud2b8 \uc2dc\uc2a4\ud15c"}),(0,A.jsx)("p",{className:"text-xs text-slate-500",children:"\ud3c9\uc77c \uc124\uc815\ub41c \uc2dc\uac04\uc5d0 \uc790\ub3d9\uc73c\ub85c \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4"})]}),(0,A.jsxs)("button",{onClick:()=>I(e=>(0,a.A)((0,a.A)({},e),{},{enabled:!e.enabled})),className:"flex items-center gap-2",children:[D.enabled?(0,A.jsx)(u,{className:"w-8 h-8 text-emerald-400"}):(0,A.jsx)(h,{className:"w-8 h-8 text-slate-500"}),(0,A.jsx)("span",{className:"text-sm font-medium ".concat(D.enabled?"text-emerald-400":"text-slate-500"),children:D.enabled?"ON":"OFF"})]})]}),(0,A.jsxs)("div",{className:"flex items-center gap-4",children:[(0,A.jsx)(v.A,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsx)("p",{className:"text-sm font-medium text-slate-200",children:"\uc774\ubca4\ud2b8 \ubc1c\uc0dd \uc2dc\uac04"}),(0,A.jsx)("p",{className:"text-xs text-slate-500",children:"\ud3c9\uc77c \ub9e4\uc77c \uc774 \uc2dc\uac04\uc5d0 \uc774\ubca4\ud2b8\uac00 \ub79c\ub364\uc73c\ub85c \ubc1c\uc0dd\ud569\ub2c8\ub2e4 (KST)"})]}),(0,A.jsx)("select",{value:D.triggerHour,onChange:e=>I(t=>(0,a.A)((0,a.A)({},t),{},{triggerHour:parseInt(e.target.value)})),className:"bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500",children:C.map(e=>(0,A.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,A.jsxs)("div",{className:"flex items-center gap-3 pt-2 border-t border-slate-800",children:[(0,A.jsxs)("button",{onClick:()=>de(),disabled:q||0===D.events.filter(e=>!1!==e.enabled).length,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition-colors",children:[(0,A.jsx)(b,{className:"w-3.5 h-3.5"}),q?"\uc2e4\ud589 \uc911...":"\uc9c0\uae08 \ubc14\ub85c \ub79c\ub364 \uc2e4\ud589"]}),(0,A.jsxs)("p",{className:"text-xs text-slate-500",children:["\ud65c\uc131 \uc774\ubca4\ud2b8 ",pe,"\uac1c \uc911 \ub79c\ub364 \uc120\ud0dd"]})]})]}),(0,A.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-5 space-y-4",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("h2",{className:"text-base font-bold text-white",children:"\uc774\ubca4\ud2b8 \ubaa9\ub85d"}),(0,A.jsx)("p",{className:"text-xs text-slate-500",children:"\ub79c\ub364 \ucd94\ucca8\uc5d0 \ud3ec\ud568\ub420 \uc774\ubca4\ud2b8\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4"})]}),(0,A.jsxs)("button",{onClick:()=>se(!te),className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 text-sm rounded-lg transition-colors",children:[(0,A.jsx)(g.A,{className:"w-3.5 h-3.5"}),"\uc774\ubca4\ud2b8 \ucd94\uac00"]})]}),te&&(0,A.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 space-y-3",children:[(0,A.jsx)("h3",{className:"text-sm font-medium text-slate-200",children:"\uc0c8 \uc774\ubca4\ud2b8 \ucd94\uac00"}),(0,A.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"text-xs text-slate-400 block mb-1",children:"\uc774\ubca4\ud2b8 \ud0c0\uc785"}),(0,A.jsx)("select",{value:ae.type,onChange:e=>{return t=e.target.value,void le(e=>(0,a.A)((0,a.A)({},e),{},{type:t,params:_(t)}));var t},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500",children:w.map(e=>(0,A.jsxs)("option",{value:e.value,children:[e.emoji," ",e.label]},e.value))})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"text-xs text-slate-400 block mb-1",children:"\uc544\uc774\ucf58 \uc774\ubaa8\uc9c0"}),(0,A.jsx)("input",{type:"text",value:ae.emoji,onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{emoji:e.target.value})),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500",placeholder:"\u26a1"})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"text-xs text-slate-400 block mb-1",children:"\uc774\ubca4\ud2b8 \uc81c\ubaa9 *"}),(0,A.jsx)("input",{type:"text",value:ae.title,onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{title:e.target.value})),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500",placeholder:"\uc608: \ubd80\ub3d9\uc0b0 \ud2b9\ubcc4 \ud638\ud669!"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("label",{className:"text-xs text-slate-400 block mb-1",children:"\uc124\uba85"}),(0,A.jsx)("input",{type:"text",value:ae.description,onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{description:e.target.value})),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-purple-500",placeholder:"\ud559\uc0dd\ub4e4\uc5d0\uac8c \ubcf4\uc5ec\uc9c8 \uc124\uba85"})]}),(0,A.jsxs)("div",{className:"bg-slate-800 rounded-lg p-3",children:[(0,A.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:"\uc774\ubca4\ud2b8 \uc218\uce58 \uc124\uc815"}),"REAL_ESTATE_PRICE_CHANGE"===ae.type&&(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\ubcc0\ub3d9\ub960"}),(0,A.jsx)("input",{type:"number",step:"5",value:null!==(e=null===(t=ae.params)||void 0===t?void 0:t.changePercent)&&void 0!==e?e:20,onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{params:(0,a.A)((0,a.A)({},t.params),{},{changePercent:parseFloat(e.target.value)||0})})),className:"w-20 text-xs bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"% (\uc74c\uc218 = \ud558\ub77d)"})]}),"TAX_REFUND"===ae.type&&(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uad6d\uace0 \ud658\uae09 \ube44\uc728"}),(0,A.jsx)("input",{type:"number",min:"1",max:"100",step:"5",value:Math.round(100*(null!==(s=null===(p=ae.params)||void 0===p?void 0:p.refundRate)&&void 0!==s?s:.3)),onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{params:(0,a.A)((0,a.A)({},t.params),{},{refundRate:(parseFloat(e.target.value)||0)/100})})),className:"w-20 text-xs bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"%"})]}),"TAX_EXTRA"===ae.type&&(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\ucd94\uc9d5\uc728"}),(0,A.jsx)("input",{type:"number",min:"1",max:"30",step:"1",value:Math.round(100*(null!==(k=null===(R=ae.params)||void 0===R?void 0:R.taxRate)&&void 0!==k?k:.03)),onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{params:(0,a.A)((0,a.A)({},t.params),{},{taxRate:(parseFloat(e.target.value)||0)/100})})),className:"w-20 text-xs bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"% (\ud604\uae08 \uae30\uc900)"})]}),"CASH_BONUS"===ae.type&&(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"1\uc778\ub2f9 \uc9c0\uae09\uc561"}),(0,A.jsx)("input",{type:"number",step:"10000",min:"1000",value:null!==(T=null===(S=ae.params)||void 0===S?void 0:S.amount)&&void 0!==T?T:5e4,onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{params:(0,a.A)((0,a.A)({},t.params),{},{amount:parseFloat(e.target.value)||0})})),className:"w-28 text-xs bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uc6d0"})]}),"LOTTERY"===ae.type&&(0,A.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uc0c1\uae08"}),(0,A.jsx)("input",{type:"number",step:"50000",min:"10000",value:null!==(H=null===(F=ae.params)||void 0===F?void 0:F.amount)&&void 0!==H?H:3e5,onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{params:(0,a.A)((0,a.A)({},t.params),{},{amount:parseFloat(e.target.value)||0})})),className:"w-28 text-xs bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uc6d0, \ub2f9\ucca8\uc790"}),(0,A.jsx)("input",{type:"number",min:"1",max:"10",value:null!==(L=null===(X=ae.params)||void 0===X?void 0:X.winnerCount)&&void 0!==L?L:1,onChange:e=>le(t=>(0,a.A)((0,a.A)({},t),{},{params:(0,a.A)((0,a.A)({},t.params),{},{winnerCount:parseInt(e.target.value)||1})})),className:"w-16 text-xs bg-slate-700 border border-slate-600 rounded px-2 py-1 text-white"}),(0,A.jsx)("span",{className:"text-xs text-slate-400",children:"\uba85"})]})]}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsx)("button",{onClick:()=>{if(!ae.title.trim())return void Q({type:"error",text:"\uc774\ubca4\ud2b8 \uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."});const e={id:"custom_".concat(Date.now()),type:ae.type,title:ae.title.trim(),description:ae.description.trim(),emoji:ae.emoji||"\u26a1",params:ae.params,enabled:!0};I(t=>(0,a.A)((0,a.A)({},t),{},{events:[...t.events,e]})),le({type:"CASH_BONUS",title:"",description:"",emoji:"\u26a1",params:{amount:5e4}}),se(!1),Q({type:"success",text:"\uc774\ubca4\ud2b8\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc800\uc7a5 \ubc84\ud2bc\uc744 \ub20c\ub7ec \uc801\uc6a9\ud558\uc138\uc694."})},className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium rounded-lg transition-colors",children:"\ucd94\uac00\ud558\uae30"}),(0,A.jsx)("button",{onClick:()=>se(!1),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 text-sm rounded-lg transition-colors",children:"\ucde8\uc18c"})]})]}),(0,A.jsxs)("div",{className:"space-y-2",children:[0===D.events.length&&(0,A.jsx)("div",{className:"text-center py-8 text-slate-500 text-sm",children:"\uc774\ubca4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ucd94\uac00 \ubc84\ud2bc\uc744 \ub20c\ub7ec \uc774\ubca4\ud2b8\ub97c \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694."}),D.events.map(e=>{var t;return(0,A.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-xl border transition-colors ".concat(!1!==e.enabled?"bg-slate-800/60 border-slate-700":"bg-slate-900/40 border-slate-800/50 opacity-50"),children:[(0,A.jsx)("div",{className:"text-xl flex-shrink-0 w-8 text-center mt-0.5",children:e.emoji||"\u26a1"}),(0,A.jsxs)("div",{className:"flex-1 min-w-0 space-y-1.5",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,A.jsx)("span",{className:"text-sm font-medium text-white",children:e.title}),(0,A.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-slate-700 text-slate-400",children:(null===(t=w.find(t=>t.value===e.type))||void 0===t?void 0:t.label)||e.type})]}),e.description&&(0,A.jsx)("p",{className:"text-xs text-slate-400",children:e.description}),(0,A.jsx)("div",{className:"pt-1",children:me(e)})]}),(0,A.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[(0,A.jsx)("button",{onClick:()=>de(e.id),disabled:q||!1===e.enabled,title:"\uc774 \uc774\ubca4\ud2b8 \uc9c0\uae08 \uc2e4\ud589",className:"p-1.5 text-purple-400 hover:text-purple-300 hover:bg-purple-500/20 disabled:opacity-30 disabled:cursor-not-allowed rounded-lg transition-colors",children:(0,A.jsx)(b,{className:"w-3.5 h-3.5"})}),(0,A.jsx)("button",{onClick:()=>{return t=e.id,void I(e=>(0,a.A)((0,a.A)({},e),{},{events:e.events.map(e=>e.id===t?(0,a.A)((0,a.A)({},e),{},{enabled:!e.enabled}):e)}));var t},title:!1!==e.enabled?"\ube44\ud65c\uc131\ud654":"\ud65c\uc131\ud654",className:"p-1.5 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded-lg transition-colors",children:!1!==e.enabled?(0,A.jsx)(u,{className:"w-4 h-4 text-emerald-400"}):(0,A.jsx)(h,{className:"w-4 h-4 text-slate-500"})}),(0,A.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("\uc774 \uc774\ubca4\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&I(e=>(0,a.A)((0,a.A)({},e),{},{events:e.events.filter(e=>e.id!==t)})));var t},title:"\uc0ad\uc81c",className:"p-1.5 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:(0,A.jsx)(j.A,{className:"w-3.5 h-3.5"})})]})]},e.id)})]})]}),(0,A.jsx)("button",{onClick:async()=>{Y(!0),Q(null);try{const e=(0,d.Qg)(re,"saveEconomicEventSettings");await e({enabled:D.enabled,triggerHour:D.triggerHour,events:D.events}),Q({type:"success",text:"\uc124\uc815\uc774 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"})}catch(e){c.vF.error("[AdminEconomicEvents] \uc124\uc815 \uc800\uc7a5 \uc624\ub958:",e),Q({type:"error",text:"\uc800\uc7a5 \uc2e4\ud328: ".concat(e.message)})}finally{Y(!1)}},disabled:G,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl transition-colors",children:G?"\uc800\uc7a5 \uc911...":"\uc124\uc815 \uc800\uc7a5"}),(0,A.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden",children:[(0,A.jsxs)("button",{onClick:()=>ee(!$),className:"w-full flex items-center justify-between px-5 py-4 text-left hover:bg-slate-800/50 transition-colors",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)(N,{className:"w-4 h-4 text-slate-400"}),(0,A.jsx)("span",{className:"text-sm font-medium text-slate-200",children:"\uc774\ubca4\ud2b8 \ubc1c\uc0dd \uae30\ub85d"})]}),$?(0,A.jsx)(y,{className:"w-4 h-4 text-slate-400"}):(0,A.jsx)(f.A,{className:"w-4 h-4 text-slate-400"})]}),$&&(0,A.jsx)("div",{className:"px-5 pb-4 border-t border-slate-800",children:W?(0,A.jsx)("div",{className:"py-6 text-center text-slate-500 text-sm",children:"\ubd88\ub7ec\uc624\ub294 \uc911..."}):0===J.length?(0,A.jsx)("div",{className:"py-6 text-center text-slate-500 text-sm",children:"\uc544\uc9c1 \ubc1c\uc0dd\ud55c \uc774\ubca4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}):(0,A.jsx)("div",{className:"space-y-2 mt-3",children:J.map(e=>{var t,s;return(0,A.jsxs)("div",{className:"flex items-start gap-3 py-2.5 border-b border-slate-800 last:border-0",children:[(0,A.jsx)("span",{className:"text-lg flex-shrink-0",children:(null===(t=e.event)||void 0===t?void 0:t.emoji)||"\u26a1"}),(0,A.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,A.jsx)("p",{className:"text-sm text-white font-medium",children:null===(s=e.event)||void 0===s?void 0:s.title}),(0,A.jsx)("p",{className:"text-xs text-slate-400",children:xe(e)})]}),(0,A.jsx)("span",{className:"text-xs text-slate-500 flex-shrink-0",children:oe(e.triggeredAt)})]},e.id)})})})]}),(0,A.jsxs)("div",{className:"bg-slate-900/50 border border-slate-800 rounded-xl p-4",children:[(0,A.jsx)("p",{className:"text-xs font-medium text-slate-400 mb-2",children:"\u2699\ufe0f cron-job.org \uc124\uc815 \uc548\ub0b4"}),(0,A.jsxs)("p",{className:"text-xs text-slate-500",children:["\uc790\ub3d9 \uc774\ubca4\ud2b8\uac00 \uc791\ub3d9\ud558\ub824\uba74 cron-job.org\uc5d0\uc11c"," ",(0,A.jsx)("code",{className:"bg-slate-800 px-1 rounded text-slate-300",children:"economicEventScheduler"})," ","\uc5d4\ub4dc\ud3ec\uc778\ud2b8\ub97c",(0,A.jsx)("strong",{className:"text-slate-400",children:" \ub9e4\uc2dc\uac04"})," \ud638\ucd9c\ud558\ub3c4\ub85d \uc124\uc815\ud558\uc138\uc694."]}),(0,A.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["\ud604\uc7ac \uc124\uc815\ub41c \uc2dc\uac04(",null===(O=C.find(e=>e.value===D.triggerHour))||void 0===O?void 0:O.label,")\uc5d0 \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4."]})]})]})}}}]);
//# sourceMappingURL=303.1f236479.chunk.js.map