"use strict";(self.webpackChunkinconomysu_class=self.webpackChunkinconomysu_class||[]).push([[175,920],{7175(e,t,s){s.r(t),s.d(t,{default:()=>u});var a=s(2555),n=s(5043),r=s(2419),i=s(5472),d=s(2395),o=s(7920),l=s(5967),c=s(5016),p=(s(6353),s(5452)),x=s(579);const u=()=>{const{currentUser:e,classCode:t}=(0,n.useContext)(c.cy),[s,u]=(0,n.useState)([]),[m,g]=(0,n.useState)(""),[h,b]=(0,n.useState)(""),[f,y]=(0,n.useState)(""),[j,v]=(0,n.useState)({isOpen:!1}),[w,S]=(0,n.useState)("financial"),[C,N]=(0,n.useState)(null),[k,z]=(0,n.useState)({}),[A,W]=(0,n.useState)([]),[R,T]=(0,n.useState)(null),O=(0,d.Qg)(r.Cn,"toggleMarketManually"),B=(0,d.Qg)(r.Cn,"refundOldMarketItems");(0,n.useEffect)(()=>{if(!t)return;(async()=>{const e=(0,i.rJ)(r.db,"Class/".concat(t,"/students")),s=(await(0,i.getDocs)(e)).docs.map(e=>(0,a.A)({id:e.id},e.data()));u(s)})(),(async()=>{const e=(0,i.H9)(r.db,"ClassStock/".concat(t,"/marketStatus/status")),s=await(0,i.x7)(e);s.exists()?v(s.data()):(await(0,i.BN)(e,{isOpen:!1}),v({isOpen:!1}))})()},[t]),(0,n.useEffect)(()=>{if(null===e||void 0===e||!e.isSuperAdmin)return;(async()=>{try{const e=(0,i.rJ)(r.db,"Class"),t=await(0,i.getDocs)(e),s=[];for(const a of t.docs){const e=a.id,t=(0,i.rJ)(r.db,"Class",e,"students"),n=await(0,i.getDocs)(t);s.push({classCode:e,studentCount:n.size})}W(s)}catch(e){p.vF.error("\ud559\uae09 \ubaa9\ub85d \uc870\ud68c \uc911 \uc624\ub958:",e)}})()},[e]);const I=async e=>{try{const s=e?"\uc218\ub3d9 \uac1c\uc7a5":"\uc218\ub3d9 \ud3d0\uc7a5";if(!window.confirm("\uc815\ub9d0\ub85c \uc2dc\uc7a5\uc744 '".concat(s,"' \uc0c1\ud0dc\ub85c \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")))return;const a=await O({classCode:t,isOpen:e});p.vF.log("Market status change result:",a.data),y(a.data.message),v({isOpen:e})}catch(s){p.vF.error("\uc2dc\uc7a5 \uc0c1\ud0dc \ubcc0\uacbd \uc624\ub958:",s),y("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: ".concat(s.message))}},P=()=>{N(null),z({})},F=e=>{const{name:t,value:s}=e.target;z(e=>(0,a.A)((0,a.A)({},e),{},{[t]:s}))},D=e=>{T(e),(async e=>{try{const t=(0,i.rJ)(r.db,"Class",e,"students"),s=(await(0,i.getDocs)(t)).docs.map(t=>{const s=t.data();return(0,a.A)((0,a.A)({id:t.id,classCode:e},s),{},{money:void 0!==s.money&&null!==s.money?s.money:0})});u(s)}catch(t){p.vF.error("\ud559\uc0dd \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4:",t)}})(e)};return null!==e&&void 0!==e&&e.isAdmin||null!==e&&void 0!==e&&e.isSuperAdmin?(0,x.jsx)("div",{className:"admin-page-container",children:(0,x.jsxs)("div",{className:"admin-content",children:[(0,x.jsxs)("h1",{children:["\uad00\ub9ac\uc790 \ud398\uc774\uc9c0 (CLASS: ",t,")"]}),(0,x.jsx)("div",{className:"admin-tabs mb-6 border-b",children:(0,x.jsxs)("div",{className:"flex flex-wrap",children:[(0,x.jsx)("button",{className:"py-2 px-4 font-medium ".concat("financial"===w?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>S("financial"),children:"\uae08\uc735 \uc0c1\ud488 \uad00\ub9ac"}),(0,x.jsx)("button",{className:"py-2 px-4 font-medium ".concat("database"===w?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>S("database"),children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4"}),(0,x.jsx)("button",{className:"py-2 px-4 font-medium ".concat("market"===w?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>S("market"),children:"\uc2dc\uc7a5 \uc81c\uc5b4"}),(null===e||void 0===e?void 0:e.isSuperAdmin)&&(0,x.jsx)("button",{className:"py-2 px-4 font-medium ".concat("users"===w?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>S("users"),children:"\uc0ac\uc6a9\uc790 \uad00\ub9ac"})]})}),"financial"===w&&(0,x.jsx)(o.default,{}),"database"===w&&(0,x.jsx)(l.default,{}),"market"===w&&(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"admin-section",children:[(0,x.jsx)("h2",{children:"\uc8fc\uc2dd \uc2dc\uc7a5 \uc81c\uc5b4"}),(0,x.jsxs)("p",{children:["\ud604\uc7ac \uc0c1\ud0dc: ",(0,x.jsx)("span",{className:j.isOpen?"market-open":"market-closed",children:j.isOpen?"\uac1c\uc7a5":"\ud3d0\uc7a5"})]}),(0,x.jsxs)("div",{className:"market-controls",children:[(0,x.jsx)("button",{onClick:()=>I(!0),disabled:j.isOpen,className:"control-button open",children:"\uc218\ub3d9 \uac1c\uc7a5"}),(0,x.jsx)("button",{onClick:()=>I(!1),disabled:!j.isOpen,className:"control-button close",children:"\uc218\ub3d9 \ud3d0\uc7a5"})]}),(0,x.jsxs)("p",{className:"description",children:["\ubc84\ud2bc\uc744 \ub204\ub974\uba74 \uc815\ud574\uc9c4 \uc2dc\uac04\uacfc \uc0c1\uad00\uc5c6\uc774 \uc2dc\uc7a5 \uc0c1\ud0dc\uac00 \uc989\uc2dc \ubcc0\uacbd\ub429\ub2c8\ub2e4.",(0,x.jsx)("br",{}),"\uc790\ub3d9 \uac1c\uc7a5/\ud3d0\uc7a5 \uc2dc\uac04(\uc624\uc804 8\uc2dc/\uc624\ud6c4 3\uc2dc)\uc774 \ub418\uba74 \uc790\ub3d9\uc73c\ub85c \uc0c1\ud0dc\uac00 \ubcc0\uacbd\ub429\ub2c8\ub2e4."]})]}),(0,x.jsxs)("div",{className:"admin-section",children:[(0,x.jsx)("h2",{children:"\ud654\ud3d0 \uc9c0\uae09"}),(0,x.jsxs)("select",{value:m,onChange:e=>g(e.target.value),children:[(0,x.jsx)("option",{value:"",children:"\ud559\uc0dd \uc120\ud0dd"}),s.map(e=>(0,x.jsxs)("option",{value:e.id,children:[e.name," (",e.id,")"]},e.id))]}),(0,x.jsx)("input",{type:"number",value:h,onChange:e=>b(e.target.value),placeholder:"\uae08\uc561 \uc785\ub825"}),(0,x.jsx)("button",{onClick:async()=>{y(m&&h?"".concat(m," \ud559\uc0dd\uc5d0\uac8c ").concat(h,"\uc6d0\uc744 \uc9c0\uae09\ud558\ub294 \ub85c\uc9c1\uc744 \ucd94\uac00\ud574\uc57c \ud569\ub2c8\ub2e4."):"\ud559\uc0dd\uacfc \uae08\uc561\uc744 \ubaa8\ub450 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},children:"\uc9c0\uae09"})]}),(0,x.jsxs)("div",{className:"admin-section",children:[(0,x.jsx)("h2",{children:"\uc544\uc774\ud15c \ub9c8\ucf13 \ub370\uc774\ud130 \uc815\ub9ac"}),(0,x.jsxs)("p",{className:"description",children:["\uae30\uc874 \uacbd\ub85c(\ub8e8\ud2b8 marketItems)\uc5d0 \uc788\ub294 \ub9c8\ucf13 \uc544\uc774\ud15c\ub4e4\uc744 \ubaa8\ub450 \ud658\ubd88\ud569\ub2c8\ub2e4.",(0,x.jsx)("br",{}),"\ud310\ub9e4\uc790\ub4e4\uc758 \uc778\ubca4\ud1a0\ub9ac\ub85c \uc544\uc774\ud15c\uc774 \uc790\ub3d9 \ubc18\ud658\ub429\ub2c8\ub2e4."]}),(0,x.jsx)("button",{onClick:async()=>{try{if(!window.confirm("\uae30\uc874 \uacbd\ub85c\uc5d0 \uc788\ub294 \ub9c8\ucf13 \uc544\uc774\ud15c\ub4e4\uc744 \ubaa8\ub450 \ud658\ubd88\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n(\ud310\ub9e4\uc790\ub4e4\uc758 \uc778\ubca4\ud1a0\ub9ac\ub85c \uc544\uc774\ud15c\uc774 \ubc18\ud658\ub429\ub2c8\ub2e4)"))return;y("\ud658\ubd88 \ucc98\ub9ac \uc911...");const e=await B();p.vF.log("Refund result:",e.data),y(e.data.message)}catch(e){p.vF.error("\ub9c8\ucf13 \uc544\uc774\ud15c \ud658\ubd88 \uc624\ub958:",e),y("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: ".concat(e.message))}},className:"control-button close",style:{marginTop:"10px"},children:"\uae30\uc874 \ub9c8\ucf13 \uc544\uc774\ud15c \ud658\ubd88"})]}),f&&(0,x.jsx)("p",{className:"message-box",children:f})]}),"users"===w&&(null===e||void 0===e?void 0:e.isSuperAdmin)&&(0,x.jsxs)("div",{className:"users-management-section",children:[(0,x.jsx)("h2",{style:{marginBottom:"20px",fontSize:"24px",fontWeight:"bold"},children:"\uc0ac\uc6a9\uc790 \uad00\ub9ac"}),(0,x.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,x.jsx)("h3",{style:{marginBottom:"15px",fontSize:"18px",fontWeight:"600",color:"#4a5568"},children:"\ud559\uae09 \uc120\ud0dd"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px"},children:A.map(e=>(0,x.jsxs)("button",{onClick:()=>D(e.classCode),style:{padding:"15px 20px",borderRadius:"12px",border:R===e.classCode?"3px solid #667eea":"2px solid #e2e8f0",background:R===e.classCode?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"white",color:R===e.classCode?"white":"#4a5568",fontWeight:"700",fontSize:"15px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:R===e.classCode?"0 8px 20px rgba(102, 126, 234, 0.3)":"0 2px 8px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},onMouseEnter:t=>{R!==e.classCode&&(t.currentTarget.style.transform="translateY(-3px)",t.currentTarget.style.boxShadow="0 6px 16px rgba(0,0,0,0.15)")},onMouseLeave:t=>{R!==e.classCode&&(t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)")},children:[(0,x.jsx)("span",{style:{fontSize:"18px"},children:e.classCode}),(0,x.jsxs)("span",{style:{fontSize:"12px",opacity:.9,fontWeight:"600"},children:[e.studentCount,"\uba85"]})]},e.classCode))})]}),!R&&(0,x.jsx)("div",{style:{textAlign:"center",padding:"60px 20px",background:"rgba(102, 126, 234, 0.05)",borderRadius:"15px",border:"2px dashed #667eea"},children:(0,x.jsx)("p",{style:{fontSize:"18px",color:"#667eea",fontWeight:"600",margin:0},children:"\ud559\uae09\uc744 \uc120\ud0dd\ud558\uc5ec \ud559\uc0dd \ubaa9\ub85d\uc744 \ud655\uc778\ud558\uc138\uc694"})}),R&&(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{style:{marginBottom:"15px",fontSize:"18px",fontWeight:"600",color:"#4a5568"},children:[R," \ud559\uae09 \ud559\uc0dd \ubaa9\ub85d (",s.length,"\uba85)"]}),(0,x.jsx)("div",{className:"users-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px",padding:"10px"},children:s.map(e=>{var s,n,o;return(0,x.jsx)("div",{style:{background:"white",borderRadius:"15px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",overflow:"hidden",transition:"transform 0.3s ease, box-shadow 0.3s ease"},className:"user-card-hover",children:C===e.id?(0,x.jsxs)("div",{style:{padding:"25px",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",animation:"slideIn 0.3s ease"},children:[(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"15px"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:"5px",color:"#4a5568",fontSize:"13px"},children:"\uc774\ub984"}),(0,x.jsx)("input",{type:"text",name:"name",value:k.name||"",onChange:F,style:{width:"100%",padding:"12px 16px",borderRadius:"10px",border:"2px solid #cbd5e0",fontSize:"15px",transition:"all 0.3s ease"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:"5px",color:"#4a5568",fontSize:"13px"},children:"\uc774\uba54\uc77c"}),(0,x.jsx)("input",{type:"email",name:"email",value:k.email||"",readOnly:!0,style:{width:"100%",padding:"12px 16px",borderRadius:"10px",border:"2px solid #e2e8f0",fontSize:"15px",backgroundColor:"#edf2f7",cursor:"not-allowed"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:"5px",color:"#4a5568",fontSize:"13px"},children:"\ube44\ubc00\ubc88\ud638 (\ubcc0\uacbd\uc2dc\uc5d0\ub9cc \uc785\ub825)"}),(0,x.jsx)("input",{type:"password",name:"password",value:k.password||"",onChange:F,placeholder:"\ubcc0\uacbd\ud558\uc9c0 \uc54a\uc73c\ub824\uba74 \ube44\uc6cc\ub450\uc138\uc694",style:{width:"100%",padding:"12px 16px",borderRadius:"10px",border:"2px solid #cbd5e0",fontSize:"15px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:"5px",color:"#4a5568",fontSize:"13px"},children:"\uc794\uc561"}),(0,x.jsx)("input",{type:"number",name:"money",value:k.money||0,onChange:F,style:{width:"100%",padding:"12px 16px",borderRadius:"10px",border:"2px solid #cbd5e0",fontSize:"15px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",fontWeight:"600",marginBottom:"5px",color:"#4a5568",fontSize:"13px"},children:"\ub808\ubca8"}),(0,x.jsx)("input",{type:"number",name:"level",value:k.level||0,onChange:F,style:{width:"100%",padding:"12px 16px",borderRadius:"10px",border:"2px solid #cbd5e0",fontSize:"15px"}})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginTop:"20px",paddingTop:"20px",borderTop:"2px solid rgba(102, 126, 234, 0.1)"},children:[(0,x.jsx)("button",{onClick:()=>(async e=>{try{const s=(0,i.H9)(r.db,"Class",t,"students",e),n=(0,a.A)((0,a.A)({},k),{},{money:Number(k.money)||0,level:Number(k.level)||0});if(delete n.password,await(0,i.mZ)(s,n),k.password&&""!==k.password.trim()){const e=(0,d.Qg)(r.Cn,"updateUserPassword");await e({email:k.email,newPassword:k.password}),alert("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc0f \ube44\ubc00\ubc88\ud638\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}else alert("\uc0ac\uc6a9\uc790 \uc815\ubcf4\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");u(t=>t.map(t=>t.id===e?(0,a.A)((0,a.A)({},t),n):t)),N(null),z({})}catch(s){p.vF.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958 \ubc1c\uc0dd:",s),alert("\uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ".concat(s.message))}})(e.id),style:{padding:"12px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease"},children:"\uc800\uc7a5"}),(0,x.jsx)("button",{onClick:P,style:{padding:"12px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%)",color:"white",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease"},children:"\ucde8\uc18c"})]})]}):(0,x.jsxs)("div",{style:{padding:"20px"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px",paddingBottom:"15px",borderBottom:"2px solid rgba(102, 126, 234, 0.1)"},children:[(0,x.jsx)("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"700"},children:(null===(s=e.name)||void 0===s?void 0:s.charAt(0))||"?"}),(0,x.jsxs)("div",{style:{flex:1},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"5px"},children:[(0,x.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700"},children:e.name}),e.isAdmin?(0,x.jsx)("span",{style:{fontSize:"11px",fontWeight:"700",padding:"4px 10px",borderRadius:"12px",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white"},children:"\uad00\ub9ac\uc790"}):(0,x.jsx)("span",{style:{fontSize:"11px",fontWeight:"700",padding:"4px 10px",borderRadius:"12px",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white"},children:"\ud559\uc0dd"})]}),(0,x.jsx)("p",{style:{margin:0,fontSize:"13px",color:"#666"},children:e.email})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"10px",marginBottom:"15px"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",background:"rgba(102, 126, 234, 0.05)",borderRadius:"8px",borderLeft:"3px solid #667eea"},children:[(0,x.jsx)("span",{style:{color:"#667eea",fontWeight:"600",fontSize:"13px"},children:"\uc9c1\uc5c5"}),(0,x.jsx)("span",{style:{fontWeight:"600",fontSize:"14px"},children:(null===(n=e.job)||void 0===n?void 0:n.name)||e.jobName||"\ubbf8\uc9c0\uc815"})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",background:"rgba(102, 126, 234, 0.05)",borderRadius:"8px",borderLeft:"3px solid #667eea"},children:[(0,x.jsx)("span",{style:{color:"#667eea",fontWeight:"600",fontSize:"13px"},children:"\ub808\ubca8"}),(0,x.jsxs)("span",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:["Lv. ",e.level||0]})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",background:"rgba(102, 126, 234, 0.05)",borderRadius:"8px",borderLeft:"3px solid #667eea"},children:[(0,x.jsx)("span",{style:{color:"#667eea",fontWeight:"600",fontSize:"13px"},children:"\uc794\uc561"}),(0,x.jsxs)("span",{style:{color:e.money<0?"#eb3349":"#11998e",fontWeight:"700",fontSize:"14px"},children:[(null===(o=e.money)||void 0===o?void 0:o.toLocaleString())||0,"\uc6d0"]})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[(0,x.jsx)("button",{onClick:()=>(e=>{N(e.id),z((0,a.A)({},e))})(e),style:{padding:"10px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:"600",fontSize:"13px",cursor:"pointer",transition:"all 0.3s ease"},children:"\uc218\uc815"}),(0,x.jsx)("button",{onClick:()=>(async e=>{const s=!0===e.isAdmin,n=s?"\uad00\ub9ac\uc790 \uad8c\ud55c\uc744 \uc81c\uac70":"\uad00\ub9ac\uc790\ub85c \uc9c0\uc815";if(window.confirm("\uc815\ub9d0\ub85c '".concat(e.name,"' \ud559\uc0dd\uc744 ").concat(n,"\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")))try{const d=(0,i.H9)(r.db,"Class",t,"students",e.id);await(0,i.mZ)(d,{isAdmin:!s}),u(t=>t.map(t=>t.id===e.id?(0,a.A)((0,a.A)({},t),{},{isAdmin:!s}):t)),alert("".concat(e.name," \ud559\uc0dd\uc774 ").concat(n,"\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))}catch(d){p.vF.error("\uad00\ub9ac\uc790 \uad8c\ud55c \ubcc0\uacbd \uc911 \uc624\ub958 \ubc1c\uc0dd:",d),alert("\uad8c\ud55c \ubcc0\uacbd\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ".concat(d.message))}})(e),style:{padding:"10px",borderRadius:"10px",border:"none",background:e.isAdmin?"linear-gradient(135deg, #757F9A 0%, #D7DDE8 100%)":"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",fontWeight:"600",fontSize:"13px",cursor:"pointer",transition:"all 0.3s ease"},children:e.isAdmin?"\uad00\ub9ac\uc790 \ud574\uc81c":"\uad00\ub9ac\uc790 \uc9c0\uc815"}),(0,x.jsx)("button",{onClick:()=>{const t=prompt("".concat(e.name," \ud559\uc0dd\uc758 \uc0c8 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694:"),"test1234");t&&(async(e,t)=>{try{const s=(0,d.Qg)(r.Cn,"updateUserPassword");await s({email:e.email,newPassword:t}),alert("".concat(e.name," \ud559\uc0dd\uc758 \ube44\ubc00\ubc88\ud638\uac00 '").concat(t,"'\ub85c \ucd08\uae30\ud654\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))}catch(s){p.vF.error("\ube44\ubc00\ubc88\ud638 \ucd08\uae30\ud654 \uc911 \uc624\ub958 \ubc1c\uc0dd:",s),alert("\ube44\ubc00\ubc88\ud638 \ucd08\uae30\ud654\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ".concat(s.message))}})(e,t)},style:{padding:"10px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",fontWeight:"600",fontSize:"13px",cursor:"pointer",transition:"all 0.3s ease"},children:"\ube44\ubc00\ubc88\ud638 \ucd08\uae30\ud654"}),(0,x.jsx)("button",{onClick:()=>(async(e,s)=>{if(window.confirm("\uc815\ub9d0\ub85c '".concat(s,"' \ud559\uc0dd\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \ubaa8\ub4e0 \ub370\uc774\ud130\uac00 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.")))try{await(0,i.kd)((0,i.H9)(r.db,"Class",t,"students",e)),u(t=>t.filter(t=>t.id!==e)),alert("\ud559\uc0dd\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(a){p.vF.error("\ud559\uc0dd \uc0ad\uc81c \uc911 \uc624\ub958 \ubc1c\uc0dd:",a),alert("\ud559\uc0dd \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}})(e.id,e.name),style:{padding:"10px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #eb3349 0%, #f45c43 100%)",color:"white",fontWeight:"600",fontSize:"13px",cursor:"pointer",transition:"all 0.3s ease"},children:"\uc0ad\uc81c"})]})]})},e.id)})})]})]})]})}):(0,x.jsx)("div",{children:"\uad00\ub9ac\uc790\ub9cc \uc811\uadfc\ud560 \uc218 \uc788\ub294 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."})}},7920(e,t,s){s.r(t),s.d(t,{default:()=>r});var a=s(5043),n=(s(6353),s(579));const r=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)([]),[i,d]=(0,a.useState)([]),[o,l]=(0,a.useState)(null),[c,p]=(0,a.useState)(""),[x,u]=(0,a.useState)("deposit"),[m,g]=(0,a.useState)(""),[h,b]=(0,a.useState)(""),[f,y]=(0,a.useState)("");(0,a.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("depositProducts"))||[],s=JSON.parse(localStorage.getItem("savingProducts"))||[],a=JSON.parse(localStorage.getItem("loanProducts"))||[];t(e),r(s),d(a)},[]);const j=e=>{switch(e){case"deposit":return"\uc608\uae08";case"saving":return"\uc801\uae08";case"loan":return"\ub300\ucd9c";default:return"\uae08\uc735"}},v=(a,o)=>0===a.length?(0,n.jsxs)("p",{className:"text-gray-500 text-center py-4",children:["\ub4f1\ub85d\ub41c ",j(o)," \uc0c1\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."]}):(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0c1\ud488\uba85"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uae30\uac04 (\uc77c)"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc774\uc728 (%)"}),(0,n.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uad00\ub9ac"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(a=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:a.name}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.period,"\uc77c"]}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.rate,"%"]}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,n.jsx)("button",{onClick:()=>((a,n)=>{let o,c,x;"deposit"===n?(o=e,c=t,x="depositProducts"):"saving"===n?(o=s,c=r,x="savingProducts"):"loan"===n&&(o=i,c=d,x="loanProducts");const u=o.filter(e=>e.id!==a);c(u),localStorage.setItem(x,JSON.stringify(u)),l("".concat(j(n)," \uc0c1\ud488\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),p("success"),setTimeout(()=>l(null),3e3)})(a.id,o),className:"text-red-600 hover:text-red-900",children:"\uc0ad\uc81c"})})]},a.id))})]})});return(0,n.jsxs)("div",{className:"admin-panel bg-white p-6 rounded-lg shadow-md",children:[o&&(0,n.jsx)("div",{className:"message ".concat("success"===c?"bg-green-100 border-green-400 text-green-700":"bg-red-100 border-red-400 text-red-700"," border px-4 py-3 rounded relative mb-4"),role:"alert",children:(0,n.jsx)("span",{className:"block sm:inline",children:o})}),(0,n.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"\uae08\uc735 \uc0c1\ud488 \uad00\ub9ac"}),(0,n.jsx)("div",{className:"admin-tabs mb-6 border-b",children:(0,n.jsxs)("div",{className:"flex flex-wrap",children:[(0,n.jsx)("button",{className:"py-2 px-4 font-medium ".concat("deposit"===x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>u("deposit"),children:"\uc608\uae08 \uc0c1\ud488 \uad00\ub9ac"}),(0,n.jsx)("button",{className:"py-2 px-4 font-medium ".concat("saving"===x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>u("saving"),children:"\uc801\uae08 \uc0c1\ud488 \uad00\ub9ac"}),(0,n.jsx)("button",{className:"py-2 px-4 font-medium ".concat("loan"===x?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"),onClick:()=>u("loan"),children:"\ub300\ucd9c \uc0c1\ud488 \uad00\ub9ac"})]})}),(0,n.jsxs)("div",{className:"add-product-form mb-6 p-4 bg-gray-50 rounded-md",children:[(0,n.jsxs)("h4",{className:"font-semibold mb-3",children:[j(x)," \uc0c1\ud488 \ucd94\uac00"]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"\uc0c1\ud488\uba85",className:"w-full p-2 border rounded-md"}),(0,n.jsx)("input",{type:"number",value:h,onChange:e=>b(e.target.value),placeholder:"\uae30\uac04 (\uc77c)",className:"w-full p-2 border rounded-md"}),(0,n.jsx)("input",{type:"number",step:"0.1",value:f,onChange:e=>y(e.target.value),placeholder:"\uc774\uc728 (%)",className:"w-full p-2 border rounded-md"})]}),(0,n.jsx)("button",{onClick:()=>{if(!m.trim()||!h||!f||isNaN(h)||isNaN(f))return l("\ubaa8\ub4e0 \ud544\ub4dc\ub97c \uc62c\ubc14\ub974\uac8c \uc785\ub825\ud574\uc8fc\uc138\uc694."),p("error"),void setTimeout(()=>l(null),3e3);const a={id:Date.now(),name:m,period:parseInt(h),rate:parseFloat(f)};let n=[],o="";"deposit"===x?(n=[...e,a],t(n),o="depositProducts"):"saving"===x?(n=[...s,a],r(n),o="savingProducts"):"loan"===x&&(n=[...i,a],d(n),o="loanProducts"),localStorage.setItem(o,JSON.stringify(n)),l("\uc0c8 ".concat(j(x)," \uc0c1\ud488\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),p("success"),g(""),b(""),y(""),setTimeout(()=>l(null),3e3)},className:"mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-md",children:"\uc0c1\ud488 \ucd94\uac00"})]}),(0,n.jsxs)("div",{className:"product-list",children:[(0,n.jsxs)("h4",{className:"font-semibold mb-3",children:[j(x)," \uc0c1\ud488 \ubaa9\ub85d"]}),"deposit"===x&&v(e,"deposit"),"saving"===x&&v(s,"saving"),"loan"===x&&v(i,"loan")]})]})}}}]);
//# sourceMappingURL=175.60f58377.chunk.js.map