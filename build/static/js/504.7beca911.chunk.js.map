{"version":3,"file":"static/js/504.7beca911.chunk.js","mappings":"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","sources":["pages/organization/OrganizationChart.js"],"sourcesContent":["// src/pages/organization/OrganizationChart.js\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport \"./OrganizationChart.css\";\r\nimport { db } from \"../../firebase\"; // Firestore ì¸ìŠ¤í„´ìŠ¤\r\nimport {\r\n  doc,\r\n  collection,\r\n  query,\r\n  where,\r\n  updateDoc,\r\n  setDoc,\r\n  getDoc,\r\n  getDocs,\r\n  serverTimestamp,\r\n  writeBatch,\r\n} from \"firebase/firestore\";\r\nimport { usePolling } from \"../../hooks/usePolling\";\r\n\r\nimport { logger } from \"../../utils/logger\";\r\n// ê¸°ë³¸ ê´€ë¦¬ì ì„¤ì • (Firestoreì— ì—†ì„ ê²½ìš° ì‚¬ìš©)\r\nconst DEFAULT_ADMIN_SETTINGS = {\r\n  vetoOverrideRequired: 17,\r\n  adminPassword: process.env.REACT_APP_ADMIN_DEFAULT_PASSWORD || \"\",\r\n  lastUpdated: null,\r\n};\r\n\r\nconst OrganizationChart = ({ classCode }) => {\r\n  // propsë¡œ classCode ë°›ê¸°\r\n  const [approvedLaws, setApprovedLaws] = useState([]);\r\n  const [vetoPendingLaws, setVetoPendingLaws] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [selectedLaw, setSelectedLaw] = useState(null);\r\n  const [vetoReason, setVetoReason] = useState(\"\");\r\n  const [isAdminMode, setIsAdminMode] = useState(false);\r\n  const [passwordInput, setPasswordInput] = useState(\"\");\r\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\r\n  const [adminSettings, setAdminSettings] = useState(DEFAULT_ADMIN_SETTINGS);\r\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\r\n  const [newSettings, setNewSettings] = useState({\r\n    vetoOverrideRequired: DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\r\n    adminPassword: \"\",\r\n  });\r\n  const [loadingSettings, setLoadingSettings] = useState(true);\r\n  const [loadingLaws, setLoadingLaws] = useState(true);\r\n\r\n  // Firestoreì—ì„œ ê´€ë¦¬ì ì„¤ì • ë¡œë“œ ë° ì´ˆê¸°í™”\r\n  const fetchSettings = useCallback(async () => {\r\n    if (!classCode) return;\r\n    setLoadingSettings(true);\r\n    const settingsDocRef = doc(db, \"governmentSettings\", classCode);\r\n\r\n    try {\r\n      const docSnap = await getDoc(settingsDocRef);\r\n      if (docSnap.exists()) {\r\n        setAdminSettings({ ...DEFAULT_ADMIN_SETTINGS, ...docSnap.data() });\r\n        setNewSettings({\r\n          // ëª¨ë‹¬ìš© ì„¤ì •ë„ ì—…ë°ì´íŠ¸\r\n          vetoOverrideRequired:\r\n            docSnap.data().vetoOverrideRequired ||\r\n            DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\r\n          adminPassword: \"\", // ë¹„ë°€ë²ˆí˜¸ëŠ” ì§ì ‘ ì…ë ¥ë°›ë„ë¡ ë¹„ì›Œë‘ \r\n        });\r\n      } else {\r\n        // í•´ë‹¹ classCodeì— ëŒ€í•œ ì„¤ì •ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ ìƒì„±\r\n        await setDoc(settingsDocRef, {\r\n          ...DEFAULT_ADMIN_SETTINGS,\r\n          lastUpdated: serverTimestamp(),\r\n        });\r\n        setAdminSettings(DEFAULT_ADMIN_SETTINGS);\r\n        setNewSettings({\r\n          vetoOverrideRequired: DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\r\n          adminPassword: \"\",\r\n        });\r\n        logger.log(`[${classCode}] ì •ë¶€ ê¸°ë³¸ ì„¤ì • ìƒì„± ì™„ë£Œ`);\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"ì •ë¶€ ì„¤ì • ë¡œë“œ ì˜¤ë¥˜:\", error);\r\n    } finally {\r\n      setLoadingSettings(false);\r\n    }\r\n  }, [classCode]);\r\n\r\n  // ğŸ”¥ [ë¹„ìš© ìµœì í™”] 5ë¶„ â†’ 1ì‹œê°„ (ì •ë¶€ ì„¤ì •ì€ ê±°ì˜ ì•ˆ ë°”ë€œ)\r\n  usePolling(fetchSettings, { interval: 60 * 60 * 1000, enabled: !!classCode });\r\n\r\n  // Firestoreì—ì„œ ë²•ì•ˆ ë°ì´í„° ë¡œë“œ\r\n  const fetchLaws = useCallback(async () => {\r\n    if (!classCode) return;\r\n    setLoadingLaws(true);\r\n    const lawsCollectionRef = collection(db, \"laws\"); // 'laws'ëŠ” êµ­íšŒì—ì„œ ì‚¬ìš©í•˜ëŠ” ë²•ì•ˆ ì»¬ë ‰ì…˜ëª…ê³¼ ë™ì¼í•´ì•¼ í•¨\r\n    const q = query(lawsCollectionRef, where(\"classCode\", \"==\", classCode));\r\n\r\n    try {\r\n      const querySnapshot = await getDocs(q);\r\n      const allLaws = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n\r\n      const approved = allLaws.filter(\r\n        (law) => law.status === \"approved\" && !law.presidentAction // êµ­íšŒ í†µê³¼, ëŒ€í†µë ¹ ì¡°ì¹˜ ì „\r\n      );\r\n      const vetoPending = allLaws.filter((law) => law.status === \"vetoed\"); // ëŒ€í†µë ¹ ê±°ë¶€, ì¬ì˜ê²° ëŒ€ê¸°\r\n\r\n      setApprovedLaws(approved);\r\n      setVetoPendingLaws(vetoPending);\r\n    } catch (error) {\r\n      logger.error(\"ë²•ì•ˆ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:\", error);\r\n    } finally {\r\n      setLoadingLaws(false);\r\n    }\r\n  }, [classCode]);\r\n\r\n  // ğŸ”¥ [ë¹„ìš© ìµœì í™”] 5ë¶„ â†’ 30ë¶„ (ë²•ì•ˆ ë°ì´í„°ëŠ” ìì£¼ ì•ˆ ë°”ë€œ)\r\n  usePolling(fetchLaws, { interval: 30 * 60 * 1000, enabled: !!classCode });\r\n\r\n  // ê´€ë¦¬ì ëª¨ë“œ í† ê¸€\r\n  const toggleAdminMode = () => {\r\n    if (isAdminMode) {\r\n      setIsAdminMode(false);\r\n    } else {\r\n      setShowPasswordModal(true);\r\n    }\r\n  };\r\n\r\n  // ë¹„ë°€ë²ˆí˜¸ í™•ì¸\r\n  const verifyPassword = () => {\r\n    if (passwordInput === adminSettings.adminPassword) {\r\n      setIsAdminMode(true);\r\n      setShowPasswordModal(false);\r\n      setPasswordInput(\"\");\r\n    } else {\r\n      alert(\"ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\r\n    }\r\n  };\r\n\r\n  // ê´€ë¦¬ì ì„¤ì • ì €ì¥ (Firestore)\r\n  const saveSettings = async () => {\r\n    if (!classCode) return;\r\n    if (\r\n      !newSettings.vetoOverrideRequired ||\r\n      newSettings.vetoOverrideRequired < 1\r\n    ) {\r\n      alert(\"ì¬ì˜ê²° í•„ìš” ì°¬ì„±ìˆ˜ëŠ” 1 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n\r\n    const settingsDocRef = doc(db, \"governmentSettings\", classCode);\r\n    const updatedSettingsData = {\r\n      vetoOverrideRequired: parseInt(newSettings.vetoOverrideRequired),\r\n      lastUpdated: serverTimestamp(),\r\n    };\r\n\r\n    if (newSettings.adminPassword) {\r\n      updatedSettingsData.adminPassword = newSettings.adminPassword;\r\n    }\r\n\r\n    try {\r\n      await updateDoc(settingsDocRef, updatedSettingsData);\r\n      await fetchSettings();\r\n      setShowSettingsModal(false);\r\n      alert(\"ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\");\r\n    } catch (error) {\r\n      logger.error(\"ì„¤ì • ì €ì¥ ì˜¤ë¥˜:\", error);\r\n      alert(\"ì„¤ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\r\n    }\r\n  };\r\n\r\n  // ë²•ì•ˆ ìŠ¹ì¸ ì²˜ë¦¬ (Firestore)\r\n  const approveLaw = async (law) => {\r\n    if (!isAdminMode || !classCode) {\r\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ìŠ¹ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    const lawDocRef = doc(db, \"laws\", law.id);\r\n    try {\r\n      await updateDoc(lawDocRef, {\r\n        presidentAction: \"approved\", // ëŒ€í†µë ¹ ìŠ¹ì¸\r\n        finalStatus: \"final_approved\", // ìµœì¢… ìƒíƒœ: ìŠ¹ì¸\r\n        finalApprovalDate: serverTimestamp(),\r\n        status: \"final_approved\", // ìƒíƒœë„ ìµœì¢… ìŠ¹ì¸ìœ¼ë¡œ ë³€ê²½ (í˜¼ì„  ë°©ì§€)\r\n      });\r\n      await fetchLaws();\r\n      alert(`\"${law.title}\" ë²•ì•ˆì´ ìµœì¢… ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.`);\r\n    } catch (error) {\r\n      logger.error(\"ë²•ì•ˆ ìŠ¹ì¸ ì˜¤ë¥˜:\", error);\r\n      alert(\"ë²•ì•ˆ ìŠ¹ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\r\n    }\r\n  };\r\n\r\n  // ê±°ë¶€ê¶Œ í–‰ì‚¬ ëª¨ë‹¬ ì—´ê¸°\r\n  const openVetoModal = (law) => {\r\n    if (!isAdminMode) {\r\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ê±°ë¶€ê¶Œì„ í–‰ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\r\n      return;\r\n    }\r\n    setSelectedLaw(law);\r\n    setVetoReason(\"\");\r\n    setShowModal(true);\r\n  };\r\n\r\n  // ê±°ë¶€ê¶Œ í–‰ì‚¬ ì²˜ë¦¬ (Firestore)\r\n  const vetoLaw = async () => {\r\n    if (!vetoReason) {\r\n      alert(\"ê±°ë¶€ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\r\n      return;\r\n    }\r\n    if (!selectedLaw || !classCode) return;\r\n\r\n    const lawDocRef = doc(db, \"laws\", selectedLaw.id);\r\n    // êµ­íšŒ ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ ë¡œì§ìœ¼ë¡œ ê±°ë¶€ê¶Œ í–‰ì‚¬ ì‹œ íˆ¬í‘œ ê´€ë ¨ í•„ë“œë„ ì—…ë°ì´íŠ¸\r\n    // (ì˜ˆ: nationalAssemblyVotes ì»¬ë ‰ì…˜ì—ì„œ í•´ë‹¹ ë²•ì•ˆ íˆ¬í‘œ ì´ë ¥ ì‚­ì œ ë“±ì€ NationalAssembly ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ê³¼ ì¤‘ë³µë  ìˆ˜ ìˆì–´, ì—¬ê¸°ì„œëŠ” ë²•ì•ˆ ìƒíƒœë§Œ ë³€ê²½)\r\n    // êµ­íšŒì—ì„œ ì¬ì˜ê²°ì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í•„ë“œë“¤ì„ ì´ˆê¸°í™”/ì„¤ì •í•´ì¤ë‹ˆë‹¤.\r\n    const vetoDeadline = new Date(\r\n      Date.now() + 24 * 60 * 60 * 1000\r\n    ).toISOString(); // 24ì‹œê°„ í›„\r\n\r\n    try {\r\n      await updateDoc(lawDocRef, {\r\n        status: \"vetoed\", // ìƒíƒœ: ê±°ë¶€ë¨ (êµ­íšŒ ì¬ì˜ê²° ëŒ€ê¸°)\r\n        presidentAction: \"vetoed\", // ëŒ€í†µë ¹ ì¡°ì¹˜: ê±°ë¶€\r\n        vetoReason: vetoReason,\r\n        vetoDate: serverTimestamp(),\r\n        approvals: 0, // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\r\n        disapprovals: 0, // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\r\n        voters: [], // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\r\n        vetoDeadline: vetoDeadline, // ì¬ì˜ê²° ê¸°í•œ ì„¤ì •\r\n        finalStatus: null, // ìµœì¢… ìƒíƒœ ì´ˆê¸°í™”\r\n      });\r\n      await fetchLaws();\r\n\r\n      // êµ­íšŒ íˆ¬í‘œ ì´ë ¥(nationalAssemblyVotes)ì€ NationalAssembly ì»´í¬ë„ŒíŠ¸ì—ì„œ ê´€ë¦¬í•˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ì§ì ‘ ê±´ë“œë¦¬ì§€ ì•ŠìŒ\r\n      // í•„ìš”í•˜ë‹¤ë©´, Cloud Function ë“±ì„ í†µí•´ êµ­íšŒ íˆ¬í‘œ ì´ë ¥ë„ ì´ˆê¸°í™”í•˜ëŠ” ë¡œì§ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŒ\r\n\r\n      setShowModal(false);\r\n      setSelectedLaw(null);\r\n      alert(\r\n        `\"${selectedLaw.title}\" ë²•ì•ˆì— ê±°ë¶€ê¶Œì´ í–‰ì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. êµ­íšŒì—ì„œ ì¬ì˜ê²° ì ˆì°¨ê°€ ì‹œì‘ë©ë‹ˆë‹¤.`\r\n      );\r\n    } catch (error) {\r\n      logger.error(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì˜¤ë¥˜:\", error);\r\n      alert(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\r\n    }\r\n  };\r\n\r\n  // ë‚ ì§œ í¬ë§· í•¨ìˆ˜\r\n  const formatDate = (dateStringOrTimestamp) => {\r\n    if (!dateStringOrTimestamp) return \"ë‚ ì§œ ì •ë³´ ì—†ìŒ\";\r\n    let date;\r\n    if (dateStringOrTimestamp.toDate) {\r\n      // Firestore Timestamp ê°ì²´ì¸ ê²½ìš°\r\n      date = dateStringOrTimestamp.toDate();\r\n    } else {\r\n      // ISO ë¬¸ìì—´ì¸ ê²½ìš°\r\n      date = new Date(dateStringOrTimestamp);\r\n    }\r\n    if (isNaN(date.getTime())) return \"ìœ íš¨í•˜ì§€ ì•Šì€ ë‚ ì§œ\";\r\n    return `${date.getFullYear()}ë…„ ${\r\n      date.getMonth() + 1\r\n    }ì›” ${date.getDate()}ì¼ ${date.getHours()}ì‹œ ${date.getMinutes()}ë¶„`;\r\n  };\r\n\r\n  // ë‚¨ì€ ì‹œê°„ ê³„ì‚° í•¨ìˆ˜\r\n  const getRemainingTime = (deadline) => {\r\n    if (!deadline) return \"ê¸°í•œ ì •ë³´ ì—†ìŒ\";\r\n    const now = new Date();\r\n    const deadlineDate = new Date(deadline);\r\n    const diff = deadlineDate - now;\r\n\r\n    if (diff <= 0) return \"ì‹œê°„ ë§Œë£Œ\";\r\n\r\n    const hours = Math.floor(diff / (1000 * 60 * 60));\r\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\r\n\r\n    return `${hours}ì‹œê°„ ${minutes}ë¶„ ë‚¨ìŒ`;\r\n  };\r\n\r\n  // ìë™ ë¶€ê²° ì²˜ë¦¬ í™•ì¸ (Firestore ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, NationalAssembly ì»´í¬ë„ŒíŠ¸ì—ì„œ ì£¼ë¡œ ì²˜ë¦¬)\r\n  // OrganizationChartëŠ” vetoPendingLaws ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” ì—­í• ì— ì§‘ì¤‘í•˜ê³ ,\r\n  // ì‹¤ì œ ë²•ì•ˆì˜ ìµœì¢… ìƒíƒœ ë³€ê²½(auto_rejected ë“±)ì€ NationalAssembly ë˜ëŠ” ë³„ë„ì˜ ë¡œì§(ì˜ˆ: Cloud Function)ì—ì„œ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ë” ì ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n  // ì—¬ê¸°ì„œëŠ” UI í‘œì‹œì— í•„ìš”í•œ ì •ë³´ë§Œ í™œìš©í•©ë‹ˆë‹¤.\r\n  // ë§Œì•½ ì´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´, ì•„ë˜ ë¡œì§ì„ Firestore ì“°ê¸°ì™€ í•¨ê»˜ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.\r\n  // useEffect(() => {\r\n  //   if (!classCode || vetoPendingLaws.length === 0) return;\r\n\r\n  //   const now = new Date();\r\n  //   const batch = writeBatch(db);\r\n  //   let needsUpdate = false;\r\n\r\n  //   vetoPendingLaws.forEach(law => {\r\n  //     if (law.status === \"vetoed\" && law.vetoDeadline) {\r\n  //       const deadlineDate = new Date(law.vetoDeadline);\r\n  //       const currentApprovals = law.approvals || 0;\r\n\r\n  //       if (now > deadlineDate && currentApprovals < adminSettings.vetoOverrideRequired) {\r\n  //         const lawDocRef = doc(db, \"laws\", law.id);\r\n  //         batch.update(lawDocRef, {\r\n  //           status: \"auto_rejected\", // ìë™ ë¶€ê²°\r\n  //           finalStatus: \"rejected\", // ìµœì¢… ìƒíƒœ: ë¶€ê²°\r\n  //           rejectionReason: \"ì¬ì˜ê²° ê¸°í•œ ë§Œë£Œ ë° ì°¬ì„± ë¯¸ë‹¬\",\r\n  //           finalDecisionDate: serverTimestamp(),\r\n  //         });\r\n  //         needsUpdate = true;\r\n  //         logger.log(`ë²•ì•ˆ \"${law.title}\" ìë™ ë¶€ê²° ì²˜ë¦¬ë¨.`);\r\n  //       }\r\n  //     }\r\n  //   });\r\n\r\n  //   if (needsUpdate) {\r\n  //     batch.commit()\r\n  //       .then(() => logger.log(\"ìë™ ë¶€ê²° ë²•ì•ˆ ìƒíƒœ ì¼ê´„ ì—…ë°ì´íŠ¸ ì™„ë£Œ.\"))\r\n  //       .catch(error => logger.error(\"ìë™ ë¶€ê²° ë²•ì•ˆ ìƒíƒœ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:\", error));\r\n  //   }\r\n  //   // ì´ ë¡œì§ì€ NationalAssembly.jsì—ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê±°ë‚˜ Cloud Functionìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë” ì í•©í•©ë‹ˆë‹¤.\r\n  //   // ì—¬ê¸°ì„œëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ë‚¨ê²¨ë‘¡ë‹ˆë‹¤.\r\n  // }, [vetoPendingLaws, adminSettings.vetoOverrideRequired, classCode]);\r\n\r\n  if (!classCode) {\r\n    return (\r\n      <div className=\"org-chart-container\">\r\n        <p>ì„ íƒëœ í•™ê¸‰ì´ ì—†ìŠµë‹ˆë‹¤. í•™ê¸‰ì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loadingSettings || loadingLaws) {\r\n    return (\r\n      <div className=\"org-chart-container\">\r\n        <p>ì •ë¶€ ì¡°ì§ë„ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"org-chart-container\">\r\n      <div className=\"org-header\">\r\n        <h1 className=\"org-title\">ì •ë¶€ ì¡°ì§ë„ (í•™ê¸‰: {classCode})</h1>\r\n        <div className=\"admin-controls\">\r\n          <button\r\n            className={`admin-toggle ${isAdminMode ? \"admin-active\" : \"\"}`}\r\n            onClick={toggleAdminMode}\r\n          >\r\n            {isAdminMode ? \"ê´€ë¦¬ì ëª¨ë“œ í•´ì œ\" : \"ê´€ë¦¬ì ëª¨ë“œ\"}\r\n          </button>\r\n\r\n          {isAdminMode && (\r\n            <button\r\n              className=\"settings-button\"\r\n              onClick={() => {\r\n                // setNewSettingsëŠ” useEffectì—ì„œ adminSettings ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ë¨\r\n                // í˜„ì¬ adminSettings ê°’ìœ¼ë¡œ ëª¨ë‹¬ ì´ˆê¸°í™”\r\n                setNewSettings({\r\n                  vetoOverrideRequired: adminSettings.vetoOverrideRequired,\r\n                  adminPassword: \"\", // ë¹„ë°€ë²ˆí˜¸ í•„ë“œëŠ” í•­ìƒ ë¹„ì›Œë‘ \r\n                });\r\n                setShowSettingsModal(true);\r\n              }}\r\n            >\r\n              ì„¤ì •\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"president-section\">\r\n        <div className=\"president-office\">\r\n          <h2>ëŒ€í†µë ¹ì‹¤</h2>\r\n          {isAdminMode && (\r\n            <div className=\"admin-indicator\">ê´€ë¦¬ì ë¡œê·¸ì¸ë¨</div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"law-approval-section\">\r\n          <h3>ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ë²•ì•ˆ</h3>\r\n          {approvedLaws.length === 0 ? (\r\n            <div className=\"empty-state\">ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ë²•ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>\r\n          ) : (\r\n            <div className=\"pending-laws\">\r\n              {approvedLaws.map((law) => (\r\n                <div key={law.id} className=\"law-card\">\r\n                  <div className=\"law-header\">\r\n                    <h3 className=\"law-title\">{law.title}</h3>\r\n                    <div className=\"law-status\">êµ­íšŒ ê°€ê²° (ìŠ¹ì¸ ëŒ€ê¸°)</div>\r\n                  </div>\r\n                  <div className=\"law-content\">\r\n                    <p>\r\n                      <strong>ì·¨ì§€:</strong> {law.purpose}\r\n                    </p>\r\n                    <p>\r\n                      <strong>ì„¤ëª…:</strong> {law.description}\r\n                    </p>\r\n                    <p>\r\n                      <strong>ë²Œê¸ˆ:</strong>{\" \"}\r\n                      {law.fine\r\n                        ? `${law.fine.toLocaleString()}ì›`\r\n                        : \"ì •ë³´ ì—†ìŒ\"}\r\n                    </p>\r\n                    <p>\r\n                      <strong>êµ­íšŒ ìŠ¹ì¸:</strong> ì°¬ì„± {law.approvals || 0}ëª…,\r\n                      ë°˜ëŒ€ {law.disapprovals || 0}ëª…\r\n                    </p>\r\n                    <p>\r\n                      <strong>êµ­íšŒ ê°€ê²°ì¼:</strong>{\" \"}\r\n                      {formatDate(law.approvalDate)}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"law-actions\">\r\n                    <button\r\n                      className=\"approve-button\"\r\n                      onClick={() => approveLaw(law)}\r\n                      disabled={!isAdminMode}\r\n                    >\r\n                      ìµœì¢… ìŠ¹ì¸\r\n                    </button>\r\n                    <button\r\n                      className=\"veto-button\"\r\n                      onClick={() => openVetoModal(law)}\r\n                      disabled={!isAdminMode}\r\n                    >\r\n                      ê±°ë¶€ê¶Œ í–‰ì‚¬\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"vetoed-laws-section\">\r\n          <h3>ì¬ì˜ê²° ì§„í–‰ ì¤‘ì¸ ë²•ì•ˆ (ëŒ€í†µë ¹ ê±°ë¶€)</h3>\r\n          {vetoPendingLaws.length === 0 ? (\r\n            <div className=\"empty-state\">ì¬ì˜ê²° ì§„í–‰ ì¤‘ì¸ ë²•ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>\r\n          ) : (\r\n            <div className=\"vetoed-laws\">\r\n              {vetoPendingLaws.map((law) => (\r\n                <div key={law.id} className=\"law-card vetoed\">\r\n                  <div className=\"law-header\">\r\n                    <h3 className=\"law-title\">{law.title}</h3>\r\n                    <div className=\"veto-status\">\r\n                      ê±°ë¶€ê¶Œ í–‰ì‚¬ë¨ (ì¬ì˜ê²° í•„ìš”)\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"law-content\">\r\n                    <p>\r\n                      <strong>ì·¨ì§€:</strong> {law.purpose}\r\n                    </p>\r\n                    <p>\r\n                      <strong>ì„¤ëª…:</strong> {law.description}\r\n                    </p>\r\n                    <p>\r\n                      <strong>ë²Œê¸ˆ:</strong>{\" \"}\r\n                      {law.fine\r\n                        ? `${law.fine.toLocaleString()}ì›`\r\n                        : \"ì •ë³´ ì—†ìŒ\"}\r\n                    </p>\r\n                    <p>\r\n                      <strong>ê±°ë¶€ ì‚¬ìœ :</strong> {law.vetoReason}\r\n                    </p>\r\n                    <p>\r\n                      <strong>ê±°ë¶€ ì‹œê°„:</strong> {formatDate(law.vetoDate)}\r\n                    </p>\r\n                    <p>\r\n                      <strong>ì¬ì˜ê²° ë§ˆê°:</strong>{\" \"}\r\n                      {formatDate(law.vetoDeadline)} (\r\n                      {getRemainingTime(law.vetoDeadline)})\r\n                    </p>\r\n                    <p>\r\n                      <strong>í˜„ì¬ ì¬ì˜ê²° í˜„í™© (êµ­íšŒ):</strong> ì°¬ì„±{\" \"}\r\n                      {law.approvals || 0}ëª… / í•„ìš”{\" \"}\r\n                      {adminSettings.vetoOverrideRequired}ëª…\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ê±°ë¶€ê¶Œ í–‰ì‚¬ ëª¨ë‹¬ */}\r\n      {showModal && selectedLaw && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-container\">\r\n            <div className=\"modal-header\">\r\n              <h2 className=\"modal-title\">ê±°ë¶€ê¶Œ í–‰ì‚¬</h2>\r\n            </div>\r\n            <div className=\"modal-content\">\r\n              <h3>{selectedLaw.title}</h3>\r\n              <p>ì´ ë²•ì•ˆì— ëŒ€í•´ ê±°ë¶€ê¶Œì„ í–‰ì‚¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>\r\n              <p>\r\n                êµ­íšŒ ì¬ì˜ê²°ì„ ìœ„í•´ì„œëŠ”{\" \"}\r\n                <strong>{adminSettings.vetoOverrideRequired}ëª…</strong> ì´ìƒì˜\r\n                ì°¬ì„±ì´ í•„ìš”í•©ë‹ˆë‹¤.\r\n              </p>\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">ê±°ë¶€ ì‚¬ìœ  (í•„ìˆ˜)</label>\r\n                <textarea\r\n                  className=\"form-textarea\"\r\n                  rows=\"4\"\r\n                  value={vetoReason}\r\n                  onChange={(e) => setVetoReason(e.target.value)}\r\n                  placeholder=\"ê±°ë¶€ ì‚¬ìœ ë¥¼ ìƒì„¸íˆ ì‘ì„±í•´ì£¼ì„¸ìš”.\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"modal-button cancel\"\r\n                onClick={() => {\r\n                  setShowModal(false);\r\n                  setSelectedLaw(null);\r\n                }}\r\n              >\r\n                ì·¨ì†Œ\r\n              </button>\r\n              <button\r\n                className=\"modal-button veto\"\r\n                onClick={vetoLaw}\r\n                disabled={!vetoReason}\r\n              >\r\n                ê±°ë¶€ê¶Œ í–‰ì‚¬\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ëª¨ë‹¬ */}\r\n      {showPasswordModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-container small\">\r\n            <div className=\"modal-header\">\r\n              <h2 className=\"modal-title\">ê´€ë¦¬ì ë¡œê·¸ì¸</h2>\r\n            </div>\r\n            <div className=\"modal-content\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">ë¹„ë°€ë²ˆí˜¸</label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-input\"\r\n                  value={passwordInput}\r\n                  onChange={(e) => setPasswordInput(e.target.value)}\r\n                  placeholder=\"ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”\"\r\n                  onKeyPress={(e) => e.key === \"Enter\" && verifyPassword()}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"modal-button cancel\"\r\n                onClick={() => setShowPasswordModal(false)}\r\n              >\r\n                ì·¨ì†Œ\r\n              </button>\r\n              <button className=\"modal-button submit\" onClick={verifyPassword}>\r\n                ë¡œê·¸ì¸\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ê´€ë¦¬ì ì„¤ì • ëª¨ë‹¬ */}\r\n      {showSettingsModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-container\">\r\n            <div className=\"modal-header\">\r\n              <h2 className=\"modal-title\">ê´€ë¦¬ì ì„¤ì •</h2>\r\n            </div>\r\n            <div className=\"modal-content\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">ì¬ì˜ê²° í•„ìš” ì°¬ì„±ìˆ˜</label>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-input\"\r\n                  min=\"1\"\r\n                  value={newSettings.vetoOverrideRequired}\r\n                  onChange={(e) =>\r\n                    setNewSettings({\r\n                      ...newSettings,\r\n                      vetoOverrideRequired: parseInt(e.target.value) || 0,\r\n                    })\r\n                  }\r\n                />\r\n                <p className=\"form-hint\">\r\n                  ê±°ë¶€ê¶Œ í–‰ì‚¬ í›„ ë²•ì•ˆì´ ìµœì¢… ê°€ê²°ë˜ê¸° ìœ„í•´ í•„ìš”í•œ êµ­íšŒ ì°¬ì„±í‘œ ìˆ˜\r\n                </p>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">\r\n                  ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (ì„ íƒ)\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-input\"\r\n                  value={newSettings.adminPassword}\r\n                  onChange={(e) =>\r\n                    setNewSettings({\r\n                      ...newSettings,\r\n                      adminPassword: e.target.value,\r\n                    })\r\n                  }\r\n                  placeholder=\"ë³€ê²½í•˜ë ¤ë©´ ì…ë ¥, ì•„ë‹ˆë©´ ë¹„ì›Œë‘ì„¸ìš”\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"modal-button cancel\"\r\n                onClick={() => setShowSettingsModal(false)}\r\n              >\r\n                ì·¨ì†Œ\r\n              </button>\r\n              <button className=\"modal-button submit\" onClick={saveSettings}>\r\n                ì €ì¥\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrganizationChart;\r\n"],"names":["DEFAULT_ADMIN_SETTINGS","vetoOverrideRequired","adminPassword","process","REACT_APP_ADMIN_DEFAULT_PASSWORD","lastUpdated","_ref","classCode","approvedLaws","setApprovedLaws","useState","vetoPendingLaws","setVetoPendingLaws","showModal","setShowModal","selectedLaw","setSelectedLaw","vetoReason","setVetoReason","isAdminMode","setIsAdminMode","passwordInput","setPasswordInput","showPasswordModal","setShowPasswordModal","adminSettings","setAdminSettings","showSettingsModal","setShowSettingsModal","newSettings","setNewSettings","loadingSettings","setLoadingSettings","loadingLaws","setLoadingLaws","fetchSettings","useCallback","async","settingsDocRef","doc","db","docSnap","getDoc","exists","_objectSpread","data","setDoc","serverTimestamp","logger","log","concat","error","usePolling","interval","enabled","fetchLaws","lawsCollectionRef","collection","q","query","where","allLaws","getDocs","docs","map","id","approved","filter","law","status","presidentAction","vetoPending","verifyPassword","alert","formatDate","dateStringOrTimestamp","date","toDate","Date","isNaN","getTime","getFullYear","getMonth","getDate","getHours","getMinutes","getRemainingTime","deadline","now","diff","hours","Math","floor","minutes","_jsx","className","children","_jsxs","onClick","toggleAdminMode","length","title","purpose","description","fine","toLocaleString","approvals","disapprovals","approvalDate","lawDocRef","updateDoc","finalStatus","finalApprovalDate","approveLaw","disabled","openVetoModal","vetoDate","vetoDeadline","rows","value","onChange","e","target","placeholder","toISOString","voters","type","onKeyPress","key","min","parseInt","updatedSettingsData"],"ignoreList":[],"sourceRoot":""}