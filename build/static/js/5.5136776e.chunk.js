"use strict";(self.webpackChunkinconomysu_class=self.webpackChunkinconomysu_class||[]).push([[5],{7005(e,n,t){t.r(n),t.d(n,{default:()=>m});var i=t(2555),r=t(5043),a=t(5016),s=t(8719),o=t(2864),d=t(5472),c=t(4589),l=t(5452),u=t(579);function m(){var e,n,m,p,g;const b=(0,a.As)(),h=(0,s.wB)(),x=null!==(e=null===b||void 0===b?void 0:b.users)&&void 0!==e?e:[],f=null===(n=null===b||void 0===b?void 0:b.loading)||void 0===n||n,v=f?null:null===b||void 0===b?void 0:b.user,j=f?null:null===b||void 0===b?void 0:b.userDoc,w=null===b||void 0===b?void 0:b.optimisticUpdate,y=null!==(m=null===j||void 0===j?void 0:j.cash)&&void 0!==m?m:0,N=(null===v||void 0===v?void 0:v.uid)||(null===j||void 0===j?void 0:j.id),k=null===j||void 0===j?void 0:j.classCode,B=(null===j||void 0===j?void 0:j.name)||(null===v||void 0===v?void 0:v.displayName)||"\ud310\ub9e4\uc790 \uc815\ubcf4 \uc5c6\uc74c",A=null===(p=null===h||void 0===h?void 0:h.loading)||void 0===p||p,I=A?[]:null!==(g=null===h||void 0===h?void 0:h.userItems)&&void 0!==g?g:[],T=null===h||void 0===h?void 0:h.updateUserItemQuantity,[C,S]=(0,r.useState)("ongoing"),[D,F]=(0,r.useState)(""),[z,O]=(0,r.useState)(null),[H,P]=(0,r.useState)({assetId:null,assetType:"item",name:"",description:"",startPrice:"",duration:"1"}),[q,G]=(0,r.useState)({}),[E,L]=(0,r.useState)(null),[V,R]=(0,r.useState)(new Date),[U,M]=(0,r.useState)([]),[J,_]=(0,r.useState)(!0),K=e=>"number"!==typeof e||isNaN(e)?"\uac00\uaca9 \uc815\ubcf4 \uc5c6\uc74c":"".concat(e.toLocaleString("ko-KR"),"\uc6d0");(0,r.useEffect)(()=>{const e=setInterval(()=>R(new Date),6e4);return()=>clearInterval(e)},[]);(0,r.useEffect)(()=>{if(!k||!N)return _(!1),void M([]);(async()=>{try{_(!0);const n=(0,o.rJ)(o.db,"classes",k,"auctions"),r=(0,o.P)(n,(0,d.orderBy)("endTime","desc")),a=(await(0,o.GG)(r)).docs.map(e=>{var n;return(0,i.A)((0,i.A)({id:e.id},e.data()),{},{endTime:null!==(n=e.data().endTime)&&void 0!==n&&n.toDate?e.data().endTime.toDate():null})});M(a),_(!1);const s=new Date,c=a.filter(e=>"ongoing"===e.status&&e.endTime&&e.endTime<=s);c.length>0&&(l.vF.log("[Auction] \uc815\uc0b0\ud560 \uacbd\ub9e4 ".concat(c.length,"\uac1c \ubc1c\uacac.")),c.forEach(e=>(async e=>{if(!k)return;const n=(0,o.H9)(o.db,"classes",k,"auctions",e.id);l.vF.log("[Auction Settle] \uc815\uc0b0 \uc2dc\ub3c4: ".concat(e.id));let i=.03,r=null;try{var a;const e=await(0,o.x7)((0,o.H9)(o.db,"governmentSettings",k));var s;e.exists()&&null!==(a=e.data())&&void 0!==a&&a.taxSettings&&(i=null!==(s=e.data().taxSettings.auctionTransactionTaxRate)&&void 0!==s?s:.03);const{getClassAdminUid:n}=await Promise.resolve().then(t.bind(t,3744));r=await n(k)}catch(c){l.vF.error("[Auction Settle] \uc138\uae08 \uc124\uc815 \ub85c\ub4dc \uc2e4\ud328:",c)}let d=null;if(e.highestBidder&&e.originalStoreItemId){const n=(0,o.rJ)(o.db,"users",e.highestBidder,"inventory"),t=(0,o.P)(n,(0,o._M)("itemId","==",e.originalStoreItemId));d=await(0,o.GG)(t)}try{await(0,o.c4)(o.db,async t=>{const a=await t.get(n);if(!a.exists()||"ongoing"!==a.data().status)return void l.vF.log("[Auction Settle] \uacbd\ub9e4\uac00 \uc774\ubbf8 \ucc98\ub9ac\ub418\uc5c8\uac70\ub098 \uc0ad\uc81c\ub428: ".concat(e.id));const s=a.data(),c=new Date;if(s.endTime.toDate()>c)return void l.vF.log("[Auction Settle] \uacbd\ub9e4\uac00 \uc544\uc9c1 \uc885\ub8cc\ub418\uc9c0 \uc54a\uc74c: ".concat(e.id));let u=null,m=null;if(!s.highestBidder){const e=s.assetSourceCollection||"inventory";m=(0,o.H9)(o.db,"users",s.seller,e,s.assetId),u=await t.get(m)}if(s.highestBidder){const n=(0,o.H9)(o.db,"users",s.seller),a=Math.round(s.currentBid*i),c=s.currentBid-a;if(t.update(n,{cash:(0,o.GV)(c),updatedAt:(0,o.O5)()}),a>0&&r){const e=(0,o.H9)(o.db,"users",r);t.update(e,{cash:(0,o.GV)(a),updatedAt:(0,o.O5)()})}if(a>0){const e=(0,o.H9)(o.db,"nationalTreasuries",k);t.set(e,{totalAmount:(0,o.GV)(a),auctionTaxRevenue:(0,o.GV)(a),lastUpdated:(0,o.O5)()},{merge:!0})}if(d&&!d.empty){const e=d.docs[0].ref;t.update(e,{quantity:(0,o.GV)(1),updatedAt:(0,o.O5)()})}else{const e=(0,o.rJ)(o.db,"users",s.highestBidder,"inventory"),n=(0,o.H9)(e);t.set(n,{itemId:s.originalStoreItemId,name:s.name,description:s.description,icon:s.itemIcon||"\ud83d\udce6",quantity:1,type:"item",purchasedAt:(0,o.O5)(),updatedAt:(0,o.O5)()})}const l=(0,o.rJ)(o.db,"users",s.seller,"activityLogs");t.set((0,o.H9)(l),{timestamp:(0,o.O5)(),type:"auction_sold",message:a>0?"'".concat(s.name,"' \uc544\uc774\ud15c\uc774 ").concat(K(s.currentBid),"\uc5d0 \ud310\ub9e4\ub418\uc5c8\uc2b5\ub2c8\ub2e4. (\uac70\ub798\uc138 ").concat(K(a)," \ucc28\uac10, \uc2e4\uc218\ub839 ").concat(K(c),")"):"'".concat(s.name,"' \uc544\uc774\ud15c\uc774 ").concat(K(s.currentBid),"\uc5d0 \ud310\ub9e4\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),relatedDocId:e.id});const u=(0,o.rJ)(o.db,"users",s.highestBidder,"activityLogs");t.set((0,o.H9)(u),{timestamp:(0,o.O5)(),type:"auction_won",message:"'".concat(s.name,"' \uc544\uc774\ud15c\uc744 ").concat(K(s.currentBid),"\uc5d0 \ub099\ucc30\ubc1b\uc558\uc2b5\ub2c8\ub2e4."),relatedDocId:e.id})}else{u&&u.exists()?t.update(m,{quantity:(0,o.GV)(1),updatedAt:(0,o.O5)()}):m&&t.set(m,{itemId:s.originalStoreItemId,name:s.name,description:s.description,icon:s.itemIcon||"\ud83d\udce6",quantity:1,type:"item",addedAt:(0,o.O5)(),updatedAt:(0,o.O5)()});const n=(0,o.rJ)(o.db,"users",s.seller,"activityLogs");t.set((0,o.H9)(n),{timestamp:(0,o.O5)(),type:"auction_unsold",message:"'".concat(s.name,"' \uc544\uc774\ud15c\uc774 \uc720\ucc30\ub418\uc5b4 \ubc18\ud658\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),relatedDocId:e.id})}t.update(n,{status:"completed",updatedAt:(0,o.O5)()})}),l.vF.log("[Auction Settle] \uc131\uacf5\uc801\uc73c\ub85c \uc815\uc0b0 \uc644\ub8cc: ".concat(e.id,".")),b.refreshUserDocument&&b.refreshUserDocument(),h.refreshData&&h.refreshData()}catch(u){l.vF.error("[Auction Settle] \uc815\uc0b0 \uc911 \uc624\ub958 \ubc1c\uc0dd ".concat(e.id,":"),u),await(0,o.mZ)(n,{status:"error",error:u.message})}})(e)));const u=2592e5,m=a.filter(e=>("completed"===e.status||"error"===e.status)&&e.endTime&&s.getTime()-e.endTime.getTime()>u);if(m.length>0){l.vF.log("[Auction] ".concat(m.length,"\uac1c \uc624\ub798\ub41c \uc644\ub8cc \uacbd\ub9e4 \uc790\ub3d9 \uc0ad\uc81c"));const n=(0,o.rJ)(o.db,"classes",k,"auctions");for(const t of m)try{await(0,o.kd)((0,o.H9)(n,t.id))}catch(e){l.vF.error("[Auction] \uc790\ub3d9 \uc0ad\uc81c \uc2e4\ud328 ".concat(t.id,":"),e)}M(e=>e.filter(e=>!m.some(n=>n.id===e.id)))}}catch(n){l.vF.error("[Auction] \uacbd\ub9e4 \ub370\uc774\ud130 \ub85c\ub4dc \uc624\ub958:",n),W("\uacbd\ub9e4 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.","error"),_(!1)}})()},[k,N]),(0,r.useEffect)(()=>{if(z){if(!z.type||"item"!==z.type)return W("\uc120\ud0dd\ub41c \uc790\uc0b0\uc758 \ud0c0\uc785\uc744 \uc2dd\ubcc4\ud560 \uc218 \uc5c6\uac70\ub098 \uc544\uc774\ud15c\uc774 \uc544\ub2d9\ub2c8\ub2e4.","error"),void O(null);P(e=>(0,i.A)((0,i.A)({},e),{},{assetId:z.id,assetType:z.type,name:z.name||"\uc774\ub984 \uc5c6\uc74c",description:z.description||"",startPrice:"",duration:"1"}))}else P(e=>(0,i.A)((0,i.A)({},e),{},{assetId:null,assetType:"item",name:"",description:"",startPrice:"",duration:"1"}))},[z]);const $=U.filter(e=>"ongoing"===e.status).filter(e=>""===D||e.name.toLowerCase().includes(D.toLowerCase())||e.description&&e.description.toLowerCase().includes(D.toLowerCase())),Q=U.filter(e=>e.seller===N),X=U.filter(e=>e.highestBidder===N&&e.seller!==N),Y=U.filter(e=>"completed"===e.status||"error"===e.status),Z=e=>{if(!(e instanceof Date)||isNaN(e.getTime()))return"\uc2dc\uac04 \uc815\ubcf4 \uc5c6\uc74c";const n=e.getTime()-V.getTime();if(n<=0)return"\uc885\ub8cc\ub428";const t=Math.floor(n/864e5),i=Math.floor(n/36e5%24),r=Math.floor(n/1e3/60%60);let a="";return t>0&&(a+="".concat(t,"\uc77c ")),(i>0||t>0)&&(a+="".concat(i,"\uc2dc\uac04 ")),(r>0||0===t&&0===i)&&(a+="".concat(r,"\ubd84")),a.trim()||"\uace7 \uc885\ub8cc"},W=function(e){L({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>L(null),3500)},ee=async e=>{if(!N||!k)return void W("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud558\uac70\ub098 \ud559\uae09 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","error");const n=(0,o.H9)(o.db,"classes",k,"auctions",e),t=(0,o.H9)(o.db,"users",N),r=U.find(n=>n.id===e);if(!r)return void W("\uacbd\ub9e4 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4 (\ub85c\uceec \uc0c1\ud0dc).","error");const a=parseInt(q[e]||"0",10);if(!a||isNaN(a)||a<=0)W("\uc720\ud6a8\ud55c \uc785\ucc30 \uae08\uc561\uc744 \uc785\ub825\ud558\uc138\uc694.","error");else if(a<=r.currentBid)W("\ud604\uc7ac\uac00 (".concat(K(r.currentBid),")\ubcf4\ub2e4 \ub192\uc740 \uae08\uc561\uc744 \uc785\ub825\ud558\uc138\uc694."),"error");else if(a>y&&W("\ubcf4\uc720 \uae08\uc561(".concat(K(y),")\uc774 \ubd80\uc871\ud569\ub2c8\ub2e4. \ud2b8\ub79c\uc7ad\uc158\uc5d0\uc11c \ub2e4\uc2dc \ud655\uc778\ub429\ub2c8\ub2e4."),"warning"),r.seller!==N)if(r.endTime&&r.endTime instanceof Date&&!(r.endTime<=V)&&"ongoing"===r.status){w&&w({cash:-a});try{await(0,o.c4)(o.db,async e=>{const i=await e.get(n);if(!i.exists())throw new Error("\uacbd\ub9e4 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4 (Firestore).");const r=i.data();if("ongoing"!==r.status)throw new Error("\uacbd\ub9e4\uac00 \uc774\ubbf8 \uc885\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");const s=await e.get(t);if(!s.exists())throw new Error("\uc785\ucc30\uc790 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");const d=s.data();if(d.cash<a)throw new Error("\ubcf4\uc720 \ud604\uae08\uc774 \ubd80\uc871\ud569\ub2c8\ub2e4. (\ud604\uc7ac: ".concat(K(d.cash),", \ud544\uc694: ").concat(K(a),")"));if(a<=r.currentBid)throw new Error("\uc785\ucc30 \uae08\uc561\uc774 \ud604\uc7ac\uac00(".concat(K(r.currentBid),")\ubcf4\ub2e4 \ub0ae\uac70\ub098 \uac19\uc2b5\ub2c8\ub2e4."));if(r.seller===N)throw new Error("\uc790\uc2e0\uc758 \uacbd\ub9e4\uc5d0\ub294 \uc785\ucc30\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");if(r.endTime.toDate()<=new Date)throw new Error("\uacbd\ub9e4\uac00 \uc774\ubbf8 \uc885\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");if(r.highestBidder&&r.currentBid>0){const n=(0,o.H9)(o.db,"users",r.highestBidder);e.update(n,{cash:(0,o.GV)(r.currentBid),updatedAt:(0,o.O5)()})}e.update(t,{cash:(0,o.GV)(-a),updatedAt:(0,o.O5)()}),e.update(n,{currentBid:a,bidCount:(0,o.GV)(1),highestBidder:N,highestBidderName:B,updatedAt:(0,o.O5)()})}),b.refreshUserDocument&&b.refreshUserDocument(),W("\uc785\ucc30\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"),G((0,i.A)((0,i.A)({},q),{},{[e]:""}))}catch(s){l.vF.error("[Auction Bid] \uc785\ucc30 \uc624\ub958:",s),W("\uc785\ucc30 \uc2e4\ud328: ".concat(s.message),"error"),w&&w({cash:a})}}else W("\uc774\ubbf8 \uc885\ub8cc\ub418\uc5c8\uac70\ub098 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uacbd\ub9e4\uc785\ub2c8\ub2e4.","error");else W("\uc790\uc2e0\uc758 \uacbd\ub9e4\uc5d0\ub294 \uc785\ucc30\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","error")},ne=async e=>{if(!b.isAdmin())return void W("\uad00\ub9ac\uc790 \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","error");if(!k||!e||"ongoing"!==e.status)return void W("\uc9c4\ud589 \uc911\uc778 \uacbd\ub9e4\ub9cc \ucde8\uc18c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","error");if(!window.confirm("[\uad00\ub9ac\uc790] '".concat(e.name,"' \uacbd\ub9e4\ub97c \uac15\uc81c\ub85c \ucde8\uc18c\ud558\uace0 \uc544\uc774\ud15c\uc744 \ud310\ub9e4\uc790\uc5d0\uac8c \ubc18\ud658\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc785\ucc30\uae08\uc774 \uc788\ub2e4\uba74 \ucd5c\uace0 \uc785\ucc30\uc790\uc5d0\uac8c \ud658\ubd88\ub429\ub2c8\ub2e4.")))return;const n=(0,o.H9)(o.db,"classes",k,"auctions",e.id);l.vF.log("[Admin Cancel] \uad00\ub9ac\uc790 \ucde8\uc18c \uc2dc\ub3c4: ".concat(e.id));try{await(0,o.c4)(o.db,async e=>{const t=await e.get(n);if(!t.exists()||"ongoing"!==t.data().status)throw new Error("\uacbd\ub9e4\uac00 \uc774\ubbf8 \ucc98\ub9ac\ub418\uc5c8\uac70\ub098 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");const i=t.data();if(i.highestBidder&&i.currentBid>0){const n=(0,o.H9)(o.db,"users",i.highestBidder);e.update(n,{cash:(0,o.GV)(i.currentBid),updatedAt:(0,o.O5)()})}const r=i.assetSourceCollection||"inventory",a=(0,o.H9)(o.db,"users",i.seller,r,i.assetId);(await e.get(a)).exists()?e.update(a,{quantity:(0,o.GV)(1)}):e.set(a,{itemId:i.originalStoreItemId,name:i.name,icon:i.itemIcon||"\ud83d\udce6",description:i.description,quantity:1,type:"item"}),e.delete(n)}),W("'".concat(e.name,"' \uacbd\ub9e4\uac00 \uad00\ub9ac\uc790\uc5d0 \uc758\ud574 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),"success"),h.refreshData&&h.refreshData(),b.fetchAllUsers&&b.fetchAllUsers(!0)}catch(t){l.vF.error("[Admin Cancel] \uad00\ub9ac\uc790 \uacbd\ub9e4 \ucde8\uc18c \uc624\ub958:",t),W("\uad00\ub9ac\uc790 \ucde8\uc18c \uc2e4\ud328: ".concat(t.message),"error")}},te=e=>{const{name:n,value:t}=e.target;"startPrice"===n&&t&&!/^\d*\.?\d*$/.test(t)||P((0,i.A)((0,i.A)({},H),{},{[n]:t}))},ie=(e,n)=>{const t=e.target.value;(""===t||/^\d+$/.test(t))&&G((0,i.A)((0,i.A)({},q),{},{[n]:t}))};if(f||A)return(0,u.jsx)(c.AlchanLoading,{});if(!v||!N)return(0,u.jsx)("div",{className:"login-required-container",children:"\uacbd\ub9e4\uc7a5\uc744 \uc774\uc6a9\ud558\ub824\uba74 \ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."});if(!j)return(0,u.jsx)(c.AlchanLoading,{});if(!k)return(0,u.jsx)("div",{className:"login-required-container",children:"\uacbd\ub9e4\uc7a5\uc744 \uc774\uc6a9\ud558\ub824\uba74 \ud559\uae09 \ucf54\ub4dc\uac00 \uc0ac\uc6a9\uc790 \uc815\ubcf4\uc5d0 \uc124\uc815\ub418\uc5b4 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4. (\ud559\uae09 \ucf54\ub4dc: \uc5c6\uc74c)"});if(J)return(0,u.jsx)(c.AlchanLoading,{});const re=[];for(let t=1;t<=24;t++)re.push((0,u.jsxs)("option",{value:t,children:[t,"\uc2dc\uac04"]},t));const ae=I.filter(e=>e.quantity>=1&&"item"===e.type);return(0,u.jsxs)("div",{className:"auction-container",children:[E&&(0,u.jsx)("div",{className:"notification notification-".concat(E.type),children:E.message}),(0,u.jsxs)("header",{className:"auction-header",children:[(0,u.jsxs)("h1",{children:["\uacbd\ub9e4\uc7a5 (\ud559\uae09: ",k||"\uc815\ubcf4 \uc5c6\uc74c",")"]}),(0,u.jsxs)("div",{className:"auction-balance",children:[(0,u.jsx)("span",{children:"\ubcf4\uc720 \uae08\uc561: "}),(0,u.jsx)("span",{className:"balance-amount",children:K(y)})]})]}),(0,u.jsxs)("nav",{className:"tab-container",children:[(0,u.jsx)("button",{className:"tab ".concat("ongoing"===C?"active":""),onClick:()=>S("ongoing"),children:"\uc9c4\ud589\uc911"}),(0,u.jsx)("button",{className:"tab ".concat("myAuctions"===C?"active":""),onClick:()=>S("myAuctions"),children:"\ub0b4 \uacbd\ub9e4"}),(0,u.jsx)("button",{className:"tab ".concat("myBids"===C?"active":""),onClick:()=>S("myBids"),children:"\ub0b4 \uc785\ucc30"}),(0,u.jsx)("button",{className:"tab ".concat("completed"===C?"active":""),onClick:()=>S("completed"),children:"\uc885\ub8cc\ub428"}),(0,u.jsx)("button",{className:"tab register-tab ".concat("register"===C?"active":""),onClick:()=>S("register"),children:"\uacbd\ub9e4 \ub4f1\ub85d"})]}),(0,u.jsxs)("main",{className:"tab-content",children:["ongoing"===C&&(0,u.jsxs)("div",{className:"ongoing-auctions-content",children:[(0,u.jsxs)("div",{className:"search-bar",children:[(0,u.jsx)("input",{type:"text",placeholder:"\uacbd\ub9e4 \ubb3c\ud488 \uac80\uc0c9...",value:D,onChange:e=>F(e.target.value),"aria-label":"\uacbd\ub9e4 \ubb3c\ud488 \uac80\uc0c9"}),(0,u.jsx)("button",{onClick:()=>F(""),className:"search-reset-button","aria-label":"\uac80\uc0c9\uc5b4 \ucd08\uae30\ud654",children:D?"\ucd08\uae30\ud654":"\uac80\uc0c9"})]}),$.length>0?(0,u.jsx)("div",{className:"auctions-grid",children:$.map(e=>{var n;return(0,u.jsxs)("article",{className:"auction-card",children:[(0,u.jsxs)("div",{className:"auction-info",children:[(0,u.jsxs)("header",{className:"card-header",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)("span",{style:{marginRight:"5px"},children:e.itemIcon||"\ud83d\udce6"}),e.name]}),(0,u.jsx)("span",{className:"time-left-badge ".concat(e.endTime instanceof Date&&!isNaN(e.endTime.getTime())?"":"error"),title:e.endTime instanceof Date?e.endTime.toLocaleString():"\uc885\ub8cc \uc2dc\uac04 \uc815\ubcf4 \uc5c6\uc74c",children:Z(e.endTime)})]}),(0,u.jsx)("p",{className:"auction-description",children:e.description||"\uc124\uba85 \uc5c6\uc74c"}),(0,u.jsxs)("div",{className:"auction-price-details",children:[(0,u.jsxs)("p",{children:["\uc2dc\uc791\uac00: ",(0,u.jsx)("span",{className:"price start-price",children:K(e.startPrice)})]}),(0,u.jsxs)("p",{children:["\ud604\uc7ac\uac00: ",(0,u.jsx)("span",{className:"price current-price",children:K(e.currentBid)})]})]}),(0,u.jsxs)("p",{className:"auction-meta",children:[(0,u.jsxs)("span",{children:["\uc785\ucc30: ",e.bidCount,"\ud68c"]})," | ",(0,u.jsxs)("span",{children:["\ud310\ub9e4\uc790: ",e.seller===N?"\ub098":e.sellerName||(null===(n=e.seller)||void 0===n?void 0:n.substring(0,6))]})]}),e.highestBidder===N&&e.seller!==N&&(0,u.jsx)("p",{className:"bid-status-indicator highest",children:"\ud604\uc7ac \ucd5c\uace0 \uc785\ucc30\uc790\uc785\ub2c8\ub2e4!"})]}),e.seller!==N&&"ongoing"===e.status&&e.endTime instanceof Date&&e.endTime>V&&(0,u.jsx)("footer",{className:"auction-actions",children:(0,u.jsxs)("div",{className:"bid-input-group",children:[(0,u.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"bid-input",placeholder:"".concat(K(e.currentBid+1)," \uc774\uc0c1"),value:q[e.id]||"",onChange:n=>ie(n,e.id),"aria-label":"".concat(e.name," \uc785\ucc30 \uae08\uc561")}),(0,u.jsx)("button",{className:"bid-button",onClick:()=>ee(e.id),disabled:!q[e.id]||isNaN(parseInt(q[e.id]||"0",10))||parseInt(q[e.id]||"0",10)<=e.currentBid,children:"\uc785\ucc30"})]})}),e.seller===N&&"ongoing"===e.status&&(0,u.jsx)("footer",{className:"auction-actions owner-notice",children:(0,u.jsx)("span",{children:"\ub0b4 \uacbd\ub9e4 \ubb3c\ud488"})}),b.isAdmin()&&"ongoing"===e.status&&(0,u.jsx)("footer",{className:"auction-actions admin-actions",children:(0,u.jsx)("button",{className:"action-button admin-cancel-button",onClick:()=>ne(e),children:"\uad00\ub9ac\uc790 \ucde8\uc18c"})})]},e.id)})}):(0,u.jsx)("div",{className:"no-results-message",children:D?"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ud604\uc7ac \uc9c4\ud589 \uc911\uc778 \uacbd\ub9e4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]}),"myAuctions"===C&&(0,u.jsxs)("div",{className:"my-auctions-content",children:[(0,u.jsx)("h2",{children:"\ub0b4 \uacbd\ub9e4 \ubb3c\ud488"}),Q.length>0?(0,u.jsx)("div",{className:"list-view",children:Q.map(e=>{var n,t;return(0,u.jsxs)("article",{className:"list-item my-auction-item",children:[(0,u.jsxs)("div",{className:"item-info",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)("span",{style:{marginRight:"5px"},children:e.itemIcon||"\ud83d\udce6"}),e.name]}),(0,u.jsx)("p",{className:"item-description",children:e.description||"\uc124\uba85 \uc5c6\uc74c"}),(0,u.jsxs)("div",{className:"price-details",children:[(0,u.jsxs)("span",{children:["\uc2dc\uc791\uac00: ",K(e.startPrice)]}),(0,u.jsxs)("span",{children:["\ud604\uc7ac\uac00: ",K(e.currentBid)]})]}),(0,u.jsxs)("p",{className:"meta-details",children:[(0,u.jsxs)("span",{children:["\uc785\ucc30: ",e.bidCount,"\ud68c"]})," | ",(0,u.jsxs)("span",{children:["\ub0a8\uc740 \uc2dc\uac04: ",Z(e.endTime)]})]}),(0,u.jsxs)("p",{className:"status-indicator ".concat("ongoing"===e.status?"ongoing":"completed"),children:["\uc0c1\ud0dc: ","ongoing"===e.status?"\uc9c4\ud589 \uc911":e.highestBidder?"\ud310\ub9e4 \uc644\ub8cc":"\uc720\ucc30\ub428","error"===e.status&&(0,u.jsx)("span",{className:"error-text",children:"(\uc624\ub958)"})]}),e.highestBidder&&(0,u.jsxs)("p",{className:"highest-bidder-info",children:["\ucd5c\uace0 \uc785\ucc30\uc790: ",e.highestBidder===N?"\ub098":(null===x||void 0===x||null===(n=x.find(n=>n.id===e.highestBidder))||void 0===n?void 0:n.name)||(null===(t=e.highestBidder)||void 0===t?void 0:t.substring(0,6))]})]}),(0,u.jsxs)("div",{className:"item-actions",children:["ongoing"===e.status&&0===e.bidCount&&e.seller===N&&(0,u.jsx)("button",{className:"action-button cancel-button",onClick:()=>(async e=>{if(!N||!k)return;if("function"!==typeof T)return void W("\uc544\uc774\ud15c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","error");const n=(0,o.H9)(o.db,"classes",k,"auctions",e),t=U.find(n=>n.id===e);if(t&&t.seller===N)if("ongoing"===t.status)try{const e=await(0,o.x7)(n);if(!e.exists())return void W("\uacbd\ub9e4 \uc815\ubcf4\ub97c Firestore\uc5d0\uc11c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","error");const t=e.data();if("ongoing"!==t.status)return void W("\uc774\ubbf8 \ucc98\ub9ac\ub41c \uacbd\ub9e4\ub294 \ucde8\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4 (Firestore \ud655\uc778).","info");if(t.bidCount>0)return void W("\uc785\ucc30\uc774 \uc9c4\ud589\ub41c \uacbd\ub9e4\ub294 \ucde8\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4 (Firestore \ud655\uc778).","error");const i=t.assetSourceCollection||"inventory",r=(0,o.H9)(o.db,"users",t.seller,i,t.assetId);await(0,o.c4)(o.db,async e=>{(await e.get(r)).exists()?e.update(r,{quantity:(0,o.GV)(1)}):e.set(r,{itemId:t.originalStoreItemId,name:t.name,icon:t.itemIcon,description:t.description,quantity:1,type:"item"}),e.delete(n)}),W("\uacbd\ub9e4\uac00 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"),h.refreshData&&h.refreshData()}catch(i){l.vF.error("[Auction Cancel] \uacbd\ub9e4 \ucde8\uc18c \uc624\ub958:",i),W("\uacbd\ub9e4 \ucde8\uc18c \uc2e4\ud328: ".concat(i.message),"error")}else W("\uc9c4\ud589 \uc911\uc778 \uacbd\ub9e4\ub9cc \ucde8\uc18c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","info");else W("\ucde8\uc18c \uad8c\ud55c\uc774 \uc5c6\uac70\ub098 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uacbd\ub9e4\uc785\ub2c8\ub2e4.","error")})(e.id),children:"\ub4f1\ub85d \ucde8\uc18c"}),"ongoing"===e.status&&e.bidCount>0&&(0,u.jsx)("span",{className:"action-status-text",children:"\uc785\ucc30 \uc9c4\ud589 \uc911"}),b.isAdmin()&&"ongoing"===e.status&&(0,u.jsx)("button",{className:"action-button admin-cancel-button",onClick:()=>ne(e),children:"\uad00\ub9ac\uc790 \ucde8\uc18c"}),"completed"===e.status&&e.highestBidder&&(0,u.jsx)("span",{className:"action-status-text sold",children:"\ud310\ub9e4 \uc644\ub8cc"}),"completed"===e.status&&!e.highestBidder&&(0,u.jsx)("span",{className:"action-status-text unsold",children:"\uc720\ucc30\ub428"}),"error"===e.status&&(0,u.jsx)("span",{className:"action-status-text error",children:"\uc624\ub958 \ubc1c\uc0dd"})]})]},e.id)})}):(0,u.jsxs)("div",{className:"no-results-message",children:[(0,u.jsx)("p",{children:"\ub4f1\ub85d\ud55c \uacbd\ub9e4 \ubb3c\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,u.jsx)("button",{className:"action-button primary",onClick:()=>S("register"),children:"\uacbd\ub9e4 \ub4f1\ub85d\ud558\uae30"})]})]}),"myBids"===C&&(0,u.jsxs)("div",{className:"my-bids-content",children:[(0,u.jsx)("h2",{children:"\ub0b4 \uc785\ucc30 \ud604\ud669"}),X.length>0?(0,u.jsx)("div",{className:"list-view",children:X.map(e=>{var n;return(0,u.jsxs)("article",{className:"list-item my-bid-item ".concat(e.highestBidder===N?"status-highest":"status-outbid"),children:[(0,u.jsxs)("div",{className:"item-info",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)("span",{style:{marginRight:"5px"},children:e.itemIcon||"\ud83d\udce6"}),e.name]}),(0,u.jsx)("p",{className:"item-description",children:e.description||"\uc124\uba85 \uc5c6\uc74c"}),(0,u.jsxs)("p",{className:"bid-info",children:["\ub0b4 \ucd5c\uace0 \uc785\ucc30\uac00: ",(0,u.jsx)("span",{className:"price",children:K(e.currentBid)})]}),(0,u.jsxs)("p",{className:"meta-details",children:[(0,u.jsxs)("span",{children:["\ub0a8\uc740 \uc2dc\uac04: ",Z(e.endTime)]})," | ",(0,u.jsxs)("span",{children:["\ud310\ub9e4\uc790: ",e.seller===N?"\ub098":e.sellerName||(null===(n=e.seller)||void 0===n?void 0:n.substring(0,6))]})]}),(0,u.jsxs)("p",{className:"status-indicator",children:["\uc0c1\ud0dc:","completed"===e.status?e.highestBidder===N?(0,u.jsx)("span",{className:"won",children:"\ub099\ucc30 \uc644\ub8cc"}):(0,u.jsx)("span",{className:"lost",children:"\ud328\ucc30"}):e.highestBidder===N?(0,u.jsx)("span",{className:"highest",children:"\ucd5c\uace0 \uc785\ucc30 \uc911"}):(0,u.jsx)("span",{className:"outbid",children:"\uc0c1\ud68c \uc785\ucc30\ub428"})]})]}),"ongoing"===e.status&&e.highestBidder!==N&&(0,u.jsxs)("div",{className:"item-actions rebid-section",children:[(0,u.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"bid-input small",placeholder:"".concat(K(e.currentBid+1)," \uc774\uc0c1"),value:q[e.id]||"",onChange:n=>ie(n,e.id),"aria-label":"".concat(e.name," \uc7ac\uc785\ucc30 \uae08\uc561")}),(0,u.jsx)("button",{className:"action-button rebid-button",onClick:()=>ee(e.id),disabled:!q[e.id]||isNaN(parseInt(q[e.id]||"0",10))||parseInt(q[e.id]||"0",10)<=e.currentBid,children:"\uc7ac\uc785\ucc30"})]}),"ongoing"===e.status&&e.highestBidder===N&&(0,u.jsx)("div",{className:"item-actions highest-bid-notice",children:(0,u.jsx)("span",{children:"\ucd5c\uace0 \uc785\ucc30\uc790"})}),"completed"===e.status&&(0,u.jsx)("div",{className:"item-actions",children:(0,u.jsx)("span",{className:"action-status-text ".concat(e.highestBidder===N?"won":"lost"),children:e.highestBidder===N?"\ub099\ucc30":"\ud328\ucc30"})})]},e.id)})}):(0,u.jsxs)("div",{className:"no-results-message",children:[(0,u.jsx)("p",{children:"\uc785\ucc30\ud55c \uacbd\ub9e4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,u.jsx)("button",{className:"action-button primary",onClick:()=>S("ongoing"),children:"\uacbd\ub9e4 \ub458\ub7ec\ubcf4\uae30"})]})]}),"completed"===C&&(0,u.jsxs)("div",{className:"completed-auctions-content",children:[(0,u.jsx)("h2",{children:"\uc885\ub8cc\ub41c \uacbd\ub9e4"}),Y.length>0?(0,u.jsx)("div",{className:"list-view",children:Y.map(e=>{var n,t,i;return(0,u.jsxs)("article",{className:"list-item completed-item ".concat(e.highestBidder===N?"result-won":""," ").concat(e.seller===N?"result-sold":""," ").concat(e.highestBidder?"":"result-unsold"),children:[(0,u.jsxs)("div",{className:"item-info",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)("span",{style:{marginRight:"5px"},children:e.itemIcon||"\ud83d\udce6"}),e.name]}),(0,u.jsx)("p",{className:"item-description",children:e.description||"\uc124\uba85 \uc5c6\uc74c"}),(0,u.jsx)("p",{className:"final-result",children:"error"===e.status?"\uc624\ub958 \ubc1c\uc0dd: ".concat(e.error||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958"):e.highestBidder?"\ucd5c\uc885 \ub099\ucc30\uac00: ".concat(K(e.currentBid)):"\uc720\ucc30\ub428 (\uc2dc\uc791\uac00: ".concat(K(e.startPrice),")")}),(0,u.jsxs)("p",{className:"meta-details",children:[(0,u.jsxs)("span",{children:["\ucd1d \uc785\ucc30: ",e.bidCount,"\ud68c"]})," | ",(0,u.jsxs)("span",{children:["\ud310\ub9e4\uc790: ",e.seller===N?"\ub098":e.sellerName||(null===(n=e.seller)||void 0===n?void 0:n.substring(0,6))]})]}),e.highestBidder&&(0,u.jsxs)("p",{className:"winner-info",children:["\ub099\ucc30\uc790: ",e.highestBidder===N?"\ub098":(null===x||void 0===x||null===(t=x.find(n=>n.id===e.highestBidder))||void 0===t?void 0:t.name)||(null===(i=e.highestBidder)||void 0===i?void 0:i.substring(0,6))]}),!e.highestBidder&&"error"!==e.status&&(0,u.jsx)("p",{className:"status-indicator unsold",children:"\uc720\ucc30\ub428"})]}),(0,u.jsxs)("div",{className:"item-actions result-badge",children:[e.highestBidder===N&&(0,u.jsx)("span",{className:"badge won",children:"\ub099\ucc30 \ubc1b\uc74c"}),e.seller===N&&e.highestBidder&&(0,u.jsx)("span",{className:"badge sold",children:"\ud310\ub9e4 \uc644\ub8cc"}),e.seller===N&&!e.highestBidder&&(0,u.jsx)("span",{className:"badge unsold",children:"\uc720\ucc30\ub428"}),e.seller!==N&&e.highestBidder!==N&&e.highestBidder&&(0,u.jsx)("span",{className:"badge neutral",children:"\uc885\ub8cc\ub428"}),e.seller!==N&&e.highestBidder!==N&&!e.highestBidder&&(0,u.jsx)("span",{className:"badge unsold",children:"\uc720\ucc30\ub428"}),"error"===e.status&&(0,u.jsx)("span",{className:"badge error",children:"\uc624\ub958"})]})]},e.id)})}):(0,u.jsx)("div",{className:"no-results-message",children:(0,u.jsx)("p",{children:"\uc885\ub8cc\ub41c \uacbd\ub9e4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})]}),"register"===C&&(0,u.jsxs)("div",{className:"register-auction-content",children:[(0,u.jsx)("h2",{children:"\uacbd\ub9e4 \ubb3c\ud488 \ub4f1\ub85d"}),(0,u.jsxs)("form",{className:"auction-form",onSubmit:async e=>{if(e.preventDefault(),!N||!k||!v)return void W("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud558\uac70\ub098 \ud559\uae09 \ub610\ub294 \uc0ac\uc6a9\uc790 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","error");if("function"!==typeof T)return void W("\uc544\uc774\ud15c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","error");if(!z||!H.assetId||"item"!==H.assetType)return void W("\uacbd\ub9e4\uc5d0 \ub4f1\ub85d\ud560 \uc544\uc774\ud15c\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.","error");const n=parseFloat(H.startPrice);if(isNaN(n)||n<=0)return void W("\uc720\ud6a8\ud55c \uc2dc\uc791\uac00\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.","error");const t=parseInt(H.duration,10);if(isNaN(t)||t<1||t>24)return void W("\uc720\ud6a8\ud55c \uacbd\ub9e4 \uae30\uac04(1-24\uc2dc\uac04)\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.","error");let i=!1;try{const e=await T(H.assetId,-1);if(!e||"object"===typeof e&&!e.success)throw new Error((null===e||void 0===e?void 0:e.error)||"\uc544\uc774\ud15c \uc218\ub7c9 \ubcc0\uacbd\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");i=!0;const r=(0,o.rJ)(o.db,"classes",k,"auctions"),a=new Date(Date.now()+60*t*60*1e3);await(0,o.gS)(r,{assetId:H.assetId,assetType:H.assetType,name:H.name,description:H.description,startPrice:n,currentBid:n,bidCount:0,endTime:o.Dc.fromDate(a),highestBidder:null,seller:N,sellerName:B,status:"ongoing",createdAt:(0,o.O5)(),updatedAt:(0,o.O5)(),classCode:k,itemIcon:z.icon||"\ud83d\udce6",assetSourceCollection:z.source||"inventory",originalStoreItemId:z.itemId}),P({assetId:null,assetType:"item",name:"",description:"",startPrice:"",duration:"1"}),O(null),W("\uacbd\ub9e4\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"),S("myAuctions")}catch(r){l.vF.error("[Auction Create] \uacbd\ub9e4 \uc0dd\uc131 \uc624\ub958:",r),W("\uacbd\ub9e4 \ub4f1\ub85d \uc2e4\ud328: ".concat(r.message),"error"),i&&H.assetId&&"function"===typeof T&&(await T(H.assetId,1),l.vF.log("[Auction Create Error] \uc544\uc774\ud15c \uc218\ub7c9 \ub864\ubc31 \uc131\uacf5:",H.assetId))}},children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"auctionAssetSelect",children:"\ub4f1\ub85d\ud560 \uc544\uc774\ud15c \uc120\ud0dd *"}),(0,u.jsxs)("select",{id:"auctionAssetSelect",name:"auctionAssetSelect",className:"form-control",value:z?z.id:"",onChange:e=>{const n=e.target.value;if(!n)return void O(null);const t=I.find(e=>e.id===n);if(t){if(!t.type||"item"!==t.type)return W("\uc120\ud0dd\ub41c \uc790\uc0b0 \uc815\ubcf4\uc5d0 \ud0c0\uc785 \uc18d\uc131\uc774 \uc5c6\uac70\ub098 \uc544\uc774\ud15c\uc774 \uc544\ub2d9\ub2c8\ub2e4.","error"),void O(null);O(t)}else W("\uc120\ud0dd\ud55c ID\uc5d0 \ud574\ub2f9\ud558\ub294 \uc544\uc774\ud15c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","error"),O(null)},required:!0,"aria-describedby":"assetSelectHint",children:[(0,u.jsx)("option",{value:"",children:"-- \ubcf4\uc720 \uc544\uc774\ud15c \ubaa9\ub85d --"}),ae.length>0&&(0,u.jsx)("optgroup",{label:"\uc544\uc774\ud15c (\uc218\ub7c9 1\uac1c \uc774\uc0c1)",children:ae.map(e=>(0,u.jsxs)("option",{value:e.id,children:[e.icon," ",e.name," (\uc218\ub7c9: ",e.quantity,")"]},"item-".concat(e.id)))})]}),0===ae.length&&(0,u.jsx)("p",{id:"assetSelectHint",className:"form-hint error",children:"\uacbd\ub9e4\uc5d0 \ub4f1\ub85d\ud560 \uc218 \uc788\ub294 \uc544\uc774\ud15c(\uc218\ub7c9 1\uac1c \uc774\uc0c1)\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"name",children:"\ubb3c\ud488\uba85"}),(0,u.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",placeholder:"\ub4f1\ub85d\ud560 \uc544\uc774\ud15c\uc744 \uc120\ud0dd\ud558\uc138\uc694",value:H.name,readOnly:!0,"aria-label":"\uc120\ud0dd\ub41c \ubb3c\ud488\uba85"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"description",children:"\ubb3c\ud488 \uc124\uba85"}),(0,u.jsx)("textarea",{id:"description",name:"description",className:"form-control",rows:"3",placeholder:"\uc790\ub3d9 \uc785\ub825\ub41c \uc124\uba85\uc744 \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",value:H.description,onChange:te,"aria-label":"\ubb3c\ud488 \uc124\uba85"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"startPrice",children:"\uc2dc\uc791\uac00 (\uc6d0) *"}),(0,u.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",id:"startPrice",name:"startPrice",className:"form-control",placeholder:"\uacbd\ub9e4 \uc2dc\uc791\uac00\ub97c \uc22b\uc790\ub85c \uc785\ub825 (\uc608: 10000)",value:H.startPrice,onChange:te,required:!0,"aria-required":"true","aria-label":"\uacbd\ub9e4 \uc2dc\uc791\uac00"})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"duration",children:"\uacbd\ub9e4 \uae30\uac04 *"}),(0,u.jsx)("select",{id:"duration",name:"duration",className:"form-control",value:H.duration,onChange:te,required:!0,"aria-required":"true","aria-label":"\uacbd\ub9e4 \uae30\uac04 \uc120\ud0dd",children:re})]}),(0,u.jsxs)("div",{className:"form-actions",children:[(0,u.jsx)("button",{type:"submit",className:"action-button primary register-button",disabled:!z||!H.startPrice||isNaN(parseFloat(H.startPrice))||parseFloat(H.startPrice)<=0||!H.duration||"item"!==z.type,children:"\uacbd\ub9e4 \ub4f1\ub85d"}),(0,u.jsx)("button",{type:"button",className:"action-button cancel-button",onClick:()=>{O(null),S("ongoing")},children:"\ucde8\uc18c"})]})]})]})]}),(0,u.jsx)("style",{children:'\n        /* --- Cyberpunk Dark Theme Styles --- */\n\n        /* Admin Buttons */\n        .action-button.admin-cancel-button {\n            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(139, 92, 246, 0.1));\n            color: #a78bfa;\n            border: 1px solid rgba(139, 92, 246, 0.5);\n        }\n        .action-button.admin-cancel-button:hover {\n            background: rgba(139, 92, 246, 0.4);\n            box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);\n        }\n\n        .auction-actions.admin-actions {\n            background-color: rgba(139, 92, 246, 0.1);\n            border-top: 1px solid rgba(139, 92, 246, 0.3);\n            padding: 10px 15px;\n        }\n\n        .badge.error {\n            background-color: rgba(239, 68, 68, 0.8);\n        }\n        .action-status-text.error {\n          color: #f87171;\n          background-color: rgba(239, 68, 68, 0.1);\n          font-weight: 600;\n        }\n        .error-text {\n            color: #f87171;\n            font-weight: bold;\n            margin-left: 5px;\n        }\n        .completed-item .final-result {\n            font-size: 1em;\n            font-weight: 600;\n            margin-bottom: 8px;\n            word-break: break-all;\n        }\n\n        /* --- Global & Layout - Dark Theme --- */\n        .auction-container {\n          font-family: "Rajdhani", "Noto Sans KR", sans-serif;\n          max-width: none;\n          margin: 0;\n          padding: 15px;\n          color: #e2e8f0;\n          background-color: transparent;\n        }\n        .loading-container, .login-required-container {\n          text-align: center;\n          padding: 40px 20px;\n          font-size: 1.1em;\n          color: #94a3b8;\n        }\n        .auction-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding-bottom: 15px;\n          border-bottom: 1px solid rgba(0, 255, 242, 0.2);\n        }\n        .auction-header h1 {\n          font-size: 1.8em;\n          font-weight: 600;\n          color: #00fff2;\n          text-shadow: 0 0 10px rgba(0, 255, 242, 0.3);\n          margin: 0;\n        }\n        .auction-balance {\n          background: rgba(0, 255, 242, 0.1);\n          border: 1px solid rgba(0, 255, 242, 0.3);\n          padding: 8px 15px;\n          border-radius: 15px;\n          font-size: 0.95em;\n          color: #e2e8f0;\n        }\n        .auction-balance .balance-amount {\n          font-weight: 600;\n          color: #00fff2;\n          text-shadow: 0 0 5px rgba(0, 255, 242, 0.5);\n          margin-left: 5px;\n        }\n\n        /* --- Tabs - Dark Theme --- */\n        .tab-container {\n          display: flex;\n          flex-wrap: wrap;\n          margin-bottom: 25px;\n          border-bottom: 2px solid rgba(255, 255, 255, 0.1);\n          gap: 8px;\n        }\n        .tab {\n          padding: 10px 18px;\n          background: none;\n          border: none;\n          border-bottom: 3px solid transparent;\n          cursor: pointer;\n          font-size: 1em;\n          font-weight: 500;\n          color: #94a3b8;\n          transition: all 0.2s ease;\n          white-space: nowrap;\n          position: relative;\n          top: 2px;\n        }\n        .tab:hover {\n          color: #e2e8f0;\n          background: rgba(255, 255, 255, 0.05);\n        }\n        .tab.active {\n          color: #00fff2;\n          font-weight: 600;\n          border-bottom-color: #00fff2;\n          text-shadow: 0 0 5px rgba(0, 255, 242, 0.3);\n        }\n\n        /* --- Search Bar - Dark Theme --- */\n        .search-bar { display: flex; margin-bottom: 25px; gap: 8px; }\n        .search-bar input[type="text"] {\n          flex-grow: 1;\n          padding: 10px 15px;\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 6px;\n          font-size: 1em;\n          background: rgba(20, 20, 35, 0.8);\n          color: #e2e8f0;\n          transition: border-color 0.2s, box-shadow 0.2s;\n        }\n        .search-bar input[type="text"]:focus {\n          border-color: #00fff2;\n          box-shadow: 0 0 0 2px rgba(0, 255, 242, 0.2);\n          outline: none;\n        }\n        .search-reset-button {\n          padding: 10px 18px;\n          background: rgba(100, 116, 139, 0.3);\n          border: 1px solid rgba(100, 116, 139, 0.5);\n          color: #e2e8f0;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 0.9em;\n          font-weight: 500;\n          transition: all 0.2s;\n        }\n        .search-reset-button:hover {\n          background: rgba(100, 116, 139, 0.5);\n        }\n\n        /* --- Grid & Card Styles - Dark Theme --- */\n        .auctions-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }\n        .auction-card {\n          background: rgba(20, 20, 35, 0.8);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 12px;\n          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);\n          overflow: hidden;\n          transition: all 0.3s ease;\n          display: flex;\n          flex-direction: column;\n          backdrop-filter: blur(10px);\n        }\n        .auction-card:hover {\n          transform: translateY(-4px);\n          border-color: rgba(0, 255, 242, 0.3);\n          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), 0 0 15px rgba(0, 255, 242, 0.1);\n        }\n        .auction-info { padding: 15px; flex-grow: 1; display: flex; flex-direction: column; }\n        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }\n        .card-header h3 {\n          font-size: 1.15em;\n          font-weight: 600;\n          color: #fff;\n          margin: 0;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          max-width: calc(100% - 85px);\n          display: flex;\n          align-items: center;\n        }\n        .time-left-badge {\n          background: rgba(0, 255, 242, 0.1);\n          border: 1px solid rgba(0, 255, 242, 0.3);\n          color: #00fff2;\n          padding: 3px 8px;\n          border-radius: 10px;\n          font-size: 0.8em;\n          font-weight: 500;\n          white-space: nowrap;\n          flex-shrink: 0;\n        }\n        .auction-description { color: #94a3b8; font-size: 0.9em; line-height: 1.5; margin-bottom: 12px; }\n        .auction-price-details {\n          display: flex;\n          justify-content: space-between;\n          font-size: 0.9em;\n          margin-bottom: 8px;\n          color: #94a3b8;\n          background: rgba(0, 0, 0, 0.2);\n          padding: 10px;\n          border-radius: 8px;\n        }\n        .auction-price-details .price { font-weight: 600; }\n        .auction-price-details .current-price { color: #fbbf24; text-shadow: 0 0 5px rgba(251, 191, 36, 0.3); }\n        .auction-meta { font-size: 0.85em; color: #64748b; margin-bottom: 10px; }\n        .bid-status-indicator.highest {\n          color: #34d399;\n          font-weight: 600;\n          font-size: 0.9em;\n          margin-top: auto;\n          background: rgba(16, 185, 129, 0.1);\n          padding: 8px;\n          border-radius: 6px;\n          text-align: center;\n        }\n        .auction-actions {\n          padding: 12px 15px;\n          background: rgba(0, 0, 0, 0.3);\n          border-top: 1px solid rgba(255, 255, 255, 0.05);\n        }\n        .owner-notice {\n          text-align: center;\n          font-size: 0.9em;\n          color: #00fff2;\n          font-weight: 500;\n        }\n        .bid-input-group { display: flex; gap: 8px; }\n        .bid-input {\n          flex-grow: 1;\n          padding: 8px 12px;\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          background: rgba(0, 0, 0, 0.3);\n          color: #e2e8f0;\n          border-radius: 6px;\n          font-size: 0.9em;\n        }\n        .bid-input:focus {\n          outline: none;\n          border-color: #00fff2;\n          box-shadow: 0 0 0 2px rgba(0, 255, 242, 0.2);\n        }\n        .bid-button {\n          padding: 8px 15px;\n          background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(16, 185, 129, 0.1));\n          border: 1px solid rgba(16, 185, 129, 0.5);\n          color: #34d399;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 0.9em;\n          font-weight: 600;\n          transition: all 0.2s;\n          white-space: nowrap;\n        }\n        .bid-button:hover:not(:disabled) {\n          background: rgba(16, 185, 129, 0.4);\n          box-shadow: 0 0 15px rgba(16, 185, 129, 0.3);\n        }\n        .bid-button:disabled {\n          background: rgba(75, 85, 99, 0.3);\n          border-color: rgba(75, 85, 99, 0.5);\n          color: #64748b;\n          cursor: not-allowed;\n        }\n\n        /* --- List View Styles - Dark Theme --- */\n        .my-auctions-content h2, .my-bids-content h2, .completed-auctions-content h2 {\n          font-size: 1.5em;\n          color: #00fff2;\n          margin-bottom: 20px;\n          padding-bottom: 10px;\n          border-bottom: 1px solid rgba(0, 255, 242, 0.2);\n          text-shadow: 0 0 10px rgba(0, 255, 242, 0.3);\n        }\n        .list-view { display: flex; flex-direction: column; gap: 15px; }\n        .list-item {\n          background: rgba(20, 20, 35, 0.8);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 12px;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n          display: flex;\n          align-items: center;\n          padding: 15px;\n          transition: all 0.2s ease;\n          border-left: 4px solid transparent;\n        }\n        .list-item:hover {\n          border-color: rgba(0, 255, 242, 0.3);\n          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);\n        }\n        .list-item .item-info { flex-grow: 1; padding-right: 15px; }\n        .list-item h3 {\n          font-size: 1.1em;\n          font-weight: 600;\n          color: #fff;\n          margin: 0 0 5px 0;\n          display: flex;\n          align-items: center;\n        }\n        .list-item .item-description { font-size: 0.9em; color: #94a3b8; margin-bottom: 8px; }\n        .list-item .price-details, .list-item .meta-details { font-size: 0.85em; color: #64748b; margin-bottom: 5px; }\n        .list-item .bid-info .price { color: #00fff2; font-weight: 600; }\n        .list-item .status-indicator { font-size: 0.9em; font-weight: 500; margin-top: 8px; }\n        .list-item .status-indicator .won, .list-item .status-indicator .highest { color: #34d399; font-weight: 600; }\n        .list-item .status-indicator .outbid { color: #fbbf24; font-weight: 600; }\n        .list-item .item-actions { flex-shrink: 0; display: flex; align-items: center; gap: 10px; }\n\n        /* --- Action Buttons (\uacf5\ud1b5) - Dark Theme --- */\n        .action-button {\n          padding: 8px 15px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 0.9em;\n          font-weight: 500;\n          transition: all 0.2s ease;\n          white-space: nowrap;\n        }\n        .action-button.primary {\n          background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(59, 130, 246, 0.1));\n          border: 1px solid rgba(59, 130, 246, 0.5);\n          color: #60a5fa;\n        }\n        .action-button.primary:hover {\n          background: rgba(59, 130, 246, 0.4);\n          box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);\n        }\n        .action-button.cancel-button {\n          background: linear-gradient(135deg, rgba(239, 68, 68, 0.3), rgba(239, 68, 68, 0.1));\n          border: 1px solid rgba(239, 68, 68, 0.5);\n          color: #f87171;\n        }\n        .action-button.cancel-button:hover {\n          background: rgba(239, 68, 68, 0.4);\n          box-shadow: 0 0 15px rgba(239, 68, 68, 0.3);\n        }\n        .action-button.rebid-button {\n          background: linear-gradient(135deg, rgba(251, 191, 36, 0.3), rgba(251, 191, 36, 0.1));\n          border: 1px solid rgba(251, 191, 36, 0.5);\n          color: #fbbf24;\n        }\n        .action-button.rebid-button:hover {\n          background: rgba(251, 191, 36, 0.4);\n          box-shadow: 0 0 15px rgba(251, 191, 36, 0.3);\n        }\n\n        /* --- Status Text/Badge - Dark Theme --- */\n        .action-status-text {\n          font-size: 0.9em;\n          font-weight: 500;\n          padding: 5px 10px;\n          border-radius: 4px;\n        }\n        .action-status-text.sold {\n          color: #60a5fa;\n          background: rgba(59, 130, 246, 0.1);\n          border: 1px solid rgba(59, 130, 246, 0.3);\n        }\n        .action-status-text.unsold {\n          color: #f87171;\n          background: rgba(239, 68, 68, 0.1);\n          border: 1px solid rgba(239, 68, 68, 0.3);\n        }\n        .badge {\n          font-size: 0.8em;\n          font-weight: 600;\n          padding: 4px 10px;\n          border-radius: 12px;\n          color: white;\n        }\n        .badge.won { background: linear-gradient(135deg, #10b981, #059669); }\n        .badge.sold { background: linear-gradient(135deg, #3b82f6, #2563eb); }\n        .badge.unsold { background: linear-gradient(135deg, #ef4444, #dc2626); }\n        .badge.neutral { background: linear-gradient(135deg, #6b7280, #4b5563); }\n\n        /* --- My Bids Specific --- */\n        .my-bid-item.status-highest { border-left-color: #10b981; }\n        .my-bid-item.status-outbid { border-left-color: #f59e0b; }\n\n        /* --- Completed Auctions Specific --- */\n        .completed-item.result-won { border-left-color: #10b981; }\n        .completed-item.result-sold { border-left-color: #3b82f6; }\n        .completed-item.result-unsold { border-left-color: #ef4444; }\n\n        /* --- Auction Form Styles - Dark Theme --- */\n        .register-auction-content h2 {\n          font-size: 1.5em;\n          color: #00fff2;\n          margin-bottom: 20px;\n          padding-bottom: 10px;\n          border-bottom: 1px solid rgba(0, 255, 242, 0.2);\n          text-shadow: 0 0 10px rgba(0, 255, 242, 0.3);\n        }\n        .auction-form {\n          background: rgba(20, 20, 35, 0.8);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          padding: 25px;\n          border-radius: 12px;\n          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);\n          max-width: 650px;\n          margin: 0 auto;\n          backdrop-filter: blur(10px);\n        }\n        .form-group { margin-bottom: 20px; }\n        .form-group label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 500;\n          color: #e2e8f0;\n        }\n        .form-control {\n          width: 100%;\n          padding: 10px 14px;\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          background: rgba(0, 0, 0, 0.3);\n          color: #e2e8f0;\n          border-radius: 6px;\n          font-size: 1em;\n        }\n        .form-control:focus {\n          outline: none;\n          border-color: #00fff2;\n          box-shadow: 0 0 0 2px rgba(0, 255, 242, 0.2);\n        }\n        .form-control[readOnly] {\n          background: rgba(75, 85, 99, 0.3);\n          color: #94a3b8;\n        }\n        .form-actions { display: flex; gap: 15px; margin-top: 30px; }\n        .register-button {\n          background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(16, 185, 129, 0.1)) !important;\n          border: 1px solid rgba(16, 185, 129, 0.5) !important;\n          color: #34d399 !important;\n        }\n        .register-button:hover:not(:disabled) {\n          background: rgba(16, 185, 129, 0.4) !important;\n          box-shadow: 0 0 15px rgba(16, 185, 129, 0.3);\n        }\n        .register-button:disabled {\n          background: rgba(75, 85, 99, 0.3) !important;\n          border-color: rgba(75, 85, 99, 0.5) !important;\n          color: #64748b !important;\n        }\n\n        /* --- Notification - Dark Theme --- */\n        .notification {\n          position: fixed;\n          bottom: 20px;\n          left: 50%;\n          transform: translateX(-50%);\n          padding: 12px 24px;\n          border-radius: 12px;\n          color: white;\n          animation: fadeInOut 3.5s ease-in-out forwards;\n          z-index: 1001;\n          backdrop-filter: blur(10px);\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n        }\n        .notification.success {\n          background: rgba(16, 185, 129, 0.9);\n          border: 1px solid rgba(16, 185, 129, 0.5);\n        }\n        .notification.error {\n          background: rgba(239, 68, 68, 0.9);\n          border: 1px solid rgba(239, 68, 68, 0.5);\n        }\n        .notification.info {\n          background: rgba(59, 130, 246, 0.9);\n          border: 1px solid rgba(59, 130, 246, 0.5);\n        }\n        @keyframes fadeInOut {\n          0% { opacity: 0; transform: translate(-50%, 15px); }\n          10% { opacity: 1; transform: translate(-50%, 0); }\n          90% { opacity: 1; transform: translate(-50%, 0); }\n          100% { opacity: 0; transform: translate(-50%, -5px); }\n        }\n\n        /* --- No results - Dark Theme --- */\n        .no-results-message {\n          text-align: center;\n          padding: 30px 20px;\n          color: #94a3b8;\n          background: rgba(20, 20, 35, 0.6);\n          border: 1px dashed rgba(255, 255, 255, 0.1);\n          border-radius: 12px;\n        }\n\n        /* --- Responsive --- */\n        @media (max-width: 768px) {\n          .auction-header { flex-direction: column; align-items: flex-start; gap: 10px; }\n          .auctions-grid { grid-template-columns: 1fr; }\n          .list-item { flex-direction: column; align-items: flex-start; }\n          .list-item .item-actions { width: 100%; margin-top: 10px; justify-content: flex-end; }\n        }\n      '})]})}}}]);
//# sourceMappingURL=5.5136776e.chunk.js.map