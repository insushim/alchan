{"version":3,"file":"static/js/3504.f3ae0a0b.chunk.js","mappings":"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","sources":["pages/organization/OrganizationChart.js"],"sourcesContent":["// src/pages/organization/OrganizationChart.js\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport \"./OrganizationChart.css\";\nimport { db } from \"../../firebase\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport {\n  doc,\n  collection,\n  query,\n  where,\n  updateDoc,\n  setDoc,\n  getDoc,\n  getDocs,\n  serverTimestamp,\n  writeBatch,\n} from \"firebase/firestore\";\nimport { usePolling } from \"../../hooks/usePolling\";\n\nimport { logger } from \"../../utils/logger\";\n// ê¸°ë³¸ ê´€ë¦¬ì ì„¤ì • (Firestoreì— ì—†ì„ ê²½ìš° ì‚¬ìš©)\nconst DEFAULT_ADMIN_SETTINGS = {\n  vetoOverrideRequired: 17,\n  adminPassword: process.env.REACT_APP_ADMIN_DEFAULT_PASSWORD || \"\",\n  lastUpdated: null,\n};\n\nconst OrganizationChart = ({ classCode }) => {\n  const { isAdmin: isAuthAdmin } = useAuth() || {};\n  const [approvedLaws, setApprovedLaws] = useState([]);\n  const [vetoPendingLaws, setVetoPendingLaws] = useState([]);\n  const [pendingGovLaws, setPendingGovLaws] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedLaw, setSelectedLaw] = useState(null);\n  const [vetoReason, setVetoReason] = useState(\"\");\n  const [isAdminMode, setIsAdminMode] = useState(false);\n  const [passwordInput, setPasswordInput] = useState(\"\");\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [adminSettings, setAdminSettings] = useState(DEFAULT_ADMIN_SETTINGS);\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\n  const [newSettings, setNewSettings] = useState({\n    vetoOverrideRequired: DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\n    adminPassword: \"\",\n  });\n  const [loadingSettings, setLoadingSettings] = useState(true);\n  const [loadingLaws, setLoadingLaws] = useState(true);\n\n  // Firestoreì—ì„œ ê´€ë¦¬ì ì„¤ì • ë¡œë“œ ë° ì´ˆê¸°í™”\n  const fetchSettings = useCallback(async () => {\n    if (!classCode) return;\n    setLoadingSettings(true);\n    const settingsDocRef = doc(db, \"governmentSettings\", classCode);\n\n    try {\n      const docSnap = await getDoc(settingsDocRef);\n      if (docSnap.exists()) {\n        setAdminSettings({ ...DEFAULT_ADMIN_SETTINGS, ...docSnap.data() });\n        setNewSettings({\n          // ëª¨ë‹¬ìš© ì„¤ì •ë„ ì—…ë°ì´íŠ¸\n          vetoOverrideRequired:\n            docSnap.data().vetoOverrideRequired ||\n            DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\n          adminPassword: \"\", // ë¹„ë°€ë²ˆí˜¸ëŠ” ì§ì ‘ ì…ë ¥ë°›ë„ë¡ ë¹„ì›Œë‘ \n        });\n      } else {\n        // í•´ë‹¹ classCodeì— ëŒ€í•œ ì„¤ì •ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ ìƒì„±\n        await setDoc(settingsDocRef, {\n          ...DEFAULT_ADMIN_SETTINGS,\n          lastUpdated: serverTimestamp(),\n        });\n        setAdminSettings(DEFAULT_ADMIN_SETTINGS);\n        setNewSettings({\n          vetoOverrideRequired: DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\n          adminPassword: \"\",\n        });\n        logger.log(`[${classCode}] ì •ë¶€ ê¸°ë³¸ ì„¤ì • ìƒì„± ì™„ë£Œ`);\n      }\n    } catch (error) {\n      logger.error(\"ì •ë¶€ ì„¤ì • ë¡œë“œ ì˜¤ë¥˜:\", error);\n    } finally {\n      setLoadingSettings(false);\n    }\n  }, [classCode]);\n\n  // ğŸ”¥ [ë¹„ìš© ìµœì í™”] 5ë¶„ â†’ 1ì‹œê°„ (ì •ë¶€ ì„¤ì •ì€ ê±°ì˜ ì•ˆ ë°”ë€œ)\n  usePolling(fetchSettings, { interval: 60 * 60 * 1000, enabled: !!classCode });\n\n  // Firestoreì—ì„œ ë²•ì•ˆ ë°ì´í„° ë¡œë“œ\n  const fetchLaws = useCallback(async () => {\n    if (!classCode) return;\n    setLoadingLaws(true);\n    const lawsCollectionRef = collection(db, \"laws\"); // 'laws'ëŠ” êµ­íšŒì—ì„œ ì‚¬ìš©í•˜ëŠ” ë²•ì•ˆ ì»¬ë ‰ì…˜ëª…ê³¼ ë™ì¼í•´ì•¼ í•¨\n    const q = query(lawsCollectionRef, where(\"classCode\", \"==\", classCode));\n\n    try {\n      const querySnapshot = await getDocs(q);\n      const allLaws = querySnapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n\n      const approved = allLaws.filter(\n        (law) => law.status === \"approved\" && !law.presidentAction, // êµ­íšŒ í†µê³¼, ëŒ€í†µë ¹ ì¡°ì¹˜ ì „\n      );\n      const vetoPending = allLaws.filter((law) => law.status === \"vetoed\"); // ëŒ€í†µë ¹ ê±°ë¶€, ì¬ì˜ê²° ëŒ€ê¸°\n\n      setApprovedLaws(approved);\n      setVetoPendingLaws(vetoPending);\n    } catch (error) {\n      logger.error(\"ë²•ì•ˆ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:\", error);\n    } finally {\n      setLoadingLaws(false);\n    }\n  }, [classCode]);\n\n  // ğŸ”¥ [ë¹„ìš© ìµœì í™”] 5ë¶„ â†’ 30ë¶„ (ë²•ì•ˆ ë°ì´í„°ëŠ” ìì£¼ ì•ˆ ë°”ë€œ)\n  usePolling(fetchLaws, { interval: 30 * 60 * 1000, enabled: !!classCode });\n\n  // ì •ë¶€ ì´ì†¡ ë²•ì•ˆ (nationalAssemblyLaws ì»¬ë ‰ì…˜) ë¡œë“œ\n  const fetchGovLaws = useCallback(async () => {\n    if (!classCode) return;\n    try {\n      const lawsRef = collection(\n        db,\n        \"classes\",\n        classCode,\n        \"nationalAssemblyLaws\",\n      );\n      const q = query(\n        lawsRef,\n        where(\"status\", \"==\", \"pending_government_approval\"),\n      );\n      const snapshot = await getDocs(q);\n      setPendingGovLaws(snapshot.docs.map((d) => ({ id: d.id, ...d.data() })));\n    } catch (error) {\n      logger.error(\"ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ë¡œë“œ ì˜¤ë¥˜:\", error);\n    }\n  }, [classCode]);\n\n  usePolling(fetchGovLaws, { interval: 15 * 60 * 1000, enabled: !!classCode });\n\n  // ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ìŠ¹ì¸\n  const approveGovLaw = async (law) => {\n    if (!isAdminMode || !classCode) {\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ìŠ¹ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    if (!window.confirm(\"ì´ ë²•ì•ˆì„ ìµœì¢… ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\")) return;\n    const lawDocRef = doc(\n      db,\n      \"classes\",\n      classCode,\n      \"nationalAssemblyLaws\",\n      law.id,\n    );\n    try {\n      await updateDoc(lawDocRef, {\n        status: \"approved\",\n        finalStatus: \"final_approved\",\n        finalApprovalDate: serverTimestamp(),\n      });\n      await fetchGovLaws();\n      alert(`\"${law.title}\" ë²•ì•ˆì´ ìµœì¢… ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.`);\n    } catch (error) {\n      logger.error(\"ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ìŠ¹ì¸ ì˜¤ë¥˜:\", error);\n      alert(\"ë²•ì•ˆ ìŠ¹ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ê±°ë¶€ê¶Œ\n  const vetoGovLaw = async (law) => {\n    if (!isAdminMode || !classCode) {\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ê±°ë¶€ê¶Œì„ í–‰ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    const reason = prompt(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n    if (!reason || !reason.trim()) {\n      alert(\"ê±°ë¶€ ì‚¬ìœ ë¥¼ ë°˜ë“œì‹œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.\");\n      return;\n    }\n    const lawDocRef = doc(\n      db,\n      \"classes\",\n      classCode,\n      \"nationalAssemblyLaws\",\n      law.id,\n    );\n    const deadline = new Date();\n    deadline.setDate(deadline.getDate() + 7);\n    try {\n      await updateDoc(lawDocRef, {\n        status: \"vetoed\",\n        vetoReason: reason,\n        vetoDate: serverTimestamp(),\n        vetoDeadline: deadline,\n        approvals: 0,\n        disapprovals: 0,\n        voters: {},\n      });\n      await fetchGovLaws();\n      alert(`\"${law.title}\" ë²•ì•ˆì— ê±°ë¶€ê¶Œì´ í–‰ì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.`);\n    } catch (error) {\n      logger.error(\"ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ê±°ë¶€ ì˜¤ë¥˜:\", error);\n      alert(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ê´€ë¦¬ì ëª¨ë“œ í† ê¸€\n  const toggleAdminMode = () => {\n    if (isAdminMode) {\n      setIsAdminMode(false);\n    } else {\n      setShowPasswordModal(true);\n    }\n  };\n\n  // ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ (AuthContext ê¸°ë°˜)\n  const verifyPassword = () => {\n    if (\n      (typeof isAuthAdmin === \"function\" && isAuthAdmin()) ||\n      passwordInput === adminSettings.adminPassword\n    ) {\n      setIsAdminMode(true);\n      setShowPasswordModal(false);\n      setPasswordInput(\"\");\n    } else {\n      alert(\"ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ê´€ë¦¬ì ì„¤ì • ì €ì¥ (Firestore)\n  const saveSettings = async () => {\n    if (!classCode) return;\n    if (\n      !newSettings.vetoOverrideRequired ||\n      newSettings.vetoOverrideRequired < 1\n    ) {\n      alert(\"ì¬ì˜ê²° í•„ìš” ì°¬ì„±ìˆ˜ëŠ” 1 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.\");\n      return;\n    }\n\n    const settingsDocRef = doc(db, \"governmentSettings\", classCode);\n    const updatedSettingsData = {\n      vetoOverrideRequired: parseInt(newSettings.vetoOverrideRequired),\n      lastUpdated: serverTimestamp(),\n    };\n\n    if (newSettings.adminPassword) {\n      updatedSettingsData.adminPassword = newSettings.adminPassword;\n    }\n\n    try {\n      await updateDoc(settingsDocRef, updatedSettingsData);\n      await fetchSettings();\n      setShowSettingsModal(false);\n      alert(\"ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n    } catch (error) {\n      logger.error(\"ì„¤ì • ì €ì¥ ì˜¤ë¥˜:\", error);\n      alert(\"ì„¤ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ë²•ì•ˆ ìŠ¹ì¸ ì²˜ë¦¬ (Firestore)\n  const approveLaw = async (law) => {\n    if (!isAdminMode || !classCode) {\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ìŠ¹ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    const lawDocRef = doc(db, \"laws\", law.id);\n    try {\n      await updateDoc(lawDocRef, {\n        presidentAction: \"approved\", // ëŒ€í†µë ¹ ìŠ¹ì¸\n        finalStatus: \"final_approved\", // ìµœì¢… ìƒíƒœ: ìŠ¹ì¸\n        finalApprovalDate: serverTimestamp(),\n        status: \"final_approved\", // ìƒíƒœë„ ìµœì¢… ìŠ¹ì¸ìœ¼ë¡œ ë³€ê²½ (í˜¼ì„  ë°©ì§€)\n      });\n      await fetchLaws();\n      alert(`\"${law.title}\" ë²•ì•ˆì´ ìµœì¢… ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.`);\n    } catch (error) {\n      logger.error(\"ë²•ì•ˆ ìŠ¹ì¸ ì˜¤ë¥˜:\", error);\n      alert(\"ë²•ì•ˆ ìŠ¹ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ê±°ë¶€ê¶Œ í–‰ì‚¬ ëª¨ë‹¬ ì—´ê¸°\n  const openVetoModal = (law) => {\n    if (!isAdminMode) {\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ê±°ë¶€ê¶Œì„ í–‰ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    setSelectedLaw(law);\n    setVetoReason(\"\");\n    setShowModal(true);\n  };\n\n  // ê±°ë¶€ê¶Œ í–‰ì‚¬ ì²˜ë¦¬ (Firestore)\n  const vetoLaw = async () => {\n    if (!vetoReason) {\n      alert(\"ê±°ë¶€ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n    if (!selectedLaw || !classCode) return;\n\n    const lawDocRef = doc(db, \"laws\", selectedLaw.id);\n    // êµ­íšŒ ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ ë¡œì§ìœ¼ë¡œ ê±°ë¶€ê¶Œ í–‰ì‚¬ ì‹œ íˆ¬í‘œ ê´€ë ¨ í•„ë“œë„ ì—…ë°ì´íŠ¸\n    // (ì˜ˆ: nationalAssemblyVotes ì»¬ë ‰ì…˜ì—ì„œ í•´ë‹¹ ë²•ì•ˆ íˆ¬í‘œ ì´ë ¥ ì‚­ì œ ë“±ì€ NationalAssembly ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ê³¼ ì¤‘ë³µë  ìˆ˜ ìˆì–´, ì—¬ê¸°ì„œëŠ” ë²•ì•ˆ ìƒíƒœë§Œ ë³€ê²½)\n    // êµ­íšŒì—ì„œ ì¬ì˜ê²°ì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í•„ë“œë“¤ì„ ì´ˆê¸°í™”/ì„¤ì •í•´ì¤ë‹ˆë‹¤.\n    const vetoDeadline = new Date(\n      Date.now() + 24 * 60 * 60 * 1000,\n    ).toISOString(); // 24ì‹œê°„ í›„\n\n    try {\n      await updateDoc(lawDocRef, {\n        status: \"vetoed\", // ìƒíƒœ: ê±°ë¶€ë¨ (êµ­íšŒ ì¬ì˜ê²° ëŒ€ê¸°)\n        presidentAction: \"vetoed\", // ëŒ€í†µë ¹ ì¡°ì¹˜: ê±°ë¶€\n        vetoReason: vetoReason,\n        vetoDate: serverTimestamp(),\n        approvals: 0, // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\n        disapprovals: 0, // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\n        voters: [], // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\n        vetoDeadline: vetoDeadline, // ì¬ì˜ê²° ê¸°í•œ ì„¤ì •\n        finalStatus: null, // ìµœì¢… ìƒíƒœ ì´ˆê¸°í™”\n      });\n      await fetchLaws();\n\n      // êµ­íšŒ íˆ¬í‘œ ì´ë ¥(nationalAssemblyVotes)ì€ NationalAssembly ì»´í¬ë„ŒíŠ¸ì—ì„œ ê´€ë¦¬í•˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ì§ì ‘ ê±´ë“œë¦¬ì§€ ì•ŠìŒ\n      // í•„ìš”í•˜ë‹¤ë©´, Cloud Function ë“±ì„ í†µí•´ êµ­íšŒ íˆ¬í‘œ ì´ë ¥ë„ ì´ˆê¸°í™”í•˜ëŠ” ë¡œì§ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŒ\n\n      setShowModal(false);\n      setSelectedLaw(null);\n      alert(\n        `\"${selectedLaw.title}\" ë²•ì•ˆì— ê±°ë¶€ê¶Œì´ í–‰ì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. êµ­íšŒì—ì„œ ì¬ì˜ê²° ì ˆì°¨ê°€ ì‹œì‘ë©ë‹ˆë‹¤.`,\n      );\n    } catch (error) {\n      logger.error(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì˜¤ë¥˜:\", error);\n      alert(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ë‚ ì§œ í¬ë§· í•¨ìˆ˜\n  const formatDate = (dateStringOrTimestamp) => {\n    if (!dateStringOrTimestamp) return \"ë‚ ì§œ ì •ë³´ ì—†ìŒ\";\n    let date;\n    if (dateStringOrTimestamp.toDate) {\n      // Firestore Timestamp ê°ì²´ì¸ ê²½ìš°\n      date = dateStringOrTimestamp.toDate();\n    } else {\n      // ISO ë¬¸ìì—´ì¸ ê²½ìš°\n      date = new Date(dateStringOrTimestamp);\n    }\n    if (isNaN(date.getTime())) return \"ìœ íš¨í•˜ì§€ ì•Šì€ ë‚ ì§œ\";\n    return `${date.getFullYear()}ë…„ ${\n      date.getMonth() + 1\n    }ì›” ${date.getDate()}ì¼ ${date.getHours()}ì‹œ ${date.getMinutes()}ë¶„`;\n  };\n\n  // ë‚¨ì€ ì‹œê°„ ê³„ì‚° í•¨ìˆ˜\n  const getRemainingTime = (deadline) => {\n    if (!deadline) return \"ê¸°í•œ ì •ë³´ ì—†ìŒ\";\n    const now = new Date();\n    const deadlineDate = new Date(deadline);\n    const diff = deadlineDate - now;\n\n    if (diff <= 0) return \"ì‹œê°„ ë§Œë£Œ\";\n\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n\n    return `${hours}ì‹œê°„ ${minutes}ë¶„ ë‚¨ìŒ`;\n  };\n\n  // ìë™ ë¶€ê²° ì²˜ë¦¬ í™•ì¸ (Firestore ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, NationalAssembly ì»´í¬ë„ŒíŠ¸ì—ì„œ ì£¼ë¡œ ì²˜ë¦¬)\n  // OrganizationChartëŠ” vetoPendingLaws ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” ì—­í• ì— ì§‘ì¤‘í•˜ê³ ,\n  // ì‹¤ì œ ë²•ì•ˆì˜ ìµœì¢… ìƒíƒœ ë³€ê²½(auto_rejected ë“±)ì€ NationalAssembly ë˜ëŠ” ë³„ë„ì˜ ë¡œì§(ì˜ˆ: Cloud Function)ì—ì„œ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ë” ì ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  // ì—¬ê¸°ì„œëŠ” UI í‘œì‹œì— í•„ìš”í•œ ì •ë³´ë§Œ í™œìš©í•©ë‹ˆë‹¤.\n  // ë§Œì•½ ì´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´, ì•„ë˜ ë¡œì§ì„ Firestore ì“°ê¸°ì™€ í•¨ê»˜ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.\n  // useEffect(() => {\n  //   if (!classCode || vetoPendingLaws.length === 0) return;\n\n  //   const now = new Date();\n  //   const batch = writeBatch(db);\n  //   let needsUpdate = false;\n\n  //   vetoPendingLaws.forEach(law => {\n  //     if (law.status === \"vetoed\" && law.vetoDeadline) {\n  //       const deadlineDate = new Date(law.vetoDeadline);\n  //       const currentApprovals = law.approvals || 0;\n\n  //       if (now > deadlineDate && currentApprovals < adminSettings.vetoOverrideRequired) {\n  //         const lawDocRef = doc(db, \"laws\", law.id);\n  //         batch.update(lawDocRef, {\n  //           status: \"auto_rejected\", // ìë™ ë¶€ê²°\n  //           finalStatus: \"rejected\", // ìµœì¢… ìƒíƒœ: ë¶€ê²°\n  //           rejectionReason: \"ì¬ì˜ê²° ê¸°í•œ ë§Œë£Œ ë° ì°¬ì„± ë¯¸ë‹¬\",\n  //           finalDecisionDate: serverTimestamp(),\n  //         });\n  //         needsUpdate = true;\n  //         logger.log(`ë²•ì•ˆ \"${law.title}\" ìë™ ë¶€ê²° ì²˜ë¦¬ë¨.`);\n  //       }\n  //     }\n  //   });\n\n  //   if (needsUpdate) {\n  //     batch.commit()\n  //       .then(() => logger.log(\"ìë™ ë¶€ê²° ë²•ì•ˆ ìƒíƒœ ì¼ê´„ ì—…ë°ì´íŠ¸ ì™„ë£Œ.\"))\n  //       .catch(error => logger.error(\"ìë™ ë¶€ê²° ë²•ì•ˆ ìƒíƒœ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:\", error));\n  //   }\n  //   // ì´ ë¡œì§ì€ NationalAssembly.jsì—ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê±°ë‚˜ Cloud Functionìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë” ì í•©í•©ë‹ˆë‹¤.\n  //   // ì—¬ê¸°ì„œëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ë‚¨ê²¨ë‘¡ë‹ˆë‹¤.\n  // }, [vetoPendingLaws, adminSettings.vetoOverrideRequired, classCode]);\n\n  if (!classCode) {\n    return (\n      <div className=\"org-chart-container\">\n        <p>ì„ íƒëœ í•™ê¸‰ì´ ì—†ìŠµë‹ˆë‹¤. í•™ê¸‰ì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.</p>\n      </div>\n    );\n  }\n\n  if (loadingSettings || loadingLaws) {\n    return (\n      <div className=\"org-chart-container\">\n        <p>ì •ë¶€ ì¡°ì§ë„ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"org-chart-container\">\n      <div className=\"org-header\">\n        <h1 className=\"org-title\">ì •ë¶€ ì¡°ì§ë„ (í•™ê¸‰: {classCode})</h1>\n        <div className=\"admin-controls\">\n          <button\n            className={`admin-toggle ${isAdminMode ? \"admin-active\" : \"\"}`}\n            onClick={toggleAdminMode}\n          >\n            {isAdminMode ? \"ê´€ë¦¬ì ëª¨ë“œ í•´ì œ\" : \"ê´€ë¦¬ì ëª¨ë“œ\"}\n          </button>\n\n          {isAdminMode && (\n            <button\n              className=\"settings-button\"\n              onClick={() => {\n                // setNewSettingsëŠ” useEffectì—ì„œ adminSettings ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ë¨\n                // í˜„ì¬ adminSettings ê°’ìœ¼ë¡œ ëª¨ë‹¬ ì´ˆê¸°í™”\n                setNewSettings({\n                  vetoOverrideRequired: adminSettings.vetoOverrideRequired,\n                  adminPassword: \"\", // ë¹„ë°€ë²ˆí˜¸ í•„ë“œëŠ” í•­ìƒ ë¹„ì›Œë‘ \n                });\n                setShowSettingsModal(true);\n              }}\n            >\n              ì„¤ì •\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"president-section\">\n        <div className=\"president-office\">\n          <h2>ëŒ€í†µë ¹ì‹¤</h2>\n          {isAdminMode && (\n            <div className=\"admin-indicator\">ê´€ë¦¬ì ë¡œê·¸ì¸ë¨</div>\n          )}\n        </div>\n\n        {/* ì •ë¶€ ì´ì†¡ ë²•ì•ˆ (nationalAssemblyLaws ì»¬ë ‰ì…˜) */}\n        <div className=\"law-approval-section\">\n          <h3>ì •ë¶€ ì´ì†¡ ë²•ì•ˆ</h3>\n          {pendingGovLaws.length === 0 ? (\n            <div className=\"empty-state\">ì •ë¶€ë¡œ ì´ì†¡ëœ ë²•ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>\n          ) : (\n            <div className=\"pending-laws\">\n              {pendingGovLaws.map((law) => (\n                <div key={law.id} className=\"law-card\">\n                  <div className=\"law-header\">\n                    <h3 className=\"law-title\">{law.title}</h3>\n                    <div className=\"law-status\">ì •ë¶€ ì‹¬ì˜ì¤‘</div>\n                  </div>\n                  <div className=\"law-content\">\n                    <p>\n                      <strong>ì œì•ˆì:</strong> {law.proposerName || \"ì •ë³´ ì—†ìŒ\"}\n                    </p>\n                    <p>\n                      <strong>ì·¨ì§€:</strong> {law.purpose}\n                    </p>\n                    <p>\n                      <strong>ì„¤ëª…:</strong> {law.description}\n                    </p>\n                    <p>\n                      <strong>ë²Œê¸ˆ:</strong>{\" \"}\n                      {law.fine\n                        ? `${law.fine.toLocaleString()}ì›`\n                        : \"ì •ë³´ ì—†ìŒ\"}\n                    </p>\n                    <p>\n                      <strong>êµ­íšŒ í†µê³¼ì¼:</strong>{\" \"}\n                      {formatDate(law.approvalDate)}\n                    </p>\n                  </div>\n                  <div className=\"law-actions\">\n                    <button\n                      className=\"approve-button\"\n                      onClick={() => approveGovLaw(law)}\n                      disabled={!isAdminMode}\n                    >\n                      ìŠ¹ì¸\n                    </button>\n                    <button\n                      className=\"veto-button\"\n                      onClick={() => vetoGovLaw(law)}\n                      disabled={!isAdminMode}\n                    >\n                      ê±°ë¶€ê¶Œ í–‰ì‚¬\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* ìŠ¹ì¸ ëŒ€ê¸° ë²•ì•ˆ (laws ì»¬ë ‰ì…˜) */}\n        <div className=\"law-approval-section\">\n          <h3>ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ë²•ì•ˆ</h3>\n          {approvedLaws.length === 0 ? (\n            <div className=\"empty-state\">ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ë²•ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>\n          ) : (\n            <div className=\"pending-laws\">\n              {approvedLaws.map((law) => (\n                <div key={law.id} className=\"law-card\">\n                  <div className=\"law-header\">\n                    <h3 className=\"law-title\">{law.title}</h3>\n                    <div className=\"law-status\">êµ­íšŒ ê°€ê²° (ìŠ¹ì¸ ëŒ€ê¸°)</div>\n                  </div>\n                  <div className=\"law-content\">\n                    <p>\n                      <strong>ì·¨ì§€:</strong> {law.purpose}\n                    </p>\n                    <p>\n                      <strong>ì„¤ëª…:</strong> {law.description}\n                    </p>\n                    <p>\n                      <strong>ë²Œê¸ˆ:</strong>{\" \"}\n                      {law.fine\n                        ? `${law.fine.toLocaleString()}ì›`\n                        : \"ì •ë³´ ì—†ìŒ\"}\n                    </p>\n                    <p>\n                      <strong>êµ­íšŒ ìŠ¹ì¸:</strong> ì°¬ì„± {law.approvals || 0}ëª…,\n                      ë°˜ëŒ€ {law.disapprovals || 0}ëª…\n                    </p>\n                    <p>\n                      <strong>êµ­íšŒ ê°€ê²°ì¼:</strong>{\" \"}\n                      {formatDate(law.approvalDate)}\n                    </p>\n                  </div>\n                  <div className=\"law-actions\">\n                    <button\n                      className=\"approve-button\"\n                      onClick={() => approveLaw(law)}\n                      disabled={!isAdminMode}\n                    >\n                      ìµœì¢… ìŠ¹ì¸\n                    </button>\n                    <button\n                      className=\"veto-button\"\n                      onClick={() => openVetoModal(law)}\n                      disabled={!isAdminMode}\n                    >\n                      ê±°ë¶€ê¶Œ í–‰ì‚¬\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"vetoed-laws-section\">\n          <h3>ì¬ì˜ê²° ì§„í–‰ ì¤‘ì¸ ë²•ì•ˆ (ëŒ€í†µë ¹ ê±°ë¶€)</h3>\n          {vetoPendingLaws.length === 0 ? (\n            <div className=\"empty-state\">ì¬ì˜ê²° ì§„í–‰ ì¤‘ì¸ ë²•ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>\n          ) : (\n            <div className=\"vetoed-laws\">\n              {vetoPendingLaws.map((law) => (\n                <div key={law.id} className=\"law-card vetoed\">\n                  <div className=\"law-header\">\n                    <h3 className=\"law-title\">{law.title}</h3>\n                    <div className=\"veto-status\">\n                      ê±°ë¶€ê¶Œ í–‰ì‚¬ë¨ (ì¬ì˜ê²° í•„ìš”)\n                    </div>\n                  </div>\n                  <div className=\"law-content\">\n                    <p>\n                      <strong>ì·¨ì§€:</strong> {law.purpose}\n                    </p>\n                    <p>\n                      <strong>ì„¤ëª…:</strong> {law.description}\n                    </p>\n                    <p>\n                      <strong>ë²Œê¸ˆ:</strong>{\" \"}\n                      {law.fine\n                        ? `${law.fine.toLocaleString()}ì›`\n                        : \"ì •ë³´ ì—†ìŒ\"}\n                    </p>\n                    <p>\n                      <strong>ê±°ë¶€ ì‚¬ìœ :</strong> {law.vetoReason}\n                    </p>\n                    <p>\n                      <strong>ê±°ë¶€ ì‹œê°„:</strong> {formatDate(law.vetoDate)}\n                    </p>\n                    <p>\n                      <strong>ì¬ì˜ê²° ë§ˆê°:</strong>{\" \"}\n                      {formatDate(law.vetoDeadline)} (\n                      {getRemainingTime(law.vetoDeadline)})\n                    </p>\n                    <p>\n                      <strong>í˜„ì¬ ì¬ì˜ê²° í˜„í™© (êµ­íšŒ):</strong> ì°¬ì„±{\" \"}\n                      {law.approvals || 0}ëª… / í•„ìš”{\" \"}\n                      {adminSettings.vetoOverrideRequired}ëª…\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* ê±°ë¶€ê¶Œ í–‰ì‚¬ ëª¨ë‹¬ */}\n      {showModal && selectedLaw && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-container\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">ê±°ë¶€ê¶Œ í–‰ì‚¬</h2>\n            </div>\n            <div className=\"modal-content\">\n              <h3>{selectedLaw.title}</h3>\n              <p>ì´ ë²•ì•ˆì— ëŒ€í•´ ê±°ë¶€ê¶Œì„ í–‰ì‚¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>\n              <p>\n                êµ­íšŒ ì¬ì˜ê²°ì„ ìœ„í•´ì„œëŠ”{\" \"}\n                <strong>{adminSettings.vetoOverrideRequired}ëª…</strong> ì´ìƒì˜\n                ì°¬ì„±ì´ í•„ìš”í•©ë‹ˆë‹¤.\n              </p>\n              <div className=\"form-group\">\n                <label className=\"form-label\">ê±°ë¶€ ì‚¬ìœ  (í•„ìˆ˜)</label>\n                <textarea\n                  className=\"form-textarea\"\n                  rows=\"4\"\n                  value={vetoReason}\n                  onChange={(e) => setVetoReason(e.target.value)}\n                  placeholder=\"ê±°ë¶€ ì‚¬ìœ ë¥¼ ìƒì„¸íˆ ì‘ì„±í•´ì£¼ì„¸ìš”.\"\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"modal-button cancel\"\n                onClick={() => {\n                  setShowModal(false);\n                  setSelectedLaw(null);\n                }}\n              >\n                ì·¨ì†Œ\n              </button>\n              <button\n                className=\"modal-button veto\"\n                onClick={vetoLaw}\n                disabled={!vetoReason}\n              >\n                ê±°ë¶€ê¶Œ í–‰ì‚¬\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ëª¨ë‹¬ */}\n      {showPasswordModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-container small\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">ê´€ë¦¬ì ë¡œê·¸ì¸</h2>\n            </div>\n            <div className=\"modal-content\">\n              <div className=\"form-group\">\n                <label className=\"form-label\">ë¹„ë°€ë²ˆí˜¸</label>\n                <input\n                  type=\"password\"\n                  className=\"form-input\"\n                  value={passwordInput}\n                  onChange={(e) => setPasswordInput(e.target.value)}\n                  placeholder=\"ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”\"\n                  onKeyPress={(e) => e.key === \"Enter\" && verifyPassword()}\n                />\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"modal-button cancel\"\n                onClick={() => setShowPasswordModal(false)}\n              >\n                ì·¨ì†Œ\n              </button>\n              <button className=\"modal-button submit\" onClick={verifyPassword}>\n                ë¡œê·¸ì¸\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ê´€ë¦¬ì ì„¤ì • ëª¨ë‹¬ */}\n      {showSettingsModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-container\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">ê´€ë¦¬ì ì„¤ì •</h2>\n            </div>\n            <div className=\"modal-content\">\n              <div className=\"form-group\">\n                <label className=\"form-label\">ì¬ì˜ê²° í•„ìš” ì°¬ì„±ìˆ˜</label>\n                <input\n                  type=\"number\"\n                  className=\"form-input\"\n                  min=\"1\"\n                  value={newSettings.vetoOverrideRequired}\n                  onChange={(e) =>\n                    setNewSettings({\n                      ...newSettings,\n                      vetoOverrideRequired: parseInt(e.target.value) || 0,\n                    })\n                  }\n                />\n                <p className=\"form-hint\">\n                  ê±°ë¶€ê¶Œ í–‰ì‚¬ í›„ ë²•ì•ˆì´ ìµœì¢… ê°€ê²°ë˜ê¸° ìœ„í•´ í•„ìš”í•œ êµ­íšŒ ì°¬ì„±í‘œ ìˆ˜\n                </p>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"form-label\">\n                  ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (ì„ íƒ)\n                </label>\n                <input\n                  type=\"password\"\n                  className=\"form-input\"\n                  value={newSettings.adminPassword}\n                  onChange={(e) =>\n                    setNewSettings({\n                      ...newSettings,\n                      adminPassword: e.target.value,\n                    })\n                  }\n                  placeholder=\"ë³€ê²½í•˜ë ¤ë©´ ì…ë ¥, ì•„ë‹ˆë©´ ë¹„ì›Œë‘ì„¸ìš”\"\n                />\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"modal-button cancel\"\n                onClick={() => setShowSettingsModal(false)}\n              >\n                ì·¨ì†Œ\n              </button>\n              <button className=\"modal-button submit\" onClick={saveSettings}>\n                ì €ì¥\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OrganizationChart;\n"],"names":["DEFAULT_ADMIN_SETTINGS","vetoOverrideRequired","adminPassword","process","REACT_APP_ADMIN_DEFAULT_PASSWORD","lastUpdated","_ref","classCode","isAdmin","isAuthAdmin","useAuth","approvedLaws","setApprovedLaws","useState","vetoPendingLaws","setVetoPendingLaws","pendingGovLaws","setPendingGovLaws","showModal","setShowModal","selectedLaw","setSelectedLaw","vetoReason","setVetoReason","isAdminMode","setIsAdminMode","passwordInput","setPasswordInput","showPasswordModal","setShowPasswordModal","adminSettings","setAdminSettings","showSettingsModal","setShowSettingsModal","newSettings","setNewSettings","loadingSettings","setLoadingSettings","loadingLaws","setLoadingLaws","fetchSettings","useCallback","async","settingsDocRef","doc","db","docSnap","getDoc","exists","_objectSpread","data","setDoc","serverTimestamp","logger","log","concat","error","usePolling","interval","enabled","fetchLaws","lawsCollectionRef","collection","q","query","where","allLaws","getDocs","docs","map","id","approved","filter","law","status","presidentAction","vetoPending","fetchGovLaws","lawsRef","snapshot","d","verifyPassword","alert","formatDate","dateStringOrTimestamp","date","toDate","Date","isNaN","getTime","getFullYear","getMonth","getDate","getHours","getMinutes","getRemainingTime","deadline","now","diff","hours","Math","floor","minutes","_jsx","className","children","_jsxs","onClick","toggleAdminMode","length","title","proposerName","purpose","description","fine","toLocaleString","approvalDate","window","confirm","lawDocRef","updateDoc","finalStatus","finalApprovalDate","approveGovLaw","disabled","reason","prompt","trim","setDate","vetoDate","vetoDeadline","approvals","disapprovals","voters","vetoGovLaw","approveLaw","openVetoModal","rows","value","onChange","e","target","placeholder","toISOString","type","onKeyPress","key","min","parseInt","updatedSettingsData"],"ignoreList":[],"sourceRoot":""}