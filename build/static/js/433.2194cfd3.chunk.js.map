{"version":3,"file":"static/js/433.2194cfd3.chunk.js","mappings":"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","sources":["components/PageWrapper.js","components/TaskItem.js","utils/jobTaskRewards.js","components/JobList.js","components/CommonTaskList.js","services/optimizedFirebaseService.js","pages/admin/SystemMonitoring.js","components/modals/AdminSettingsModal.js","hooks/useOptimizedAdminData.js","pages/dashboard/Dashboard.js"],"sourcesContent":["// src/components/PageWrapper.js\r\n//    -     \r\n\r\nimport React from 'react';\r\nimport { Loader2, CheckSquare } from 'lucide-react';\r\nimport { AlchanLoadingScreen } from './ui/Skeleton';\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const PageContainer = ({ children, className = '' }) => (\r\n  <div className={`min-h-full w-full bg-[#0a0a12] ${className}`}>\r\n    <div className=\"w-full max-w-none px-2 md:px-3 lg:px-4 py-1 md:py-2\">\r\n      {children}\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const PageHeader = ({\r\n  title,\r\n  subtitle,\r\n  icon: Icon,\r\n  badge,\r\n  action,\r\n  backButton,\r\n  className = '',\r\n}) => (\r\n  <section className={`bg-[#14142380] backdrop-blur-sm rounded-lg px-3 py-1.5 md:px-4 md:py-2 shadow-lg border border-cyan-900/30 flex flex-col md:flex-row md:items-center justify-between gap-1.5 md:gap-2 mb-2 md:mb-3 ${className}`}>\r\n    <div className=\"flex items-center gap-3\">\r\n      {backButton}\r\n      {Icon && (\r\n        <div className=\"w-9 h-9 md:w-10 md:h-10 bg-cyan-900/30 rounded-lg flex items-center justify-center text-cyan-400 shrink-0 shadow-sm border border-cyan-500/30\">\r\n          <Icon className=\"w-5 h-5\" />\r\n        </div>\r\n      )}\r\n      <div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <h2 className=\"text-lg md:text-xl font-bold text-white tracking-tight\">\r\n            {title}\r\n          </h2>\r\n          {badge}\r\n        </div>\r\n        {subtitle && (\r\n          <p className=\"text-xs md:text-sm text-slate-400 font-medium\">\r\n            {subtitle}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n    {action && (\r\n      <div className=\"flex flex-wrap items-center gap-2 md:gap-3 md:ml-auto\">\r\n        {action}\r\n      </div>\r\n    )}\r\n  </section>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const SectionTitle = ({ children, icon: Icon, action, className = '' }) => (\r\n  <div className={`flex items-center justify-between px-1 mb-4 ${className}`}>\r\n    <h3 className=\"text-lg md:text-xl font-bold text-white flex items-center gap-2\">\r\n      {Icon && <Icon className=\"w-5 h-5 text-cyan-400\" />}\r\n      {children}\r\n    </h3>\r\n    {action}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   - null (HTML  )\r\n// ============================================\r\nexport const LoadingState = ({ message = '  ...' }) => null;\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const ErrorState = ({ title = ' ', message, onRetry }) => (\r\n  <div className=\"flex flex-col items-center justify-center py-16 text-center\">\r\n    <div className=\"w-16 h-16 bg-red-900/30 rounded-full flex items-center justify-center mb-4\">\r\n      <span className=\"text-3xl text-red-400\">!</span>\r\n    </div>\r\n    <h3 className=\"text-lg font-semibold text-white mb-2\">{title}</h3>\r\n    {message && <p className=\"text-slate-400 mb-4 max-w-md\">{message}</p>}\r\n    {onRetry && (\r\n      <button\r\n        onClick={onRetry}\r\n        className=\"px-5 py-2.5 bg-cyan-500 hover:bg-cyan-400 text-slate-900 rounded-xl font-bold text-sm transition-all shadow-lg shadow-cyan-500/30\"\r\n      >\r\n         \r\n      </button>\r\n    )}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const EmptyState = ({ icon: Icon, title, description, action }) => (\r\n  <div className=\"flex flex-col items-center justify-center py-16 text-center\">\r\n    {Icon && (\r\n      <div className=\"w-16 h-16 rounded-full bg-[#14142380] shadow-lg flex items-center justify-center mb-4 border border-cyan-900/30\">\r\n        <Icon className=\"w-8 h-8 text-slate-400\" />\r\n      </div>\r\n    )}\r\n    {title && (\r\n      <h3 className=\"text-lg font-bold text-slate-300 mb-2\">{title}</h3>\r\n    )}\r\n    {description && (\r\n      <p className=\"text-slate-500 font-medium mb-6 max-w-md\">{description}</p>\r\n    )}\r\n    {action}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const CardGrid = ({ children, cols = 3, className = '' }) => {\r\n  const colsClass = {\r\n    1: 'grid-cols-1',\r\n    2: 'grid-cols-1 md:grid-cols-2',\r\n    3: 'grid-cols-1 md:grid-cols-2 xl:grid-cols-3',\r\n    4: 'grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4',\r\n  };\r\n\r\n  return (\r\n    <div className={`grid ${colsClass[cols] || colsClass[3]} gap-6 ${className}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const StatCard = ({\r\n  icon: Icon,\r\n  label,\r\n  value,\r\n  subValue,\r\n  trend,\r\n  iconBg = 'bg-cyan-900/30',\r\n  iconColor = 'text-cyan-400',\r\n  onClick,\r\n}) => (\r\n  <div\r\n    className={`bg-[#14142380] backdrop-blur-sm rounded-2xl p-6 border border-cyan-900/30 shadow-lg hover:shadow-xl hover:shadow-cyan-500/10 transition-all duration-300 ${onClick ? 'cursor-pointer' : ''\r\n      }`}\r\n    onClick={onClick}\r\n  >\r\n    <div className=\"flex items-start justify-between\">\r\n      <div className={`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${iconBg}`}>\r\n        <Icon className={`w-6 h-6 ${iconColor}`} />\r\n      </div>\r\n      {trend && (\r\n        <span className={`text-xs font-bold px-2.5 py-1 rounded-lg ${trend.type === 'up' ? 'bg-emerald-900/30 text-emerald-400' : 'bg-red-900/30 text-red-400'\r\n          }`}>\r\n          {trend.type === 'up' ? '+' : '-'}{trend.value}%\r\n        </span>\r\n      )}\r\n    </div>\r\n    <div className=\"mt-4\">\r\n      <p className=\"text-sm text-slate-400 font-medium\">{label}</p>\r\n      <p className=\"text-2xl font-bold text-white mt-1 tracking-tight\">{value}</p>\r\n      {subValue && (\r\n        <p className=\"text-sm text-slate-500 mt-1\">{subValue}</p>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   - \r\n// ============================================\r\nexport const AssetCard = ({ icon: Icon, label, value, color, iconColor }) => (\r\n  <div className={`hidden lg:flex items-center gap-3 px-3 py-1.5 rounded-xl ${color} bg-opacity-50 border border-transparent`}>\r\n    <div className={`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${iconColor}`}>\r\n      <Icon className=\"w-5 h-5\" />\r\n    </div>\r\n    <div>\r\n      <p className=\"text-[10px] font-bold opacity-70 mb-0 leading-tight\">{label}</p>\r\n      <p className=\"text-lg font-black tracking-tight leading-tight\">{value}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const TabGroup = ({ tabs, activeTab, onChange, className = '' }) => (\r\n  <div className={`flex gap-1 p-1 bg-[#0a0a12] rounded-xl border border-cyan-900/30 ${className}`}>\r\n    {tabs.map((tab) => (\r\n      <button\r\n        key={tab.id}\r\n        onClick={() => onChange(tab.id)}\r\n        className={`flex-1 px-4 py-2.5 text-sm font-bold rounded-lg transition-all duration-200 ${activeTab === tab.id\r\n          ? 'bg-cyan-500 text-slate-900 shadow-lg shadow-cyan-500/30'\r\n          : 'text-slate-400 hover:text-white hover:bg-white/5'\r\n          }`}\r\n      >\r\n        {tab.icon && <tab.icon className=\"w-4 h-4 mr-2 inline-block\" />}\r\n        {tab.label}\r\n        {tab.count !== undefined && (\r\n          <span className={`ml-2 px-1.5 py-0.5 text-xs rounded-full ${activeTab === tab.id\r\n            ? 'bg-slate-900 text-cyan-400'\r\n            : 'bg-slate-800 text-slate-400'\r\n            }`}>\r\n            {tab.count}\r\n          </span>\r\n        )}\r\n      </button>\r\n    ))}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const ActionButton = ({\r\n  children,\r\n  icon: Icon,\r\n  variant = 'primary',\r\n  size = 'md',\r\n  loading = false,\r\n  disabled = false,\r\n  onClick,\r\n  className = '',\r\n  title,\r\n}) => {\r\n  const variants = {\r\n    primary: 'bg-cyan-500 text-slate-900 hover:bg-cyan-400 ring-1 ring-cyan-400 shadow-cyan-500/30',\r\n    secondary: 'bg-slate-800 hover:bg-slate-700 text-slate-200',\r\n    outline: 'bg-transparent text-slate-300 ring-1 ring-slate-600 hover:bg-slate-800 hover:ring-slate-500 shadow-sm',\r\n    'outline-green': 'bg-transparent text-emerald-400 ring-1 ring-emerald-600 hover:bg-emerald-900/30 hover:ring-emerald-500 shadow-sm',\r\n    'outline-red': 'bg-transparent text-rose-400 ring-1 ring-rose-600 hover:bg-rose-900/30 hover:ring-rose-500 shadow-sm',\r\n    danger: 'bg-transparent text-rose-400 ring-1 ring-rose-600 hover:bg-rose-900/30 hover:ring-rose-500 shadow-sm',\r\n    success: 'bg-transparent text-emerald-400 ring-1 ring-emerald-600 hover:bg-emerald-900/30 hover:ring-emerald-500 shadow-sm',\r\n    ghost: 'text-slate-400 hover:bg-slate-800 hover:text-white',\r\n    indigo: 'bg-purple-900/30 text-purple-400 hover:bg-purple-900/50',\r\n  };\r\n\r\n  const sizes = {\r\n    sm: 'px-4 py-2 text-sm',\r\n    md: 'px-5 py-2.5 text-sm',\r\n    lg: 'px-6 py-3 text-base',\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      disabled={disabled || loading}\r\n      title={title}\r\n      className={`inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-200 active:scale-95 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${variants[variant]} ${sizes[size]} ${className}`}\r\n    >\r\n      {loading ? (\r\n        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n      ) : Icon ? (\r\n        <Icon className=\"w-4 h-4\" />\r\n      ) : null}\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const InfoBadge = ({ children, variant = 'default', className = '' }) => {\r\n  const variants = {\r\n    default: 'bg-slate-100 text-slate-700',\r\n    primary: 'bg-indigo-100 text-indigo-700',\r\n    success: 'bg-emerald-100 text-emerald-700',\r\n    warning: 'bg-amber-100 text-amber-700',\r\n    danger: 'bg-red-100 text-red-700',\r\n  };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center px-2.5 py-1 text-xs font-bold rounded-lg ${variants[variant]} ${className}`}>\r\n      {children}\r\n    </span>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const AlertBanner = ({ children, variant = 'info', icon: Icon, onClose, className = '' }) => {\r\n  const variants = {\r\n    info: 'bg-blue-50 border-blue-200 text-blue-800',\r\n    success: 'bg-emerald-50 border-emerald-200 text-emerald-800',\r\n    warning: 'bg-amber-50 border-amber-200 text-amber-800',\r\n    danger: 'bg-red-50 border-red-200 text-red-800',\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-start gap-3 p-4 rounded-xl border ${variants[variant]} ${className}`}>\r\n      {Icon && <Icon className=\"w-5 h-5 flex-shrink-0 mt-0.5\" />}\r\n      <div className=\"flex-1 text-sm font-medium\">{children}</div>\r\n      {onClose && (\r\n        <button onClick={onClose} className=\"text-current opacity-50 hover:opacity-100\">\r\n          \r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//   /  \r\n// ============================================\r\nexport const ListItem = ({ children, icon: Icon, onClick, active, className = '' }) => (\r\n  <div\r\n    className={`flex items-center gap-3 p-4 rounded-xl transition-all ${onClick ? 'cursor-pointer' : ''\r\n      } ${active\r\n        ? 'bg-cyan-900/30 border border-cyan-500/50'\r\n        : 'bg-[#14142380] border border-cyan-900/20 hover:border-cyan-500/30 hover:shadow-lg hover:shadow-cyan-500/10'\r\n      } ${className}`}\r\n    onClick={onClick}\r\n  >\r\n    {Icon && (\r\n      <div className={`p-2 rounded-lg ${active ? 'bg-cyan-500' : 'bg-slate-800'}`}>\r\n        <Icon className={`w-5 h-5 ${active ? 'text-slate-900' : 'text-slate-400'}`} />\r\n      </div>\r\n    )}\r\n    <div className=\"flex-1 min-w-0\">{children}</div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const TaskItem = ({ task, onComplete, onEdit, onDelete, showActions = true }) => (\r\n  <div className=\"group flex items-center justify-between p-3 rounded-xl bg-[#0a0a12] border border-cyan-900/30 hover:border-cyan-500/50 hover:bg-slate-900/50 hover:shadow-lg hover:shadow-cyan-500/10 transition-all\">\r\n    <div className=\"flex items-center gap-3 min-w-0\">\r\n      <div\r\n        onClick={onComplete}\r\n        className=\"w-5 h-5 rounded md:rounded-md border-2 border-slate-600 group-hover:border-cyan-500 cursor-pointer transition-colors flex items-center justify-center shrink-0\"\r\n      >\r\n        {/*   */}\r\n      </div>\r\n      <span className=\"font-bold text-slate-300 text-base truncate group-hover:text-cyan-400 transition-colors\">\r\n        {task.name}\r\n      </span>\r\n    </div>\r\n\r\n    <div className=\"flex items-center gap-2 shrink-0\">\r\n      {task.rewardType === \"random\" && (\r\n        <span className=\"px-2.5 py-1 rounded-lg bg-amber-900/30 text-amber-400 text-xs font-bold flex items-center gap-1\">\r\n           \r\n        </span>\r\n      )}\r\n      {showActions && (\r\n        <div className=\"opacity-0 group-hover:opacity-100 flex gap-1 transition-opacity\">\r\n          {onEdit && (\r\n            <button\r\n              onClick={onEdit}\r\n              className=\"p-1.5 text-slate-500 hover:text-cyan-400 rounded hover:bg-cyan-900/30\"\r\n            >\r\n              \r\n            </button>\r\n          )}\r\n          {onDelete && (\r\n            <button\r\n              onClick={onDelete}\r\n              className=\"p-1.5 text-slate-500 hover:text-red-400 rounded hover:bg-red-900/30\"\r\n            >\r\n              \r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const JobCard = ({ job, children, onEdit, onDelete, onAddTask }) => {\r\n  const gradients = {\r\n    indigo: 'from-indigo-500 to-purple-600',\r\n    blue: 'from-blue-500 to-cyan-500',\r\n    emerald: 'from-emerald-500 to-teal-600',\r\n    orange: 'from-orange-400 to-red-500',\r\n    pink: 'from-pink-500 to-rose-500',\r\n    violet: 'from-violet-500 to-purple-600',\r\n  };\r\n\r\n  const gradient = job.color || gradients.indigo;\r\n\r\n  return (\r\n    <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl hover:shadow-cyan-500/10 transition-all duration-300 border border-cyan-900/30 overflow-hidden flex flex-col\">\r\n      {/*   */}\r\n      <div className={`h-16 px-6 flex items-center justify-between bg-gradient-to-r ${gradient}`}>\r\n        <h4 className=\"text-white font-bold text-lg tracking-wide flex items-center gap-2\">\r\n           {job.title}\r\n        </h4>\r\n        {(onEdit || onDelete) && (\r\n          <div className=\"flex gap-2\">\r\n            {onEdit && (\r\n              <button\r\n                onClick={onEdit}\r\n                className=\"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors\"\r\n              >\r\n                \r\n              </button>\r\n            )}\r\n            {onDelete && (\r\n              <button\r\n                onClick={onDelete}\r\n                className=\"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors\"\r\n              >\r\n                \r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/*   */}\r\n      <div className=\"p-6 space-y-4 flex-1\">\r\n        {children}\r\n      </div>\r\n\r\n      {/*   */}\r\n      {onAddTask && (\r\n        <div className=\"px-6 pb-6 pt-2\">\r\n          <button\r\n            onClick={onAddTask}\r\n            className=\"w-full py-3 rounded-xl bg-slate-900/50 text-slate-400 text-sm font-bold border border-cyan-900/30 hover:bg-cyan-900/30 hover:text-cyan-400 hover:border-cyan-500/50 transition-colors flex items-center justify-center gap-2\"\r\n          >\r\n                \r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//   \r\n// ============================================\r\nexport const ContentSection = ({ children, className = '' }) => (\r\n  <div className={`bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 p-6 ${className}`}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const MoneyDisplay = ({ amount, size = 'md', showSign = false, className = '' }) => {\r\n  const formatted = Math.abs(amount || 0).toLocaleString('ko-KR');\r\n  const isNegative = amount < 0;\r\n  const isPositive = amount > 0;\r\n\r\n  const sizes = {\r\n    sm: 'text-sm',\r\n    md: 'text-base',\r\n    lg: 'text-xl',\r\n    xl: 'text-2xl',\r\n  };\r\n\r\n  return (\r\n    <span className={`font-bold tabular-nums ${sizes[size]} ${isNegative ? 'text-red-500' : isPositive && showSign ? 'text-emerald-500' : 'text-slate-900'\r\n      } ${className}`}>\r\n      {showSign && isPositive && '+'}\r\n      {isNegative && '-'}\r\n      {formatted}\r\n    </span>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//   \r\n// ============================================\r\nexport const AddCard = ({ onClick, label = ' ' }) => (\r\n  <button\r\n    onClick={onClick}\r\n    className=\"group relative flex flex-col items-center justify-center h-full min-h-[260px] rounded-2xl border-2 border-dashed border-cyan-900/50 bg-slate-900/30 hover:bg-cyan-900/20 hover:border-cyan-500/50 transition-all\"\r\n  >\r\n    <div className=\"w-16 h-16 rounded-full bg-slate-800 shadow-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform\">\r\n      <span className=\"text-3xl text-slate-500 group-hover:text-cyan-400\"></span>\r\n    </div>\r\n    <span className=\"text-slate-500 font-bold group-hover:text-cyan-400 text-sm\">{label}</span>\r\n  </button>\r\n);\r\n\r\nexport default {\r\n  PageContainer,\r\n  PageHeader,\r\n  SectionTitle,\r\n  LoadingState,\r\n  ErrorState,\r\n  EmptyState,\r\n  CardGrid,\r\n  StatCard,\r\n  AssetCard,\r\n  TabGroup,\r\n  ActionButton,\r\n  InfoBadge,\r\n  AlertBanner,\r\n  ListItem,\r\n  TaskItem,\r\n  JobCard,\r\n  ContentSection,\r\n  MoneyDisplay,\r\n  AddCard,\r\n};\r\n","// src/TaskItem.js\r\nimport React, { useState, useEffect, memo, useCallback } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { generateJobTaskReward } from \"../utils/jobTaskRewards\";\r\n\r\nimport { logger } from \"../utils/logger\";\r\nconst TaskItem = memo(function TaskItem({\r\n  task,\r\n  onEarnCoupon,\r\n  isJobTask,\r\n  isAdmin,\r\n  onEditTask,\r\n  onDeleteTask,\r\n  taskId, // taskId prop \r\n  jobId = null, // jobId prop  (  )\r\n}) {\r\n  const [showBubble, setShowBubble] = useState(false);\r\n  const [bubbleText, setBubbleText] = useState(\"\");\r\n  const [showCardModal, setShowCardModal] = useState(false);\r\n  const [rewardData, setRewardData] = useState(null);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [isFlipping, setIsFlipping] = useState(false);\r\n\r\n  const handleInternalClick = () => {\r\n    logger.log(\"[TaskItem] handleInternalClick :\", { taskName: task?.name, isJobTask, taskId, jobId });\r\n\r\n    //  \r\n    if (\r\n      !task ||\r\n      typeof task.clicks !== \"number\" ||\r\n      typeof task.maxClicks !== \"number\"\r\n    ) {\r\n      logger.error(\"Invalid task prop:\", task);\r\n      return;\r\n    }\r\n    if (task.maxClicks > 0 && task.clicks >= task.maxClicks) {\r\n      return;\r\n    }\r\n\r\n    //        \r\n    logger.log(\"[TaskItem]   \");\r\n    const rewards = generateJobTaskReward();\r\n    setRewardData(rewards);\r\n    setSelectedCard(null);\r\n    setIsFlipping(false);\r\n    setShowCardModal(true);\r\n  };\r\n\r\n  const handleCardSelect = (cardType) => {\r\n    if (isFlipping || selectedCard) return;\r\n\r\n    logger.log(\"[TaskItem]  :\", { cardType, taskId, jobId, isJobTask });\r\n\r\n    setSelectedCard(cardType);\r\n    setIsFlipping(true);\r\n\r\n    // 800ms   \r\n    setTimeout(() => {\r\n      const reward = cardType === \"cash\" ? rewardData.cash : rewardData.coupon;\r\n      const rewardText = cardType === \"cash\" ? `${reward.toLocaleString()}` : `${reward}`;\r\n\r\n      logger.log(\"[TaskItem] onEarnCoupon  :\", { taskId, jobId, isJobTask, cardType, reward });\r\n\r\n      // onEarnCoupon  - taskId, jobId, isJobTask, cardType, reward \r\n      if (typeof onEarnCoupon === \"function\") {\r\n        onEarnCoupon(taskId || task.id, jobId, isJobTask, cardType, reward);\r\n      }\r\n\r\n      setShowCardModal(false);\r\n      setBubbleText(`${cardType === \"cash\" ? \" \" : \" \"} ${rewardText} ! `);\r\n      setShowBubble(true);\r\n      setIsFlipping(false);\r\n    }, 800);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n    if (showBubble) {\r\n      timer = setTimeout(() => {\r\n        setShowBubble(false);\r\n        setBubbleText(\"\");\r\n      }, 2000);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [showBubble]);\r\n\r\n  const isCompleted =\r\n    task && task.maxClicks > 0 && task.clicks >= task.maxClicks;\r\n\r\n  if (!task) return null;\r\n\r\n  const isMobile = window.innerWidth <= 768;\r\n\r\n  const taskItemStyle = {\r\n    backgroundColor: isCompleted ? \"rgba(20, 20, 35, 0.4)\" : \"rgba(30, 30, 50, 0.6)\",\r\n    border: `1px solid ${isCompleted ? \"rgba(100, 116, 139, 0.1)\" : \"rgba(0, 255, 242, 0.15)\"}`,\r\n    opacity: isCompleted ? 0.6 : 1,\r\n    padding: isMobile ? \"8px 10px\" : \"12px\",\r\n    boxShadow: isCompleted ? \"none\" : \"0 4px 12px rgba(0, 0, 0, 0.1)\",\r\n  };\r\n\r\n  const taskInfoStyle = {\r\n    gap: isMobile ? \"6px\" : \"10px\",\r\n  };\r\n\r\n  const taskNameStyle = {\r\n    color: isCompleted ? \"#64748b\" : \"#e8e8ff\",\r\n    fontSize: isMobile ? \"12px\" : \"16px\",\r\n    lineHeight: \"1.4\",\r\n  };\r\n\r\n  const taskActionsStyle = {\r\n    gap: isMobile ? \"4px\" : \"8px\",\r\n  };\r\n\r\n  const couponStyle = {\r\n    backgroundColor: isJobTask ? \"rgba(79, 70, 229, 0.3)\" : \"rgba(16, 185, 129, 0.3)\",\r\n    color: isJobTask ? \"#818cf8\" : \"#34d399\",\r\n    border: isJobTask ? \"1px solid rgba(99, 102, 241, 0.5)\" : \"1px solid rgba(52, 211, 153, 0.5)\",\r\n    padding: isMobile ? \"3px 6px\" : \"4px 10px\",\r\n    fontSize: isMobile ? \"10px\" : \"13px\",\r\n  };\r\n\r\n  const renderCardModal = () => {\r\n    if (!showCardModal || !rewardData) return null;\r\n\r\n    const mobileModalContentStyle = {\r\n      ...modalContentStyle,\r\n      padding: isMobile ? \"20px\" : \"40px\",\r\n    };\r\n\r\n    const mobileModalTitleStyle = {\r\n      ...modalTitleStyle,\r\n      fontSize: isMobile ? \"20px\" : \"28px\",\r\n    };\r\n\r\n    const mobileModalSubtitleStyle = {\r\n      ...modalSubtitleStyle,\r\n      fontSize: isMobile ? \"13px\" : \"16px\",\r\n    };\r\n\r\n    const mobileCardsContainerStyle = {\r\n      ...cardsContainerStyle,\r\n      gap: isMobile ? \"15px\" : \"20px\",\r\n    };\r\n\r\n    const mobileCardStyle = {\r\n      ...cardStyle,\r\n      width: isMobile ? \"140px\" : \"200px\",\r\n      height: isMobile ? \"200px\" : \"280px\",\r\n    };\r\n\r\n    const mobileCardIconStyle = {\r\n      ...cardIconStyle,\r\n      fontSize: isMobile ? \"50px\" : \"80px\",\r\n      marginBottom: isMobile ? \"10px\" : \"20px\",\r\n    };\r\n\r\n    const mobileCardTextStyle = {\r\n      ...cardTextStyle,\r\n      fontSize: isMobile ? \"18px\" : \"24px\",\r\n    };\r\n\r\n    const mobileRewardAmountStyle = {\r\n      ...rewardAmountStyle,\r\n      fontSize: isMobile ? \"24px\" : \"36px\",\r\n    };\r\n\r\n    const mobileRewardLabelStyle = {\r\n      ...rewardLabelStyle,\r\n      fontSize: isMobile ? \"14px\" : \"18px\",\r\n    };\r\n\r\n    return createPortal(\r\n      <div className=\"fixed inset-0 flex items-center justify-center z-[10000]\" style={modalOverlayStyle} onClick={() => setShowCardModal(false)}>\r\n        <div className=\"rounded-[20px] max-w-[600px]\" style={{...mobileModalContentStyle, width: isMobile ? \"95%\" : \"90%\"}} onClick={(e) => e.stopPropagation()}>\r\n          <h3 className=\"text-center font-bold\" style={{...mobileModalTitleStyle, marginBottom: isMobile ? \"8px\" : \"10px\"}}>  </h3>\r\n          <p className=\"text-center\" style={{...mobileModalSubtitleStyle, marginBottom: isMobile ? \"20px\" : \"30px\"}}>     !</p>\r\n\r\n          <div className=\"flex justify-center flex-wrap\" style={mobileCardsContainerStyle}>\r\n            {/*   */}\r\n            <div\r\n              className=\"cursor-pointer\"\r\n              style={{\r\n                ...mobileCardStyle,\r\n                ...(selectedCard === \"cash\" && selectedCardStyle),\r\n              }}\r\n              onClick={() => !selectedCard && handleCardSelect(\"cash\")}\r\n            >\r\n              <div className=\"relative w-full h-full\" style={{\r\n                ...cardInnerStyle,\r\n                transform: selectedCard === \"cash\" ? \"rotateY(180deg)\" : \"rotateY(0deg)\",\r\n              }}>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{...cardFrontStyle, backfaceVisibility: \"hidden\"}}>\r\n                  <div style={mobileCardIconStyle}></div>\r\n                  <div className=\"text-2xl font-bold\" style={mobileCardTextStyle}></div>\r\n                </div>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{ ...cardBackStyle, ...(selectedCard === \"cash\" && cardBackVisibleStyle), backfaceVisibility: \"hidden\" }}>\r\n                  <div className=\"text-4xl font-bold mb-2.5\" style={mobileRewardAmountStyle}>{rewardData.cash.toLocaleString()}</div>\r\n                  <div className=\"text-lg\" style={mobileRewardLabelStyle}>  !</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*   */}\r\n            <div\r\n              className=\"cursor-pointer\"\r\n              style={{\r\n                ...mobileCardStyle,\r\n                ...(selectedCard === \"coupon\" && selectedCardStyle),\r\n              }}\r\n              onClick={() => !selectedCard && handleCardSelect(\"coupon\")}\r\n            >\r\n              <div className=\"relative w-full h-full\" style={{\r\n                ...cardInnerStyle,\r\n                transform: selectedCard === \"coupon\" ? \"rotateY(180deg)\" : \"rotateY(0deg)\",\r\n              }}>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{...cardFrontStyle, backfaceVisibility: \"hidden\"}}>\r\n                  <div style={mobileCardIconStyle}></div>\r\n                  <div className=\"text-2xl font-bold\" style={mobileCardTextStyle}></div>\r\n                </div>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{ ...cardBackStyle, ...(selectedCard === \"coupon\" && cardBackVisibleStyle), backfaceVisibility: \"hidden\" }}>\r\n                  <div className=\"text-4xl font-bold mb-2.5\" style={mobileRewardAmountStyle}>{rewardData.coupon}</div>\r\n                  <div className=\"text-lg\" style={mobileRewardLabelStyle}>  !</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      document.body\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"flex flex-row items-center justify-between relative rounded-lg mb-2 transition-all\"\r\n        style={{\r\n          ...taskItemStyle,\r\n          cursor: isCompleted ? \"default\" : \"pointer\",\r\n          gap: isMobile ? \"6px\" : \"8px\",\r\n        }}\r\n        onClick={isCompleted ? null : handleInternalClick}\r\n      >\r\n        <div className=\"flex items-center flex-grow min-w-0 overflow-hidden\" style={taskInfoStyle}>\r\n          <span className=\"font-semibold overflow-hidden text-ellipsis whitespace-nowrap flex-1 min-w-0\" style={taskNameStyle} title={task.name}>\r\n            {task.name}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center flex-shrink-0\" style={taskActionsStyle}>\r\n          {/*      */}\r\n          <span className=\"rounded-lg font-medium whitespace-nowrap\" style={couponStyle}>\r\n             \r\n          </span>\r\n\r\n          {isAdmin && (\r\n            <>\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onEditTask();\r\n                }}\r\n                className=\"cursor-pointer p-1 flex items-center justify-center\"\r\n                style={adminButtonStyles}\r\n                aria-label=\" \"\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onDeleteTask();\r\n                }}\r\n                className=\"cursor-pointer p-1 flex items-center justify-center\"\r\n                style={adminButtonStyles}\r\n                aria-label=\" \"\r\n              >\r\n                \r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {showBubble && (\r\n          <div className=\"absolute left-1/2 -translate-x-1/2 rounded-md font-medium whitespace-nowrap z-10 pointer-events-none\" style={bubbleStyle}>\r\n            {bubbleText}\r\n            <div className=\"absolute\" style={bubbleTailStyle}></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {renderCardModal()}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default TaskItem;\r\n\r\nconst adminButtonStyles = {\r\n  background: \"none\",\r\n  border: \"none\",\r\n  fontSize: \"16px\",\r\n  color: \"#94a3b8\",\r\n};\r\n\r\nconst bubbleStyle = {\r\n  bottom: \"calc(100% + 8px)\",\r\n  backgroundColor: \"rgba(0, 0, 0, 0.75)\",\r\n  color: \"white\",\r\n  padding: \"5px 10px\",\r\n  fontSize: \"12px\",\r\n  boxShadow: \"0 2px 5px rgba(0,0,0,0.2)\",\r\n};\r\n\r\nconst bubbleTailStyle = {\r\n  content: '\"\"',\r\n  top: \"100%\",\r\n  left: \"50%\",\r\n  marginLeft: \"-5px\",\r\n  borderWidth: \"5px\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"rgba(0, 0, 0, 0.75) transparent transparent transparent\",\r\n};\r\n\r\n//   \r\nconst modalOverlayStyle = {\r\n  backgroundColor: \"rgba(0, 0, 0, 0.7)\",\r\n  animation: \"fadeIn 0.3s ease\",\r\n};\r\n\r\nconst modalContentStyle = {\r\n  backgroundColor: \"#1a1a2e\",\r\n  border: \"1px solid rgba(0, 255, 242, 0.3)\",\r\n  boxShadow: \"0 10px 40px rgba(0, 0, 0, 0.3)\",\r\n  animation: \"zoomIn 0.3s ease\",\r\n};\r\n\r\nconst modalTitleStyle = {\r\n  color: \"#ffffff\",\r\n  textShadow: \"0 0 10px rgba(0, 255, 242, 0.5)\",\r\n};\r\n\r\nconst modalSubtitleStyle = {\r\n  color: \"#a0a0c0\",\r\n};\r\n\r\nconst cardsContainerStyle = {\r\n  gap: \"20px\",\r\n};\r\n\r\nconst cardStyle = {\r\n  perspective: \"1000px\",\r\n  transition: \"transform 0.2s ease\",\r\n};\r\n\r\nconst selectedCardStyle = {\r\n  transform: \"scale(1.05)\",\r\n};\r\n\r\nconst cardInnerStyle = {\r\n  transition: \"transform 0.8s\",\r\n  transformStyle: \"preserve-3d\",\r\n};\r\n\r\nconst cardFrontStyle = {\r\n  background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\r\n  boxShadow: \"0 8px 16px rgba(0, 0, 0, 0.2)\",\r\n  border: \"3px solid #fff\",\r\n};\r\n\r\nconst cardBackStyle = {\r\n  backgroundColor: \"#fff\",\r\n  boxShadow: \"0 8px 16px rgba(0, 0, 0, 0.2)\",\r\n  border: \"3px solid #667eea\",\r\n  transform: \"rotateY(180deg)\",\r\n  opacity: 0,\r\n  transition: \"opacity 0.3s ease 0.4s\",\r\n};\r\n\r\nconst cardBackVisibleStyle = {\r\n  opacity: 1,\r\n};\r\n\r\nconst cardIconStyle = {\r\n  fontSize: \"80px\",\r\n  marginBottom: \"20px\",\r\n};\r\n\r\nconst cardTextStyle = {\r\n  color: \"white\",\r\n};\r\n\r\nconst rewardAmountStyle = {\r\n  color: \"#667eea\",\r\n};\r\n\r\nconst rewardLabelStyle = {\r\n  color: \"#666\",\r\n};","//     \r\n\r\n//      ( )\r\nexport const generateJobTaskReward = () => {\r\n  //   (100 ~ 50,000) -    \r\n  const cashRewards = [\r\n    { amount: 50000, weight: 5 },     // 5:  \r\n    { amount: 30000, weight: 10 },    // 3:  \r\n    { amount: 20000, weight: 15 },    // 2:  \r\n    { amount: 10000, weight: 20 },    // 1:  \r\n    { amount: 5000, weight: 18 },     // 5\r\n    { amount: 3000, weight: 12 },     // 3\r\n    { amount: 1000, weight: 10 },     // 1:  \r\n    { amount: 500, weight: 7 },       // 500:  \r\n    { amount: 100, weight: 3 }        // 100:   \r\n  ];\r\n\r\n  //   (1, 3, 5, 10, 20)\r\n  const couponRewards = [\r\n    { amount: 20, weight: 10 },       // 20: 10%\r\n    { amount: 10, weight: 20 },       // 10: 20%\r\n    { amount: 5, weight: 20 },        // 5: 20%\r\n    { amount: 3, weight: 20 },        // 3: 20%\r\n    { amount: 1, weight: 30 }         // 1: 30%\r\n  ];\r\n\r\n  //     \r\n  const weightedRandom = (items) => {\r\n    const totalWeight = items.reduce((sum, item) => sum + item.weight, 0);\r\n    let random = Math.random() * totalWeight;\r\n\r\n    for (const item of items) {\r\n      random -= item.weight;\r\n      if (random <= 0) {\r\n        return item.amount;\r\n      }\r\n    }\r\n\r\n    return items[items.length - 1].amount;\r\n  };\r\n\r\n  return {\r\n    cash: weightedRandom(cashRewards),\r\n    coupon: weightedRandom(couponRewards)\r\n  };\r\n};\r\n","import React, { memo } from \"react\";\r\nimport TaskItem from \"./TaskItem\"; // TaskItem   \r\n\r\n// props jobs   job   \r\nconst JobList = memo(function JobList({\r\n  job, //    (  prop )\r\n  isAdmin, //   (  prop )\r\n  onEditJob, //    ( )\r\n  onDeleteJob, //    ( ) <--  prop \r\n  onAddTask, //      ( )\r\n  onEditTask, //   \r\n  onDeleteTask, //   \r\n  onEarnCoupon, //   \r\n  addJobTaskButtonStyle, // Dashboard    <--  prop \r\n}) {\r\n  // job       ( )\r\n  if (!job) {\r\n    return null;\r\n  }\r\n\r\n  const isMobile = window.innerWidth <= 768;\r\n\r\n  return (\r\n    <div\r\n      key={job.id} //  map   key  X,  \r\n      className=\"flex flex-col h-full rounded-lg overflow-hidden mb-4\"\r\n      style={{\r\n        backgroundColor: \"rgba(20, 20, 35, 0.6)\",\r\n        border: \"1px solid rgba(0, 255, 242, 0.2)\",\r\n        boxShadow: \"0 4px 15px rgba(0, 0, 0, 0.3)\",\r\n        backdropFilter: \"blur(5px)\",\r\n      }}\r\n    >\r\n      {/*   -   */}\r\n      <div\r\n        className=\"job-header-container flex justify-between items-center\"\r\n        style={{\r\n          background: \"linear-gradient(135deg, rgba(79, 70, 229, 0.2) 0%, rgba(99, 102, 241, 0.2) 100%)\",\r\n          padding: isMobile ? \"12px 14px\" : \"14px 16px\",\r\n          borderBottom: \"1px solid rgba(0, 255, 242, 0.2)\",\r\n        }}\r\n      >\r\n        <div\r\n          className=\"job-title-text font-bold\"\r\n          style={{\r\n            fontSize: isMobile ? \"15px\" : \"18px\",\r\n            textShadow: \"0 0 10px rgba(0, 255, 242, 0.3)\",\r\n            letterSpacing: \"-0.01em\",\r\n            color: \"#e8e8ff\", //  \r\n          }}\r\n        >\r\n          {job.title}\r\n        </div>\r\n        {/*    /  */}\r\n        {isAdmin && (\r\n          <div>\r\n            <button\r\n              onClick={() => onEditJob(job.id)} // job.id  \r\n              className=\"cursor-pointer p-0 mr-2\"\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"rgba(255, 255, 255, 0.7)\",\r\n              }}\r\n              aria-label={`${job.title}  `}\r\n            >\r\n              \r\n            </button>\r\n            <button\r\n              onClick={() => onDeleteJob(job.id)} // job.id  \r\n              className=\"cursor-pointer p-0\"\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"rgba(255, 255, 255, 0.7)\",\r\n              }}\r\n              aria-label={`${job.title}  `}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/*    (flex-grow   ) */}\r\n      <div className=\"flex-grow overflow-y-auto\" style={{ padding: isMobile ? \"8px\" : \"10px\" }}>\r\n        {job.tasks && job.tasks.length > 0 ? (\r\n          job.tasks.map((task) => (\r\n            <TaskItem\r\n              key={task.id}\r\n              task={task}\r\n              taskId={task.id}\r\n              jobId={job.id}\r\n              //  task.id  \r\n              onEarnCoupon={onEarnCoupon}\r\n              onEditTask={() => onEditTask(task.id, job.id)} // Dashboard    job.id \r\n              onDeleteTask={() => onDeleteTask(task.id, job.id)} // Dashboard    job.id \r\n              isAdmin={isAdmin}\r\n              isJobTask={true}\r\n            />\r\n          ))\r\n        ) : (\r\n          <p\r\n            className=\"text-center my-2.5\"\r\n            style={{\r\n              fontSize: \"13px\",\r\n              color: \"#9999bb\",\r\n            }}\r\n          >\r\n              .\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/*      (  ) */}\r\n      {isAdmin && (\r\n        <div style={{ padding: isMobile ? \"8px\" : \"10px\", borderTop: \"1px solid rgba(0, 255, 242, 0.1)\" }}>\r\n          <button\r\n            onClick={onAddTask} // Dashboard job.id    \r\n            // ---       ---\r\n            className=\"w-full cursor-pointer rounded-md mt-0 transition-all\"\r\n            style={\r\n              addJobTaskButtonStyle || {\r\n                /*   ( ) */\r\n                padding: isMobile ? \"6px\" : \"8px\",\r\n                backgroundColor: \"rgba(0, 255, 242, 0.1)\",\r\n                border: \"1px solid rgba(0, 255, 242, 0.3)\",\r\n                color: \"#00fff2\",\r\n                fontSize: isMobile ? \"12px\" : \"13px\",\r\n                fontWeight: \"500\",\r\n              }\r\n            }\r\n          >\r\n            +    \r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default JobList;\r\n","import React from \"react\";\r\nimport TaskItem from \"./TaskItem\";\r\n\r\n// Dashboard      \r\nexport default function CommonTaskList({\r\n  tasks,\r\n  isAdmin,\r\n  onEditTask,\r\n  onDeleteTask,\r\n  onEarnCoupon,\r\n}) {\r\n  // tasks      \r\n  if (!Array.isArray(tasks) || tasks.length === 0) {\r\n    return (\r\n      <div className=\"p-5 text-center\" style={{ color: \"#6b7280\" }}>\r\n        {isAdmin\r\n          ? \"   .   .\"\r\n          : \"      .\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //  \r\n  const isMobile = typeof window !== 'undefined' && window.innerWidth <= 768;\r\n\r\n  return (\r\n    <div className=\"grid\" style={{\r\n      gridTemplateColumns: isMobile ? \"1fr\" : \"repeat(2, 1fr)\",\r\n      gap: isMobile ? \"8px\" : \"10px\",\r\n    }}>\r\n      {tasks.map((task) => (\r\n        <TaskItem\r\n          key={task.id}\r\n          task={task}\r\n          taskId={task.id}\r\n          onEarnCoupon={onEarnCoupon}\r\n          onEditTask={() => onEditTask(task.id)}\r\n          onDeleteTask={() => onDeleteTask(task.id)}\r\n          isAdmin={isAdmin}\r\n          isJobTask={false}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","// src/services/optimizedFirebaseService.js\r\n// Firebase    \r\n\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { functions } from \"../firebase\";\r\n\r\nimport { logger } from \"../utils/logger\";\n// Firebase Functions \r\nconst createOptimizedFunction = (functionName) => {\r\n  const fn = httpsCallable(functions, functionName);\r\n\r\n  return async (data) => {\r\n    try {\r\n      const result = await fn(data);\r\n      if (result.data.success) {\r\n        return result.data;\r\n      } else {\r\n        throw new Error(result.data.message || \"  \");\r\n      }\r\n    } catch (error) {\r\n      logger.error(`${functionName} :`, error);\r\n      throw error;\r\n    }\r\n  };\r\n};\r\n\r\n//  Firebase Functions\r\nexport const optimizedFirebaseService = {\r\n  //      ( )\r\n  getAdminSettingsData: createOptimizedFunction(\"getAdminSettingsData\"),\r\n\r\n  //   \r\n  batchPaySalaries: createOptimizedFunction(\"batchPaySalaries\"),\r\n\r\n  //  ItemContext  ( )\r\n  getItemContextData: createOptimizedFunction(\"getItemContextData\"),\r\n};\r\n\r\n// React Query  \r\nexport const queryKeys = {\r\n  //   \r\n  adminSettings: (classCode, tab) => [\"adminSettings\", classCode, tab],\r\n\r\n  //   \r\n  students: (classCode) => [\"students\", classCode],\r\n\r\n  //   \r\n  salarySettings: (classCode) => [\"salarySettings\", classCode],\r\n\r\n  //    ( )\r\n  systemManagement: () => [\"systemManagement\"],\r\n\r\n  //   \r\n  generalSettings: (classCode) => [\"generalSettings\", classCode],\r\n};\r\n\r\n//   \r\nexport const batchOperations = {\r\n  //      \r\n  updateMultipleStudentJobs: async (updates) => {\r\n    //    Firebase Function  \r\n    logger.log(\"  :\", updates);\r\n  },\r\n\r\n  //     \r\n  saveMultipleSettings: async (settings) => {\r\n    //    Firebase Function  \r\n    logger.log(\"  :\", settings);\r\n  },\r\n};\r\n\r\n//   \r\nexport const realtimeOptimizer = {\r\n  //     \r\n  shouldUseRealtime: () => {\r\n    return navigator.onLine && !document.hidden;\r\n  },\r\n\r\n  //     \r\n  getOptimalCacheTime: (dataSize) => {\r\n    if (dataSize < 1000) return 10 * 60 * 1000; // 10\r\n    if (dataSize < 5000) return 5 * 60 * 1000;  // 5\r\n    return 2 * 60 * 1000; // 2\r\n  },\r\n};\r\n\r\n//    ( )\r\nexport const localBackup = {\r\n  save: (key, data) => {\r\n    try {\r\n      localStorage.setItem(`backup_${key}`, JSON.stringify({\r\n        data,\r\n        timestamp: Date.now(),\r\n      }));\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n  },\r\n\r\n  load: (key, maxAge = 60000) => { //  1\r\n    try {\r\n      const backup = localStorage.getItem(`backup_${key}`);\r\n      if (backup) {\r\n        const parsed = JSON.parse(backup);\r\n        if (Date.now() - parsed.timestamp < maxAge) {\r\n          return parsed.data;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n    return null;\r\n  },\r\n\r\n  clear: (key) => {\r\n    try {\r\n      localStorage.removeItem(`backup_${key}`);\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n  },\r\n};","// src/pages/admin/SystemMonitoring.js -   \r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { functions } from \"../../firebase\";\r\nimport \"./SystemMonitoring.css\";\r\nimport { logger } from '../../utils/logger';\n\r\nconst SystemMonitoring = ({ isSuperAdmin }) => {\r\n  const [systemStatus, setSystemStatus] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [autoRefresh, setAutoRefresh] = useState(false); //   false \r\n  const [lastUpdate, setLastUpdate] = useState(null);\r\n  const [errorCount, setErrorCount] = useState(0); //    \r\n\r\n  const getSystemStatus = httpsCallable(functions, \"getSystemStatus\");\r\n  const resolveSystemAlert = httpsCallable(functions, \"resolveSystemAlert\");\r\n\r\n  //   \r\n  const fetchSystemStatus = useCallback(async () => {\r\n    if (!isSuperAdmin) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const result = await getSystemStatus();\r\n      if (result.data.success) {\r\n        setSystemStatus(result.data.data);\r\n        setLastUpdate(new Date());\r\n        setErrorCount(0); //      \r\n      } else {\r\n        throw new Error(result.data.message || \"   \");\r\n      }\r\n    } catch (err) {\r\n      logger.error(\"[SystemMonitoring]   :\", err);\r\n      setError(err.message || \"     .\");\r\n\r\n      //     \r\n      setErrorCount(prev => prev + 1);\r\n\r\n      //  3       \r\n      if (errorCount >= 2) {\r\n        setAutoRefresh(false);\r\n        logger.warn(\"[SystemMonitoring]      .\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [isSuperAdmin, getSystemStatus, errorCount]);\r\n\r\n  //   \r\n  const handleResolveAlert = useCallback(\r\n    async (alertId) => {\r\n      if (!window.confirm(\"   ?\")) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const result = await resolveSystemAlert({ alertId });\r\n        if (result.data.success) {\r\n          alert(\" .\");\r\n          //  \r\n          fetchSystemStatus();\r\n        }\r\n      } catch (err) {\r\n        logger.error(\"[SystemMonitoring]   :\", err);\r\n        alert(`    : ${err.message}`);\r\n      }\r\n    },\r\n    [resolveSystemAlert, fetchSystemStatus]\r\n  );\r\n\r\n  //  \r\n  useEffect(() => {\r\n    if (isSuperAdmin) {\r\n      fetchSystemStatus();\r\n    }\r\n  }, [isSuperAdmin, fetchSystemStatus]);\r\n\r\n  //   (30)\r\n  useEffect(() => {\r\n    if (!autoRefresh || !isSuperAdmin) return;\r\n\r\n    const intervalId = setInterval(() => {\r\n      fetchSystemStatus();\r\n    }, 2 * 60 * 1000); //  [] 2 (   30 )\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [autoRefresh, isSuperAdmin, fetchSystemStatus]);\r\n\r\n  //        \r\n  useEffect(() => {\r\n    if (autoRefresh) {\r\n      setErrorCount(0);\r\n    }\r\n  }, [autoRefresh]);\r\n\r\n  if (!isSuperAdmin) {\r\n    return (\r\n      <div className=\"system-monitoring section-card\">\r\n        <h3>   </h3>\r\n        <p className=\"admin-section-desc\">    .</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"system-monitoring section-card\">\r\n      <div className=\"monitoring-header\">\r\n        <h3>   </h3>\r\n        <div className=\"monitoring-controls\">\r\n          <label className=\"auto-refresh-toggle\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={autoRefresh}\r\n              onChange={(e) => setAutoRefresh(e.target.checked)}\r\n            />\r\n            <span>  (30)</span>\r\n          </label>\r\n          <button\r\n            onClick={fetchSystemStatus}\r\n            disabled={loading}\r\n            className=\"refresh-button\"\r\n          >\r\n            {loading ? \"  ...\" : \" \"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {lastUpdate && (\r\n        <p className=\"last-update\">\r\n           : {lastUpdate.toLocaleTimeString(\"ko-KR\")}\r\n        </p>\r\n      )}\r\n\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <p> {error}</p>\r\n          {errorCount >= 3 && (\r\n            <p style={{ marginTop: \"8px\", fontSize: \"14px\" }}>\r\n                    .      .\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {systemStatus && (\r\n        <>\r\n          {/*    */}\r\n          {systemStatus.message && (\r\n            <div className=\"info-message\" style={{\r\n              padding: \"12px\",\r\n              background: \"#e3f2fd\",\r\n              border: \"1px solid #90caf9\",\r\n              borderRadius: \"4px\",\r\n              marginBottom: \"15px\",\r\n              color: \"#1976d2\"\r\n            }}>\r\n              <p style={{ margin: 0 }}> {systemStatus.message}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/*    */}\r\n          <div className=\"system-health-card\">\r\n            <h4> </h4>\r\n            <div className={`health-indicator health-${systemStatus.health}`}>\r\n              <span className=\"health-icon\">\r\n                {systemStatus.health === \"healthy\"\r\n                  ? \"\"\r\n                  : systemStatus.health === \"warning\"\r\n                  ? \"\"\r\n                  : \"\"}\r\n              </span>\r\n              <span className=\"health-text\">\r\n                {systemStatus.health === \"healthy\"\r\n                  ? \"\"\r\n                  : systemStatus.health === \"warning\"\r\n                  ? \"\"\r\n                  : \"\"}\r\n              </span>\r\n            </div>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">{systemStatus.totalUsers}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/*   */}\r\n          <div className=\"stats-card\">\r\n            <h4> 1 </h4>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.reads.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.writes.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.errors}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"></span>\r\n                <span className=\"stat-value\">\r\n                  {(systemStatus.stats.lastMinute.errorRate * 100).toFixed(2)}%\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.avgResponseTime.toFixed(0)}ms\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/*    */}\r\n          {systemStatus.anomalies && systemStatus.anomalies.length > 0 && (\r\n            <div className=\"anomalies-card\">\r\n              <h4>   </h4>\r\n              <div className=\"anomalies-list\">\r\n                {systemStatus.anomalies.map((anomaly, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`anomaly-item anomaly-${anomaly.severity}`}\r\n                  >\r\n                    <div className=\"anomaly-header\">\r\n                      <span className=\"anomaly-severity\">\r\n                        {anomaly.severity === \"critical\"\r\n                          ? \" \"\r\n                          : anomaly.severity === \"error\"\r\n                          ? \" \"\r\n                          : \" \"}\r\n                      </span>\r\n                      <span className=\"anomaly-type\">{anomaly.type}</span>\r\n                    </div>\r\n                    <p className=\"anomaly-message\">{anomaly.message}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*   */}\r\n          {systemStatus.alerts && systemStatus.alerts.length > 0 && (\r\n            <div className=\"alerts-card\">\r\n              <h4>   ({systemStatus.alerts.length})</h4>\r\n              <div className=\"alerts-list\">\r\n                {systemStatus.alerts.map((alert) => {\r\n                  const alertTime = alert.timestamp?.toDate\r\n                    ? alert.timestamp.toDate()\r\n                    : new Date(alert.timestamp?.seconds * 1000 || Date.now());\r\n\r\n                  return (\r\n                    <div\r\n                      key={alert.id}\r\n                      className={`alert-item alert-${alert.severity}`}\r\n                    >\r\n                      <div className=\"alert-header\">\r\n                        <span className=\"alert-time\">\r\n                          {alertTime.toLocaleString(\"ko-KR\")}\r\n                        </span>\r\n                        <button\r\n                          onClick={() => handleResolveAlert(alert.id)}\r\n                          className=\"resolve-alert-button\"\r\n                        >\r\n                          \r\n                        </button>\r\n                      </div>\r\n                      <p className=\"alert-message\">{alert.message}</p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*    */}\r\n          {systemStatus.errorLogs && systemStatus.errorLogs.length > 0 && (\r\n            <div className=\"error-logs-card\">\r\n              <h4>    (1)</h4>\r\n              <div className=\"error-logs-list\">\r\n                {systemStatus.errorLogs.slice(0, 10).map((log) => {\r\n                  const logTime = log.timestamp?.toDate\r\n                    ? log.timestamp.toDate()\r\n                    : new Date(log.timestamp?.seconds * 1000 || Date.now());\r\n\r\n                  return (\r\n                    <div key={log.id} className=\"error-log-item\">\r\n                      <span className=\"log-time\">\r\n                        {logTime.toLocaleTimeString(\"ko-KR\")}\r\n                      </span>\r\n                      <span className=\"log-message\">\r\n                        {log.message || \"   \"}\r\n                      </span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*  5  */}\r\n          <div className=\"stats-card\">\r\n            <h4> 5 </h4>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.reads.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.writes.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.errors}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {!systemStatus && !loading && !error && (\r\n        <div className=\"no-data-message\">\r\n          <p>      .</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SystemMonitoring;\r\n","// src/AdminSettingsModal.js\r\n// ========================================\r\n//     v2.0\r\n// ========================================\r\n//  :\r\n// - isSuperAdmin ( ):   ,   ,   \r\n// - isAdmin ():   , //// \r\n// ========================================\r\n\r\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport {\r\n  db,\r\n  functions,\r\n  firebaseDoc,\r\n  firebaseCollection,\r\n  firebaseGetSingleDoc,\r\n  firebaseUpdateDoc,\r\n  firebaseSetDoc,\r\n  firebaseGetDocs,\r\n  serverTimestamp,\r\n  increment,\r\n  writeBatch,\r\n  query as firebaseQuery,\r\n  where as firebaseWhere,\r\n} from \"../../firebase\";\r\n\r\n//   \r\nimport {\r\n  useOptimizedAdminSettings,\r\n  useOptimizedStudents,\r\n  useOptimizedSalarySettings,\r\n  useOptimizedSystemManagement,\r\n  useBatchPaySalaries,\r\n  useAdminDataPreloader,\r\n} from \"../../hooks/useOptimizedAdminData\";\r\n\r\n//   \r\nimport SystemMonitoring from \"../../pages/admin/SystemMonitoring\";\r\n\r\n//   \r\nimport AdminDatabase from \"../../pages/admin/AdminDatabase\";\r\n\r\nimport { logger } from \"../../utils/logger\";\r\n//     \r\nconst initialStocks = [\r\n  { id: 'KP', name: ' ', price: 10000, history: [{ price: 10000, timestamp: new Date() }] },\r\n  { id: 'SS', name: '', price: 80000, history: [{ price: 80000, timestamp: new Date() }] },\r\n  { id: 'LG', name: 'LG', price: 350000, history: [{ price: 350000, timestamp: new Date() }] },\r\n  { id: 'SK', name: 'SK', price: 230000, history: [{ price: 230000, timestamp: new Date() }] },\r\n];\r\n\r\n//    \r\nconst ClassDataDeletionSection = ({ userClassCode, isAdmin, isSuperAdmin }) => {\r\n  const [deleteConfirmText, setDeleteConfirmText] = useState(\"\");\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n\r\n  const handleDeleteClassData = async () => {\r\n    if (!userClassCode) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    if (deleteConfirmText !== \"\") {\r\n      alert(\"''  .\");\r\n      return;\r\n    }\r\n\r\n    //  \r\n    const finalConfirm = window.confirm(\r\n      ` '${userClassCode}'     ?\\n\\n        :\\n-   (role: 'student')\\n-  \\n-  \\n\\n(admin)  .`\r\n    );\r\n\r\n    if (!finalConfirm) {\r\n      return;\r\n    }\r\n\r\n    setIsDeleting(true);\r\n\r\n    try {\r\n      logger.log(`[ClassDataDeletion] ${userClassCode}    `);\r\n\r\n      // 1.    (role === 'student' AND classCode === userClassCode)\r\n      const usersRef = firestoreCollection(db, \"users\");\r\n      const studentsQuery = firebaseQuery(\r\n        usersRef,\r\n        firebaseWhere(\"classCode\", \"==\", userClassCode),\r\n        firebaseWhere(\"role\", \"==\", \"student\")\r\n      );\r\n      const studentsSnapshot = await firebaseGetDocs(studentsQuery);\r\n\r\n      logger.log(`[ClassDataDeletion]   : ${studentsSnapshot.size}`);\r\n\r\n      // 2.   \r\n      const activityLogsRef = firestoreCollection(db, \"activity_logs\");\r\n      const activityLogsQuery = firebaseQuery(\r\n        activityLogsRef,\r\n        firebaseWhere(\"classCode\", \"==\", userClassCode)\r\n      );\r\n      const activityLogsSnapshot = await firebaseGetDocs(activityLogsQuery);\r\n\r\n      logger.log(`[ClassDataDeletion]   : ${activityLogsSnapshot.size}`);\r\n\r\n      // 3.    ( userId )\r\n      const studentIds = studentsSnapshot.docs.map(doc => doc.id);\r\n      let transactionsToDelete = [];\r\n\r\n      if (studentIds.length > 0) {\r\n        // Firestore 'in'   10   \r\n        const batches = [];\r\n        for (let i = 0; i < studentIds.length; i += 10) {\r\n          batches.push(studentIds.slice(i, i + 10));\r\n        }\r\n\r\n        for (const batch of batches) {\r\n          const transactionsRef = firestoreCollection(db, \"transactions\");\r\n          const transactionsQuery = firebaseQuery(\r\n            transactionsRef,\r\n            firebaseWhere(\"userId\", \"in\", batch)\r\n          );\r\n          const transactionsSnapshot = await firebaseGetDocs(transactionsQuery);\r\n          transactionsToDelete.push(...transactionsSnapshot.docs);\r\n        }\r\n      }\r\n\r\n      logger.log(`[ClassDataDeletion]   : ${transactionsToDelete.length}`);\r\n\r\n      // 4.    (Firestore   500 )\r\n      const allDocsToDelete = [\r\n        ...studentsSnapshot.docs,\r\n        ...activityLogsSnapshot.docs,\r\n        ...transactionsToDelete,\r\n      ];\r\n\r\n      logger.log(`[ClassDataDeletion]   : ${allDocsToDelete.length}`);\r\n\r\n      //   \r\n      const BATCH_SIZE = 500;\r\n      for (let i = 0; i < allDocsToDelete.length; i += BATCH_SIZE) {\r\n        const batch = writeBatch(db);\r\n        const batchDocs = allDocsToDelete.slice(i, i + BATCH_SIZE);\r\n\r\n        batchDocs.forEach((docSnap) => {\r\n          batch.delete(docSnap.ref);\r\n        });\r\n\r\n        await batch.commit();\r\n        logger.log(`[ClassDataDeletion]  ${Math.floor(i / BATCH_SIZE) + 1}  `);\r\n      }\r\n\r\n      alert(\r\n        `   !\\n\\n :\\n-  : ${studentsSnapshot.size}\\n-  : ${activityLogsSnapshot.size}\\n-  : ${transactionsToDelete.length}`\r\n      );\r\n\r\n      logger.log(`[ClassDataDeletion] ${userClassCode}    `);\r\n\r\n      // \r\n      setDeleteConfirmText(\"\");\r\n      setShowConfirmation(false);\r\n    } catch (error) {\r\n      logger.error(\"[ClassDataDeletion]   :\", error);\r\n      alert(` : ${error.message}\\n\\n    .  .`);\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  if (!isAdmin && !isSuperAdmin) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"section-card mt-6 border-2 border-red-500/50 bg-red-900/10\">\r\n      <div className=\"flex items-center gap-2 mb-4\">\r\n        <span className=\"text-2xl\"></span>\r\n        <h3 className=\"text-xl font-bold text-red-400\"> :   </h3>\r\n      </div>\r\n\r\n      <div className=\"bg-red-900/20 rounded-lg p-4 mb-4 border border-red-500/30\">\r\n        <p className=\"text-sm text-red-200 mb-2\">\r\n          <strong>    !</strong>\r\n        </p>\r\n        <p className=\"text-sm text-red-200 mb-2\">\r\n                .\r\n        </p>\r\n        <p className=\"text-sm text-gray-300 mb-2\"> :</p>\r\n        <ul className=\"text-sm text-gray-300 list-disc list-inside ml-2 space-y-1\">\r\n          <li>  (role: 'student')</li>\r\n          <li>  (activity_logs)</li>\r\n          <li>  (transactions)</li>\r\n        </ul>\r\n        <p className=\"text-sm text-green-300 mt-2\">\r\n           (admin)  .\r\n        </p>\r\n        <p className=\"text-sm text-green-300\">\r\n           , ,    .\r\n        </p>\r\n      </div>\r\n\r\n      {!showConfirmation ? (\r\n        <button\r\n          onClick={() => setShowConfirmation(true)}\r\n          className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors\"\r\n        >\r\n             \r\n        </button>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                \"<strong className=\"text-red-400\"></strong>\"  :\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={deleteConfirmText}\r\n              onChange={(e) => setDeleteConfirmText(e.target.value)}\r\n              placeholder=\"\"\r\n              disabled={isDeleting}\r\n              className=\"w-full px-4 py-2 bg-[#1a1a2e] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-red-500\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={handleDeleteClassData}\r\n              disabled={isDeleting || deleteConfirmText !== \"\"}\r\n              className={`px-6 py-2 rounded-lg font-medium transition-colors ${\r\n                deleteConfirmText === \"\" && !isDeleting\r\n                  ? \"bg-red-600 hover:bg-red-700 text-white\"\r\n                  : \"bg-gray-600 text-gray-400 cursor-not-allowed\"\r\n              }`}\r\n            >\r\n              {isDeleting ? \" ...\" : \"  \"}\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setShowConfirmation(false);\r\n                setDeleteConfirmText(\"\");\r\n              }}\r\n              disabled={isDeleting}\r\n              className=\"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AdminSettingsModal = ({\r\n  isAdmin,\r\n  isSuperAdmin,\r\n  userClassCode,\r\n  showAdminSettingsModal,\r\n  setShowAdminSettingsModal,\r\n  adminSelectedMenu,\r\n  setAdminSelectedMenu,\r\n\r\n  //    props\r\n  newGoalAmount,\r\n  setNewGoalAmount,\r\n  adminCouponValue,\r\n  setAdminCouponValue,\r\n  handleSaveAdminSettings,\r\n\r\n  //    props\r\n  jobs,\r\n  adminNewJobTitle,\r\n  setAdminNewJobTitle,\r\n  adminEditingJob,\r\n  setAdminEditingJob,\r\n  handleSaveJob,\r\n  handleDeleteJob,\r\n  handleEditJob,\r\n\r\n  //    props\r\n  commonTasks,\r\n  showAddTaskForm,\r\n  setShowAddTaskForm,\r\n  adminNewTaskName,\r\n  setAdminNewTaskName,\r\n  adminNewTaskReward,\r\n  setAdminNewTaskReward,\r\n  adminNewTaskMaxClicks,\r\n  setAdminNewTaskMaxClicks,\r\n  adminEditingTask,\r\n  setAdminEditingTask,\r\n  handleSaveTask,\r\n  handleEditTask,\r\n  handleDeleteTask,\r\n  taskFormJobId,\r\n  taskFormIsJobTask,\r\n  handleAddTaskClick,\r\n\r\n  //     props\r\n  classCodes = [],\r\n  onAddClassCode,\r\n  onRemoveClassCode,\r\n}) => {\r\n  const [newClassCode, setNewClassCode] = useState(\"\");\r\n  const [classCodeOperationLoading, setClassCodeOperationLoading] =\r\n    useState(false);\r\n  const [classMembers, setClassMembers] = useState([]);\r\n  const [membersLoading, setMembersLoading] = useState(false);\r\n  const [showEditStudentJobsModal, setShowEditStudentJobsModal] =\r\n    useState(false);\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n  const [tempSelectedJobIds, setTempSelectedJobIds] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [studentsLoading, setStudentsLoading] = useState(false);\r\n  const [appLoading, setAppLoading] = useState(false);\r\n  const [isPayingSalary, setIsPayingSalary] = useState(false);\r\n  const [lastSalaryPaidDate, setLastSalaryPaidDate] = useState(null);\r\n  const [selectedStudentIds, setSelectedStudentIds] = useState([]);\r\n  const [selectAllStudents, setSelectAllStudents] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // ========================================\r\n  //    \r\n  // ========================================\r\n  const [depositProducts, setDepositProducts] = useState([]);\r\n  const [savingProducts, setSavingProducts] = useState([]);\r\n  const [loanProducts, setLoanProducts] = useState([]);\r\n  const [newProductName, setNewProductName] = useState(\"\");\r\n  const [newProductPeriod, setNewProductPeriod] = useState(\"\");\r\n  const [newProductRate, setNewProductRate] = useState(\"\");\r\n  const [financialSubTab, setFinancialSubTab] = useState(\"deposit\");\r\n  const [financialMessage, setFinancialMessage] = useState(null);\r\n\r\n  //    \r\n  const [jobTaskSubTab, setJobTaskSubTab] = useState(\"job\");\r\n  const [studentMemberSubTab, setStudentMemberSubTab] = useState(\"student\");\r\n  const [financeMarketSubTab, setFinanceMarketSubTab] = useState(\"financial\");\r\n  const [systemSubTab, setSystemSubTab] = useState(\"database\");\r\n\r\n  // ========================================\r\n  //   \r\n  // ========================================\r\n  const [marketStatus, setMarketStatus] = useState({ isOpen: false });\r\n  const [marketMessage, setMarketMessage] = useState('');\r\n  const [isMarketDataLoaded, setIsMarketDataLoaded] = useState(false);\r\n  const marketStatusCache = useRef(null);\r\n  const CACHE_DURATION = 5 * 60 * 1000; // 5\r\n\r\n  // ========================================\r\n  //   \r\n  // ========================================\r\n  const [parkingInterestRate, setParkingInterestRate] = useState(0.1);\r\n  const [newInterestRate, setNewInterestRate] = useState(\"\");\r\n  const [parkingMessage, setParkingMessage] = useState(null);\r\n\r\n  // Firebase Functions\r\n  const toggleMarketManually = httpsCallable(functions, 'toggleMarketManually');\r\n\r\n  //   \r\n  const [salarySettings, setSalarySettings] = useState({\r\n    taxRate: 0.1, // 10% \r\n    salaryIncreaseRate: 0.03, // 3%   \r\n  });\r\n  const [tempTaxRate, setTempTaxRate] = useState(\"10\");\r\n  const [tempSalaryIncreaseRate, setTempSalaryIncreaseRate] = useState(\"3\");\r\n  const [salarySettingsLoading, setSalarySettingsLoading] = useState(false);\r\n\r\n  //   \r\n  const studentsQuery = useOptimizedStudents();\r\n  const salarySettingsQuery = useOptimizedSalarySettings();\r\n  const systemManagementQuery = useOptimizedSystemManagement();\r\n  const generalSettingsQuery = useOptimizedAdminSettings(\"generalSettings\");\r\n  const batchPaySalariesMutation = useBatchPaySalaries();\r\n  const { preloadAdminData } = useAdminDataPreloader();\r\n\r\n  //   \r\n  const loadSalarySettings = useCallback(async () => {\r\n    if (!db) return;\r\n\r\n    try {\r\n      //    ,    \r\n      const classSettingsRef = userClassCode\r\n        ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\r\n        : firebaseDoc(db, \"settings\", \"salarySettings\");\r\n      const settingsSnap = await firebaseGetSingleDoc(classSettingsRef);\r\n      \r\n      if (settingsSnap.exists()) {\r\n        const data = settingsSnap.data();\r\n        const settings = {\r\n          taxRate: data.taxRate || 0.1,\r\n          salaryIncreaseRate: data.salaryIncreaseRate || 0.03,\r\n        };\r\n        setSalarySettings(settings);\r\n        setTempTaxRate(String((settings.taxRate * 100).toFixed(1)));\r\n        setTempSalaryIncreaseRate(String((settings.salaryIncreaseRate * 100).toFixed(1)));\r\n        \r\n        if (data.lastPaidDate) {\r\n          setLastSalaryPaidDate(data.lastPaidDate.toDate());\r\n        }\r\n      } else {\r\n        //   \r\n        await firebaseSetDoc(classSettingsRef, {\r\n          taxRate: 0.1,\r\n          salaryIncreaseRate: 0.03,\r\n          lastPaidDate: null,\r\n          classCode: userClassCode || null,\r\n          createdAt: serverTimestamp(),\r\n          updatedAt: serverTimestamp(),\r\n        });\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userClassCode]); // db     \r\n\r\n  //   \r\n  const handleSaveSalarySettings = useCallback(async () => {\r\n    if (!db) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    const taxRateNum = parseFloat(tempTaxRate);\r\n    const increaseRateNum = parseFloat(tempSalaryIncreaseRate);\r\n\r\n    if (isNaN(taxRateNum) || taxRateNum < 0 || taxRateNum > 100) {\r\n      alert(\" 0~100   .\");\r\n      return;\r\n    }\r\n\r\n    if (isNaN(increaseRateNum) || increaseRateNum < 0 || increaseRateNum > 100) {\r\n      alert(\"  0~100   .\");\r\n      return;\r\n    }\r\n\r\n    setSalarySettingsLoading(true);\r\n\r\n    try {\r\n      const classSettingsRef = userClassCode\r\n        ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\r\n        : firebaseDoc(db, \"settings\", \"salarySettings\");\r\n      const newSettings = {\r\n        taxRate: taxRateNum / 100,\r\n        salaryIncreaseRate: increaseRateNum / 100,\r\n        classCode: userClassCode || null,\r\n        updatedAt: serverTimestamp(),\r\n      };\r\n\r\n      await firebaseUpdateDoc(classSettingsRef, newSettings);\r\n      setSalarySettings({\r\n        taxRate: newSettings.taxRate,\r\n        salaryIncreaseRate: newSettings.salaryIncreaseRate,\r\n      });\r\n\r\n      alert(\"  .\");\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      alert(\"     : \" + error.message);\r\n    } finally {\r\n      setSalarySettingsLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userClassCode, tempTaxRate, tempSalaryIncreaseRate]); // db salarySettings.x     \r\n\r\n  //    (  )\r\n  const calculateSalary = useCallback((selectedJobIds, includesTax = false) => {\r\n    if (!Array.isArray(selectedJobIds) || selectedJobIds.length === 0) {\r\n      return { gross: 0, tax: 0, net: 0 };\r\n    }\r\n    \r\n    const baseSalary = 2000000;\r\n    const additionalSalary = 500000;\r\n    const grossSalary = baseSalary + Math.max(0, selectedJobIds.length - 1) * additionalSalary;\r\n    \r\n    if (!includesTax) {\r\n      return grossSalary;\r\n    }\r\n    \r\n    const tax = Math.floor(grossSalary * salarySettings.taxRate);\r\n    const netSalary = grossSalary - tax;\r\n    \r\n    return { gross: grossSalary, tax, net: netSalary };\r\n  }, [salarySettings.taxRate]);\r\n\r\n  //   \r\n  const handleJobEdit = useCallback(\r\n    (job) => {\r\n      logger.log(\"[AdminSettingsModal]   :\", job);\r\n      if (handleEditJob && typeof handleEditJob === \"function\") {\r\n        handleEditJob(job);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleEditJob   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleEditJob]\r\n  );\r\n\r\n  //   \r\n  const handleJobDelete = useCallback(\r\n    (jobId) => {\r\n      logger.log(\"[AdminSettingsModal]   :\", jobId);\r\n      if (handleDeleteJob && typeof handleDeleteJob === \"function\") {\r\n        handleDeleteJob(jobId);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleDeleteJob   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleDeleteJob]\r\n  );\r\n\r\n  //   \r\n  const handleTaskEdit = useCallback(\r\n    (task, jobId = null) => {\r\n      logger.log(\r\n        \"[AdminSettingsModal]   :\",\r\n        task,\r\n        \"jobId:\",\r\n        jobId\r\n      );\r\n      if (handleEditTask && typeof handleEditTask === \"function\") {\r\n        handleEditTask(task, jobId);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleEditTask   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleEditTask]\r\n  );\r\n\r\n  //   \r\n  const handleTaskDelete = useCallback(\r\n    (taskId, jobId = null) => {\r\n      logger.log(\r\n        \"[AdminSettingsModal]   :\",\r\n        taskId,\r\n        \"jobId:\",\r\n        jobId\r\n      );\r\n      if (handleDeleteTask && typeof handleDeleteTask === \"function\") {\r\n        handleDeleteTask(taskId, jobId);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleDeleteTask   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleDeleteTask]\r\n  );\r\n\r\n  //   \r\n  const handleTaskAdd = useCallback(\r\n    (jobId = null, isJobTask = false) => {\r\n      logger.log(\r\n        \"[AdminSettingsModal]   :\",\r\n        jobId,\r\n        \"isJobTask:\",\r\n        isJobTask\r\n      );\r\n      if (handleAddTaskClick && typeof handleAddTaskClick === \"function\") {\r\n        handleAddTaskClick(jobId, isJobTask);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleAddTaskClick   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleAddTaskClick]\r\n  );\r\n\r\n  //     (Class/students  users   )\r\n  const loadStudents = useCallback(async () => {\r\n    if (!db) {\r\n      logger.error(\"loadStudents: Firestore   .\");\r\n      setError(\"       .\");\r\n      setStudents([]);\r\n      setStudentsLoading(false);\r\n      return;\r\n    }\r\n\r\n    setStudentsLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      let studentsList = [];\r\n\r\n      if (!isSuperAdmin && !userClassCode) {\r\n        setError(\"        .\");\r\n        setStudents([]);\r\n        setStudentsLoading(false);\r\n        return;\r\n      }\r\n\r\n      // 1. Class/{classCode}/students  \r\n      if (!isSuperAdmin && userClassCode) {\r\n        try {\r\n          const classStudentsRef = firebaseCollection(db, \"Class\", userClassCode, \"students\");\r\n          const classStudentsSnapshot = await firebaseGetDocs(classStudentsRef);\r\n\r\n          classStudentsSnapshot.forEach((doc) => {\r\n            const userData = doc.data();\r\n            studentsList.push({\r\n              id: doc.id,\r\n              nickname: userData.nickname || userData.name || \" \",\r\n              name: userData.name || \"\",\r\n              email: userData.email || \"\",\r\n              classCode: userClassCode,\r\n              selectedJobIds: userData.selectedJobIds || [],\r\n              cash: userData.money || userData.cash || 0, // money  \r\n              lastSalaryDate: userData.lastSalaryDate\r\n                ? userData.lastSalaryDate.toDate()\r\n                : null,\r\n              lastGrossSalary: userData.lastGrossSalary || 0,\r\n              lastTaxAmount: userData.lastTaxAmount || 0,\r\n              lastNetSalary: userData.lastNetSalary || 0,\r\n              totalSalaryReceived: userData.totalSalaryReceived || 0,\r\n            });\r\n          });\r\n        } catch (classError) {\r\n          // Class     users  \r\n        }\r\n      }\r\n\r\n      // 2. users   (Class      )\r\n      if (studentsList.length === 0) {\r\n        const usersRef = firebaseCollection(db, \"users\");\r\n        let queryRef;\r\n\r\n        if (!isSuperAdmin && userClassCode) {\r\n          queryRef = firebaseQuery(\r\n            usersRef,\r\n            firebaseWhere(\"classCode\", \"==\", userClassCode)\r\n          );\r\n        } else if (isSuperAdmin) {\r\n          queryRef = usersRef;\r\n        }\r\n\r\n        const querySnapshot = await firebaseGetDocs(queryRef);\r\n\r\n        querySnapshot.forEach((doc) => {\r\n          const userData = doc.data();\r\n          if (!userData.isAdmin && !userData.isSuperAdmin) {\r\n            studentsList.push({\r\n              id: doc.id,\r\n              nickname: userData.nickname || userData.name || \" \",\r\n              name: userData.name || \"\",\r\n              email: userData.email || \"\",\r\n              classCode: userData.classCode || \"\",\r\n              selectedJobIds: userData.selectedJobIds || [],\r\n              cash: userData.cash || 0,\r\n              lastSalaryDate: userData.lastSalaryDate\r\n                ? userData.lastSalaryDate.toDate()\r\n                : null,\r\n              lastGrossSalary: userData.lastGrossSalary || 0,\r\n              lastTaxAmount: userData.lastTaxAmount || 0,\r\n              lastNetSalary: userData.lastNetSalary || 0,\r\n              totalSalaryReceived: userData.totalSalaryReceived || 0,\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      setStudents(studentsList);\r\n\r\n      try {\r\n        const classSettingsRef = userClassCode\r\n          ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\r\n          : firebaseDoc(db, \"settings\", \"salarySettings\");\r\n        const settingsDoc = await firebaseGetSingleDoc(classSettingsRef);\r\n        if (settingsDoc.exists()) {\r\n          const data = settingsDoc.data();\r\n          setLastSalaryPaidDate(data.lastPaidDate ? data.lastPaidDate.toDate() : null);\r\n          setSalarySettings({\r\n            taxRate: data.taxRate || 0.1,\r\n            salaryIncreaseRate: data.salaryIncreaseRate || 0.03,\r\n          });\r\n        } else {\r\n          setLastSalaryPaidDate(null);\r\n        }\r\n      } catch (settingsError) {\r\n        logger.error(\"   :\", settingsError);\r\n        setLastSalaryPaidDate(null);\r\n      }\r\n\r\n      setSelectedStudentIds([]);\r\n      setSelectAllStudents(false);\r\n    } catch (error) {\r\n      logger.error(\"loadStudents:    :\", error);\r\n      setError(\"     : \" + error.message);\r\n      setStudents([]);\r\n    } finally {\r\n      setStudentsLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSuperAdmin, userClassCode]); // db     \r\n\r\n  //     \r\n  const handlePaySalariesToSelected = async () => {\r\n    if (selectedStudentIds.length === 0) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    const currentSalarySettings = salarySettingsQuery.data?.settings || salarySettings;\r\n\r\n    if (\r\n      !window.confirm(\r\n        ` ${selectedStudentIds.length}   ?\\n( ${(currentSalarySettings.taxRate * 100).toFixed(1)}%   )`\r\n      )\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setIsPayingSalary(true);\r\n\r\n    try {\r\n      const result = await batchPaySalariesMutation.mutateAsync({\r\n        studentIds: selectedStudentIds,\r\n        payAll: false,\r\n      });\r\n\r\n      if (result.success) {\r\n        const { summary } = result;\r\n        alert(\r\n          `  !\\n${summary.totalStudentsPaid}  \\n : ${(\r\n            summary.totalGrossPaid / 10000\r\n          ).toFixed(0)}\\n : ${(\r\n            summary.totalTaxDeducted / 10000\r\n          ).toFixed(0)}\\n : ${(\r\n            summary.totalNetPaid / 10000\r\n          ).toFixed(0)}`\r\n        );\r\n\r\n        //   \r\n        setSelectedStudentIds([]);\r\n        setSelectAllStudents(false);\r\n      } else {\r\n        alert(result.message || \"  .\");\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"[AdminSettingsModal]     :\", error);\r\n      alert(\"    : \" + error.message);\r\n    } finally {\r\n      setIsPayingSalary(false);\r\n    }\r\n  };\r\n\r\n  //     \r\n  const handlePaySalariesToAll = async () => {\r\n    const currentStudents = studentsQuery.data?.students || students;\r\n    const currentSalarySettings = salarySettingsQuery.data?.settings || salarySettings;\r\n\r\n    if (!currentStudents || currentStudents.length === 0) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    if (\r\n      !window.confirm(\r\n        `    ?\\n(   ,  ${(currentSalarySettings.taxRate * 100).toFixed(1)}% )`\r\n      )\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setIsPayingSalary(true);\r\n\r\n    try {\r\n      const result = await batchPaySalariesMutation.mutateAsync({\r\n        studentIds: [], //     \r\n        payAll: true,\r\n      });\r\n\r\n      if (result.success) {\r\n        const { summary } = result;\r\n        alert(\r\n          `  !\\n${summary.totalStudentsPaid}  \\n : ${(\r\n            summary.totalGrossPaid / 10000\r\n          ).toFixed(0)}\\n : ${(\r\n            summary.totalTaxDeducted / 10000\r\n          ).toFixed(0)}\\n : ${(\r\n            summary.totalNetPaid / 10000\r\n          ).toFixed(0)}`\r\n        );\r\n      } else {\r\n        alert(result.message || \"  .\");\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"[AdminSettingsModal]     :\", error);\r\n      alert(\"    : \" + error.message);\r\n    } finally {\r\n      setIsPayingSalary(false);\r\n    }\r\n  };\r\n\r\n  //   \r\n  const loadClassMembers = useCallback(async () => {\r\n    if (!db) {\r\n      logger.error(\r\n        \"loadClassMembers: Firestore   .\"\r\n      );\r\n      setError(\r\n        \"        .\"\r\n      );\r\n      setClassMembers([]);\r\n      setMembersLoading(false);\r\n      return;\r\n    }\r\n\r\n    setMembersLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const usersRef = firebaseCollection(db, \"users\");\r\n      let queryRef;\r\n\r\n      if (!isSuperAdmin && userClassCode) {\r\n        queryRef = firebaseQuery(\r\n          usersRef,\r\n          firebaseWhere(\"classCode\", \"==\", userClassCode)\r\n        );\r\n      } else if (isSuperAdmin) {\r\n        queryRef = usersRef;\r\n      } else {\r\n        logger.warn(\"    .\");\r\n        setError(\"        .\");\r\n        setClassMembers([]);\r\n        setMembersLoading(false);\r\n        return;\r\n      }\r\n\r\n      const querySnapshot = await firebaseGetDocs(queryRef);\r\n      const usersList = [];\r\n\r\n      querySnapshot.forEach((doc) => {\r\n        const userData = doc.data();\r\n        usersList.push({\r\n          id: doc.id,\r\n          name: userData.name || userData.nickname || \" \",\r\n          email: userData.email,\r\n          classCode: userData.classCode || \" \",\r\n          isAdmin: userData.isAdmin || false,\r\n          isSuperAdmin: userData.isSuperAdmin || false,\r\n        });\r\n      });\r\n\r\n      setClassMembers(usersList);\r\n      logger.log(\r\n        `[AdminSettingsModal] ${usersList.length}   `\r\n      );\r\n    } catch (error) {\r\n      logger.error(\"loadClassMembers:    :\", error);\r\n      setError(\r\n        \"     : \" + error.message\r\n      );\r\n      setClassMembers([]);\r\n    } finally {\r\n      setMembersLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSuperAdmin, userClassCode]); // db     \r\n\r\n  //     \r\n  const handleEditStudentJobs = (student) => {\r\n    setSelectedStudent(student);\r\n    setTempSelectedJobIds(\r\n      Array.isArray(student.selectedJobIds) ? [...student.selectedJobIds] : []\r\n    );\r\n    setShowEditStudentJobsModal(true);\r\n  };\r\n\r\n  //   \r\n  const handleToggleJobSelection = (jobId) => {\r\n    setTempSelectedJobIds((prev) => {\r\n      if (prev.includes(jobId)) {\r\n        return prev.filter((id) => id !== jobId);\r\n      } else {\r\n        return [...prev, jobId];\r\n      }\r\n    });\r\n  };\r\n\r\n  //   \r\n  const handleToggleStudentSelection = (studentId) => {\r\n    setSelectedStudentIds((prev) => {\r\n      if (prev.includes(studentId)) {\r\n        return prev.filter((id) => id !== studentId);\r\n      } else {\r\n        return [...prev, studentId];\r\n      }\r\n    });\r\n  };\r\n\r\n  //   \r\n  const handleToggleSelectAll = () => {\r\n    if (selectAllStudents) {\r\n      setSelectedStudentIds([]);\r\n    } else {\r\n      setSelectedStudentIds(\r\n        students.map((student) => student.id).filter((id) => id != null)\r\n      );\r\n    }\r\n    setSelectAllStudents(!selectAllStudents);\r\n  };\r\n\r\n  //   \r\n  const handleSaveStudentJobs = async () => {\r\n    if (!selectedStudent || !db) {\r\n      alert(\"     \");\r\n      return;\r\n    }\r\n\r\n    setAppLoading(true);\r\n\r\n    try {\r\n      const userRef = firebaseDoc(db, \"users\", selectedStudent.id);\r\n      await firebaseUpdateDoc(userRef, {\r\n        selectedJobIds: tempSelectedJobIds,\r\n        updatedAt: serverTimestamp(),\r\n      });\r\n\r\n      setStudents((prevStudents) =>\r\n        prevStudents.map((student) =>\r\n          student.id === selectedStudent.id\r\n            ? { ...student, selectedJobIds: tempSelectedJobIds }\r\n            : student\r\n        )\r\n      );\r\n\r\n      alert(\"   .\");\r\n      setShowEditStudentJobsModal(false);\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      alert(\"     : \" + error.message);\r\n    } finally {\r\n      setAppLoading(false);\r\n    }\r\n  };\r\n\r\n  const adminResetUserPassword = httpsCallable(functions, 'adminResetUserPassword');\r\n\r\n  const handleResetPassword = useCallback(async (userId) => {\r\n    if (!isAdmin && !isSuperAdmin) {\r\n      alert(\"    .\");\r\n      return;\r\n    }\r\n\r\n    const newPassword = prompt(\"  . 6  .\");\r\n\r\n    if (!newPassword || newPassword.length < 6) {\r\n      alert(\" 6  .\");\r\n      return;\r\n    }\r\n\r\n    if (window.confirm(`(ID: ${userId})   ?`)) {\r\n      try {\r\n        setMembersLoading(true);\r\n        const result = await adminResetUserPassword({ userId, newPassword });\r\n        if (result.data.success) {\r\n          alert(result.data.message);\r\n        } else {\r\n          throw new Error(result.data.message || \"   \");\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"  :\", error);\r\n        alert(`    : ${error.message}`);\r\n      } finally {\r\n        setMembersLoading(false);\r\n      }\r\n    }\r\n  }, [isAdmin, isSuperAdmin, adminResetUserPassword]);\r\n\r\n  //   \r\n  const toggleAdminStatus = useCallback(\r\n    async (userId, currentStatus) => {\r\n      if (!db) {\r\n        alert(\"  .\");\r\n        return;\r\n      }\r\n\r\n      if (!isSuperAdmin) {\r\n        alert(\"    /  .\");\r\n        return;\r\n      }\r\n\r\n      if (\r\n        window.confirm(\r\n          `    ${\r\n            currentStatus ? \"\" : \"\"\r\n          }?`\r\n        )\r\n      ) {\r\n        setMembersLoading(true);\r\n\r\n        try {\r\n          const userRef = firebaseDoc(db, \"users\", userId);\r\n          await firebaseUpdateDoc(userRef, { isAdmin: !currentStatus });\r\n\r\n          setClassMembers((prevMembers) =>\r\n            prevMembers.map((member) =>\r\n              member.id === userId\r\n                ? { ...member, isAdmin: !currentStatus }\r\n                : member\r\n            )\r\n          );\r\n\r\n          alert(`  ${!currentStatus ? \"\" : \"\"}.`);\r\n        } catch (error) {\r\n          logger.error(\"   :\", error);\r\n          alert(\"     .\");\r\n        } finally {\r\n          setMembersLoading(false);\r\n        }\r\n      }\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [isSuperAdmin] // db     \r\n  );\r\n\r\n  // ========================================\r\n  //    \r\n  // ========================================\r\n\r\n  //   \r\n  const loadFinancialProducts = useCallback(() => {\r\n    try {\r\n      const savedDeposit = localStorage.getItem(\"depositProducts\");\r\n      const savedSaving = localStorage.getItem(\"savingProducts\");\r\n      const savedLoan = localStorage.getItem(\"loanProducts\");\r\n\r\n      if (savedDeposit) setDepositProducts(JSON.parse(savedDeposit));\r\n      if (savedSaving) setSavingProducts(JSON.parse(savedSaving));\r\n      if (savedLoan) setLoanProducts(JSON.parse(savedLoan));\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n    }\r\n  }, []);\r\n\r\n  //   \r\n  const handleAddProduct = useCallback(() => {\r\n    if (!newProductName || newProductName.trim() === \"\") {\r\n      setFinancialMessage({ type: \"error\", text: \" .\" });\r\n      return;\r\n    }\r\n    if (!newProductPeriod || isNaN(newProductPeriod) || parseInt(newProductPeriod) <= 0) {\r\n      setFinancialMessage({ type: \"error\", text: \"  .\" });\r\n      return;\r\n    }\r\n    if (!newProductRate || isNaN(newProductRate) || parseFloat(newProductRate) < 0) {\r\n      setFinancialMessage({ type: \"error\", text: \"  .\" });\r\n      return;\r\n    }\r\n\r\n    const newProduct = {\r\n      id: Date.now(),\r\n      name: newProductName.trim(),\r\n      period: parseInt(newProductPeriod),\r\n      rate: parseFloat(newProductRate),\r\n    };\r\n\r\n    const typeText = financialSubTab === \"deposit\" ? \"\" : financialSubTab === \"saving\" ? \"\" : \"\";\r\n    let updatedProducts = [];\r\n    let storageKey = \"\";\r\n\r\n    if (financialSubTab === \"deposit\") {\r\n      updatedProducts = [...depositProducts, newProduct];\r\n      setDepositProducts(updatedProducts);\r\n      storageKey = \"depositProducts\";\r\n    } else if (financialSubTab === \"saving\") {\r\n      updatedProducts = [...savingProducts, newProduct];\r\n      setSavingProducts(updatedProducts);\r\n      storageKey = \"savingProducts\";\r\n    } else if (financialSubTab === \"loan\") {\r\n      updatedProducts = [...loanProducts, newProduct];\r\n      setLoanProducts(updatedProducts);\r\n      storageKey = \"loanProducts\";\r\n    }\r\n\r\n    localStorage.setItem(storageKey, JSON.stringify(updatedProducts));\r\n    setFinancialMessage({ type: \"success\", text: `${typeText}  .` });\r\n    setNewProductName(\"\");\r\n    setNewProductPeriod(\"\");\r\n    setNewProductRate(\"\");\r\n    setTimeout(() => setFinancialMessage(null), 3000);\r\n  }, [newProductName, newProductPeriod, newProductRate, financialSubTab, depositProducts, savingProducts, loanProducts]);\r\n\r\n  //   \r\n  const handleDeleteProduct = useCallback((id, type) => {\r\n    const typeText = type === \"deposit\" ? \"\" : type === \"saving\" ? \"\" : \"\";\r\n\r\n    if (!window.confirm(` ${typeText}  ?`)) return;\r\n\r\n    let updatedProducts = [];\r\n    let storageKey = \"\";\r\n\r\n    if (type === \"deposit\") {\r\n      updatedProducts = depositProducts.filter((p) => p.id !== id);\r\n      setDepositProducts(updatedProducts);\r\n      storageKey = \"depositProducts\";\r\n    } else if (type === \"saving\") {\r\n      updatedProducts = savingProducts.filter((p) => p.id !== id);\r\n      setSavingProducts(updatedProducts);\r\n      storageKey = \"savingProducts\";\r\n    } else if (type === \"loan\") {\r\n      updatedProducts = loanProducts.filter((p) => p.id !== id);\r\n      setLoanProducts(updatedProducts);\r\n      storageKey = \"loanProducts\";\r\n    }\r\n\r\n    localStorage.setItem(storageKey, JSON.stringify(updatedProducts));\r\n    setFinancialMessage({ type: \"success\", text: `${typeText}  .` });\r\n    setTimeout(() => setFinancialMessage(null), 3000);\r\n  }, [depositProducts, savingProducts, loanProducts]);\r\n\r\n  // ========================================\r\n  //   \r\n  // ========================================\r\n\r\n  //   \r\n  const fetchMarketStatus = useCallback(async (forceRefresh = false) => {\r\n    if (!userClassCode) return;\r\n\r\n    //  \r\n    if (!forceRefresh && marketStatusCache.current && isMarketDataLoaded) {\r\n      setMarketStatus(marketStatusCache.current);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const marketStatusRef = doc(db, `ClassStock/${userClassCode}/marketStatus/status`);\r\n      const docSnap = await getDoc(marketStatusRef);\r\n\r\n      let statusData;\r\n      if (docSnap.exists()) {\r\n        statusData = docSnap.data();\r\n      } else {\r\n        statusData = { isOpen: false };\r\n        await setDoc(marketStatusRef, statusData);\r\n      }\r\n\r\n      marketStatusCache.current = statusData;\r\n      setMarketStatus(statusData);\r\n      setIsMarketDataLoaded(true);\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      setMarketMessage(\"    .\");\r\n    }\r\n  }, [userClassCode, isMarketDataLoaded]);\r\n\r\n  //  / \r\n  const handleMarketControl = useCallback(async (newIsOpenState) => {\r\n    const actionText = newIsOpenState ? ' ' : ' ';\r\n    if (!window.confirm(`  '${actionText}'  ?`)) return;\r\n\r\n    try {\r\n      //  \r\n      const optimisticStatus = { isOpen: newIsOpenState };\r\n      setMarketStatus(optimisticStatus);\r\n      marketStatusCache.current = optimisticStatus;\r\n\r\n      const result = await toggleMarketManually({\r\n        classCode: userClassCode,\r\n        isOpen: newIsOpenState\r\n      });\r\n\r\n      setMarketMessage(result.data.message);\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      setMarketMessage(` : ${error.message}`);\r\n\r\n      // \r\n      if (marketStatusCache.current) {\r\n        setMarketStatus(marketStatusCache.current);\r\n      } else {\r\n        fetchMarketStatus(true);\r\n      }\r\n    }\r\n    setTimeout(() => setMarketMessage(''), 5000);\r\n  }, [userClassCode, toggleMarketManually, fetchMarketStatus]);\r\n\r\n  //   \r\n  const handleInitializeStocks = useCallback(async () => {\r\n    if (!window.confirm(\"     ?     .\")) return;\r\n\r\n    try {\r\n      const batch = writeBatch(db);\r\n\r\n      initialStocks.forEach((stock) => {\r\n        const stockRef = doc(db, \"CentralStocks\", stock.id);\r\n        batch.set(stockRef, stock);\r\n      });\r\n\r\n      await batch.commit();\r\n      alert(\"   .\");\r\n      setMarketMessage(\"   .\");\r\n    } catch (error) {\r\n      logger.error(\"     :\", error);\r\n      setMarketMessage(` : ${error.message}`);\r\n    }\r\n    setTimeout(() => setMarketMessage(''), 5000);\r\n  }, []);\r\n\r\n  // ========================================\r\n  //   \r\n  // ========================================\r\n\r\n  //   \r\n  const loadParkingRate = useCallback(() => {\r\n    const savedRate = localStorage.getItem(\"parkingInterestRate\");\r\n    if (savedRate) {\r\n      setParkingInterestRate(parseFloat(savedRate));\r\n    }\r\n  }, []);\r\n\r\n  //   \r\n  const handleParkingRateChange = useCallback(() => {\r\n    if (!newInterestRate || isNaN(newInterestRate) || parseFloat(newInterestRate) < 0) {\r\n      setParkingMessage({ type: \"error\", text: \"   (0 ).\" });\r\n      return;\r\n    }\r\n\r\n    const rate = parseFloat(newInterestRate);\r\n    setParkingInterestRate(rate);\r\n    localStorage.setItem(\"parkingInterestRate\", rate.toString());\r\n\r\n    setParkingMessage({ type: \"success\", text: `    ${rate}% .` });\r\n    setNewInterestRate(\"\");\r\n    setTimeout(() => setParkingMessage(null), 3000);\r\n  }, [newInterestRate]);\r\n\r\n  //   \r\n  const handleAddClassCode = useCallback(async () => {\r\n    if (!onAddClassCode || typeof onAddClassCode !== \"function\") {\r\n      alert(\"      .\");\r\n      return;\r\n    }\r\n\r\n    const codeToAdd = newClassCode.trim();\r\n    if (!codeToAdd) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    setClassCodeOperationLoading(true);\r\n\r\n    try {\r\n      const success = await onAddClassCode(codeToAdd);\r\n      if (success) {\r\n        setNewClassCode(\"\");\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"AdminSettingsModal:     :\", error);\r\n    } finally {\r\n      setClassCodeOperationLoading(false);\r\n    }\r\n  }, [newClassCode, onAddClassCode]);\r\n\r\n  //   \r\n  const handleRemoveClassCode = useCallback(\r\n    async (codeToRemove) => {\r\n      if (!onRemoveClassCode || typeof onRemoveClassCode !== \"function\") {\r\n        alert(\"      .\");\r\n        return;\r\n      }\r\n\r\n      setClassCodeOperationLoading(true);\r\n\r\n      try {\r\n        await onRemoveClassCode(codeToRemove);\r\n      } catch (error) {\r\n        logger.error(\"AdminSettingsModal:     :\", error);\r\n      } finally {\r\n        setClassCodeOperationLoading(false);\r\n      }\r\n    },\r\n    [onRemoveClassCode]\r\n  );\r\n\r\n  //   \r\n  useEffect(() => {\r\n    if (showAdminSettingsModal) {\r\n      //   (   )\r\n      preloadAdminData();\r\n      setError(\"\");\r\n\r\n      //      \r\n      loadFinancialProducts();\r\n      loadParkingRate();\r\n    }\r\n\r\n    if (!showAdminSettingsModal) {\r\n      setNewClassCode(\"\");\r\n      setClassMembers([]);\r\n      setStudents([]);\r\n      setSelectedStudent(null);\r\n      setTempSelectedJobIds([]);\r\n      setShowEditStudentJobsModal(false);\r\n      setLastSalaryPaidDate(null);\r\n      setSelectedStudentIds([]);\r\n      setSelectAllStudents(false);\r\n      setClassCodeOperationLoading(false);\r\n      setMembersLoading(false);\r\n      setStudentsLoading(false);\r\n      setAppLoading(false);\r\n      setError(\"\");\r\n      // //  \r\n      setFinancialMessage(null);\r\n      setMarketMessage('');\r\n      setParkingMessage(null);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [\r\n    showAdminSettingsModal,\r\n    adminSelectedMenu,\r\n    loadClassMembers,\r\n    loadStudents,\r\n    loadSalarySettings,\r\n    loadFinancialProducts,\r\n    loadParkingRate,\r\n  ]); // preloadAdminData  adminSelectedMenu  loadClassMembers, loadStudents, loadSalarySettings    \r\n\r\n  //   ID     ( )\r\n  useEffect(() => {\r\n    const mapping = {\r\n      taskManagement: ['jobAndTask', () => setJobTaskSubTab('task')],\r\n      jobSettings: ['jobAndTask', () => setJobTaskSubTab('job')],\r\n      studentManagement: ['studentAndMember', () => setStudentMemberSubTab('student')],\r\n      salarySettings: ['studentAndMember', () => setStudentMemberSubTab('salary')],\r\n      memberManagement: ['studentAndMember', () => setStudentMemberSubTab('member')],\r\n      financialProducts: ['financeAndMarket', () => setFinanceMarketSubTab('financial')],\r\n      parkingAccount: ['financeAndMarket', () => setFinanceMarketSubTab('parking')],\r\n      marketControl: ['financeAndMarket', () => setFinanceMarketSubTab('market')],\r\n      databaseManagement: ['system', () => setSystemSubTab('database')],\r\n      systemManagement: ['system', () => setSystemSubTab('system')],\r\n    };\r\n    const mapped = mapping[adminSelectedMenu];\r\n    if (mapped) {\r\n      setAdminSelectedMenu(mapped[0]);\r\n      mapped[1]();\r\n    }\r\n  }, [adminSelectedMenu, setAdminSelectedMenu]);\r\n\r\n  //       \r\n  useEffect(() => {\r\n    if (showAdminSettingsModal && adminSelectedMenu === 'studentAndMember' && studentMemberSubTab === 'student') {\r\n      loadStudents();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [showAdminSettingsModal, adminSelectedMenu, studentMemberSubTab]);\r\n\r\n  //       \r\n  useEffect(() => {\r\n    if (showAdminSettingsModal && adminSelectedMenu === 'studentAndMember' && studentMemberSubTab === 'member') {\r\n      loadClassMembers();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [showAdminSettingsModal, adminSelectedMenu, studentMemberSubTab]);\r\n\r\n  //       \r\n  useEffect(() => {\r\n    if (showAdminSettingsModal && adminSelectedMenu === 'financeAndMarket' && financeMarketSubTab === 'market') {\r\n      fetchMarketStatus();\r\n    }\r\n  }, [showAdminSettingsModal, adminSelectedMenu, financeMarketSubTab, fetchMarketStatus]);\r\n\r\n  //    \r\n  const formatLastSalaryDate = () => {\r\n    if (!lastSalaryPaidDate) return \"   \";\r\n\r\n    try {\r\n      const date = lastSalaryPaidDate;\r\n      return `${date.getFullYear()} ${String(date.getMonth() + 1).padStart(\r\n        2,\r\n        \"0\"\r\n      )} ${String(date.getDate()).padStart(2, \"0\")} ${String(\r\n        date.getHours()\r\n      ).padStart(2, \"0\")}:${String(date.getMinutes()).padStart(2, \"0\")}`;\r\n    } catch (e) {\r\n      logger.error(\"formatLastSalaryDate :\", e);\r\n      return \"  \";\r\n    }\r\n  };\r\n\r\n  if (!showAdminSettingsModal) return null;\r\n\r\n  if (!isAdmin && !isSuperAdmin) {\r\n    return (\r\n      <div className=\"admin-settings-modal show\">\r\n        <div className=\"admin-settings-content\">\r\n          <h2> </h2>\r\n          <p>   .</p>\r\n          <button\r\n            onClick={() => setShowAdminSettingsModal(false)}\r\n            className=\"admin-cancel-button\"\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`admin-settings-modal ${showAdminSettingsModal ? \"show\" : \"\"}`}\r\n    >\r\n      <div className=\"admin-settings-content\">\r\n        <h2>\r\n           {\" \"}\r\n          {isSuperAdmin && (\r\n            <span className=\"super-admin-badge\">( )</span>\r\n          )}\r\n        </h2>\r\n        {!isSuperAdmin && userClassCode && (\r\n          <p className=\"admin-class-info\"> : {userClassCode}</p>\r\n        )}\r\n\r\n        {/* ========================================\r\n               v2.0\r\n            - (isSuperAdmin):    \r\n            - (isAdmin):       \r\n            ======================================== */}\r\n        <div className=\"admin-menu-tabs flex flex-wrap gap-2.5 p-4 rounded-2xl border border-gray-700\" style={{ background: 'linear-gradient(135deg, #16213e 0%, #1a1a2e 100%)' }}>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"generalSettings\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"generalSettings\")}\r\n          >\r\n              \r\n          </button>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"jobAndTask\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"jobAndTask\")}\r\n          >\r\n             /\r\n          </button>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"studentAndMember\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"studentAndMember\")}\r\n          >\r\n             /\r\n          </button>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"financeAndMarket\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"financeAndMarket\")}\r\n          >\r\n             /\r\n          </button>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"system\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"system\")}\r\n          >\r\n             \r\n          </button>\r\n        </div>\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"generalSettings\" && (\r\n          <div className=\"general-settings-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"admin-goal-settings section-card\">\r\n              <h3>    </h3>\r\n              <div className=\"form-group\">\r\n                <label>   :</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  value={newGoalAmount || \"\"}\r\n                  onChange={(e) =>\r\n                    setNewGoalAmount && setNewGoalAmount(e.target.value)\r\n                  }\r\n                  className=\"admin-input\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>  ():</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  value={adminCouponValue || \"\"}\r\n                  onChange={(e) =>\r\n                    setAdminCouponValue && setAdminCouponValue(e.target.value)\r\n                  }\r\n                  className=\"admin-input\"\r\n                />\r\n              </div>\r\n              <button\r\n                onClick={handleSaveAdminSettings}\r\n                className=\"admin-save-button\"\r\n              >\r\n                \r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ===== /   ===== */}\r\n        {adminSelectedMenu === \"jobAndTask\" && (\r\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${jobTaskSubTab === 'job' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setJobTaskSubTab('job')}\r\n            >\r\n               \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${jobTaskSubTab === 'task' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setJobTaskSubTab('task')}\r\n            >\r\n               \r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"jobAndTask\" && jobTaskSubTab === \"task\" && (\r\n          <div className=\"task-management-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"admin-tasks-settings section-card\">\r\n              <h3> </h3>\r\n              <p className=\"admin-section-desc\">\r\n                    .\r\n              </p>\r\n\r\n              {showAddTaskForm ? (\r\n                <div className=\"add-task-form\">\r\n                  <h4>{adminEditingTask ? \" \" : \"  \"}</h4>\r\n                  <p>\r\n                    {taskFormIsJobTask && jobs && taskFormJobId\r\n                      ? `: ${\r\n                          jobs.find((j) => j.id === taskFormJobId)?.title ||\r\n                          \"   \"\r\n                        }`\r\n                      : \" \"}\r\n                  </p>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label> :</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={adminNewTaskName}\r\n                      onChange={(e) => setAdminNewTaskName(e.target.value)}\r\n                      placeholder=\"  \"\r\n                      className=\"admin-input\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label> ():</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={adminNewTaskReward}\r\n                      onChange={(e) => setAdminNewTaskReward(e.target.value)}\r\n                      placeholder=\" \"\r\n                      className=\"admin-input\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label>  :</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      value={adminNewTaskMaxClicks}\r\n                      onChange={(e) => setAdminNewTaskMaxClicks(e.target.value)}\r\n                      placeholder=\"  \"\r\n                      className=\"admin-input\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"task-form-buttons\">\r\n                    <button\r\n                      onClick={() => {\r\n                        logger.log(\"[AdminSettingsModal]    \");\r\n                        if (\r\n                          handleSaveTask &&\r\n                          typeof handleSaveTask === \"function\"\r\n                        ) {\r\n                          handleSaveTask();\r\n                        } else {\r\n                          logger.error(\r\n                            \"[AdminSettingsModal] handleSaveTask   .\"\r\n                          );\r\n                          alert(\"     .\");\r\n                        }\r\n                      }}\r\n                      className=\"admin-save-button\"\r\n                    >\r\n                      {adminEditingTask ? \"\" : \"\"}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowAddTaskForm(false);\r\n                        setAdminEditingTask(null);\r\n                      }}\r\n                      className=\"admin-cancel-button\"\r\n                    >\r\n                      \r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"task-management\">\r\n                  <div className=\"task-management-buttons\">\r\n                    <button\r\n                      onClick={() => {\r\n                        logger.log(\r\n                          \"[AdminSettingsModal]     \"\r\n                        );\r\n                        handleTaskAdd(null, false);\r\n                      }}\r\n                      className=\"admin-button\"\r\n                    >\r\n                        \r\n                    </button>\r\n                    <select\r\n                      onChange={(e) => {\r\n                        if (e.target.value) {\r\n                          logger.log(\r\n                            \"[AdminSettingsModal]    :\",\r\n                            e.target.value\r\n                          );\r\n                          handleTaskAdd(e.target.value, true);\r\n                        }\r\n                      }}\r\n                      className=\"job-select\"\r\n                      value=\"\"\r\n                    >\r\n                      <option value=\"\">  ...</option>\r\n                      {Array.isArray(jobs) &&\r\n                        jobs.map((job) => (\r\n                          <option key={job.id} value={job.id}>\r\n                            {job.title}  \r\n                          </option>\r\n                        ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/*    */}\r\n                  <div className=\"tasks-by-job\">\r\n                    <h4> </h4>\r\n                    {Array.isArray(jobs) && jobs.length > 0 ? (\r\n                      jobs.map((job) => (\r\n                        <div key={job.id} className=\"job-tasks\">\r\n                          <h5>{job.title}</h5>\r\n                          {Array.isArray(job.tasks) && job.tasks.length > 0 ? (\r\n                            <ul className=\"admin-tasks\">\r\n                              {job.tasks.map((task) => (\r\n                                <li key={task.id} className=\"admin-task-item\">\r\n                                  <div className=\"task-info\">\r\n                                    <span className=\"task-name\">{task.name}</span>\r\n                                    <span className=\"task-reward\">\r\n                                      : {task.reward || 0} \r\n                                    </span>\r\n                                    <span className=\"task-clicks\">\r\n                                      : {task.clicks || 0}/\r\n                                      {task.maxClicks || 5}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"task-actions\">\r\n                                    <button\r\n                                      onClick={() => {\r\n                                        logger.log(\r\n                                          \"[AdminSettingsModal]     :\",\r\n                                          task,\r\n                                          job.id\r\n                                        );\r\n                                        handleTaskEdit(task, job.id);\r\n                                      }}\r\n                                      className=\"edit-button\"\r\n                                    >\r\n                                      \r\n                                    </button>\r\n                                    <button\r\n                                      onClick={() => {\r\n                                        logger.log(\r\n                                          \"[AdminSettingsModal]     :\",\r\n                                          task.id,\r\n                                          job.id\r\n                                        );\r\n                                        handleTaskDelete(task.id, job.id);\r\n                                      }}\r\n                                      className=\"delete-button\"\r\n                                    >\r\n                                      \r\n                                    </button>\r\n                                  </div>\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          ) : (\r\n                            <p className=\"no-items-message\">\r\n                                  .\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <p className=\"no-items-message\">  .</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/*    */}\r\n                  <div className=\"common-tasks\">\r\n                    <h4> </h4>\r\n                    {Array.isArray(commonTasks) && commonTasks.length > 0 ? (\r\n                      <ul className=\"admin-tasks\">\r\n                        {commonTasks.map((task) => (\r\n                          <li key={task.id} className=\"admin-task-item\">\r\n                            <div className=\"task-info\">\r\n                              <span className=\"task-name\">{task.name}</span>\r\n                              <span className=\"task-reward\">\r\n                                : {task.reward || 0} \r\n                              </span>\r\n                              <span className=\"task-clicks\">\r\n                                : {task.clicks || 0}/{task.maxClicks || 5}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"task-actions\">\r\n                              <button\r\n                                onClick={() => {\r\n                                  logger.log(\r\n                                    \"[AdminSettingsModal]     :\",\r\n                                    task\r\n                                  );\r\n                                  handleTaskEdit(task);\r\n                                }}\r\n                                className=\"edit-button\"\r\n                              >\r\n                                \r\n                              </button>\r\n                              <button\r\n                                onClick={() => {\r\n                                  logger.log(\r\n                                    \"[AdminSettingsModal]     :\",\r\n                                    task.id\r\n                                  );\r\n                                  handleTaskDelete(task.id);\r\n                                }}\r\n                                className=\"delete-button\"\r\n                              >\r\n                                \r\n                              </button>\r\n                            </div>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    ) : (\r\n                      <p className=\"no-items-message\">\r\n                           .\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"jobAndTask\" && jobTaskSubTab === \"job\" && (\r\n          <div className=\"job-settings-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"admin-jobs-settings section-card\">\r\n              <h3> </h3>\r\n              <div className=\"add-job-form\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={adminNewJobTitle}\r\n                  onChange={(e) => setAdminNewJobTitle(e.target.value)}\r\n                  placeholder={adminEditingJob ? \" \" : \"  \"}\r\n                  className=\"admin-input\"\r\n                />\r\n                <button\r\n                  onClick={() => {\r\n                    logger.log(\"[AdminSettingsModal]    \");\r\n                    if (handleSaveJob && typeof handleSaveJob === \"function\") {\r\n                      handleSaveJob();\r\n                    } else {\r\n                      logger.error(\r\n                        \"[AdminSettingsModal] handleSaveJob   .\"\r\n                      );\r\n                      alert(\"     .\");\r\n                    }\r\n                  }}\r\n                  className=\"admin-save-button\"\r\n                >\r\n                  {adminEditingJob ? \"\" : \"\"}\r\n                </button>\r\n                {adminEditingJob && (\r\n                  <button\r\n                    onClick={() => {\r\n                      setAdminEditingJob(null);\r\n                      setAdminNewJobTitle(\"\");\r\n                    }}\r\n                    className=\"admin-cancel-button\"\r\n                  >\r\n                    \r\n                  </button>\r\n                )}\r\n              </div>\r\n              <div className=\"jobs-list\">\r\n                <h4>  </h4>\r\n                {jobs && jobs.length > 0 ? (\r\n                  <ul className=\"admin-jobs\">\r\n                    {jobs.map((job) => (\r\n                      <li key={job.id} className=\"admin-job-item\">\r\n                        <span className=\"job-title\">{job.title}</span>\r\n                        <div className=\"job-actions\">\r\n                          <button\r\n                            onClick={() => {\r\n                              logger.log(\r\n                                \"[AdminSettingsModal]    :\",\r\n                                job\r\n                              );\r\n                              handleJobEdit(job);\r\n                            }}\r\n                            className=\"edit-button\"\r\n                          >\r\n                            \r\n                          </button>\r\n                          <button\r\n                            onClick={() => {\r\n                              logger.log(\r\n                                \"[AdminSettingsModal]    :\",\r\n                                job.id\r\n                              );\r\n                              handleJobDelete(job.id);\r\n                            }}\r\n                            className=\"delete-button\"\r\n                          >\r\n                            \r\n                          </button>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                ) : (\r\n                  <p className=\"no-items-message\">  .</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ===== /   ===== */}\r\n        {adminSelectedMenu === \"studentAndMember\" && (\r\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === 'student' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setStudentMemberSubTab('student')}\r\n            >\r\n              / \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === 'salary' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setStudentMemberSubTab('salary')}\r\n            >\r\n               \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === 'member' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setStudentMemberSubTab('member')}\r\n            >\r\n               \r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"studentAndMember\" && studentMemberSubTab === \"student\" && (\r\n          <div className=\"student-management-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"student-jobs-settings section-card\">\r\n              <h3> </h3>\r\n              {error && <p className=\"error-message\">{error}</p>}\r\n              <p className=\"admin-section-desc\">\r\n                   .    \r\n                 .\r\n              </p>\r\n\r\n              <div className=\"salary-management\">\r\n                <div className=\"salary-info\">\r\n                  <h4>  </h4>\r\n                  <p> : 200,  : 50</p>\r\n                  <p>: {(salarySettings.taxRate * 100).toFixed(1)}%</p>\r\n                  <p> : {(salarySettings.salaryIncreaseRate * 100).toFixed(1)}% ()</p>\r\n                  <p>  : {formatLastSalaryDate()}</p>\r\n                  <p className=\"auto-payment-info\">\r\n                       :    8 (  )\r\n                  </p>\r\n                </div>\r\n                <div className=\"salary-buttons\">\r\n                  <button\r\n                    className=\"admin-button pay-salary-button\"\r\n                    onClick={handlePaySalariesToAll}\r\n                    disabled={isPayingSalary || studentsLoading}\r\n                  >\r\n                    {isPayingSalary ? \"  ...\" : \"   \"}\r\n                  </button>\r\n                  <button\r\n                    className=\"admin-button pay-selected-salary-button\"\r\n                    onClick={handlePaySalariesToSelected}\r\n                    disabled={\r\n                      isPayingSalary ||\r\n                      studentsLoading ||\r\n                      selectedStudentIds.length === 0\r\n                    }\r\n                  >\r\n                    {isPayingSalary\r\n                      ? \"  ...\"\r\n                      : ` (${selectedStudentIds.length})  `}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"student-jobs-container\">\r\n                <div className=\"student-list-header\">\r\n                  <h4>\r\n                     {\" \"}\r\n                    {!isSuperAdmin && userClassCode && `(${userClassCode} )`}\r\n                  </h4>\r\n                  <button\r\n                    onClick={loadStudents}\r\n                    className=\"admin-button\"\r\n                    disabled={studentsLoading}\r\n                  >\r\n                    {studentsLoading ? \" ...\" : \"  \"}\r\n                  </button>\r\n                </div>\r\n                {studentsLoading ? (\r\n                  <p>   ...</p>\r\n                ) : students.length > 0 ? (\r\n                  <div className=\"members-table-container\">\r\n                    <table className=\"members-table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={selectAllStudents}\r\n                              onChange={handleToggleSelectAll}\r\n                              disabled={students.length === 0}\r\n                            />\r\n                          </th>\r\n                          <th> </th>\r\n                          <th></th>\r\n                          <th></th>\r\n                          <th> </th>\r\n                          <th> </th>\r\n                          <th> </th>\r\n                          <th></th>\r\n                          <th> </th>\r\n                          <th> </th>\r\n                          <th></th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {students.map((student) => {\r\n                          const salaryCalc = calculateSalary(student.selectedJobIds, true);\r\n                          return (\r\n                            <tr\r\n                              key={student.id}\r\n                              className={\r\n                                selectedStudentIds.includes(student.id)\r\n                                  ? \"selected-student-row\"\r\n                                  : \"\"\r\n                              }\r\n                            >\r\n                              <td>\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  checked={selectedStudentIds.includes(student.id)}\r\n                                  onChange={() =>\r\n                                    handleToggleStudentSelection(student.id)\r\n                                  }\r\n                                />\r\n                              </td>\r\n                              <td>\r\n                                {student.nickname || student.name || \" \"}\r\n                              </td>\r\n                              <td>{student.email || \"-\"}</td>\r\n                              <td>{student.classCode || \"\"}</td>\r\n                              <td>\r\n                                {Array.isArray(student.selectedJobIds) &&\r\n                                student.selectedJobIds.length > 0 ? (\r\n                                  student.selectedJobIds\r\n                                    .map((jobId) => {\r\n                                      const job = Array.isArray(jobs)\r\n                                        ? jobs.find((j) => j.id === jobId)\r\n                                        : null;\r\n                                      return job ? job.title : null;\r\n                                    })\r\n                                    .filter(Boolean)\r\n                                    .join(\", \")\r\n                                ) : (\r\n                                  <span className=\"no-jobs\"> </span>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"salary-column\">\r\n                                {`${(salaryCalc.gross / 10000).toFixed(0)}`}\r\n                              </td>\r\n                              <td className=\"tax-column\">\r\n                                {`${(salaryCalc.tax / 10000).toFixed(0)}`}\r\n                              </td>\r\n                              <td className=\"net-salary-column\">\r\n                                {`${(salaryCalc.net / 10000).toFixed(0)}`}\r\n                              </td>\r\n                              <td className=\"cash-column\">\r\n                                {(student.cash || 0).toLocaleString()}\r\n                              </td>\r\n                              <td>\r\n                                {student.lastSalaryDate\r\n                                  ? student.lastSalaryDate.toLocaleDateString()\r\n                                  : \"\"}\r\n                              </td>\r\n                              <td>\r\n                                <button\r\n                                  className=\"edit-button\"\r\n                                  onClick={() => handleEditStudentJobs(student)}\r\n                                >\r\n                                   \r\n                                </button>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"no-items-message\">\r\n                    {!isSuperAdmin && !userClassCode\r\n                      ? \"   .\"\r\n                      : \"  .\"}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ===== /   ===== */}\r\n        {adminSelectedMenu === \"financeAndMarket\" && (\r\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === 'financial' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setFinanceMarketSubTab('financial')}\r\n            >\r\n               \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === 'parking' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setFinanceMarketSubTab('parking')}\r\n            >\r\n               \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === 'market' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setFinanceMarketSubTab('market')}\r\n            >\r\n               \r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"financeAndMarket\" && financeMarketSubTab === \"financial\" && (\r\n          <div className=\"financial-products-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"financial-products-settings section-card\">\r\n              <h3>  </h3>\r\n              <p className=\"admin-section-desc\">\r\n                , ,    .\r\n              </p>\r\n\r\n              {/*     */}\r\n              <div className=\"financial-sub-tabs flex gap-2 mb-4\">\r\n                <button\r\n                  className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === 'deposit' ? 'active' : ''}`}\r\n                  onClick={() => setFinancialSubTab('deposit')}\r\n                  style={{\r\n                    border: financialSubTab === 'deposit' ? '2px solid #4f46e5' : '1px solid #374151',\r\n                    background: financialSubTab === 'deposit' ? '#4f46e5' : 'transparent',\r\n                    color: financialSubTab === 'deposit' ? 'white' : '#9ca3af',\r\n                  }}\r\n                >\r\n                   \r\n                </button>\r\n                <button\r\n                  className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === 'saving' ? 'active' : ''}`}\r\n                  onClick={() => setFinancialSubTab('saving')}\r\n                  style={{\r\n                    border: financialSubTab === 'saving' ? '2px solid #4f46e5' : '1px solid #374151',\r\n                    background: financialSubTab === 'saving' ? '#4f46e5' : 'transparent',\r\n                    color: financialSubTab === 'saving' ? 'white' : '#9ca3af',\r\n                  }}\r\n                >\r\n                   \r\n                </button>\r\n                <button\r\n                  className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === 'loan' ? 'active' : ''}`}\r\n                  onClick={() => setFinancialSubTab('loan')}\r\n                  style={{\r\n                    border: financialSubTab === 'loan' ? '2px solid #4f46e5' : '1px solid #374151',\r\n                    background: financialSubTab === 'loan' ? '#4f46e5' : 'transparent',\r\n                    color: financialSubTab === 'loan' ? 'white' : '#9ca3af',\r\n                  }}\r\n                >\r\n                   \r\n                </button>\r\n              </div>\r\n\r\n              {/*  */}\r\n              {financialMessage && (\r\n                <div\r\n                  className={`message-box ${financialMessage.type} p-3 mb-4 rounded-lg text-white`}\r\n                  style={{\r\n                    background: financialMessage.type === 'success' ? '#065f46' : '#991b1b',\r\n                  }}\r\n                >\r\n                  {financialMessage.text}\r\n                </div>\r\n              )}\r\n\r\n              {/*    */}\r\n              <div className=\"add-product-form p-4 rounded-xl mb-4 bg-gray-700/50\">\r\n                <h4 className=\"mb-3 text-white\">\r\n                  {financialSubTab === 'deposit' ? '' : financialSubTab === 'saving' ? '' : ''}  \r\n                </h4>\r\n                <div className=\"grid grid-cols-3 gap-3 mb-3\">\r\n                  <div>\r\n                    <label className=\"block mb-1 text-gray-400 text-xs\"></label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newProductName}\r\n                      onChange={(e) => setNewProductName(e.target.value)}\r\n                      placeholder=\" \"\r\n                      className=\"admin-input w-full\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block mb-1 text-gray-400 text-xs\"> ()</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={newProductPeriod}\r\n                      onChange={(e) => setNewProductPeriod(e.target.value)}\r\n                      placeholder=\" ()\"\r\n                      min=\"1\"\r\n                      className=\"admin-input w-full\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block mb-1 text-gray-400 text-xs\"> (%)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={newProductRate}\r\n                      onChange={(e) => setNewProductRate(e.target.value)}\r\n                      placeholder=\" (%)\"\r\n                      min=\"0\"\r\n                      step=\"0.1\"\r\n                      className=\"admin-input w-full\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <button onClick={handleAddProduct} className=\"admin-save-button w-full\">\r\n                   \r\n                </button>\r\n              </div>\r\n\r\n              {/*   */}\r\n              <div className=\"product-list\">\r\n                <h4 className=\"mb-3 text-white\">\r\n                  {financialSubTab === 'deposit' ? '' : financialSubTab === 'saving' ? '' : ''}  \r\n                </h4>\r\n                {(() => {\r\n                  const products = financialSubTab === 'deposit' ? depositProducts :\r\n                                   financialSubTab === 'saving' ? savingProducts : loanProducts;\r\n                  if (products.length === 0) {\r\n                    return <p className=\"no-items-message\">  .</p>;\r\n                  }\r\n                  return (\r\n                    <div className=\"members-table-container\">\r\n                      <table className=\"members-table\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th></th>\r\n                            <th> ()</th>\r\n                            <th> (%)</th>\r\n                            <th></th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {products.map((product) => (\r\n                            <tr key={product.id}>\r\n                              <td>{product.name}</td>\r\n                              <td>{product.period}</td>\r\n                              <td>{product.rate}%</td>\r\n                              <td>\r\n                                <button\r\n                                  onClick={() => handleDeleteProduct(product.id, financialSubTab)}\r\n                                  className=\"delete-button\"\r\n                                >\r\n                                  \r\n                                </button>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  );\r\n                })()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"financeAndMarket\" && financeMarketSubTab === \"market\" && (\r\n          <div className=\"market-control-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"market-control-settings section-card\">\r\n              <h3>  </h3>\r\n              <p className=\"admin-section-desc\">\r\n                  /   .\r\n              </p>\r\n\r\n              {/*   */}\r\n              <div className=\"p-4 rounded-xl mb-4 bg-gray-700/50\">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                  <p className=\"text-white\">\r\n                     :{\" \"}\r\n                    <span\r\n                      className=\"font-bold px-3 py-1 rounded-2xl\"\r\n                      style={{\r\n                        color: marketStatus.isOpen ? '#22c55e' : '#ef4444',\r\n                        background: marketStatus.isOpen ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'\r\n                      }}\r\n                    >\r\n                      {marketStatus.isOpen ? ' ' : ' '}\r\n                    </span>\r\n                  </p>\r\n                  <button\r\n                    onClick={() => fetchMarketStatus(true)}\r\n                    className=\"admin-button\"\r\n                    disabled={!userClassCode}\r\n                  >\r\n                    \r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"flex gap-3 mb-4\">\r\n                  <button\r\n                    onClick={() => handleMarketControl(true)}\r\n                    disabled={marketStatus.isOpen}\r\n                    className=\"admin-save-button flex-1\"\r\n                    style={{\r\n                      background: marketStatus.isOpen ? '#374151' : '#22c55e',\r\n                      cursor: marketStatus.isOpen ? 'not-allowed' : 'pointer'\r\n                    }}\r\n                  >\r\n                     \r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleMarketControl(false)}\r\n                    disabled={!marketStatus.isOpen}\r\n                    className=\"admin-cancel-button flex-1\"\r\n                    style={{\r\n                      background: !marketStatus.isOpen ? '#374151' : '#ef4444',\r\n                      cursor: !marketStatus.isOpen ? 'not-allowed' : 'pointer'\r\n                    }}\r\n                  >\r\n                     \r\n                  </button>\r\n                </div>\r\n\r\n                <p className=\"text-xs text-gray-400\">\r\n                          .<br />\r\n                   / (-,  8/ 3)    .\r\n                </p>\r\n              </div>\r\n\r\n              {/*  */}\r\n              {marketMessage && (\r\n                <div className=\"p-3 mb-4 rounded-lg bg-amber-600 text-white text-center\">\r\n                  {marketMessage}\r\n                </div>\r\n              )}\r\n\r\n              {/*   */}\r\n              <div className=\"p-4 rounded-xl bg-red-500/10 border border-red-500/30\">\r\n                <h4 className=\"mb-3 text-red-500\">   </h4>\r\n                <p className=\"text-xs text-gray-400 mb-3\">\r\n                  :          .     .\r\n                </p>\r\n                <button\r\n                  onClick={handleInitializeStocks}\r\n                  className=\"w-full p-3 rounded-lg bg-orange-600 text-white border-0 cursor-pointer font-semibold\"\r\n                >\r\n                     \r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"financeAndMarket\" && financeMarketSubTab === \"parking\" && (\r\n          <div className=\"parking-account-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"parking-account-settings section-card\">\r\n              <h3>   </h3>\r\n              <p className=\"admin-section-desc\">\r\n                    .\r\n              </p>\r\n\r\n              {/*  */}\r\n              {parkingMessage && (\r\n                <div\r\n                  className=\"p-3 mb-4 rounded-lg text-white\"\r\n                  style={{\r\n                    background: parkingMessage.type === 'success' ? '#065f46' : '#991b1b',\r\n                  }}\r\n                >\r\n                  {parkingMessage.text}\r\n                </div>\r\n              )}\r\n\r\n              {/*   */}\r\n              <div className=\"p-4 rounded-xl mb-4 bg-gray-700/50\">\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-gray-400 text-sm\">  </p>\r\n                  <p className=\"text-green-500 text-[32px] font-bold\">\r\n                    {parkingInterestRate}%\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"block mb-2 text-gray-400\">\r\n                       (%)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={newInterestRate}\r\n                    onChange={(e) => setNewInterestRate(e.target.value)}\r\n                    placeholder=\"   (%)\"\r\n                    min=\"0\"\r\n                    step=\"0.01\"\r\n                    className=\"admin-input mb-3\"\r\n                  />\r\n                  <button\r\n                    onClick={handleParkingRateChange}\r\n                    className=\"admin-save-button w-full\"\r\n                    disabled={!newInterestRate || isNaN(newInterestRate) || parseFloat(newInterestRate) < 0}\r\n                  >\r\n                     \r\n                  </button>\r\n                </div>\r\n\r\n                <p className=\"text-xs text-gray-400 mt-3\">\r\n                          .\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"studentAndMember\" && studentMemberSubTab === \"member\" && (\r\n          <div className=\"member-management-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"admin-class-members-container section-card\">\r\n              <h3>  </h3>\r\n              {error && <p className=\"error-message\">{error}</p>}\r\n              <p className=\"admin-section-desc\">\r\n                    .\r\n                {isSuperAdmin && \"        .\"}\r\n              </p>\r\n\r\n              {membersLoading ? (\r\n                <p>   ...</p>\r\n              ) : classMembers.length > 0 ? (\r\n                <div className=\"user-cards-container\">\r\n                  {classMembers.map((member) => (\r\n                    <div key={member.id} className=\"user-card\">\r\n                      <div className=\"user-card-header\">\r\n                        <span className=\"user-card-name\">{member.name}</span>\r\n                        <span className={`user-card-role role-${member.isSuperAdmin ? 'super' : member.isAdmin ? 'admin' : 'student'}`}>\r\n                          {member.isSuperAdmin\r\n                            ? \" \"\r\n                            : member.isAdmin\r\n                            ? \"\"\r\n                            : \"\"}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"user-card-body\">\r\n                        <p><strong>:</strong> {member.email}</p>\r\n                        <p><strong> :</strong> {member.classCode}</p>\r\n                      </div>\r\n                      {isSuperAdmin && (\r\n                        <div className=\"user-card-actions\">\r\n                          {!member.isSuperAdmin && (\r\n                            <button\r\n                              onClick={() =>\r\n                                toggleAdminStatus(member.id, member.isAdmin)\r\n                              }\r\n                              className={`admin-action-button ${\r\n                                member.isAdmin\r\n                                  ? \"remove-admin-button\"\r\n                                  : \"add-admin-button\"\r\n                              }`}\r\n                              disabled={membersLoading}\r\n                            >\r\n                              {member.isAdmin ? \" \" : \" \"}\r\n                            </button>\r\n                          )}\r\n                          <button\r\n                            onClick={() => handleResetPassword(member.id)}\r\n                            className=\"admin-action-button reset-password-button\"\r\n                            disabled={membersLoading}\r\n                          >\r\n                             \r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"no-members-message\">\r\n                  {!isSuperAdmin && !userClassCode\r\n                    ? \"   .\"\r\n                    : \"   .\"}\r\n                </p>\r\n              )}\r\n\r\n              <div className=\"refresh-members-section\">\r\n                <button\r\n                  onClick={loadClassMembers}\r\n                  className=\"admin-button\"\r\n                  disabled={membersLoading}\r\n                >\r\n                  {membersLoading ? \" ...\" : \"  \"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"studentAndMember\" && studentMemberSubTab === \"salary\" && (\r\n          <div className=\"salary-settings-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"salary-settings section-card\">\r\n              <h3> </h3>\r\n              <p className=\"admin-section-desc\">\r\n                   .       8 .\r\n              </p>\r\n\r\n              <div className=\"salary-settings-form\">\r\n                <div className=\"form-group\">\r\n                  <label> (%):</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    step=\"0.1\"\r\n                    value={tempTaxRate}\r\n                    onChange={(e) => setTempTaxRate(e.target.value)}\r\n                    className=\"admin-input\"\r\n                    placeholder=\": 10 (10%)\"\r\n                  />\r\n                  <small className=\"form-help\">\r\n                        .\r\n                  </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>  (%):</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    step=\"0.1\"\r\n                    value={tempSalaryIncreaseRate}\r\n                    onChange={(e) => setTempSalaryIncreaseRate(e.target.value)}\r\n                    className=\"admin-input\"\r\n                    placeholder=\": 3 (3%)\"\r\n                  />\r\n                  <small className=\"form-help\">\r\n                         .\r\n                  </small>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={handleSaveSalarySettings}\r\n                  className=\"admin-save-button\"\r\n                  disabled={salarySettingsLoading}\r\n                >\r\n                  {salarySettingsLoading ? \" ...\" : \"  \"}\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"current-salary-settings\">\r\n                <h4>  </h4>\r\n                <div className=\"settings-display\">\r\n                  <p> : <strong>{(salarySettings.taxRate * 100).toFixed(1)}%</strong></p>\r\n                  <p>  : <strong>{(salarySettings.salaryIncreaseRate * 100).toFixed(1)}%</strong></p>\r\n                  <p>  : <strong>{formatLastSalaryDate()}</strong></p>\r\n                </div>\r\n                \r\n                <div className=\"salary-calculation-example\">\r\n                  <h5>  </h5>\r\n                  <p>  1:  200   {(2000000 * salarySettings.taxRate / 10000).toFixed(0)}    {((2000000 * (1 - salarySettings.taxRate)) / 10000).toFixed(0)}</p>\r\n                  <p>  2:  250   {(2500000 * salarySettings.taxRate / 10000).toFixed(0)}    {((2500000 * (1 - salarySettings.taxRate)) / 10000).toFixed(0)}</p>\r\n                  <p>  3:  300   {(3000000 * salarySettings.taxRate / 10000).toFixed(0)}    {((3000000 * (1 - salarySettings.taxRate)) / 10000).toFixed(0)}</p>\r\n                </div>\r\n                \r\n                <div className=\"auto-payment-info\">\r\n                  <h5>   </h5>\r\n                  <p>    8    .</p>\r\n                  <p>      .</p>\r\n                  <p>     .</p>\r\n                  <p>     .</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* =====    ===== */}\r\n        {adminSelectedMenu === \"system\" && (\r\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${systemSubTab === 'database' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setSystemSubTab('database')}\r\n            >\r\n              \r\n            </button>\r\n            {isSuperAdmin && (\r\n              <button\r\n                className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${systemSubTab === 'system' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n                onClick={() => setSystemSubTab('system')}\r\n              >\r\n                 \r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/*   */}\r\n        {adminSelectedMenu === \"system\" && systemSubTab === \"database\" && (\r\n          <div className=\"database-management-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"database-management-container section-card min-h-[500px] max-h-[70vh] overflow-auto\">\r\n              <AdminDatabase />\r\n            </div>\r\n\r\n            {/*    */}\r\n            <div className=\"section-card mt-6 p-6 rounded-2xl bg-violet-500/5 border border-violet-500/30\">\r\n              <h3 className=\"text-lg font-bold text-violet-300 mb-3\">  </h3>\r\n              <p className=\"text-sm text-gray-400 mb-4\">    .</p>\r\n              <div className=\"flex flex-wrap gap-3\">\r\n                <a\r\n                  href=\"/consent-form\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-sm font-medium\"\r\n                >\r\n                    ( )\r\n                </a>\r\n                <a\r\n                  href=\"/privacy\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-colors text-sm font-medium\"\r\n                >\r\n                   \r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  :    */}\r\n            <ClassDataDeletionSection\r\n              userClassCode={userClassCode}\r\n              isAdmin={isAdmin}\r\n              isSuperAdmin={isSuperAdmin}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"system\" && systemSubTab === \"system\" && (\r\n          <div className=\"system-management-tab\">\r\n            {isSuperAdmin && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">    ( )</p>\r\n              </div>\r\n            )}\r\n            {/*     */}\r\n            {isSuperAdmin && (\r\n              <div className=\"admin-class-codes-container section-card\">\r\n                <h3>  </h3>\r\n                {error && <p className=\"error-message\">{error}</p>}\r\n                <div className=\"add-class-code-form\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newClassCode}\r\n                    onChange={(e) => setNewClassCode(e.target.value)}\r\n                    placeholder=\"   \"\r\n                    disabled={classCodeOperationLoading}\r\n                    className=\"admin-input\"\r\n                  />\r\n                  <button\r\n                    onClick={handleAddClassCode}\r\n                    disabled={classCodeOperationLoading || !newClassCode.trim()}\r\n                    className=\"admin-button\"\r\n                  >\r\n                    {classCodeOperationLoading ? \" ...\" : \" \"}\r\n                  </button>\r\n                </div>\r\n                <div className=\"class-codes-list\">\r\n                  <h4>\r\n                        (\r\n                    {Array.isArray(classCodes) ? classCodes.length : 0})\r\n                  </h4>\r\n                  {Array.isArray(classCodes) && classCodes.length > 0 ? (\r\n                    <ul className=\"codes-list\">\r\n                      {classCodes.map((code) => (\r\n                        <li key={code} className=\"code-item\">\r\n                          <span className=\"code-text\">{code}</span>\r\n                          <button\r\n                            onClick={() => handleRemoveClassCode(code)}\r\n                            className=\"remove-code-button\"\r\n                            disabled={classCodeOperationLoading}\r\n                          >\r\n                            \r\n                          </button>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  ) : (\r\n                    <p className=\"no-codes-message\">   .</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/*     */}\r\n            <SystemMonitoring isSuperAdmin={isSuperAdmin} />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"admin-settings-footer\">\r\n          <button\r\n            onClick={() => setShowAdminSettingsModal(false)}\r\n            className=\"admin-close-button\"\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/*     */}\r\n      {showEditStudentJobsModal && selectedStudent && (\r\n        <div className=\"modal-overlay show\">\r\n          <div className=\"edit-student-jobs-modal\">\r\n            <div className=\"modal-header\">\r\n              <h3>\r\n                  :{\" \"}\r\n                {selectedStudent.nickname || selectedStudent.name}\r\n              </h3>\r\n              <button\r\n                className=\"close-modal-btn\"\r\n                onClick={() => setShowEditStudentJobsModal(false)}\r\n              >\r\n                \r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <p>\r\n                <strong>\r\n                  {selectedStudent.nickname || selectedStudent.name}\r\n                </strong>\r\n                  .\r\n              </p>\r\n              <div className=\"salary-info\">\r\n                <p>\r\n                    : {(selectedStudent.cash || 0).toLocaleString()}\r\n                  \r\n                </p>\r\n                {(() => {\r\n                  const salaryCalc = calculateSalary(tempSelectedJobIds, true);\r\n                  return (\r\n                    <>\r\n                      <p> : {`${(salaryCalc.gross / 10000).toFixed(0)}`}</p>\r\n                      <p> : {`${(salaryCalc.tax / 10000).toFixed(0)}`} ({(salarySettings.taxRate * 100).toFixed(1)}%)</p>\r\n                      <p>: {`${(salaryCalc.net / 10000).toFixed(0)}`}</p>\r\n                    </>\r\n                  );\r\n                })()}\r\n                <p className=\"salary-explanation\">\r\n                  ( 200 +   50,  {(salarySettings.taxRate * 100).toFixed(1)}% )\r\n                </p>\r\n              </div>\r\n              <div className=\"job-selection-list\">\r\n                {Array.isArray(jobs) &&\r\n                jobs.filter((job) => job.active !== false).length > 0 ? (\r\n                  jobs\r\n                    .filter((job) => job.active !== false)\r\n                    .map((job) => (\r\n                      <div key={job.id} className=\"job-selection-item\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          id={`job-modal-${job.id}`}\r\n                          checked={tempSelectedJobIds.includes(job.id)}\r\n                          onChange={() => handleToggleJobSelection(job.id)}\r\n                        />\r\n                        <label htmlFor={`job-modal-${job.id}`}>\r\n                          {job.title}\r\n                        </label>\r\n                      </div>\r\n                    ))\r\n                ) : (\r\n                  <p className=\"no-items-message\">\r\n                       .\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"admin-cancel-button\"\r\n                onClick={() => setShowEditStudentJobsModal(false)}\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                className=\"admin-save-button\"\r\n                onClick={handleSaveStudentJobs}\r\n                disabled={appLoading}\r\n              >\r\n                {appLoading ? \" ...\" : \"\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSettingsModal;","// src/hooks/useOptimizedAdminData.js\r\n// Firebase     \r\n\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { logger } from \"../utils/logger\";\r\nimport {\r\n  optimizedFirebaseService,\r\n  queryKeys,\r\n  localBackup,\r\n  realtimeOptimizer,\r\n} from \"../services/optimizedFirebaseService\";\r\n\r\n//     ( )\r\nexport const useOptimizedAdminSettings = (tab) => {\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.adminSettings(classCode, tab),\r\n    queryFn: async () => {\r\n      //     ( )\r\n      const backupKey = `admin_${classCode}_${tab}`;\r\n      const backup = localBackup.load(backupKey, 30000); // 30\r\n\r\n      if (backup && !navigator.onLine) {\r\n        return backup;\r\n      }\r\n\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({ tab });\r\n\r\n      //   \r\n      localBackup.save(backupKey, data);\r\n\r\n      return data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode && tab),\r\n    staleTime: 5 * 60 * 1000, // 5\r\n    gcTime: 10 * 60 * 1000, // 10\r\n    retry: (failureCount, error) => {\r\n      if (error?.code === 'permission-denied') return false;\r\n      return failureCount < 2;\r\n    },\r\n    //    \r\n    refetchInterval: realtimeOptimizer.shouldUseRealtime() ? 5 * 60 * 1000 : false,\r\n  });\r\n};\r\n\r\n//    ( )\r\nexport const useOptimizedStudents = () => {\r\n  const { userDoc, isAdmin, isSuperAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.students(classCode),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"studentManagement\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode),\r\n    staleTime: 3 * 60 * 1000, // 3 (    )\r\n    gcTime: 8 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//   \r\nexport const useOptimizedSalarySettings = () => {\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.salarySettings(classCode),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"salarySettings\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode),\r\n    staleTime: 10 * 60 * 1000, // 10 (   )\r\n    gcTime: 15 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//     (  )\r\nexport const useOptimizedSystemManagement = () => {\r\n  const { isSuperAdmin } = useAuth();\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.systemManagement(),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"systemManagement\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isSuperAdmin?.()),\r\n    staleTime: 15 * 60 * 1000, // 15 (     )\r\n    gcTime: 20 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//    \r\nexport const useBatchPaySalaries = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ studentIds, payAll }) => {\r\n      return await optimizedFirebaseService.batchPaySalaries({\r\n        studentIds,\r\n        payAll,\r\n      });\r\n    },\r\n    onSuccess: () => {\r\n      //   \r\n      queryClient.invalidateQueries({\r\n        queryKey: queryKeys.students(classCode),\r\n      });\r\n      queryClient.invalidateQueries({\r\n        queryKey: queryKeys.salarySettings(classCode),\r\n      });\r\n\r\n      //   \r\n      localBackup.clear(`admin_${classCode}_studentManagement`);\r\n      localBackup.clear(`admin_${classCode}_salarySettings`);\r\n    },\r\n    onError: (error) => {\r\n      logger.error(\"  :\", error);\r\n    },\r\n  });\r\n};\r\n\r\n//    ()\r\nexport const useOptimizedSettingsSave = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ type, data }) => {\r\n      //  Firebase Function  \r\n      logger.log(\" :\", type, data);\r\n      return { success: true };\r\n    },\r\n    onSuccess: (data, variables) => {\r\n      const { type } = variables;\r\n\r\n      //   \r\n      switch (type) {\r\n        case \"general\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.generalSettings(classCode),\r\n          });\r\n          break;\r\n        case \"salary\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.salarySettings(classCode),\r\n          });\r\n          break;\r\n        case \"student\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.students(classCode),\r\n          });\r\n          break;\r\n        default:\r\n          //    \r\n          queryClient.invalidateQueries({\r\n            queryKey: [\"adminSettings\", classCode],\r\n          });\r\n      }\r\n\r\n      //    \r\n      localBackup.clear(`admin_${classCode}_${type}`);\r\n    },\r\n  });\r\n};\r\n\r\n//   \r\nexport const useAdminDataPreloader = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  const preloadAdminData = async () => {\r\n    if (!isAdmin?.() || !classCode) return;\r\n\r\n    //      \r\n    const commonTabs = [\"generalSettings\", \"studentManagement\", \"salarySettings\"];\r\n\r\n    const preloadPromises = commonTabs.map(tab =>\r\n      queryClient.prefetchQuery({\r\n        queryKey: queryKeys.adminSettings(classCode, tab),\r\n        queryFn: async () => {\r\n          const data = await optimizedFirebaseService.getAdminSettingsData({ tab });\r\n          return data;\r\n        },\r\n        staleTime: 5 * 60 * 1000,\r\n      })\r\n    );\r\n\r\n    await Promise.allSettled(preloadPromises);\r\n  };\r\n\r\n  return { preloadAdminData };\r\n};\r\n\r\n//    \r\nexport const useNetworkOptimization = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const optimizeForNetwork = () => {\r\n    if (!navigator.onLine) {\r\n      //     \r\n      queryClient.setDefaultOptions({\r\n        queries: {\r\n          enabled: false,\r\n          retry: false,\r\n        },\r\n      });\r\n    } else {\r\n      //     \r\n      queryClient.setDefaultOptions({\r\n        queries: {\r\n          enabled: true,\r\n          retry: 2,\r\n        },\r\n      });\r\n\r\n      //   \r\n      queryClient.refetchQueries({ stale: true });\r\n    }\r\n  };\r\n\r\n  return { optimizeForNetwork };\r\n};","// src/pages/dashboard/Dashboard.js - Firestore   +     + Tailwind UI\r\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from \"react\";\r\nimport \"./Dashboard.css\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { db, functions, copyDefaultDataToNewClass } from \"../../firebase\";\r\nimport {\r\n  doc,\r\n  getDoc,\r\n  setDoc,\r\n  getDocs,\r\n  writeBatch,\r\n  serverTimestamp,\r\n  arrayUnion,\r\n  query,\r\n  where,\r\n  collection as firestoreCollection,\r\n  limit,\r\n} from \"firebase/firestore\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport JobList from \"../../components/JobList\";\r\nimport CommonTaskList from \"../../components/CommonTaskList\";\r\nimport AdminSettingsModal from \"../../components/modals/AdminSettingsModal\";\r\nimport {\r\n  PageContainer,\r\n  LoadingState,\r\n  EmptyState,\r\n  ActionButton,\r\n} from \"../../components/PageWrapper\";\r\nimport globalCacheService from \"../../services/globalCacheService\";\r\nimport { Briefcase, ListTodo, Settings, RefreshCw, RotateCcw, Plus, ChevronLeft } from \"lucide-react\";\r\n\r\nimport { logger } from \"../../utils/logger\";\r\n// Cloud Functions    (handleManualTaskReset  )\r\n\r\n//  [ v3.0]   - Firestore  95%  \r\n// TTL  -    globalCacheService  \r\nconst CACHE_TTL = {\r\n  JOBS: 6 * 60 * 60 * 1000,        // 6 ( )\r\n  TASKS: 6 * 60 * 60 * 1000,       // 6 ( )\r\n  SETTINGS: 12 * 60 * 60 * 1000,   // 12 ()\r\n  GOALS: 6 * 60 * 60 * 1000,       // 6 ()\r\n  CLASS_CODES: 24 * 60 * 60 * 1000, // 24 ( )\r\n};\r\n\r\n//  globalCacheService  ( dataCache  )\r\nconst dataCache = {\r\n  get: (key) => globalCacheService.get(key),\r\n  set: (key, data, ttl) => globalCacheService.set(key, data, ttl || CACHE_TTL.TASKS),\r\n  invalidate: (key) => globalCacheService.invalidate(key),\r\n  clear: () => globalCacheService.clearAll(),\r\n};\r\n\r\n//    \r\nclass BatchManager {\r\n  constructor() {\r\n    this.pendingWrites = [];\r\n    this.batchTimeout = null;\r\n    this.BATCH_DELAY = 2000; // 2 \r\n    this.MAX_BATCH_SIZE = 500; // Firestore \r\n  }\r\n\r\n  addWrite(operation) {\r\n    this.pendingWrites.push(operation);\r\n\r\n    if (this.pendingWrites.length >= this.MAX_BATCH_SIZE) {\r\n      this.executeBatch();\r\n    } else {\r\n      this.scheduleBatch();\r\n    }\r\n  }\r\n\r\n  scheduleBatch() {\r\n    if (this.batchTimeout) {\r\n      clearTimeout(this.batchTimeout);\r\n    }\r\n\r\n    this.batchTimeout = setTimeout(() => {\r\n      this.executeBatch();\r\n    }, this.BATCH_DELAY);\r\n  }\r\n\r\n  async executeBatch() {\r\n    if (this.pendingWrites.length === 0) return;\r\n\r\n    if (this.batchTimeout) {\r\n      clearTimeout(this.batchTimeout);\r\n      this.batchTimeout = null;\r\n    }\r\n\r\n    const batch = writeBatch(db);\r\n    const operations = [...this.pendingWrites];\r\n    this.pendingWrites = [];\r\n\r\n    try {\r\n      operations.forEach(({ type, ref, data }) => {\r\n        switch (type) {\r\n          case 'set':\r\n            batch.set(ref, data);\r\n            break;\r\n          case 'update':\r\n            batch.update(ref, data);\r\n            break;\r\n          case 'delete':\r\n            batch.delete(ref);\r\n            break;\r\n        }\r\n      });\r\n\r\n      await batch.commit();\r\n      logger.log(`  : ${operations.length} `);\r\n    } catch (error) {\r\n      logger.error('  :', error);\r\n      //       \r\n    }\r\n  }\r\n}\r\n\r\nconst batchManager = new BatchManager();\r\n\r\n//    \r\nclass RealtimeManager {\r\n  constructor() {\r\n    this.listeners = new Map();\r\n  }\r\n\r\n  addListener(key, unsubscribe) {\r\n    if (this.listeners.has(key)) {\r\n      this.listeners.get(key)();\r\n    }\r\n    this.listeners.set(key, unsubscribe);\r\n  }\r\n\r\n  removeListener(key) {\r\n    if (this.listeners.has(key)) {\r\n      this.listeners.get(key)();\r\n      this.listeners.delete(key);\r\n    }\r\n  }\r\n\r\n  removeAllListeners() {\r\n    this.listeners.forEach(unsubscribe => unsubscribe());\r\n    this.listeners.clear();\r\n  }\r\n}\r\n\r\n// Utility functions -    \r\nconst saveSharedData = async (data, classCode) => {\r\n  try {\r\n    //   \r\n    const newDocRef = doc(firestoreCollection(db, \"sharedData\"));\r\n    batchManager.addWrite({\r\n      type: 'set',\r\n      ref: newDocRef,\r\n      data: {\r\n        ...data,\r\n        classCode,\r\n        createdAt: serverTimestamp(),\r\n      }\r\n    });\r\n\r\n    //  \r\n    dataCache.invalidate(`classData_${classCode}`);\r\n    return true;\r\n  } catch (error) {\r\n    logger.error(\"Error saving shared data:\", error);\r\n    return false;\r\n  }\r\n};\r\n\r\nfunction SelectMultipleJobsView({\r\n  availableJobs,\r\n  currentSelectedJobIds = [],\r\n  onConfirmSelection,\r\n  onCancel,\r\n}) {\r\n  const [tempSelection, setTempSelection] = useState(\r\n    Array.isArray(currentSelectedJobIds) ? [...currentSelectedJobIds] : []\r\n  );\r\n\r\n  const activeJobs = useMemo(() => {\r\n    return Array.isArray(availableJobs)\r\n      ? availableJobs.filter((job) => job.active !== false)\r\n      : [];\r\n  }, [availableJobs]);\r\n\r\n  const handleCheckboxChange = useCallback((jobId) => {\r\n    setTempSelection((prev) =>\r\n      prev.includes(jobId)\r\n        ? prev.filter((id) => id !== jobId)\r\n        : [...prev, jobId]\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 p-6 max-w-xl mx-auto my-8\">\r\n      <h4 className=\"text-xl font-semibold text-white text-center mb-2\">\r\n          (  )\r\n      </h4>\r\n      <p className=\"text-sm text-slate-400 text-center mb-4\">\r\n        ' '   .\r\n      </p>\r\n      <div className=\"flex flex-col gap-3\">\r\n        {activeJobs.map((job) => (\r\n          <label\r\n            key={job.id}\r\n            className={`p-3 rounded-xl border-2 cursor-pointer transition-all flex items-center gap-3 ${tempSelection.includes(job.id)\r\n              ? 'border-cyan-500 bg-cyan-900/30'\r\n              : 'border-cyan-900/20 bg-[#14142380] hover:border-cyan-500/50'\r\n              }`}\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={tempSelection.includes(job.id)}\r\n              onChange={() => handleCheckboxChange(job.id)}\r\n              className=\"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer\"\r\n            />\r\n            <span className={`font-medium ${tempSelection.includes(job.id)\r\n              ? 'text-cyan-400'\r\n              : 'text-slate-300'\r\n              }`}>\r\n              {job.title}\r\n            </span>\r\n          </label>\r\n        ))}\r\n        {activeJobs.length === 0 && (\r\n          <EmptyState\r\n            icon={Briefcase}\r\n            title=\"   \"\r\n            description=\"    .\"\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"flex justify-end gap-3 mt-6\">\r\n        <ActionButton variant=\"secondary\" onClick={onCancel}>\r\n          \r\n        </ActionButton>\r\n        <ActionButton variant=\"primary\" onClick={() => onConfirmSelection(tempSelection)}>\r\n           \r\n        </ActionButton>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Dashboard({ adminTabMode }) {\r\n  const {\r\n    user,\r\n    userDoc,\r\n    setUserDoc,\r\n    loading: authLoading,\r\n    updateUser,\r\n    refreshUserDocument,\r\n    isAdmin,\r\n    isSuperAdmin,\r\n    optimisticUpdate,\r\n  } = useAuth();\r\n\r\n  // Refs for cleanup\r\n  const realtimeManager = useRef(new RealtimeManager());\r\n  const lastFetchTime = useRef(0);\r\n  const fetchPromise = useRef(null);\r\n\r\n  // State management\r\n  const [appLoading, setAppLoading] = useState(true);\r\n  const [viewMode, setViewMode] = useState(\"list\");\r\n  const [showAdminSettingsModal, setShowAdminSettingsModal] = useState(false);\r\n  const [adminSelectedMenu, setAdminSelectedMenu] = useState(\"generalSettings\");\r\n\r\n  const [jobs, setJobs] = useState([]);\r\n  const [commonTasks, setCommonTasks] = useState([]);\r\n\r\n  const [editingJob, setEditingJob] = useState(null);\r\n  const [adminNewJobTitle, setAdminNewJobTitle] = useState(\"\");\r\n  const [editingTask, setEditingTask] = useState(null);\r\n  const [currentJobIdForTask, setCurrentJobIdForTask] = useState(null);\r\n  const [isJobTaskForForm, setIsJobTaskForForm] = useState(false);\r\n  const [showAddTaskForm, setShowAddTaskForm] = useState(false);\r\n  const [adminNewTaskName, setAdminNewTaskName] = useState(\"\");\r\n  const [adminNewTaskReward, setAdminNewTaskReward] = useState(\"\");\r\n  const [adminNewTaskMaxClicks, setAdminNewTaskMaxClicks] = useState(\"5\");\r\n\r\n  //  [] httpsCallable \r\n  const completeTaskFunction = useMemo(() => httpsCallable(functions, \"completeTask\"), []);\r\n  const manualResetClassTasksFn = useMemo(() => httpsCallable(functions, 'manualResetClassTasks'), []);\r\n\r\n  const [isHandlingTask, setIsHandlingTask] = useState(false);\r\n\r\n  const [classCouponGoal, setClassCouponGoal] = useState(1000);\r\n  const [couponValue, setCouponValue] = useState(1000);\r\n  const [adminCouponValueInput, setAdminCouponValueInput] = useState(\r\n    String(1000)\r\n  );\r\n  const [adminGoalAmountInput, setAdminGoalAmountInput] = useState(\r\n    String(1000)\r\n  );\r\n  const [classCodes, setClassCodes] = useState([]);\r\n\r\n  // adminTabMode   \r\n  useEffect(() => {\r\n    if (adminTabMode && isAdmin?.()) {\r\n      setAdminSelectedMenu(adminTabMode);\r\n      setShowAdminSettingsModal(true);\r\n    }\r\n  }, [adminTabMode, isAdmin]);\r\n\r\n\r\n  // Memoized values\r\n  const currentGoalId = useMemo(() => {\r\n    return userDoc?.classCode && isAdmin?.()\r\n      ? `${userDoc.classCode}_goal`\r\n      : null;\r\n  }, [userDoc?.classCode, isAdmin]);\r\n\r\n  const currentSelectedJobIdsFromUserDoc = useMemo(() => {\r\n    return userDoc && Array.isArray(userDoc.selectedJobIds)\r\n      ? userDoc.selectedJobIds\r\n      : [];\r\n  }, [userDoc]);\r\n\r\n  const jobsToShow = useMemo(() => {\r\n    const completedJobTasks = userDoc?.completedJobTasks || {};\r\n\r\n    return Array.isArray(jobs)\r\n      ? jobs\r\n        .filter(\r\n          (job) =>\r\n            currentSelectedJobIdsFromUserDoc.includes(job.id) &&\r\n            job.active !== false\r\n        )\r\n        .map((job) => ({\r\n          ...job,\r\n          tasks: (job.tasks || []).map((task) => ({\r\n            ...task,\r\n            clicks: completedJobTasks[`${job.id}_${task.id}`] || 0, //   \r\n          })),\r\n        }))\r\n      : [];\r\n  }, [jobs, currentSelectedJobIdsFromUserDoc, userDoc]);\r\n\r\n  const commonTasksWithUserProgress = useMemo(() => {\r\n    if (!commonTasks || !userDoc) {\r\n      return [];\r\n    }\r\n    const userCompletedTasks = userDoc.completedTasks || {};\r\n    return commonTasks.map(task => ({\r\n      ...task,\r\n      clicks: userCompletedTasks[task.id] || 0,\r\n    }));\r\n  }, [commonTasks, userDoc]);\r\n\r\n  // Utility function for generating IDs\r\n  const generateId = useCallback(() => {\r\n    try {\r\n      return doc(firestoreCollection(db, \"temp\")).id;\r\n    } catch (error) {\r\n      logger.error(\"Error generating ID:\", error);\r\n      return Date.now().toString() + Math.random().toString(36).substring(2, 11);\r\n    }\r\n  }, []);\r\n\r\n  //  [] Polling   (30)\r\n  const setupPolling = useCallback(async (classCode) => {\r\n    if (!classCode) return;\r\n\r\n    const pollData = async () => {\r\n      try {\r\n        // Jobs  (   orderBy )\r\n        const jobsQuery = query(\r\n          firestoreCollection(db, \"jobs\"),\r\n          where(\"classCode\", \"==\", classCode),\r\n          limit(50)\r\n        );\r\n\r\n        const jobsSnap = await getDocs(jobsQuery);\r\n        const loadedJobs = jobsSnap.docs.map((d) => ({\r\n          id: d.id,\r\n          ...d.data(),\r\n          tasks: (d.data().tasks || []).map((task) => ({\r\n            ...task,\r\n            reward: task.reward || 0,\r\n            clicks: 0, //    useMemo \r\n            maxClicks: task.maxClicks || 5,\r\n          })),\r\n          active: d.data().active !== false,\r\n        }))\r\n          //    (updatedAt  )\r\n          .sort((a, b) => {\r\n            const timeA = a.updatedAt?.toMillis?.() || 0;\r\n            const timeB = b.updatedAt?.toMillis?.() || 0;\r\n            return timeB - timeA;\r\n          });\r\n\r\n        setJobs(loadedJobs);\r\n        dataCache.set(`jobs_${classCode}`, loadedJobs, CACHE_TTL.JOBS);\r\n\r\n        // Common Tasks  (   orderBy )\r\n        const tasksQuery = query(\r\n          firestoreCollection(db, \"commonTasks\"),\r\n          where(\"classCode\", \"==\", classCode),\r\n          limit(50)\r\n        );\r\n\r\n        const tasksSnap = await getDocs(tasksQuery);\r\n        const loadedCommonTasks = tasksSnap.docs.map((d) => ({\r\n          id: d.id,\r\n          ...d.data(),\r\n          reward: d.data().reward || 0,\r\n          clicks: d.data().clicks || 0,\r\n          maxClicks: d.data().maxClicks || 5,\r\n        }))\r\n          //    (updatedAt  )\r\n          .sort((a, b) => {\r\n            const timeA = a.updatedAt?.toMillis?.() || 0;\r\n            const timeB = b.updatedAt?.toMillis?.() || 0;\r\n            return timeB - timeA;\r\n          });\r\n\r\n        setCommonTasks(loadedCommonTasks);\r\n        dataCache.set(`commonTasks_${classCode}`, loadedCommonTasks, CACHE_TTL.TASKS);\r\n      } catch (error) {\r\n        logger.error(\"Polling :\", error);\r\n      }\r\n    };\r\n\r\n    //    \r\n    await pollData();\r\n\r\n    //  [ v3.0] 2  (152 - Firestore  )\r\n    //          \r\n    const intervalId = setInterval(pollData, 2 * 60 * 60 * 1000);\r\n\r\n    // Cleanup  \r\n    realtimeManager.current.addListener('polling', () => clearInterval(intervalId));\r\n  }, []);\r\n\r\n  //    \r\n  const loadCachedData = useCallback(async (classCode) => {\r\n    const jobsCache = dataCache.get(`jobs_${classCode}`);\r\n    const tasksCache = dataCache.get(`commonTasks_${classCode}`);\r\n    const settingsCache = dataCache.get('mainSettings');\r\n\r\n    if (jobsCache) {\r\n      setJobs(jobsCache);\r\n    }\r\n    if (tasksCache) {\r\n      setCommonTasks(tasksCache);\r\n    }\r\n    if (settingsCache) {\r\n      setCouponValue(settingsCache.couponValue || 1000);\r\n      setAdminCouponValueInput(String(settingsCache.couponValue || 1000));\r\n    }\r\n\r\n    return {\r\n      hasJobsCache: !!jobsCache,\r\n      hasTasksCache: !!tasksCache,\r\n      hasSettingsCache: !!settingsCache\r\n    };\r\n  }, []);\r\n\r\n  //    \r\n  const loadTasksData = useCallback(async (forceRefresh = false) => {\r\n    if (!userDoc?.classCode) {\r\n      setAppLoading(false);\r\n      return;\r\n    }\r\n\r\n    const now = Date.now();\r\n    const classCode = userDoc.classCode;\r\n\r\n    //   \r\n    if (fetchPromise.current && !forceRefresh) {\r\n      return fetchPromise.current;\r\n    }\r\n\r\n    //  [ v3.0]     (2)\r\n    if (!forceRefresh && now - lastFetchTime.current < 2 * 60 * 60 * 1000) {\r\n      setAppLoading(false);\r\n      return;\r\n    }\r\n\r\n    //   \r\n    setAppLoading(true);\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        // 1:      UI \r\n        const cacheStatus = await loadCachedData(classCode);\r\n\r\n        //         UI \r\n        if (cacheStatus.hasJobsCache && cacheStatus.hasTasksCache) {\r\n          setAppLoading(false);\r\n        }\r\n\r\n        // 2:     ( )\r\n        if (!realtimeManager.current.listeners.has('jobs')) {\r\n          //         \r\n          setTimeout(() => setupPolling(classCode), 0);\r\n        }\r\n\r\n        // 3:     \r\n        const promises = [];\r\n\r\n        if (!cacheStatus.hasSettingsCache || forceRefresh) {\r\n          promises.push(\r\n            getDoc(doc(db, \"settings\", \"mainSettings\")).then(snap => ({\r\n              type: 'settings',\r\n              data: snap.exists() ? snap.data() : null\r\n            }))\r\n          );\r\n        }\r\n\r\n        if (currentGoalId && (!dataCache.get(`goal_${currentGoalId}`) || forceRefresh)) {\r\n          promises.push(\r\n            getDoc(doc(db, \"goals\", currentGoalId)).then(snap => ({\r\n              type: 'goal',\r\n              data: snap.exists() ? snap.data() : null\r\n            }))\r\n          );\r\n        }\r\n\r\n        if (isSuperAdmin() && (!dataCache.get('classCodes') || forceRefresh)) {\r\n          promises.push(\r\n            getDoc(doc(db, \"settings\", \"classCodes\")).then(snap => ({\r\n              type: 'classCodes',\r\n              data: snap.exists() ? snap.data() : null\r\n            }))\r\n          );\r\n        }\r\n\r\n        //    \r\n        if (promises.length > 0) {\r\n          const results = await Promise.all(promises);\r\n\r\n          results.forEach(result => {\r\n            switch (result.type) {\r\n              case 'settings':\r\n                if (result.data) {\r\n                  const newCouponValue = result.data.couponValue || 1000;\r\n                  setCouponValue(newCouponValue);\r\n                  setAdminCouponValueInput(String(newCouponValue));\r\n                  dataCache.set('mainSettings', result.data, CACHE_TTL.SETTINGS);\r\n                }\r\n                break;\r\n              case 'goal':\r\n                if (result.data && result.data.classCode === classCode) {\r\n                  const targetAmount = result.data.targetAmount || 1000;\r\n                  setClassCouponGoal(targetAmount);\r\n                  setAdminGoalAmountInput(String(targetAmount));\r\n                  dataCache.set(`goal_${currentGoalId}`, result.data, CACHE_TTL.GOALS);\r\n                }\r\n                break;\r\n              case 'classCodes':\r\n                if (result.data) {\r\n                  setClassCodes(result.data.validCodes || []);\r\n                  dataCache.set('classCodes', result.data, CACHE_TTL.CLASS_CODES);\r\n                }\r\n                break;\r\n            }\r\n          });\r\n        }\r\n\r\n        lastFetchTime.current = now;\r\n      } catch (error) {\r\n        logger.warn('[Dashboard] data fetch failed:', error);\r\n      } finally {\r\n        setAppLoading(false);\r\n        fetchPromise.current = null;\r\n      }\r\n    };\r\n\r\n    fetchPromise.current = fetchData();\r\n    return fetchPromise.current;\r\n  }, [userDoc?.classCode, currentGoalId, isSuperAdmin, setupPolling, loadCachedData]);\r\n\r\n  //  []      (  )\r\n  const refreshInProgressRef = useRef(false);\r\n\r\n  const refreshTasksAfterReset = useCallback(async () => {\r\n    //       \r\n    if (refreshInProgressRef.current) {\r\n      logger.log(\"[Dashboard]     -   \");\r\n      return;\r\n    }\r\n\r\n    refreshInProgressRef.current = true;\r\n    logger.log(\"[Dashboard]    -   \");\r\n\r\n    try {\r\n      //    ( )\r\n      if (refreshUserDocument) {\r\n        await refreshUserDocument();\r\n      }\r\n\r\n      //   \r\n      if (loadTasksData) {\r\n        await loadTasksData(true); // force refresh\r\n      }\r\n\r\n      // localStorage    \r\n      const today = new Date().toDateString();\r\n      localStorage.setItem('lastTaskResetDate', today);\r\n\r\n      logger.log(\"[Dashboard]    \");\r\n    } catch (error) {\r\n      logger.error(\"[Dashboard]   :\", error);\r\n    } finally {\r\n      refreshInProgressRef.current = false;\r\n    }\r\n  }, [refreshUserDocument, loadTasksData]);\r\n\r\n  // Effect for data loading\r\n  useEffect(() => {\r\n    if (authLoading) {\r\n      setAppLoading(true);\r\n      return;\r\n    }\r\n\r\n    if (!user) {\r\n      setAppLoading(false);\r\n      setJobs([]);\r\n      setCommonTasks([]);\r\n      //  \r\n      realtimeManager.current.removeAllListeners();\r\n      return;\r\n    }\r\n\r\n    if (userDoc?.id && userDoc?.classCode) {\r\n      loadTasksData();\r\n    } else {\r\n      setAppLoading(false);\r\n    }\r\n\r\n    //     \r\n    const manager = realtimeManager.current;\r\n    return () => {\r\n      manager.removeAllListeners();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [authLoading, user, userDoc?.id, userDoc?.classCode, loadTasksData]);\r\n\r\n  //  []     UI  (  )\r\n  const dateCheckExecutedRef = useRef(false);\r\n  const lastCheckedDateRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!userDoc?.classCode || !refreshTasksAfterReset) {\r\n      return;\r\n    }\r\n\r\n    //       (  )\r\n    const checkDateAndRefresh = () => {\r\n      const today = new Date().toDateString();\r\n      const lastResetDate = localStorage.getItem('lastTaskResetDate');\r\n\r\n      //    :     \r\n      if (lastCheckedDateRef.current === today) {\r\n        return;\r\n      }\r\n\r\n      lastCheckedDateRef.current = today;\r\n\r\n      if (lastResetDate !== today) {\r\n        // (GitHub Actions)     \r\n        //  UI \r\n        refreshTasksAfterReset();\r\n      }\r\n    };\r\n\r\n    //        ( )\r\n    if (!dateCheckExecutedRef.current) {\r\n      dateCheckExecutedRef.current = true;\r\n      checkDateAndRefresh();\r\n    }\r\n\r\n    //  [ v3.0] 1   (51, Firestore  )\r\n    //       \r\n    const dateCheckInterval = setInterval(() => {\r\n      checkDateAndRefresh();\r\n    }, 60 * 60 * 1000); // 1\r\n\r\n    // \r\n    return () => {\r\n      if (dateCheckInterval) {\r\n        clearInterval(dateCheckInterval);\r\n      }\r\n    };\r\n  }, [userDoc?.classCode, refreshTasksAfterReset]);\r\n\r\n  // Job management handlers\r\n  const handleSaveJob = useCallback(async () => {\r\n    if (!db || !userDoc?.classCode) {\r\n      alert(\"      .\");\r\n      return;\r\n    }\r\n\r\n    const title = adminNewJobTitle.trim();\r\n    if (!title) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    setAppLoading(true);\r\n    try {\r\n      if (editingJob) {\r\n        const jobRef = doc(db, \"jobs\", editingJob.id);\r\n        //   \r\n        batchManager.addWrite({\r\n          type: 'update',\r\n          ref: jobRef,\r\n          data: { title, updatedAt: serverTimestamp() }\r\n        });\r\n\r\n        alert(` .`);\r\n        setAdminNewJobTitle(\"\");\r\n        setEditingJob(null);\r\n        setShowAdminSettingsModal(false);\r\n      } else {\r\n        const newJobId = generateId();\r\n        const jobRef = doc(db, \"jobs\", newJobId);\r\n        batchManager.addWrite({\r\n          type: 'set',\r\n          ref: jobRef,\r\n          data: {\r\n            title,\r\n            active: true,\r\n            tasks: [],\r\n            createdAt: serverTimestamp(),\r\n            updatedAt: serverTimestamp(),\r\n            classCode: userDoc.classCode,\r\n          }\r\n        });\r\n\r\n        alert(` .`);\r\n        setAdminNewJobTitle(\"\");\r\n      }\r\n\r\n      //  \r\n      dataCache.invalidate(`jobs_${userDoc.classCode}`);\r\n    } catch (error) {\r\n      logger.error(\"handleSaveJob :\", error);\r\n      alert(\"    \");\r\n    } finally {\r\n      setAppLoading(false);\r\n    }\r\n  }, [adminNewJobTitle, editingJob, generateId, userDoc]);\r\n\r\n  const handleDeleteJob = useCallback(\r\n    async (jobIdToDelete) => {\r\n      if (!db) {\r\n        alert(\"  .\");\r\n        return;\r\n      }\r\n\r\n      if (\r\n        !window.confirm(\r\n          \"   ?    .\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      setAppLoading(true);\r\n      try {\r\n        //   \r\n        const jobRef = doc(db, \"jobs\", jobIdToDelete);\r\n        batchManager.addWrite({\r\n          type: 'delete',\r\n          ref: jobRef,\r\n          data: null\r\n        });\r\n\r\n        if (user && userDoc?.selectedJobIds?.includes(jobIdToDelete)) {\r\n          const updatedSelectedIds = userDoc.selectedJobIds.filter(\r\n            (id) => id !== jobIdToDelete\r\n          );\r\n          await updateUser({ selectedJobIds: updatedSelectedIds });\r\n        }\r\n\r\n        if (editingJob?.id === jobIdToDelete) {\r\n          setAdminNewJobTitle(\"\");\r\n          setEditingJob(null);\r\n        }\r\n\r\n        setShowAdminSettingsModal(false);\r\n        alert(\" .\");\r\n\r\n        //  \r\n        dataCache.invalidate(`jobs_${userDoc.classCode}`);\r\n      } catch (error) {\r\n        logger.error(\"handleDeleteJob :\", error);\r\n        alert(\"    \");\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    [user, userDoc, editingJob, updateUser]\r\n  );\r\n\r\n  const handleEditJob = useCallback((jobToEdit) => {\r\n    if (jobToEdit) {\r\n      setEditingJob(jobToEdit);\r\n      setAdminNewJobTitle(jobToEdit.title);\r\n      setAdminSelectedMenu(\"jobSettings\");\r\n      setShowAdminSettingsModal(true);\r\n    } else {\r\n      alert(\"    .\");\r\n    }\r\n  }, []);\r\n\r\n  // Task management handlers\r\n  const handleAddTaskClick = useCallback((jobId = null, isJobTask = false) => {\r\n    setIsJobTaskForForm(isJobTask);\r\n    setCurrentJobIdForTask(jobId);\r\n    setAdminNewTaskName(\"\");\r\n    setAdminNewTaskReward(\"\");\r\n    setAdminNewTaskMaxClicks(\"5\");\r\n    setEditingTask(null);\r\n    setAdminSelectedMenu(\"taskManagement\");\r\n    setShowAddTaskForm(true);\r\n    setShowAdminSettingsModal(true);\r\n  }, []);\r\n\r\n  const handleEditTask = useCallback((taskToEdit, jobId = null) => {\r\n    if (taskToEdit) {\r\n      setEditingTask(taskToEdit);\r\n      setAdminNewTaskName(taskToEdit.name);\r\n      setAdminNewTaskReward(String(taskToEdit.reward || 0));\r\n      setAdminNewTaskMaxClicks(String(taskToEdit.maxClicks || 5));\r\n      setIsJobTaskForForm(!!jobId);\r\n      setCurrentJobIdForTask(jobId);\r\n      setAdminSelectedMenu(\"taskManagement\");\r\n      setShowAddTaskForm(true);\r\n      setShowAdminSettingsModal(true);\r\n    } else {\r\n      alert(\"    .\");\r\n    }\r\n  }, []);\r\n\r\n  const handleSaveTask = useCallback(async () => {\r\n    if (!db || !userDoc?.classCode) {\r\n      alert(\"      .\");\r\n      return;\r\n    }\r\n\r\n    const name = adminNewTaskName.trim();\r\n    const reward = parseInt(adminNewTaskReward, 10);\r\n    const maxClicks = parseInt(adminNewTaskMaxClicks, 10);\r\n\r\n    if (\r\n      !name ||\r\n      isNaN(reward) ||\r\n      reward < 0 ||\r\n      isNaN(maxClicks) ||\r\n      maxClicks <= 0\r\n    ) {\r\n      alert(\r\n        \" . (, : 0  ,  : 1  )\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    setAppLoading(true);\r\n    const taskData = {\r\n      name,\r\n      reward,\r\n      maxClicks,\r\n      clicks: editingTask?.clicks || 0,\r\n    };\r\n\r\n    try {\r\n      if (editingTask) {\r\n        const taskId = editingTask.id;\r\n        if (isJobTaskForForm && currentJobIdForTask) {\r\n          const jobRef = doc(db, \"jobs\", currentJobIdForTask);\r\n          const jobSnap = await getDoc(jobRef);\r\n          if (\r\n            !jobSnap.exists() ||\r\n            jobSnap.data().classCode !== userDoc.classCode\r\n          ) {\r\n            throw new Error(\"      .\");\r\n          }\r\n          const jobTasks = jobSnap.data().tasks || [];\r\n          const taskIndex = jobTasks.findIndex((t) => t.id === taskId);\r\n          if (taskIndex === -1) {\r\n            throw new Error(\"     .\");\r\n          }\r\n          const updatedTasks = [...jobTasks];\r\n          updatedTasks[taskIndex] = { ...updatedTasks[taskIndex], ...taskData };\r\n\r\n          //   \r\n          batchManager.addWrite({\r\n            type: 'update',\r\n            ref: jobRef,\r\n            data: {\r\n              tasks: updatedTasks,\r\n              updatedAt: serverTimestamp(),\r\n            }\r\n          });\r\n        } else {\r\n          const taskRef = doc(db, \"commonTasks\", taskId);\r\n          batchManager.addWrite({\r\n            type: 'update',\r\n            ref: taskRef,\r\n            data: {\r\n              ...taskData,\r\n              updatedAt: serverTimestamp(),\r\n            }\r\n          });\r\n        }\r\n        setShowAddTaskForm(false);\r\n        setEditingTask(null);\r\n        setShowAdminSettingsModal(false);\r\n        alert(` .`);\r\n      } else {\r\n        const newTaskId = generateId();\r\n        const newTaskDataWithId = { ...taskData, id: newTaskId, clicks: 0 };\r\n        if (isJobTaskForForm && currentJobIdForTask) {\r\n          const jobRef = doc(db, \"jobs\", currentJobIdForTask);\r\n          batchManager.addWrite({\r\n            type: 'update',\r\n            ref: jobRef,\r\n            data: {\r\n              tasks: arrayUnion(newTaskDataWithId),\r\n              updatedAt: serverTimestamp(),\r\n            }\r\n          });\r\n        } else {\r\n          const newTaskRef = doc(db, \"commonTasks\", newTaskId);\r\n          batchManager.addWrite({\r\n            type: 'set',\r\n            ref: newTaskRef,\r\n            data: {\r\n              ...newTaskDataWithId,\r\n              createdAt: serverTimestamp(),\r\n              updatedAt: serverTimestamp(),\r\n              classCode: userDoc.classCode,\r\n            }\r\n          });\r\n        }\r\n        setAdminNewTaskName(\"\");\r\n        setAdminNewTaskReward(\"\");\r\n        setAdminNewTaskMaxClicks(\"5\");\r\n        alert(` .`);\r\n      }\r\n\r\n      //  \r\n      if (isJobTaskForForm) {\r\n        dataCache.invalidate(`jobs_${userDoc.classCode}`);\r\n      } else {\r\n        dataCache.invalidate(`commonTasks_${userDoc.classCode}`);\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"handleSaveTask :\", error);\r\n      alert(\"    : \" + error.message);\r\n    } finally {\r\n      setAppLoading(false);\r\n    }\r\n  }, [\r\n    adminNewTaskName,\r\n    adminNewTaskReward,\r\n    adminNewTaskMaxClicks,\r\n    editingTask,\r\n    isJobTaskForForm,\r\n    currentJobIdForTask,\r\n    generateId,\r\n    userDoc,\r\n  ]);\r\n\r\n  const handleDeleteTask = useCallback(\r\n    async (taskIdToDelete, jobId = null) => {\r\n      if (!db) {\r\n        alert(\"  .\");\r\n        return;\r\n      }\r\n\r\n      if (!window.confirm(\"   ?\")) {\r\n        return;\r\n      }\r\n\r\n      setAppLoading(true);\r\n      try {\r\n        if (jobId) {\r\n          const jobRef = doc(db, \"jobs\", jobId);\r\n          const jobSnap = await getDoc(jobRef);\r\n          if (!jobSnap.exists()) {\r\n            throw new Error(\"    .\");\r\n          }\r\n          const tasks = jobSnap.data().tasks || [];\r\n          const updatedTasks = tasks.filter((t) => t.id !== taskIdToDelete);\r\n\r\n          //   \r\n          batchManager.addWrite({\r\n            type: 'update',\r\n            ref: jobRef,\r\n            data: {\r\n              tasks: updatedTasks,\r\n              updatedAt: serverTimestamp(),\r\n            }\r\n          });\r\n        } else {\r\n          const taskRef = doc(db, \"commonTasks\", taskIdToDelete);\r\n          batchManager.addWrite({\r\n            type: 'delete',\r\n            ref: taskRef,\r\n            data: null\r\n          });\r\n        }\r\n\r\n        if (editingTask?.id === taskIdToDelete) {\r\n          setShowAddTaskForm(false);\r\n          setEditingTask(null);\r\n        }\r\n\r\n        setShowAdminSettingsModal(false);\r\n        alert(\" .\");\r\n\r\n        //  \r\n        if (jobId) {\r\n          dataCache.invalidate(`jobs_${userDoc.classCode}`);\r\n        } else {\r\n          dataCache.invalidate(`commonTasks_${userDoc.classCode}`);\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"handleDeleteTask :\", error);\r\n        alert(\"    : \" + error.message);\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    [editingTask, userDoc]\r\n  );\r\n\r\n  // Job selection handlers\r\n  const handleSelectJobClick = useCallback(() => {\r\n    setViewMode(\"selectJob\");\r\n  }, []);\r\n\r\n  const handleConfirmJobSelection = useCallback(\r\n    async (newlySelectedJobIds) => {\r\n      if (!user?.uid) {\r\n        alert(\"  .\");\r\n        return;\r\n      }\r\n\r\n      const idsToSave = Array.isArray(newlySelectedJobIds)\r\n        ? newlySelectedJobIds\r\n        : [];\r\n      setAppLoading(true);\r\n\r\n      try {\r\n        const success = await updateUser({ selectedJobIds: idsToSave });\r\n        if (success) {\r\n          setUserDoc(prev => ({ ...prev, selectedJobIds: idsToSave })); // Optimistic update\r\n          setViewMode(\"list\");\r\n          alert(\"  .\");\r\n        } else {\r\n          alert(\"     .\");\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"handleConfirmJobSelection :\", error);\r\n        alert(\"       .\");\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [user, updateUser]\r\n  );\r\n\r\n  const handleCancelForm = useCallback(() => {\r\n    setViewMode(\"list\");\r\n  }, []);\r\n\r\n  const handleTaskEarnCoupon = useCallback(\r\n    async (taskId, jobId = null, isJobTask = false, cardType = null, rewardAmount = null) => {\r\n      if (isHandlingTask) return;\r\n      if (!userDoc?.id) {\r\n        alert(\"   .\");\r\n        return;\r\n      }\r\n\r\n      //   :    \r\n      if (isJobTask && jobId) {\r\n        const taskKey = `${jobId}_${taskId}`;\r\n        const currentClicks = (userDoc.completedJobTasks || {})[taskKey] || 0;\r\n        const jobTask = jobs\r\n          .find(j => j.id === jobId)\r\n          ?.tasks?.find(t => t.id === taskId);\r\n\r\n        if (jobTask && jobTask.maxClicks > 0 && currentClicks >= jobTask.maxClicks) {\r\n          logger.warn(\"[Dashboard]    :\", { taskKey, currentClicks, maxClicks: jobTask.maxClicks });\r\n          return;\r\n        }\r\n      } else if (!isJobTask) {\r\n        const currentClicks = (userDoc.completedTasks || {})[taskId] || 0;\r\n        const commonTask = commonTasks?.find(t => t.id === taskId);\r\n\r\n        if (commonTask && commonTask.maxClicks > 0 && currentClicks >= commonTask.maxClicks) {\r\n          logger.warn(\"[Dashboard]    :\", { taskId, currentClicks, maxClicks: commonTask.maxClicks });\r\n          return;\r\n        }\r\n      }\r\n\r\n      setIsHandlingTask(true);\r\n      logger.log(\"[Dashboard]    :\", { taskId, jobId, isJobTask, cardType, rewardAmount });\r\n\r\n      //   :   \r\n      let expectedCashReward = 0;\r\n      let expectedCouponReward = 0;\r\n\r\n      //    cardType rewardAmount \r\n      if (cardType && rewardAmount) {\r\n        if (cardType === \"cash\") {\r\n          expectedCashReward = rewardAmount;\r\n        } else if (cardType === \"coupon\") {\r\n          expectedCouponReward = rewardAmount;\r\n        }\r\n      }\r\n\r\n      const prevUserDoc = { ...userDoc };\r\n\r\n      //  UI \r\n      const optimisticCash = userDoc.cash + expectedCashReward;\r\n      const optimisticCoupons = userDoc.coupons + expectedCouponReward;\r\n\r\n      if (isJobTask && jobId) {\r\n        setUserDoc(prevDoc => ({\r\n          ...prevDoc,\r\n          cash: optimisticCash,\r\n          coupons: optimisticCoupons,\r\n          completedJobTasks: {\r\n            ...(prevDoc.completedJobTasks || {}),\r\n            [`${jobId}_${taskId}`]: ((prevDoc.completedJobTasks || {})[`${jobId}_${taskId}`] || 0) + 1,\r\n          }\r\n        }));\r\n      } else {\r\n        setUserDoc(prevDoc => ({\r\n          ...prevDoc,\r\n          cash: optimisticCash,\r\n          coupons: optimisticCoupons,\r\n          completedTasks: {\r\n            ...(prevDoc.completedTasks || {}),\r\n            [taskId]: (prevDoc.completedTasks?.[taskId] || 0) + 1,\r\n          }\r\n        }));\r\n      }\r\n\r\n      try {\r\n        const result = await completeTaskFunction({ taskId, jobId, isJobTask, cardType, rewardAmount });\r\n\r\n        const resultData = result.data;\r\n        logger.log(\" []   :\", resultData);\r\n\r\n        if (resultData.success) {\r\n          //     \r\n          const newCash = typeof resultData.updatedCash === 'number' ? resultData.updatedCash : optimisticCash;\r\n          const newCoupons = typeof resultData.updatedCoupons === 'number' ? resultData.updatedCoupons : optimisticCoupons;\r\n\r\n          logger.log(` []  :  ${optimisticCash},  ${optimisticCoupons}   :  ${newCash},  ${newCoupons}`);\r\n\r\n          setUserDoc(prevDoc => ({ ...prevDoc, cash: newCash, coupons: newCoupons }));\r\n\r\n          alert(resultData.message);\r\n        } else {\r\n          throw new Error(resultData.message || \"    \");\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"[Dashboard]      :\", error);\r\n        alert(`  : ${error.message}`);\r\n\r\n        // :   \r\n        setUserDoc(prevUserDoc);\r\n      } finally {\r\n        setIsHandlingTask(false);\r\n      }\r\n    },\r\n    [isHandlingTask, userDoc, commonTasks, jobs, setUserDoc, completeTaskFunction]\r\n  );\r\n\r\n  // Admin settings handlers\r\n  const handleOpenAdminSettings = useCallback((tabName = \"generalSettings\") => {\r\n    setAdminGoalAmountInput(String(classCouponGoal));\r\n    setAdminCouponValueInput(String(couponValue));\r\n    setAdminSelectedMenu(tabName);\r\n    setShowAdminSettingsModal(true);\r\n  }, [classCouponGoal, couponValue]);\r\n\r\n  const handleSaveAdminSettings = useCallback(async () => {\r\n    logger.log(\"--- [DEBUG] EXECUTING handleSaveAdminSettings with LATEST code ---\");\r\n    if (!db) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    const newGoal = parseInt(adminGoalAmountInput, 10);\r\n    const newValue = parseInt(adminCouponValueInput, 10);\r\n\r\n    if (isNaN(newGoal) || newGoal <= 0 || isNaN(newValue) || newValue <= 0) {\r\n      alert(\"      (0  ).\");\r\n      return;\r\n    }\r\n\r\n    setAppLoading(true);\r\n    try {\r\n      const settingsRef = doc(db, \"settings\", \"mainSettings\");\r\n      const settingsSnap = await getDoc(settingsRef);\r\n\r\n      if (\r\n        !settingsSnap.exists() ||\r\n        settingsSnap.data().couponValue !== newValue\r\n      ) {\r\n        batchManager.addWrite({\r\n          type: 'set',\r\n          ref: settingsRef,\r\n          data: { couponValue: newValue, updatedAt: serverTimestamp() }\r\n        });\r\n      }\r\n\r\n      if (currentGoalId && isAdmin?.()) {\r\n        try {\r\n          const goalRef = doc(db, \"goals\", currentGoalId);\r\n          // setDoc with merge: true ensures we don't overwrite existing fields like progress.\r\n          // This safely updates the target amount or creates the document if it doesn't exist.\r\n          await setDoc(goalRef, {\r\n            targetAmount: newGoal,\r\n            classCode: userDoc.classCode,\r\n            updatedAt: serverTimestamp(),\r\n          }, { merge: true });\r\n\r\n        } catch (goalError) {\r\n          logger.warn(\r\n            \"       :\",\r\n            goalError.code\r\n          );\r\n        }\r\n      }\r\n\r\n      setCouponValue(newValue);\r\n      if (currentGoalId && isAdmin?.()) {\r\n        setClassCouponGoal(newGoal);\r\n      }\r\n      setShowAdminSettingsModal(false);\r\n      alert(\"  .\");\r\n\r\n      //  \r\n      dataCache.invalidate('mainSettings');\r\n      if (currentGoalId) {\r\n        dataCache.invalidate(`goal_${currentGoalId}`);\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      alert(\"    : \" + error.message);\r\n    } finally {\r\n      setAppLoading(false);\r\n    }\r\n  }, [\r\n    adminGoalAmountInput,\r\n    adminCouponValueInput,\r\n    currentGoalId,\r\n    userDoc,\r\n    isAdmin,\r\n  ]);\r\n\r\n  // Class code management -     \r\n  const loadClassCodes = useCallback(async () => {\r\n    if (!db || !isAdmin?.()) return;\r\n\r\n    //  \r\n    const cached = dataCache.get('classCodes');\r\n    if (cached) {\r\n      setClassCodes(cached.validCodes || []);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const codeRef = doc(db, \"settings\", \"classCodes\");\r\n      const codeDoc = await getDoc(codeRef);\r\n\r\n      if (codeDoc.exists()) {\r\n        const codes = Array.isArray(codeDoc.data().validCodes)\r\n          ? codeDoc.data().validCodes\r\n          : [];\r\n        setClassCodes(codes);\r\n        dataCache.set('classCodes', codeDoc.data(), CACHE_TTL.CLASS_CODES);\r\n      } else {\r\n        batchManager.addWrite({\r\n          type: 'set',\r\n          ref: codeRef,\r\n          data: {\r\n            validCodes: [],\r\n            createdAt: serverTimestamp(),\r\n            updatedAt: serverTimestamp(),\r\n          }\r\n        });\r\n        setClassCodes([]);\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      setClassCodes([]);\r\n    }\r\n  }, [isAdmin]);\r\n\r\n  useEffect(() => {\r\n    if (isAdmin?.()) {\r\n      loadClassCodes();\r\n    }\r\n  }, [isAdmin, loadClassCodes]);\r\n\r\n  const handleAddClassCode = useCallback(\r\n    async (codeToAdd) => {\r\n      if (!db) return false;\r\n\r\n      const trimmedCode = codeToAdd.trim();\r\n      if (!trimmedCode) {\r\n        alert(\"  .\");\r\n        return false;\r\n      }\r\n\r\n      if (classCodes.includes(trimmedCode)) {\r\n        alert(\"   .\");\r\n        return false;\r\n      }\r\n\r\n      setAppLoading(true);\r\n      try {\r\n        const codeRef = doc(db, \"settings\", \"classCodes\");\r\n        const codeSnap = await getDoc(codeRef);\r\n        const currentValidCodes = codeSnap.exists()\r\n          ? codeSnap.data().validCodes || []\r\n          : [];\r\n\r\n        batchManager.addWrite({\r\n          type: 'update',\r\n          ref: codeRef,\r\n          data: {\r\n            validCodes: [...currentValidCodes, trimmedCode],\r\n            updatedAt: serverTimestamp(),\r\n          }\r\n        });\r\n\r\n        //       (CLASS2025 ,  )\r\n        try {\r\n          const copyResult = await copyDefaultDataToNewClass(trimmedCode);\r\n          if (copyResult.success) {\r\n            alert(`  '${trimmedCode}' !\\n\\n   :\\n-  ${copyResult.results.jobs.copied}\\n-   ${copyResult.results.storeItems.copied}`);\r\n          } else {\r\n            alert(`  '${trimmedCode}' .\\n\\n     : ${copyResult.error}\\n(  )`);\r\n          }\r\n        } catch (copyError) {\r\n          logger.error(\"   :\", copyError);\r\n          alert(`  '${trimmedCode}' .\\n\\n    \\n(  )`);\r\n        }\r\n\r\n        //  \r\n        setClassCodes(prev => [...prev, trimmedCode]);\r\n\r\n        //  \r\n        dataCache.invalidate('classCodes');\r\n\r\n        return true;\r\n      } catch (error) {\r\n        logger.error(\"   :\", error);\r\n        alert(\"     \");\r\n        return false;\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    [classCodes]\r\n  );\r\n\r\n  const handleRemoveClassCode = useCallback(\r\n    async (codeToRemove) => {\r\n      if (!db) return false;\r\n\r\n      if (!window.confirm(`'${codeToRemove}'  ?`)) {\r\n        return false;\r\n      }\r\n\r\n      setAppLoading(true);\r\n      try {\r\n        const codeRef = doc(db, \"settings\", \"classCodes\");\r\n        const codeSnap = await getDoc(codeRef);\r\n\r\n        if (!codeSnap.exists()) {\r\n          throw new Error(\"     .\");\r\n        }\r\n\r\n        const currentValidCodes = codeSnap.data().validCodes || [];\r\n        const updatedCodes = currentValidCodes.filter(\r\n          (code) => code !== codeToRemove\r\n        );\r\n\r\n        batchManager.addWrite({\r\n          type: 'update',\r\n          ref: codeRef,\r\n          data: {\r\n            validCodes: updatedCodes,\r\n            updatedAt: serverTimestamp(),\r\n          }\r\n        });\r\n\r\n        alert(\"  .\");\r\n\r\n        //  \r\n        setClassCodes(prev => prev.filter(code => code !== codeToRemove));\r\n\r\n        //  \r\n        dataCache.invalidate('classCodes');\r\n\r\n        return true;\r\n      } catch (error) {\r\n        logger.error(\"   :\", error);\r\n        alert(\"     : \" + error.message);\r\n        return false;\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  //   \r\n  const handleForceRefresh = useCallback(() => {\r\n    //  \r\n    dataCache.clear();\r\n\r\n    //  \r\n    realtimeManager.current.removeAllListeners();\r\n    if (userDoc?.classCode) {\r\n      setupPolling(userDoc.classCode);\r\n    }\r\n\r\n    //   \r\n    loadTasksData(true);\r\n  }, [loadTasksData, userDoc?.classCode, setupPolling]);\r\n\r\n  const handleManualTaskReset = useCallback(async () => {\r\n    logger.log(\"[Dashboard]    \");\r\n    if (!userDoc?.classCode) {\r\n      logger.error(\"[Dashboard]      .\");\r\n      alert(\"   .\");\r\n      return;\r\n    }\r\n\r\n    if (!window.confirm(`'${userDoc.classCode}'    ' '   ?\\n\\n    .`)) {\r\n      logger.log(\"[Dashboard]   .\");\r\n      return;\r\n    }\r\n\r\n    logger.log(`[Dashboard] ${userDoc.classCode}   ...`);\r\n    setAppLoading(true);\r\n    try {\r\n      const manualResetClassTasks = manualResetClassTasksFn;\r\n      const result = await manualResetClassTasks({ classCode: userDoc.classCode });\r\n      logger.log(\"[Dashboard]    :\", result.data);\r\n\r\n      if (result.data.success) {\r\n        //  ,        UI \r\n\r\n        //       \r\n        setUserDoc(prevDoc => ({\r\n          ...prevDoc,\r\n          completedTasks: {},      //   \r\n          completedJobTasks: {},   //   \r\n        }));\r\n\r\n        // localStorage    \r\n        const today = new Date().toDateString();\r\n        localStorage.setItem('lastTaskResetDate', today);\r\n\r\n        alert(` !\\n${result.data.message}`);\r\n        logger.log(`[Dashboard]  : ${result.data.message}`);\r\n\r\n      } else {\r\n        throw new Error(result.data.message || \"   \");\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"[Dashboard]   :\", error);\r\n      alert(`:   .\\n\\n${error.message}`);\r\n    } finally {\r\n      setAppLoading(false);\r\n      logger.log(\"[Dashboard]    \");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userDoc?.classCode, setUserDoc]);\r\n\r\n  // Loading and error states\r\n  if (authLoading || appLoading) {\r\n    return (\r\n      <PageContainer className=\"flex items-center justify-center\">\r\n        <LoadingState message=\"  ...\" />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <PageContainer className=\"flex items-center justify-center\">\r\n        <EmptyState\r\n          icon={ListTodo}\r\n          title=\" \"\r\n          description=\"   .\"\r\n        />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  if (!userDoc?.id) {\r\n    return (\r\n      <PageContainer className=\"flex items-center justify-center\">\r\n        <EmptyState\r\n          icon={ListTodo}\r\n          title=\"   \"\r\n          description=\"    .   .\"\r\n        />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  if (!userDoc.classCode) {\r\n    return (\r\n      <PageContainer className=\"flex items-center justify-center\">\r\n        <EmptyState\r\n          icon={ListTodo}\r\n          title=\"  \"\r\n          description=\"   .     .\"\r\n        />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  //    ( ->  -> displayName -> \"\")\r\n  const userNickname = userDoc?.name || userDoc?.nickname || user?.displayName || \"\";\r\n\r\n  return (\r\n    <div className=\"min-h-full w-full bg-[#0a0a12] px-2 pt-1 pb-0\">\r\n      {/*   -   (     ) */}\r\n      {!adminTabMode && (\r\n        <section className=\"bg-[#14142380] backdrop-blur-sm rounded-lg px-3 py-1.5 shadow-lg border border-cyan-900/30 flex flex-col md:flex-row md:items-center justify-between gap-1.5 mb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"w-7 h-7 bg-cyan-900/30 rounded-md flex items-center justify-center text-cyan-400 shrink-0 border border-cyan-500/30\">\r\n              <ListTodo className=\"w-4 h-4\" />\r\n            </div>\r\n            <div className=\"leading-tight\">\r\n              <h2 className=\"text-sm md:text-base font-bold text-white\"> </h2>\r\n              <p className=\"text-[11px] text-slate-400\">{userNickname},  !</p>\r\n            </div>\r\n          </div>\r\n          {isAdmin?.() && viewMode === \"list\" && !showAdminSettingsModal && (\r\n            <div className=\"flex flex-wrap gap-1.5\">\r\n              <ActionButton variant=\"primary\" icon={Settings} onClick={() => handleOpenAdminSettings(\"generalSettings\")} size=\"sm\" className=\"!bg-gradient-to-r !from-red-500 !to-orange-500 !text-white !font-bold !shadow-lg !shadow-red-500/30 !border-2 !border-red-400 !text-sm\">  </ActionButton>\r\n              <ActionButton variant=\"success\" icon={RefreshCw} onClick={handleForceRefresh} size=\"sm\"></ActionButton>\r\n              <ActionButton variant=\"danger\" icon={RotateCcw} onClick={handleManualTaskReset} size=\"sm\" title=\"     \"> </ActionButton>\r\n            </div>\r\n          )}\r\n          {viewMode === \"selectJob\" && (\r\n            <ActionButton variant=\"ghost\" icon={ChevronLeft} onClick={handleCancelForm}></ActionButton>\r\n          )}\r\n        </section>\r\n      )}\r\n\r\n      {viewMode === \"list\" && !showAdminSettingsModal && !adminTabMode && (\r\n        <>\r\n          {/*     */}\r\n          <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 overflow-hidden mb-6\">\r\n            {/*     -   */}\r\n            <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 px-4 md:px-6 py-3 md:py-4 flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Briefcase className=\"w-5 h-5 text-white\" />\r\n                <h3 className=\"text-base md:text-lg font-bold text-white\">  </h3>\r\n              </div>\r\n              <ActionButton\r\n                variant=\"outline\"\r\n                icon={Plus}\r\n                onClick={handleSelectJobClick}\r\n                size=\"sm\"\r\n                className=\"!bg-white/20 !text-white !border-white/30 hover:!bg-white/30\"\r\n              >\r\n                 /\r\n              </ActionButton>\r\n            </div>\r\n            <div className=\"p-4 md:p-6\">\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {jobsToShow.length > 0 ? (\r\n                  jobsToShow.map((job) => (\r\n                    <JobList\r\n                      key={job.id}\r\n                      job={job}\r\n                      isAdmin={isAdmin?.()}\r\n                      onEditJob={() => handleEditJob(job)}\r\n                      onDeleteJob={() => handleDeleteJob(job.id)}\r\n                      onAddTask={() => handleAddTaskClick(job.id, true)}\r\n                      onEarnCoupon={(taskId, jobId, isJobTask, cardType, rewardAmount) =>\r\n                        handleTaskEarnCoupon(taskId, jobId, isJobTask, cardType, rewardAmount)\r\n                      }\r\n                      onEditTask={(task) => handleEditTask(task, job.id)}\r\n                      onDeleteTask={(taskId) =>\r\n                        handleDeleteTask(taskId, job.id)\r\n                      }\r\n                      isHandlingTask={isHandlingTask}\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <div className=\"col-span-full\">\r\n                    <EmptyState\r\n                      icon={Briefcase}\r\n                      title=\"  \"\r\n                      description=\"' /'    .\"\r\n                      action={\r\n                        <ActionButton\r\n                          variant=\"primary\"\r\n                          icon={Plus}\r\n                          onClick={handleSelectJobClick}\r\n                        >\r\n                           \r\n                        </ActionButton>\r\n                      }\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/*    */}\r\n              <div className=\"mt-6 rounded-xl overflow-hidden border border-emerald-900/30 bg-[#14142380] backdrop-blur-sm\">\r\n                {/*    -   */}\r\n                <div className=\"bg-gradient-to-r from-emerald-500 to-teal-500 px-4 md:px-6 py-3 md:py-4 flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <ListTodo className=\"w-5 h-5 text-white\" />\r\n                    <h3 className=\"text-base md:text-lg font-bold text-white\"> </h3>\r\n                  </div>\r\n                  {isAdmin?.() && (\r\n                    <ActionButton\r\n                      variant=\"outline\"\r\n                      icon={Plus}\r\n                      onClick={() => handleAddTaskClick(null, false)}\r\n                      size=\"sm\"\r\n                      className=\"!bg-white/20 !text-white !border-white/30 hover:!bg-white/30\"\r\n                    >\r\n                        \r\n                    </ActionButton>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"p-4 md:p-6 bg-[#0a0a12]/50\">\r\n                  <CommonTaskList\r\n                    tasks={commonTasksWithUserProgress}\r\n                    isAdmin={isAdmin?.()}\r\n                    onEarnCoupon={(taskId, jobId, isJobTask, cardType, rewardAmount) =>\r\n                      handleTaskEarnCoupon(taskId, jobId, isJobTask, cardType, rewardAmount)\r\n                    }\r\n                    onEditTask={(taskId) => handleEditTask(commonTasks.find(t => t.id === taskId), null)}\r\n                    onDeleteTask={(taskId) => handleDeleteTask(taskId, null)}\r\n                    isHandlingTask={isHandlingTask}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {viewMode === \"selectJob\" && (\r\n        <SelectMultipleJobsView\r\n          availableJobs={jobs}\r\n          currentSelectedJobIds={currentSelectedJobIdsFromUserDoc}\r\n          onConfirmSelection={handleConfirmJobSelection}\r\n          onCancel={handleCancelForm}\r\n        />\r\n      )}\r\n\r\n      {isAdmin?.() && (\r\n        <AdminSettingsModal\r\n          isAdmin={isAdmin?.()}\r\n          isSuperAdmin={isSuperAdmin?.()}\r\n          userClassCode={userDoc?.classCode}\r\n          showAdminSettingsModal={showAdminSettingsModal}\r\n          setShowAdminSettingsModal={setShowAdminSettingsModal}\r\n          adminSelectedMenu={adminSelectedMenu}\r\n          setAdminSelectedMenu={setAdminSelectedMenu}\r\n          classCodes={classCodes}\r\n          onAddClassCode={handleAddClassCode}\r\n          onRemoveClassCode={handleRemoveClassCode}\r\n          newGoalAmount={adminGoalAmountInput}\r\n          setNewGoalAmount={setAdminGoalAmountInput}\r\n          adminCouponValue={adminCouponValueInput}\r\n          setAdminCouponValue={setAdminCouponValueInput}\r\n          handleSaveAdminSettings={handleSaveAdminSettings}\r\n          jobs={jobs}\r\n          adminNewJobTitle={adminNewJobTitle}\r\n          setAdminNewJobTitle={setAdminNewJobTitle}\r\n          adminEditingJob={editingJob}\r\n          setAdminEditingJob={setEditingJob}\r\n          handleSaveJob={handleSaveJob}\r\n          handleDeleteJob={handleDeleteJob}\r\n          handleEditJob={handleEditJob}\r\n          commonTasks={commonTasks}\r\n          showAddTaskForm={showAddTaskForm}\r\n          setShowAddTaskForm={setShowAddTaskForm}\r\n          adminNewTaskName={adminNewTaskName}\r\n          setAdminNewTaskName={setAdminNewTaskName}\r\n          adminNewTaskReward={adminNewTaskReward}\r\n          setAdminNewTaskReward={setAdminNewTaskReward}\r\n          adminNewTaskMaxClicks={adminNewTaskMaxClicks}\r\n          setAdminNewTaskMaxClicks={setAdminNewTaskMaxClicks}\r\n          adminEditingTask={editingTask}\r\n          setAdminEditingTask={setEditingTask}\r\n          handleSaveTask={handleSaveTask}\r\n          handleEditTask={handleEditTask}\r\n          handleDeleteTask={handleDeleteTask}\r\n          taskFormJobId={currentJobIdForTask}\r\n          taskFormIsJobTask={isJobTaskForForm}\r\n          handleAddTaskClick={handleAddTaskClick}\r\n        />\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;"],"names":["PageContainer","_ref","children","className","_jsx","concat","PageHeader","_ref2","title","subtitle","icon","Icon","badge","action","backButton","_jsxs","LoadingState","_ref4","message","EmptyState","_ref6","description","ActionButton","_ref1","variant","size","loading","disabled","onClick","primary","secondary","outline","danger","success","ghost","indigo","sm","md","lg","Loader2","memo","task","onEarnCoupon","isJobTask","isAdmin","onEditTask","onDeleteTask","taskId","jobId","showBubble","setShowBubble","useState","bubbleText","setBubbleText","showCardModal","setShowCardModal","rewardData","setRewardData","selectedCard","setSelectedCard","isFlipping","setIsFlipping","handleCardSelect","cardType","logger","log","setTimeout","reward","cash","coupon","rewardText","toLocaleString","id","useEffect","timer","clearTimeout","isCompleted","maxClicks","clicks","isMobile","window","innerWidth","taskItemStyle","backgroundColor","border","opacity","padding","boxShadow","taskInfoStyle","gap","taskNameStyle","color","fontSize","lineHeight","taskActionsStyle","couponStyle","_Fragment","style","_objectSpread","cursor","handleInternalClick","taskName","name","error","rewards","generateJobTaskReward","weightedRandom","items","totalWeight","reduce","sum","item","weight","random","Math","amount","length","e","stopPropagation","adminButtonStyles","bubbleStyle","bubbleTailStyle","renderCardModal","mobileModalContentStyle","modalContentStyle","mobileModalTitleStyle","modalTitleStyle","mobileModalSubtitleStyle","modalSubtitleStyle","mobileCardsContainerStyle","cardsContainerStyle","mobileCardStyle","cardStyle","width","height","mobileCardIconStyle","cardIconStyle","marginBottom","mobileCardTextStyle","cardTextStyle","mobileRewardAmountStyle","rewardAmountStyle","mobileRewardLabelStyle","rewardLabelStyle","createPortal","modalOverlayStyle","selectedCardStyle","cardInnerStyle","transform","cardFrontStyle","backfaceVisibility","cardBackStyle","cardBackVisibleStyle","document","body","background","bottom","content","top","left","marginLeft","borderWidth","borderStyle","borderColor","animation","textShadow","perspective","transition","transformStyle","job","onEditJob","onDeleteJob","onAddTask","addJobTaskButtonStyle","backdropFilter","borderBottom","letterSpacing","tasks","map","TaskItem","borderTop","fontWeight","CommonTaskList","Array","isArray","gridTemplateColumns","createOptimizedFunction","functionName","fn","httpsCallable","functions","async","result","data","Error","optimizedFirebaseService","getAdminSettingsData","batchPaySalaries","getItemContextData","queryKeys","adminSettings","classCode","tab","systemManagement","realtimeOptimizer","shouldUseRealtime","navigator","onLine","hidden","localBackup","save","key","localStorage","setItem","JSON","stringify","timestamp","Date","now","warn","maxAge","arguments","undefined","backup","getItem","parsed","parse","removeItem","isSuperAdmin","systemStatus","setSystemStatus","setLoading","setError","autoRefresh","setAutoRefresh","lastUpdate","setLastUpdate","errorCount","setErrorCount","getSystemStatus","resolveSystemAlert","fetchSystemStatus","useCallback","err","prev","handleResolveAlert","confirm","alertId","alert","intervalId","setInterval","clearInterval","type","checked","onChange","target","toLocaleTimeString","marginTop","borderRadius","margin","health","totalUsers","stats","lastMinute","reads","writes","errors","errorRate","toFixed","avgResponseTime","anomalies","anomaly","index","severity","alerts","_alert$timestamp","_alert$timestamp2","alertTime","toDate","seconds","errorLogs","slice","_log$timestamp","_log$timestamp2","logTime","last5Minutes","initialStocks","price","history","ClassDataDeletionSection","userClassCode","deleteConfirmText","setDeleteConfirmText","isDeleting","setIsDeleting","showConfirmation","setShowConfirmation","value","placeholder","usersRef","firestoreCollection","db","studentsQuery","firebaseQuery","firebaseWhere","studentsSnapshot","firebaseGetDocs","activityLogsRef","activityLogsQuery","activityLogsSnapshot","studentIds","docs","doc","transactionsToDelete","batches","i","push","batch","transactionsRef","transactionsQuery","transactionsSnapshot","allDocsToDelete","BATCH_SIZE","writeBatch","forEach","docSnap","delete","ref","commit","floor","_jobs$find","showAdminSettingsModal","setShowAdminSettingsModal","adminSelectedMenu","setAdminSelectedMenu","newGoalAmount","setNewGoalAmount","adminCouponValue","setAdminCouponValue","handleSaveAdminSettings","jobs","adminNewJobTitle","setAdminNewJobTitle","adminEditingJob","setAdminEditingJob","handleSaveJob","handleDeleteJob","handleEditJob","commonTasks","showAddTaskForm","setShowAddTaskForm","adminNewTaskName","setAdminNewTaskName","adminNewTaskReward","setAdminNewTaskReward","adminNewTaskMaxClicks","setAdminNewTaskMaxClicks","adminEditingTask","setAdminEditingTask","handleSaveTask","handleEditTask","handleDeleteTask","taskFormJobId","taskFormIsJobTask","handleAddTaskClick","classCodes","onAddClassCode","onRemoveClassCode","newClassCode","setNewClassCode","classCodeOperationLoading","setClassCodeOperationLoading","classMembers","setClassMembers","membersLoading","setMembersLoading","showEditStudentJobsModal","setShowEditStudentJobsModal","selectedStudent","setSelectedStudent","tempSelectedJobIds","setTempSelectedJobIds","students","setStudents","studentsLoading","setStudentsLoading","appLoading","setAppLoading","isPayingSalary","setIsPayingSalary","lastSalaryPaidDate","setLastSalaryPaidDate","selectedStudentIds","setSelectedStudentIds","selectAllStudents","setSelectAllStudents","depositProducts","setDepositProducts","savingProducts","setSavingProducts","loanProducts","setLoanProducts","newProductName","setNewProductName","newProductPeriod","setNewProductPeriod","newProductRate","setNewProductRate","financialSubTab","setFinancialSubTab","financialMessage","setFinancialMessage","jobTaskSubTab","setJobTaskSubTab","studentMemberSubTab","setStudentMemberSubTab","financeMarketSubTab","setFinanceMarketSubTab","systemSubTab","setSystemSubTab","marketStatus","setMarketStatus","isOpen","marketMessage","setMarketMessage","isMarketDataLoaded","setIsMarketDataLoaded","marketStatusCache","useRef","parkingInterestRate","setParkingInterestRate","newInterestRate","setNewInterestRate","parkingMessage","setParkingMessage","toggleMarketManually","salarySettings","setSalarySettings","taxRate","salaryIncreaseRate","tempTaxRate","setTempTaxRate","tempSalaryIncreaseRate","setTempSalaryIncreaseRate","salarySettingsLoading","setSalarySettingsLoading","useOptimizedStudents","userDoc","useAuth","useQuery","queryKey","queryFn","enabled","staleTime","gcTime","salarySettingsQuery","useOptimizedSalarySettings","batchPaySalariesMutation","useOptimizedSystemManagement","backupKey","retry","failureCount","code","refetchInterval","useOptimizedAdminSettings","useBatchPaySalaries","queryClient","useQueryClient","useMutation","mutationFn","payAll","onSuccess","invalidateQueries","onError","preloadAdminData","useAdminDataPreloader","preloadPromises","prefetchQuery","Promise","allSettled","loadSalarySettings","classSettingsRef","firebaseDoc","settingsSnap","firebaseGetSingleDoc","exists","settings","String","lastPaidDate","firebaseSetDoc","createdAt","serverTimestamp","updatedAt","handleSaveSalarySettings","taxRateNum","parseFloat","increaseRateNum","isNaN","newSettings","firebaseUpdateDoc","calculateSalary","selectedJobIds","includesTax","gross","tax","net","grossSalary","max","handleJobEdit","handleJobDelete","handleTaskEdit","handleTaskDelete","handleTaskAdd","loadStudents","studentsList","classStudentsRef","firebaseCollection","userData","nickname","email","money","lastSalaryDate","lastGrossSalary","lastTaxAmount","lastNetSalary","totalSalaryReceived","classError","queryRef","settingsDoc","settingsError","loadClassMembers","querySnapshot","usersList","adminResetUserPassword","handleResetPassword","newPassword","prompt","userId","toggleAdminStatus","currentStatus","userRef","prevMembers","member","loadFinancialProducts","savedDeposit","savedSaving","savedLoan","handleAddProduct","trim","text","parseInt","newProduct","period","rate","typeText","updatedProducts","storageKey","handleDeleteProduct","filter","p","fetchMarketStatus","current","marketStatusRef","getDoc","statusData","setDoc","handleMarketControl","actionText","newIsOpenState","optimisticStatus","handleInitializeStocks","stock","stockRef","set","loadParkingRate","savedRate","handleParkingRateChange","toString","handleAddClassCode","codeToAdd","handleRemoveClassCode","codeToRemove","mapped","taskManagement","jobSettings","studentManagement","memberManagement","financialProducts","parkingAccount","marketControl","databaseManagement","formatLastSalaryDate","date","getFullYear","getMonth","padStart","getDate","getHours","getMinutes","min","find","j","_studentsQuery$data","_salarySettingsQuery$2","currentStudents","currentSalarySettings","mutateAsync","summary","totalStudentsPaid","totalGrossPaid","totalTaxDeducted","totalNetPaid","_salarySettingsQuery$","handleToggleSelectAll","student","salaryCalc","includes","handleToggleStudentSelection","studentId","Boolean","join","toLocaleDateString","handleEditStudentJobs","step","products","product","AdminDatabase","href","rel","SystemMonitoring","active","handleToggleJobSelection","htmlFor","prevStudents","CACHE_TTL","JOBS","TASKS","SETTINGS","GOALS","CLASS_CODES","dataCache","globalCacheService","get","ttl","invalidate","clear","clearAll","batchManager","constructor","this","pendingWrites","batchTimeout","BATCH_DELAY","MAX_BATCH_SIZE","addWrite","operation","executeBatch","scheduleBatch","operations","update","RealtimeManager","listeners","Map","addListener","unsubscribe","has","removeListener","removeAllListeners","SelectMultipleJobsView","availableJobs","currentSelectedJobIds","onConfirmSelection","onCancel","tempSelection","setTempSelection","activeJobs","useMemo","handleCheckboxChange","Briefcase","_ref3","adminTabMode","user","setUserDoc","authLoading","updateUser","refreshUserDocument","optimisticUpdate","realtimeManager","lastFetchTime","fetchPromise","viewMode","setViewMode","setJobs","setCommonTasks","editingJob","setEditingJob","editingTask","setEditingTask","currentJobIdForTask","setCurrentJobIdForTask","isJobTaskForForm","setIsJobTaskForForm","completeTaskFunction","manualResetClassTasksFn","isHandlingTask","setIsHandlingTask","classCouponGoal","setClassCouponGoal","couponValue","setCouponValue","adminCouponValueInput","setAdminCouponValueInput","adminGoalAmountInput","setAdminGoalAmountInput","setClassCodes","currentGoalId","currentSelectedJobIdsFromUserDoc","jobsToShow","completedJobTasks","commonTasksWithUserProgress","userCompletedTasks","completedTasks","generateId","substring","setupPolling","pollData","jobsQuery","query","where","limit","loadedJobs","getDocs","d","sort","a","b","_a$updatedAt","_a$updatedAt$toMillis","_b$updatedAt","_b$updatedAt$toMillis","timeA","toMillis","call","tasksQuery","loadedCommonTasks","_a$updatedAt2","_a$updatedAt2$toMilli","_b$updatedAt2","_b$updatedAt2$toMilli","loadCachedData","jobsCache","tasksCache","settingsCache","hasJobsCache","hasTasksCache","hasSettingsCache","loadTasksData","forceRefresh","cacheStatus","promises","then","snap","all","newCouponValue","targetAmount","validCodes","fetchData","refreshInProgressRef","refreshTasksAfterReset","today","toDateString","manager","dateCheckExecutedRef","lastCheckedDateRef","checkDateAndRefresh","lastResetDate","dateCheckInterval","jobRef","newJobId","_userDoc$selectedJobI","jobIdToDelete","updatedSelectedIds","jobToEdit","taskToEdit","taskData","jobSnap","jobTasks","taskIndex","findIndex","t","updatedTasks","taskRef","newTaskId","newTaskDataWithId","arrayUnion","newTaskRef","taskIdToDelete","handleSelectJobClick","handleConfirmJobSelection","uid","idsToSave","newlySelectedJobIds","handleCancelForm","handleTaskEarnCoupon","rewardAmount","_jobs$find$tasks","taskKey","currentClicks","jobTask","commonTask","expectedCashReward","expectedCouponReward","prevUserDoc","optimisticCash","optimisticCoupons","coupons","prevDoc","_prevDoc$completedTas","resultData","newCash","updatedCash","newCoupons","updatedCoupons","handleOpenAdminSettings","tabName","newGoal","newValue","settingsRef","goalRef","merge","goalError","loadClassCodes","cached","codeRef","codeDoc","codes","trimmedCode","codeSnap","currentValidCodes","copyResult","copyDefaultDataToNewClass","results","copied","storeItems","copyError","updatedCodes","handleForceRefresh","handleManualTaskReset","manualResetClassTasks","ListTodo","userNickname","displayName","Settings","RefreshCw","RotateCcw","ChevronLeft","Plus","JobList","AdminSettingsModal"],"ignoreList":[],"sourceRoot":""}