{"version":3,"file":"static/js/589.1ae0dacf.chunk.js","mappings":"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","sources":["hooks/usePolling.js","utils/avatarSystem.js","components/AlchanSidebar.js","components/TutorialGuide.js","components/SettingsPanel.js","components/AlchanHeader.js","components/MobileNav.js","components/PWAInstallPrompt.js","components/UpdateNotification.js","hooks/useServiceWorker.js","components/EconomicEventBanner.js","components/AlchanLayout.js","components/Avatar.js","utils/achievementSystem.js","utils/levelSystem.js","components/DailyReward.js","contexts/ItemContext.js","utils/firestoreHelpers.js"],"sourcesContent":["// src/hooks/usePolling.js - onSnapshot  Polling Hook ( )\r\nimport { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { logger } from '../utils/logger';\n\r\n//  []     - Firestore  \r\nexport const POLLING_INTERVALS = {\r\n  REALTIME: 10 * 60 * 1000,  //  10 -    (, ) (510)\r\n  NORMAL: 30 * 60 * 1000,    //  30 -   (, ) (1530)\r\n  LOW: 60 * 60 * 1000,       //  1 -    () (301)\r\n  MANUAL: null               //  \r\n};\r\n\r\n//  []     -     \r\nlet globalInitialLoadQueue = [];\r\nlet isProcessingQueue = false;\r\n\r\nconst processInitialLoadQueue = async () => {\r\n  if (isProcessingQueue || globalInitialLoadQueue.length === 0) return;\r\n  isProcessingQueue = true;\r\n\r\n  while (globalInitialLoadQueue.length > 0) {\r\n    const fetchFn = globalInitialLoadQueue.shift();\r\n    await fetchFn();\r\n    //    100ms  \r\n    await new Promise(resolve => setTimeout(resolve, 100));\r\n  }\r\n\r\n  isProcessingQueue = false;\r\n};\r\n\r\n/**\r\n * Firestore  (onSnapshot) Polling  Hook\r\n *\r\n * @param {Function} queryFn - Firestore   (getDocs )\r\n * @param {Object} options - \r\n * @param {number} options.interval - Polling  (ms,  5)\r\n * @param {boolean} options.enabled - Polling  \r\n * @param {Array} options.deps -  \r\n *\r\n * @returns {Object} { data, loading, error, refetch }\r\n */\r\nexport const usePolling = (queryFn, options = {}) => {\r\n  const {\r\n    interval = POLLING_INTERVALS.NORMAL, //  []  15\r\n    enabled = true,\r\n    deps = []\r\n  } = options;\r\n\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const intervalRef = useRef(null);\r\n  const mountedRef = useRef(true);\r\n  const queryFnRef = useRef(queryFn);\r\n\r\n  useEffect(() => {\r\n    queryFnRef.current = queryFn;\r\n  }, [queryFn]);\r\n\r\n  const fetchData = useCallback(async () => {\r\n    if (!enabled) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setError(null);\r\n      const result = await queryFnRef.current();\r\n\r\n      if (mountedRef.current) {\r\n        setData(result);\r\n        setLoading(false);\r\n      }\r\n    } catch (err) {\r\n      logger.error('[usePolling]   :', err);\r\n      if (mountedRef.current) {\r\n        setError(err);\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }, [enabled]);\r\n\r\n  const refetch = useCallback(() => {\r\n    setLoading(true);\r\n    return fetchData();\r\n  }, [fetchData]);\r\n\r\n  useEffect(() => {\r\n    mountedRef.current = true;\r\n\r\n    //  interval \r\n    if (intervalRef.current) {\r\n      clearInterval(intervalRef.current);\r\n      intervalRef.current = null;\r\n    }\r\n\r\n    // enabled false    \r\n    if (!enabled || interval === POLLING_INTERVALS.MANUAL) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    //  []      \r\n    globalInitialLoadQueue.push(fetchData);\r\n    processInitialLoadQueue();\r\n\r\n    // Polling  (interval null  )\r\n    if (interval && interval > 0) {\r\n      intervalRef.current = setInterval(fetchData, interval);\r\n    }\r\n\r\n    return () => {\r\n      mountedRef.current = false;\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fetchData, interval, enabled, ...deps]); // deps      ,   \r\n\r\n  return { data, loading, error, refetch };\r\n};\r\n\r\n/**\r\n *    Polling Hook\r\n *\r\n * @param {Array<{key: string, queryFn: Function}>} queries -  \r\n * @param {Object} options - \r\n *\r\n * @returns {Object} { data: {key: data}, loading, errors, refetchAll }\r\n */\r\nexport const useMultiPolling = (queries, options = {}) => {\r\n  const {\r\n    interval = POLLING_INTERVALS.NORMAL, //  []  15\r\n    enabled = true,\r\n    deps = []\r\n  } = options;\r\n\r\n  const [data, setData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [errors, setErrors] = useState({});\r\n  const intervalRef = useRef(null);\r\n  const mountedRef = useRef(true);\r\n\r\n  const fetchAllData = useCallback(async () => {\r\n    if (!enabled || queries.length === 0) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const results = await Promise.allSettled(\r\n        queries.map(({ key, queryFn }) =>\r\n          queryFn().then(result => ({ key, result }))\r\n        )\r\n      );\r\n\r\n      if (mountedRef.current) {\r\n        const newData = {};\r\n        const newErrors = {};\r\n\r\n        results.forEach((result, index) => {\r\n          const { key } = queries[index];\r\n\r\n          if (result.status === 'fulfilled') {\r\n            newData[key] = result.value.result;\r\n          } else {\r\n            newErrors[key] = result.reason;\r\n            logger.error(`[useMultiPolling] ${key}  :`, result.reason);\r\n          }\r\n        });\r\n\r\n        setData(newData);\r\n        setErrors(newErrors);\r\n        setLoading(false);\r\n      }\r\n    } catch (err) {\r\n      logger.error('[useMultiPolling]   :', err);\r\n      if (mountedRef.current) {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }, [queries, enabled]);\r\n\r\n  const refetchAll = useCallback(() => {\r\n    setLoading(true);\r\n    return fetchAllData();\r\n  }, [fetchAllData]);\r\n\r\n  useEffect(() => {\r\n    mountedRef.current = true;\r\n\r\n    //  interval \r\n    if (intervalRef.current) {\r\n      clearInterval(intervalRef.current);\r\n      intervalRef.current = null;\r\n    }\r\n\r\n    // enabled false      \r\n    if (!enabled || queries.length === 0 || interval === POLLING_INTERVALS.MANUAL) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    //    \r\n    fetchAllData();\r\n\r\n    // Polling  (interval null  )\r\n    if (interval && interval > 0) {\r\n      intervalRef.current = setInterval(fetchAllData, interval);\r\n    }\r\n\r\n    return () => {\r\n      mountedRef.current = false;\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fetchAllData, interval, enabled, ...deps]); // deps      ,   \r\n\r\n  return { data, loading, errors, refetchAll };\r\n};\r\n\r\nexport default usePolling;\r\n","// src/utils/avatarSystem.js -   \r\n\r\n/**\r\n *   \r\n * , , , , , ,   \r\n */\r\n\r\n// \r\nexport const SKIN_TONES = [\r\n  { id: \"fair\", name: \" \", color: \"#FFE4C4\" },\r\n  { id: \"light\", name: \" \", color: \"#F5DEB3\" },\r\n  { id: \"medium\", name: \" \", color: \"#DEB887\" },\r\n  { id: \"tan\", name: \" \", color: \"#D2A679\" },\r\n  { id: \"dark\", name: \" \", color: \"#8B7355\" },\r\n];\r\n\r\n//  -  \r\nexport const FACE_SHAPES = [\r\n  { id: \"round\", name: \"\", icon: \"\", path: \"M50,10 C82,10 90,32 90,55 C90,78 78,90 50,90 C22,90 10,78 10,55 C10,32 18,10 50,10\" },\r\n  { id: \"oval\", name: \"\", icon: \"\", path: \"M50,8 C78,8 88,28 88,52 C88,80 72,92 50,92 C28,92 12,80 12,52 C12,28 22,8 50,8\" },\r\n  { id: \"square\", name: \"\", icon: \"\", path: \"M50,10 C85,10 90,30 90,55 C90,80 82,90 50,90 C18,90 10,80 10,55 C10,30 15,10 50,10\" },\r\n  { id: \"heart\", name: \"\", icon: \"\", path: \"M50,10 C80,10 90,30 90,52 C90,78 70,90 50,92 C30,90 10,78 10,52 C10,30 20,10 50,10\" },\r\n  { id: \"long\", name: \"\", icon: \"\", path: \"M50,5 C72,5 80,25 80,50 C80,82 65,95 50,95 C35,95 20,82 20,50 C20,25 28,5 50,5\" },\r\n];\r\n\r\n//  \r\nexport const EYE_STYLES = [\r\n  { id: \"normal\", name: \"\", leftX: 35, rightX: 65, y: 45, size: 6 },\r\n  { id: \"big\", name: \" \", leftX: 35, rightX: 65, y: 45, size: 8 },\r\n  { id: \"small\", name: \" \", leftX: 35, rightX: 65, y: 45, size: 4 },\r\n  { id: \"almond\", name: \"\", leftX: 35, rightX: 65, y: 45, size: 6, shape: \"almond\" },\r\n  { id: \"round\", name: \" \", leftX: 35, rightX: 65, y: 45, size: 7, shape: \"round\" },\r\n];\r\n\r\n//  \r\nexport const EYE_COLORS = [\r\n  { id: \"black\", name: \"\", color: \"#1a1a1a\" },\r\n  { id: \"brown\", name: \"\", color: \"#654321\" },\r\n  { id: \"hazel\", name: \"\", color: \"#8E7618\" },\r\n  { id: \"blue\", name: \"\", color: \"#1E90FF\" },\r\n  { id: \"green\", name: \"\", color: \"#228B22\" },\r\n  { id: \"gray\", name: \"\", color: \"#696969\" },\r\n];\r\n\r\n//  \r\nexport const MOUTH_STYLES = [\r\n  { id: \"smile\", name: \"\", path: \"M35,65 Q50,75 65,65\", stroke: true },\r\n  { id: \"grin\", name: \" \", path: \"M30,62 Q50,80 70,62\", stroke: true },\r\n  { id: \"neutral\", name: \"\", path: \"M38,65 L62,65\", stroke: true },\r\n  { id: \"small_smile\", name: \" \", path: \"M40,65 Q50,70 60,65\", stroke: true },\r\n  { id: \"open\", name: \" \", path: \"M35,63 Q50,75 65,63 Q50,80 35,63\", fill: true },\r\n];\r\n\r\n//  (  )\r\nconst ALL_FACES = [\"round\", \"oval\", \"square\", \"heart\", \"long\"];\r\n\r\nexport const HAIRSTYLES = [\r\n  {\r\n    id: \"none\",\r\n    name: \"\",\r\n    paths: [],\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n  {\r\n    //  :    ( )\r\n    id: \"short\",\r\n    name: \" \",\r\n    paths: [\r\n      \"M15,28 Q15,8 50,5 Q85,8 85,28 Q85,18 50,15 Q15,18 15,28 Z\"\r\n    ],\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n  {\r\n    //  :    \r\n    id: \"medium\",\r\n    name: \" \",\r\n    paths: [\r\n      \"M8,50 Q5,15 50,2 Q95,15 92,50 L88,48 Q88,20 50,12 Q12,20 12,48 Z\"\r\n    ],\r\n    bangsPath: \"M20,22 Q35,32 50,30 Q65,32 80,22 L80,12 Q65,22 50,20 Q35,22 20,12 Z\",\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n  {\r\n    //  :     \r\n    id: \"long\",\r\n    name: \" \",\r\n    paths: [\r\n      //   ( )\r\n      \"M3,95 Q-2,40 50,0 Q102,40 97,95 L92,90 Q92,35 50,10 Q8,35 8,90 Z\",\r\n    ],\r\n    bangsPath: \"M15,25 Q30,38 50,35 Q70,38 85,25 L85,10 Q70,25 50,22 Q30,25 15,10 Z\",\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n  {\r\n    // :     + \r\n    id: \"bob\",\r\n    name: \"\",\r\n    paths: [\r\n      \"M5,70 L5,30 Q5,5 50,2 Q95,5 95,30 L95,70 Q95,75 90,75 L85,55 Q85,20 50,12 Q15,20 15,55 L10,75 Q5,75 5,70 Z\"\r\n    ],\r\n    bangsPath: \"M15,30 L20,18 Q35,30 50,28 Q65,30 80,18 L85,30 Q70,38 50,35 Q30,38 15,30 Z\",\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n  {\r\n    // :  \r\n    id: \"ponytail\",\r\n    name: \"\",\r\n    paths: [\r\n      // \r\n      \"M15,35 Q12,12 50,5 Q88,12 85,35 Q85,22 50,15 Q15,22 15,35 Z\",\r\n      //   \r\n      \"M75,15 Q95,10 100,25 Q105,50 95,75 Q90,85 82,70 Q88,50 85,30 Q82,20 75,15 Z\"\r\n    ],\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n  {\r\n    // :  \r\n    id: \"twintail\",\r\n    name: \"\",\r\n    paths: [\r\n      // \r\n      \"M18,35 Q15,12 50,5 Q85,12 82,35 Q82,22 50,15 Q18,22 18,35 Z\",\r\n      //  \r\n      \"M12,35 Q0,40 -5,55 Q-8,80 5,90 Q12,85 8,65 Q5,50 12,35 Z\",\r\n      //  \r\n      \"M88,35 Q100,40 105,55 Q108,80 95,90 Q88,85 92,65 Q95,50 88,35 Z\"\r\n    ],\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n  {\r\n    // :  \r\n    id: \"curly\",\r\n    name: \"\",\r\n    paths: [\r\n      //  \r\n      \"M0,55 Q-5,25 50,0 Q105,25 100,55 Q100,35 50,12 Q0,35 0,55 Z\",\r\n      //  \r\n      \"M5,40 Q-2,50 5,60 Q-2,70 5,75 Q12,65 8,55 Q12,45 5,40 Z\",\r\n      //  \r\n      \"M95,40 Q102,50 95,60 Q102,70 95,75 Q88,65 92,55 Q88,45 95,40 Z\",\r\n    ],\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n  {\r\n    // :   \r\n    id: \"mohawk\",\r\n    name: \"\",\r\n    paths: [\r\n      \"M35,25 L40,-5 L45,-15 L50,-20 L55,-15 L60,-5 L65,25 Q60,20 50,18 Q40,20 35,25 Z\"\r\n    ],\r\n    compatibleFaces: ALL_FACES,\r\n  },\r\n];\r\n\r\n//  \r\nexport const HAIR_COLORS = [\r\n  { id: \"black\", name: \"\", color: \"#1a1a1a\" },\r\n  { id: \"dark_brown\", name: \" \", color: \"#3d2314\" },\r\n  { id: \"brown\", name: \"\", color: \"#6b4423\" },\r\n  { id: \"light_brown\", name: \" \", color: \"#a0522d\" },\r\n  { id: \"blonde\", name: \"\", color: \"#f4d03f\" },\r\n  { id: \"red\", name: \"\", color: \"#c0392b\" },\r\n  { id: \"orange\", name: \"\", color: \"#e67e22\" },\r\n  { id: \"pink\", name: \"\", color: \"#ff69b4\" },\r\n  { id: \"purple\", name: \"\", color: \"#9b59b6\" },\r\n  { id: \"blue\", name: \"\", color: \"#3498db\" },\r\n  { id: \"green\", name: \"\", color: \"#27ae60\" },\r\n  { id: \"gray\", name: \"\", color: \"#7f8c8d\" },\r\n  { id: \"white\", name: \"\", color: \"#ecf0f1\" },\r\n  { id: \"rainbow\", name: \"\", gradient: [\"#ff0000\", \"#ff7f00\", \"#ffff00\", \"#00ff00\", \"#0000ff\", \"#8b00ff\"] },\r\n];\r\n\r\n// \r\nexport const OUTFITS = [\r\n  { id: \"none\", name: \"\", color: null },\r\n  {\r\n    id: \"tshirt\",\r\n    name: \"\",\r\n    baseColor: \"#3498db\",\r\n    path: \"M20,95 L15,120 L85,120 L80,95 Q78,88 65,88 L58,92 L42,92 L35,88 Q22,88 20,95\",\r\n    sleeves: \"M20,95 L8,105 L15,110 L22,100 M80,95 L92,105 L85,110 L78,100\"\r\n  },\r\n  {\r\n    id: \"suit\",\r\n    name: \"\",\r\n    baseColor: \"#2c3e50\",\r\n    path: \"M18,95 L15,120 L85,120 L82,95 Q80,88 65,88 L58,92 L42,92 L35,88 Q20,88 18,95\",\r\n    tie: true,\r\n    lapels: true\r\n  },\r\n  {\r\n    id: \"hoodie\",\r\n    name: \"\",\r\n    baseColor: \"#e74c3c\",\r\n    path: \"M15,95 L12,120 L88,120 L85,95 Q82,86 65,86 L58,90 L42,90 L35,86 Q18,86 15,95\",\r\n    hood: true,\r\n    pocket: true\r\n  },\r\n  {\r\n    id: \"dress\",\r\n    name: \"\",\r\n    baseColor: \"#9b59b6\",\r\n    path: \"M28,92 L22,125 L78,125 L72,92 Q70,88 60,88 L55,92 L45,92 L40,88 Q30,88 28,92\"\r\n  },\r\n  {\r\n    id: \"uniform\",\r\n    name: \"\",\r\n    baseColor: \"#34495e\",\r\n    path: \"M20,95 L18,120 L82,120 L80,95 Q78,88 65,88 L58,92 L42,92 L35,88 Q22,88 20,95\",\r\n    collar: true,\r\n    buttons: true\r\n  },\r\n];\r\n\r\n//  \r\nexport const OUTFIT_COLORS = [\r\n  { id: \"blue\", name: \"\", color: \"#3498db\" },\r\n  { id: \"red\", name: \"\", color: \"#e74c3c\" },\r\n  { id: \"green\", name: \"\", color: \"#27ae60\" },\r\n  { id: \"purple\", name: \"\", color: \"#9b59b6\" },\r\n  { id: \"yellow\", name: \"\", color: \"#f1c40f\" },\r\n  { id: \"orange\", name: \"\", color: \"#e67e22\" },\r\n  { id: \"pink\", name: \"\", color: \"#ff69b4\" },\r\n  { id: \"black\", name: \"\", color: \"#2c3e50\" },\r\n  { id: \"white\", name: \"\", color: \"#ecf0f1\" },\r\n  { id: \"navy\", name: \"\", color: \"#2c3e50\" },\r\n];\r\n\r\n// \r\nexport const ACCESSORIES = [\r\n  { id: \"none\", name: \"\" },\r\n  { id: \"glasses\", name: \"\", path: \"M25,43 L28,43 A8,8 0 1,1 42,43 L58,43 A8,8 0 1,1 72,43 L75,43\", color: \"#1a1a1a\" },\r\n  { id: \"sunglasses\", name: \"\", path: \"M22,40 L25,40 C25,40 25,50 35,50 C45,50 45,40 45,40 L55,40 C55,40 55,50 65,50 C75,50 75,40 75,40 L78,40\", color: \"#1a1a1a\", fill: true },\r\n  { id: \"earrings\", name: \"\", type: \"earrings\", color: \"#f1c40f\" },\r\n  { id: \"necklace\", name: \"\", path: \"M35,88 Q50,95 65,88\", color: \"#f1c40f\" },\r\n  { id: \"hat\", name: \"\", path: \"M15,15 L85,15 L85,5 Q50,-5 15,5 Z\", color: \"#e74c3c\" },\r\n  { id: \"crown\", name: \"\", type: \"crown\", color: \"#f1c40f\" },\r\n  { id: \"headband\", name: \"\", path: \"M12,25 Q50,18 88,25\", color: \"#ff69b4\" },\r\n  { id: \"bow\", name: \"\", type: \"bow\", color: \"#ff69b4\" },\r\n  { id: \"mask\", name: \"\", path: \"M25,55 Q50,70 75,55 L75,65 Q50,80 25,65 Z\", color: \"#ffffff\" },\r\n];\r\n\r\n// \r\nexport const BACKGROUNDS = [\r\n  { id: \"none\", name: \"\", color: \"transparent\" },\r\n  { id: \"sky_blue\", name: \"\", color: \"#87CEEB\" },\r\n  { id: \"sunset\", name: \"\", gradient: [\"#ff7e5f\", \"#feb47b\"] },\r\n  { id: \"night\", name: \"\", gradient: [\"#0f0c29\", \"#302b63\", \"#24243e\"] },\r\n  { id: \"forest\", name: \"\", gradient: [\"#134e5e\", \"#71b280\"] },\r\n  { id: \"ocean\", name: \"\", gradient: [\"#2193b0\", \"#6dd5ed\"] },\r\n  { id: \"pink\", name: \"\", gradient: [\"#ee9ca7\", \"#ffdde1\"] },\r\n  { id: \"purple\", name: \"\", gradient: [\"#667eea\", \"#764ba2\"] },\r\n  { id: \"gold\", name: \"\", gradient: [\"#f7971e\", \"#ffd200\"] },\r\n  { id: \"rainbow\", name: \"\", gradient: [\"#ff0000\", \"#ff7f00\", \"#ffff00\", \"#00ff00\", \"#0000ff\", \"#8b00ff\"] },\r\n  { id: \"galaxy\", name: \"\", gradient: [\"#0f0c29\", \"#302b63\", \"#24243e\"], stars: true },\r\n];\r\n\r\n// \r\nexport const BORDERS = [\r\n  { id: \"none\", name: \"\", style: null },\r\n  { id: \"simple\", name: \"\", color: \"#ffffff\", width: 3 },\r\n  { id: \"gold\", name: \"\", color: \"#f1c40f\", width: 4, glow: true },\r\n  { id: \"silver\", name: \"\", color: \"#bdc3c7\", width: 4, glow: true },\r\n  { id: \"bronze\", name: \"\", color: \"#cd7f32\", width: 4, glow: true },\r\n  { id: \"rainbow\", name: \"\", gradient: [\"#ff0000\", \"#ff7f00\", \"#ffff00\", \"#00ff00\", \"#0000ff\", \"#8b00ff\"], width: 4, animated: true },\r\n  { id: \"neon_blue\", name: \" \", color: \"#00fff2\", width: 3, glow: true, glowColor: \"#00fff2\" },\r\n  { id: \"neon_pink\", name: \" \", color: \"#ff69b4\", width: 3, glow: true, glowColor: \"#ff69b4\" },\r\n  { id: \"fire\", name: \"\", gradient: [\"#ff4500\", \"#ff6347\", \"#ffa500\"], width: 4, animated: true },\r\n  { id: \"ice\", name: \"\", gradient: [\"#00bfff\", \"#87ceeb\", \"#e0ffff\"], width: 4, glow: true },\r\n];\r\n\r\n// /\r\nexport const EXPRESSIONS = [\r\n  { id: \"normal\", name: \"\", eyeMod: null, mouthMod: null },\r\n  { id: \"happy\", name: \"\", eyeMod: \"happy\", mouthMod: \"grin\" },\r\n  { id: \"sad\", name: \"\", eyeMod: \"sad\", mouthMod: \"sad\" },\r\n  { id: \"angry\", name: \"\", eyeMod: \"angry\", mouthMod: \"angry\" },\r\n  { id: \"surprised\", name: \"\", eyeMod: \"wide\", mouthMod: \"open\" },\r\n  { id: \"wink\", name: \"\", eyeMod: \"wink\", mouthMod: \"smile\" },\r\n  { id: \"love\", name: \"\", eyeMod: \"hearts\", mouthMod: \"smile\" },\r\n  { id: \"cool\", name: \"\", eyeMod: \"sunglasses\", mouthMod: \"smirk\" },\r\n];\r\n\r\n//   \r\nexport const DEFAULT_AVATAR = {\r\n  skinTone: \"light\",\r\n  faceShape: \"oval\",\r\n  eyeStyle: \"normal\",\r\n  eyeColor: \"brown\",\r\n  mouthStyle: \"smile\",\r\n  hairstyle: \"short\",\r\n  hairColor: \"black\",\r\n  outfit: \"tshirt\",\r\n  outfitColor: \"blue\",\r\n  accessory: \"none\",\r\n  background: \"sky_blue\",\r\n  border: \"simple\",\r\n  expression: \"normal\",\r\n};\r\n\r\n/**\r\n *     .\r\n */\r\nexport function getAvatarConfig(userId) {\r\n  try {\r\n    const saved = localStorage.getItem(`avatar_${userId}`);\r\n    if (saved) {\r\n      return { ...DEFAULT_AVATAR, ...JSON.parse(saved) };\r\n    }\r\n  } catch {\r\n    //    \r\n  }\r\n  return { ...DEFAULT_AVATAR };\r\n}\r\n\r\n/**\r\n *     .\r\n */\r\nexport function saveAvatarConfig(userId, config) {\r\n  try {\r\n    localStorage.setItem(`avatar_${userId}`, JSON.stringify(config));\r\n    //     (    )\r\n    window.dispatchEvent(new CustomEvent('avatarChanged', { detail: { userId, config } }));\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n *    .\r\n */\r\nexport function getAvatarOptions(category) {\r\n  switch (category) {\r\n    case \"skinTone\": return SKIN_TONES;\r\n    case \"faceShape\": return FACE_SHAPES;\r\n    case \"eyeStyle\": return EYE_STYLES;\r\n    case \"eyeColor\": return EYE_COLORS;\r\n    case \"mouthStyle\": return MOUTH_STYLES;\r\n    case \"hairstyle\": return HAIRSTYLES;\r\n    case \"hairColor\": return HAIR_COLORS;\r\n    case \"outfit\": return OUTFITS;\r\n    case \"outfitColor\": return OUTFIT_COLORS;\r\n    case \"accessory\": return ACCESSORIES;\r\n    case \"background\": return BACKGROUNDS;\r\n    case \"border\": return BORDERS;\r\n    case \"expression\": return EXPRESSIONS;\r\n    default: return [];\r\n  }\r\n}\r\n\r\n/**\r\n *    .\r\n */\r\nexport function isHairstyleCompatible(hairstyleId, faceShapeId) {\r\n  const hairstyle = HAIRSTYLES.find(h => h.id === hairstyleId);\r\n  if (!hairstyle) return true;\r\n  return hairstyle.compatibleFaces.includes(faceShapeId);\r\n}\r\n\r\n/**\r\n *   \r\n * icon:    null (  )\r\n */\r\nexport const AVATAR_CATEGORIES = [\r\n  { id: \"skinTone\", name: \"\", icon: \"#FFE4C4\" },\r\n  { id: \"faceShape\", name: \"\", icon: \"#F5DEB3\" },\r\n  { id: \"eyeStyle\", name: \"\", icon: \"#1E90FF\" },\r\n  { id: \"eyeColor\", name: \"\", icon: \"#654321\" },\r\n  { id: \"mouthStyle\", name: \"\", icon: \"#e74c3c\" },\r\n  { id: \"hairstyle\", name: \"\", icon: \"#3d2314\" },\r\n  { id: \"hairColor\", name: \"\", icon: \"#1a1a1a\" },\r\n  { id: \"outfit\", name: \"\", icon: \"#3498db\" },\r\n  { id: \"outfitColor\", name: \"\", icon: \"#e74c3c\" },\r\n  { id: \"accessory\", name: \"\", icon: \"#f1c40f\" },\r\n  { id: \"background\", name: \"\", icon: \"#87CEEB\" },\r\n  { id: \"border\", name: \"\", icon: \"#a78bfa\" },\r\n];\r\n","// src/components/AlchanSidebar.js\n//  UI   -    \n\nimport React, { useState, useEffect, useCallback, useMemo, memo } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport {\n  X,\n  ChevronDown,\n  Wallet,\n  Target,\n  Gamepad2,\n  Package,\n  TrendingUp,\n  Landmark,\n  FileText,\n  Crown,\n  ShoppingBag,\n  Building2,\n  Music,\n  Settings,\n  Users,\n  Banknote,\n  Scale,\n  Shield,\n  LogOut,\n  Boxes,\n  Store,\n  Hammer,\n  BarChart3,\n  BookOpen,\n  Keyboard,\n  Circle,\n  LayoutDashboard,\n  CheckCircle,\n  Zap,\n} from \"lucide-react\";\n\n// ============================================\n//    (export   )\n// ============================================\nexport const AppIcon = ({ className, style }) => (\n  <svg\n    className={className}\n    style={style}\n    viewBox=\"0 0 100 100\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <defs>\n      <linearGradient\n        id=\"iconGradient\"\n        x1=\"0\"\n        y1=\"0\"\n        x2=\"100\"\n        y2=\"100\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop offset=\"0%\" stopColor=\"#7C3AED\" />\n        <stop offset=\"100%\" stopColor=\"#4F46E5\" />\n      </linearGradient>\n      <filter id=\"glow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n        <feGaussianBlur stdDeviation=\"3\" result=\"coloredBlur\" />\n        <feMerge>\n          <feMergeNode in=\"coloredBlur\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n    </defs>\n    <rect\n      x=\"5\"\n      y=\"5\"\n      width=\"90\"\n      height=\"90\"\n      rx=\"22\"\n      fill=\"url(#iconGradient)\"\n    />\n    <path\n      d=\"M28 52 L42 66 L72 36\"\n      stroke=\"white\"\n      strokeWidth=\"10\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      filter=\"url(#glow)\"\n    />\n    <path\n      d=\"M75 25 L77 30 L82 30 L78 34 L79 39 L75 36 L71 39 L72 34 L68 30 L73 30 Z\"\n      fill=\"#FFD700\"\n      stroke=\"#B45309\"\n      strokeWidth=\"1\"\n    />\n  </svg>\n);\n\n//   \nexport const ALCHAN_MENU_ITEMS = [\n  // Main - \n  {\n    id: \"todayTasks\",\n    label: \"  \",\n    icon: LayoutDashboard,\n    path: \"/dashboard/tasks\",\n    category: \"main\",\n  },\n  {\n    id: \"myAssets\",\n    label: \"  \",\n    icon: Wallet,\n    path: \"/my-assets\",\n    category: \"main\",\n  },\n  {\n    id: \"couponGoal\",\n    label: \"  \",\n    icon: Target,\n    path: \"/coupon-goal\",\n    category: \"main\",\n  },\n\n  // Games Category - \n  {\n    id: \"gamesCategory\",\n    label: \"  \",\n    icon: Gamepad2,\n    isCategory: true,\n    category: \"play\",\n  },\n  {\n    id: \"omokGame\",\n    label: \"\",\n    icon: Circle,\n    path: \"/learning-games/omok\",\n    parentId: \"gamesCategory\",\n  },\n  {\n    id: \"typingGame\",\n    label: \"\",\n    icon: Keyboard,\n    path: \"/learning-games/typing\",\n    parentId: \"gamesCategory\",\n  },\n  {\n    id: \"chessGame\",\n    label: \" \",\n    icon: Crown,\n    path: \"/learning-games/science\",\n    parentId: \"gamesCategory\",\n  },\n\n  // Items Category - \n  {\n    id: \"itemsCategory\",\n    label: \" \",\n    icon: Package,\n    isCategory: true,\n    category: \"economy\",\n  },\n  {\n    id: \"myItems\",\n    label: \" \",\n    icon: Boxes,\n    path: \"/my-items\",\n    parentId: \"itemsCategory\",\n  },\n  {\n    id: \"itemStore\",\n    label: \" \",\n    icon: Store,\n    path: \"/item-shop\",\n    parentId: \"itemsCategory\",\n  },\n  {\n    id: \"personalShop\",\n    label: \" \",\n    icon: ShoppingBag,\n    path: \"/personal-shop\",\n    parentId: \"itemsCategory\",\n  },\n\n  // Finance Category - \n  {\n    id: \"financeCategory\",\n    label: \" \",\n    icon: TrendingUp,\n    isCategory: true,\n    category: \"economy\",\n  },\n  {\n    id: \"banking\",\n    label: \"\",\n    icon: Banknote,\n    path: \"/banking\",\n    parentId: \"financeCategory\",\n  },\n  {\n    id: \"stockTrading\",\n    label: \" \",\n    icon: BarChart3,\n    path: \"/stock-trading\",\n    parentId: \"financeCategory\",\n  },\n  {\n    id: \"auction\",\n    label: \"\",\n    icon: Hammer,\n    path: \"/auction\",\n    parentId: \"financeCategory\",\n  },\n  {\n    id: \"realEstate\",\n    label: \"\",\n    icon: Building2,\n    path: \"/real-estate\",\n    parentId: \"financeCategory\",\n  },\n\n  // Public Category - \n  {\n    id: \"publicCategory\",\n    label: \" \",\n    icon: Landmark,\n    isCategory: true,\n    category: \"society\",\n  },\n  {\n    id: \"government\",\n    label: \"\",\n    icon: Landmark,\n    path: \"/government\",\n    parentId: \"publicCategory\",\n  },\n  {\n    id: \"nationalAssembly\",\n    label: \"\",\n    icon: Users,\n    path: \"/national-assembly\",\n    parentId: \"publicCategory\",\n  },\n  {\n    id: \"court\",\n    label: \"\",\n    icon: Scale,\n    path: \"/court\",\n    parentId: \"publicCategory\",\n  },\n  {\n    id: \"policeStation\",\n    label: \"\",\n    icon: Shield,\n    path: \"/police\",\n    parentId: \"publicCategory\",\n  },\n\n  // Board Category - \n  {\n    id: \"boardCategory\",\n    label: \" \",\n    icon: FileText,\n    isCategory: true,\n    category: \"community\",\n  },\n  {\n    id: \"learningBoard\",\n    label: \" \",\n    icon: BookOpen,\n    path: \"/learning-board\",\n    parentId: \"boardCategory\",\n  },\n  {\n    id: \"musicRequest\",\n    label: \" \",\n    icon: Music,\n    path: \"/learning-board/music-request\",\n    parentId: \"boardCategory\",\n  },\n\n  // Admin Category - \n  {\n    id: \"adminCategory\",\n    label: \" \",\n    icon: Settings,\n    isCategory: true,\n    category: \"admin\",\n    adminOnly: true,\n  },\n  {\n    id: \"taskApprovals\",\n    label: \" \",\n    icon: CheckCircle,\n    path: \"/admin/approvals\",\n    parentId: \"adminCategory\",\n    adminOnly: true,\n  },\n  {\n    id: \"adminSettings\",\n    label: \" \",\n    icon: Settings,\n    path: \"/admin/app-settings\",\n    parentId: \"adminCategory\",\n    adminOnly: true,\n  },\n  {\n    id: \"studentManagement\",\n    label: \" \",\n    icon: Users,\n    path: \"/admin/students\",\n    parentId: \"adminCategory\",\n    adminOnly: true,\n  },\n  {\n    id: \"moneyTransfer\",\n    label: \" /\",\n    icon: Banknote,\n    path: \"/admin/money-transfer\",\n    parentId: \"adminCategory\",\n    adminOnly: true,\n  },\n  {\n    id: \"couponTransfer\",\n    label: \" /\",\n    icon: Target,\n    path: \"/admin/coupon-transfer\",\n    parentId: \"adminCategory\",\n    adminOnly: true,\n  },\n  {\n    id: \"activityLog\",\n    label: \"\",\n    icon: FileText,\n    path: \"/admin/activity-log\",\n    parentId: \"adminCategory\",\n    adminOnly: true,\n  },\n  {\n    id: \"economicEvents\",\n    label: \" \",\n    icon: Zap,\n    path: \"/admin/economic-events\",\n    parentId: \"adminCategory\",\n    adminOnly: true,\n  },\n\n  //  SuperAdmin Category -    (isSuperAdmin  )\n  {\n    id: \"superAdminCategory\",\n    label: \" \",\n    icon: Shield,\n    isCategory: true,\n    category: \"superadmin\",\n    superAdminOnly: true,\n  },\n  {\n    id: \"superAdminDashboard\",\n    label: \"  \",\n    icon: Shield,\n    path: \"/super-admin\",\n    parentId: \"superAdminCategory\",\n    superAdminOnly: true,\n  },\n];\n\n//  \nconst CATEGORY_LABELS = {\n  main: \"\",\n  play: \"\",\n  economy: \"\",\n  society: \"\",\n  community: \"\",\n  admin: \"\",\n  superadmin: \" \",\n};\n\n// ============================================\n//   \n// ============================================\nconst MenuSection = memo(({ title, children }) => (\n  <div className=\"mb-6\">\n    <h3 className=\"px-4 text-[11px] font-bold text-slate-500 uppercase tracking-wider mb-2\">\n      {title}\n    </h3>\n    <ul className=\"space-y-1\">{children}</ul>\n  </div>\n));\n\n// ============================================\n//   \n// ============================================\nconst MenuItem = memo(({ icon: Icon, label, active, hasSubmenu, onClick }) => (\n  <li>\n    <button\n      onClick={onClick}\n      className={`w-full flex items-center justify-between px-4 py-2.5 rounded-xl transition-all duration-200 group ${\n        active\n          ? \"bg-indigo-500/20 text-indigo-400 font-bold shadow-sm border border-indigo-500/30\"\n          : \"text-slate-400 hover:bg-white/5 hover:text-slate-200\"\n      }`}\n    >\n      <div className=\"flex items-center gap-3\">\n        <Icon\n          className={`w-[18px] h-[18px] ${active ? \"text-indigo-400\" : \"text-slate-500 group-hover:text-slate-300\"}`}\n        />\n        <span className=\"text-sm\">{label}</span>\n      </div>\n      {hasSubmenu && <ChevronDown className=\"w-3.5 h-3.5 text-slate-400\" />}\n    </button>\n  </li>\n));\n\n// ============================================\n//   \n// ============================================\nconst SubMenuItem = memo(({ icon: Icon, label, active, onClick }) => (\n  <button\n    onClick={onClick}\n    className={`w-full flex items-center gap-3 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${\n      active\n        ? \"text-indigo-400 bg-indigo-500/20 shadow-[0_0_10px_rgba(99,102,241,0.2)]\"\n        : \"text-slate-500 hover:text-slate-200 hover:bg-white/5\"\n    }`}\n  >\n    <Icon className=\"w-3.5 h-3.5\" />\n    {label}\n  </button>\n));\n\n// ============================================\n//  \n// ============================================\nconst CategoryItem = ({\n  category,\n  children,\n  isExpanded,\n  onToggle,\n  hasActiveChild,\n}) => {\n  const Icon = category.icon;\n\n  return (\n    <div className=\"mb-1\">\n      <button\n        onClick={onToggle}\n        className={`w-full flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 group ${\n          hasActiveChild\n            ? \"bg-indigo-500/10 text-indigo-400 border border-indigo-500/20\"\n            : \"text-slate-400 hover:bg-white/5 hover:text-slate-200\"\n        }`}\n      >\n        <Icon\n          className={`w-[18px] h-[18px] transition-colors flex-shrink-0 ${\n            hasActiveChild\n              ? \"text-indigo-400\"\n              : \"text-slate-500 group-hover:text-slate-300\"\n          }`}\n        />\n        <span className=\"flex-1 text-left\">{category.label}</span>\n        <ChevronDown\n          className={`w-3.5 h-3.5 transition-transform duration-300 opacity-50 flex-shrink-0 ${\n            isExpanded ? \"rotate-180\" : \"\"\n          }`}\n        />\n      </button>\n      <div\n        className={`overflow-hidden transition-all duration-300 ${\n          isExpanded ? \"max-h-96 opacity-100\" : \"max-h-0 opacity-0\"\n        }`}\n      >\n        <div className=\"pl-4 mt-2 space-y-1 border-l-2 border-slate-700 ml-4\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ============================================\n//   \n// ============================================\nexport default function AlchanSidebar({\n  isOpen,\n  onClose,\n  isCollapsed = false,\n}) {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { userDoc, logout } = useAuth();\n\n  const [expandedCategories, setExpandedCategories] = useState({});\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n\n  useEffect(() => {\n    let timeoutId;\n    const handleResize = () => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => setIsMobile(window.innerWidth < 768), 150);\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      clearTimeout(timeoutId);\n    };\n  }, []);\n\n  const toggleCategory = useCallback((categoryId) => {\n    setExpandedCategories((prev) => ({\n      ...prev,\n      [categoryId]: !prev[categoryId],\n    }));\n  }, []);\n\n  const isActive = useCallback(\n    (path) => {\n      if (!path) return false;\n      return (\n        location.pathname === path || location.pathname.startsWith(`${path}/`)\n      );\n    },\n    [location.pathname],\n  );\n\n  const hasActiveChild = useCallback(\n    (categoryId) => {\n      return ALCHAN_MENU_ITEMS.some(\n        (item) => item.parentId === categoryId && isActive(item.path),\n      );\n    },\n    [isActive],\n  );\n\n  const handleItemClick = useCallback(\n    (item) => {\n      if (item.path) {\n        navigate(item.path);\n        if (isMobile) onClose?.();\n      }\n    },\n    [navigate, isMobile, onClose],\n  );\n\n  const handleLogout = useCallback(async () => {\n    try {\n      if (logout) {\n        await logout();\n        navigate(\"/login\");\n      }\n    } catch (e) {\n      navigate(\"/login\");\n    }\n  }, [logout, navigate]);\n\n  const isAdmin = userDoc?.isAdmin || userDoc?.isSuperAdmin;\n  const isSuperAdmin = userDoc?.isSuperAdmin;\n\n  let userRole = \"\";\n  if (userDoc?.isSuperAdmin) userRole = \" \";\n  else if (userDoc?.isAdmin) userRole = \"\";\n\n  const userName = userDoc?.name || userDoc?.nickname || \"\";\n\n  //   \n  const renderMenuSection = (categoryKey) => {\n    const items = ALCHAN_MENU_ITEMS.filter((item) => {\n      if (item.category !== categoryKey) return false;\n      if (item.adminOnly && !isAdmin) return false;\n      if (item.superAdminOnly && !isSuperAdmin) return false;\n      return true;\n    });\n\n    if (items.length === 0) return null;\n\n    return (\n      <MenuSection key={categoryKey} title={CATEGORY_LABELS[categoryKey]}>\n        {items.map((item) => {\n          if (item.isCategory) {\n            const childItems = ALCHAN_MENU_ITEMS.filter((child) => {\n              if (child.parentId !== item.id) return false;\n              if (child.adminOnly && !isAdmin) return false;\n              if (child.superAdminOnly && !isSuperAdmin) return false;\n              return true;\n            });\n\n            if (childItems.length === 0) return null;\n\n            return (\n              <CategoryItem\n                key={item.id}\n                category={item}\n                isExpanded={\n                  expandedCategories[item.id] || hasActiveChild(item.id)\n                }\n                onToggle={() => toggleCategory(item.id)}\n                hasActiveChild={hasActiveChild(item.id)}\n              >\n                {childItems.map((child) => {\n                  //   \n                  if (child.isSubGroup) {\n                    return (\n                      <div key={child.id} className=\"mt-3 mb-1 first:mt-0\">\n                        <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-wider px-2\">\n                          {child.label}\n                        </span>\n                      </div>\n                    );\n                  }\n                  //   \n                  return (\n                    <SubMenuItem\n                      key={child.id}\n                      icon={child.icon}\n                      label={child.label}\n                      active={isActive(child.path)}\n                      onClick={() => handleItemClick(child)}\n                    />\n                  );\n                })}\n              </CategoryItem>\n            );\n          } else if (!item.parentId) {\n            return (\n              <MenuItem\n                key={item.id}\n                icon={item.icon}\n                label={item.label}\n                active={isActive(item.path)}\n                onClick={() => handleItemClick(item)}\n              />\n            );\n          }\n          return null;\n        })}\n      </MenuSection>\n    );\n  };\n\n  // PC  \n  if (isCollapsed && !isMobile) {\n    return (\n      <aside className=\"hidden md:flex flex-col w-20 bg-[#141423] border-r border-[#00fff2]/10 h-screen sticky top-0 left-0 z-50 shadow-xl transition-all duration-300\">\n        {/*  */}\n        <div className=\"h-16 min-h-16 flex items-center justify-center bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600\">\n          <div className=\"p-1 bg-white/10 rounded-lg shadow-md\">\n            <AppIcon style={{ width: \"32px\", height: \"32px\" }} />\n          </div>\n        </div>\n\n        {/*   */}\n        <nav className=\"flex-1 overflow-y-auto py-4 px-2 space-y-2\">\n          {ALCHAN_MENU_ITEMS.filter(\n            (item) => !item.parentId && !item.isCategory,\n          ).map((item) => {\n            if (item.adminOnly && !isAdmin) return null;\n            if (item.superAdminOnly && !isSuperAdmin) return null;\n            const Icon = item.icon;\n            const active = isActive(item.path);\n            return (\n              <button\n                key={item.id}\n                onClick={() => handleItemClick(item)}\n                title={item.label}\n                className={`w-14 h-14 mx-auto rounded-2xl flex items-center justify-center transition-all duration-200 ${\n                  active\n                    ? \"bg-gradient-to-br from-indigo-600 to-violet-700 text-white shadow-lg shadow-indigo-500/40 border-none\"\n                    : \"bg-[#1a1a2e] border border-slate-700/50 text-slate-400 hover:bg-indigo-900/30 hover:text-indigo-400 hover:border-indigo-500/30\"\n                }`}\n              >\n                <Icon size={24} />\n              </button>\n            );\n          })}\n        </nav>\n\n        {/*   */}\n        <div className=\"p-4 border-t border-slate-800 bg-[#0a0a12]/50\">\n          <div className=\"w-10 h-10 mx-auto rounded-full bg-gradient-to-tr from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold\">\n            {userName.charAt(0)}\n          </div>\n        </div>\n      </aside>\n    );\n  }\n\n  return (\n    <>\n      {/*   */}\n      {isMobile && isOpen && (\n        <div\n          className=\"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-40 md:hidden\"\n          onClick={onClose}\n        />\n      )}\n\n      {/*  */}\n      <aside\n        className={`\n          fixed inset-y-0 left-0 z-50 w-72 bg-[#141423] border-r border-[#00fff2]/10 shadow-[0_4px_20px_rgba(0,0,0,0.5)] transform transition-transform duration-300 ease-in-out\n          ${\n            isMobile\n              ? isOpen\n                ? \"translate-x-0\"\n                : \"-translate-x-full\"\n              : \"relative translate-x-0\"\n          }\n          lg:relative lg:translate-x-0 lg:w-72 flex flex-col shrink-0\n        `}\n      >\n        {/*   -   */}\n        <div className=\"h-[72px] min-h-[72px] m-3 flex items-center relative rounded-2xl bg-gradient-to-br from-[#0a0a12]/95 to-[#141423]/95 border border-[#00fff2]/20 shadow-[0_0_15px_rgba(0,255,242,0.1)]\">\n          {/*   */}\n          <div className=\"absolute -top-5 -right-5 w-20 h-20 bg-white/10 rounded-full\" />\n          <div className=\"absolute -bottom-7 -left-2 w-15 h-15 bg-white/[0.08] rounded-full\" />\n\n          <div className=\"flex items-center gap-3.5 px-4 w-full relative z-10\">\n            {/*   */}\n            <div className=\"p-1.5 bg-white/5 rounded-xl shadow-md border border-white/10\">\n              <AppIcon style={{ width: \"36px\", height: \"36px\" }} />\n            </div>\n            <div className=\"flex flex-col justify-center\">\n              <span className=\"text-[22px] font-black text-[#00fff2] leading-tight font-jua drop-shadow-[0_0_10px_rgba(0,255,242,0.5)]\">\n                \n              </span>\n              <span className=\"text-[11px] font-bold text-[#e8e8ff]/70 tracking-[0.2em] leading-tight mt-0.5\">\n                ALCHAN\n              </span>\n            </div>\n          </div>\n\n          {/*    */}\n          {isMobile && (\n            <button\n              onClick={onClose}\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-full bg-white/20 border-0 text-white cursor-pointer\"\n            >\n              <X size={18} />\n            </button>\n          )}\n        </div>\n\n        {/*   */}\n        <nav className=\"flex-1 overflow-y-auto py-6 px-4 space-y-8 scrollbar-hide\">\n          {renderMenuSection(\"main\")}\n          {renderMenuSection(\"play\")}\n          {renderMenuSection(\"economy\")}\n          {renderMenuSection(\"society\")}\n          {renderMenuSection(\"community\")}\n          {renderMenuSection(\"admin\")}\n          {renderMenuSection(\"superadmin\")}\n        </nav>\n\n        {/*    */}\n        <div className=\"p-4 border-t border-slate-800 bg-[#0a0a12]/50\">\n          <div\n            onClick={handleLogout}\n            className=\"flex items-center gap-3 p-3 rounded-xl bg-[#141423] shadow-sm border border-slate-700 hover:shadow-md hover:border-indigo-500/50 transition-all cursor-pointer group\"\n          >\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold\">\n              {userName.charAt(0)}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-bold text-slate-200 truncate\">\n                {userName}\n              </p>\n              <p className=\"text-xs text-slate-500 truncate\">{userRole}</p>\n            </div>\n            <LogOut className=\"w-4 h-4 text-slate-400 group-hover:text-red-500 transition-colors\" />\n          </div>\n        </div>\n      </aside>\n    </>\n  );\n}\n","// src/components/TutorialGuide.js\n//    \n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { db } from \"../firebase\";\nimport { doc, getDoc, setDoc, serverTimestamp } from \"firebase/firestore\";\nimport { logger } from \"../utils/logger\";\nimport {\n  X,\n  ChevronLeft,\n  ChevronRight,\n  Sparkles,\n  Wallet,\n  Target,\n  Gamepad2,\n  ShoppingBag,\n  TrendingUp,\n  Users,\n  Check,\n  Play,\n} from \"lucide-react\";\n\n//   \nconst TUTORIAL_STEPS = [\n  {\n    id: \"welcome\",\n    title: \"   ! \",\n    description:\n      \"      .  ?\",\n    icon: Sparkles,\n    color: \"from-indigo-500 to-violet-600\",\n    tips: [\n      \"      \",\n      \"   \",\n      \"     \",\n    ],\n  },\n  {\n    id: \"assets\",\n    title: \"   \",\n    description: \"     .\",\n    icon: Wallet,\n    color: \"from-emerald-500 to-teal-600\",\n    tips: [\n      \":      \",\n      \":     \",\n      \"    \",\n    ],\n    action: {\n      label: \" \",\n      path: \"/my-assets\",\n    },\n  },\n  {\n    id: \"tasks\",\n    title: \"   \",\n    description: \"     !\",\n    icon: Target,\n    color: \"from-amber-500 to-orange-600\",\n    tips: [\n      \"  \",\n      \"   \",\n      \"   !\",\n    ],\n    action: {\n      label: \" \",\n      path: \"/dashboard/tasks\",\n    },\n  },\n  {\n    id: \"shop\",\n    title: \"   \",\n    description: \"     .\",\n    icon: ShoppingBag,\n    color: \"from-pink-500 to-rose-600\",\n    tips: [\n      \"  \",\n      \"     \",\n      \"   !\",\n    ],\n    action: {\n      label: \" \",\n      path: \"/item-shop\",\n    },\n  },\n  {\n    id: \"games\",\n    title: \"   \",\n    description: \" ,    !\",\n    icon: Gamepad2,\n    color: \"from-purple-500 to-violet-600\",\n    tips: [\n      \",   \",\n      \"  \",\n      \"    !\",\n    ],\n    action: {\n      label: \" \",\n      path: \"/learning-games/omok\",\n    },\n  },\n  {\n    id: \"finance\",\n    title: \"   \",\n    description: \", ,     .\",\n    icon: TrendingUp,\n    color: \"from-blue-500 to-cyan-600\",\n    tips: [\n      \"   \",\n      \"    \",\n      \"   \",\n    ],\n    action: {\n      label: \" \",\n      path: \"/banking\",\n    },\n  },\n  {\n    id: \"community\",\n    title: \"   \",\n    description: \", ,     .\",\n    icon: Users,\n    color: \"from-teal-500 to-emerald-600\",\n    tips: [\n      \"  \",\n      \"  \",\n      \"     \",\n    ],\n    action: {\n      label: \"\",\n      path: \"/government\",\n    },\n  },\n  {\n    id: \"complete\",\n    title: \" ! \",\n    description: \"      !\",\n    icon: Check,\n    color: \"from-green-500 to-emerald-600\",\n    tips: [\n      \"   \",\n      \"    !\",\n      \"    !\",\n    ],\n  },\n];\n\n//   \nexport function TutorialGuide({ onComplete, onSkip }) {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  const step = TUTORIAL_STEPS[currentStep];\n  const Icon = step.icon;\n  const isLastStep = currentStep === TUTORIAL_STEPS.length - 1;\n  const isFirstStep = currentStep === 0;\n\n  const handleNext = useCallback(() => {\n    if (isLastStep) {\n      onComplete?.();\n      return;\n    }\n\n    setIsAnimating(true);\n    setTimeout(() => {\n      setCurrentStep((prev) => prev + 1);\n      setIsAnimating(false);\n    }, 200);\n  }, [isLastStep, onComplete]);\n\n  const handlePrev = useCallback(() => {\n    if (isFirstStep) return;\n\n    setIsAnimating(true);\n    setTimeout(() => {\n      setCurrentStep((prev) => prev - 1);\n      setIsAnimating(false);\n    }, 200);\n  }, [isFirstStep]);\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-gray-800 rounded-3xl max-w-md w-full overflow-hidden shadow-2xl\">\n        {/*  */}\n        <div\n          className={`bg-gradient-to-r ${step.color} p-6 text-white relative`}\n        >\n          <button\n            onClick={onSkip}\n            className=\"absolute top-4 right-4 p-1 rounded-full bg-white/20 hover:bg-white/30 transition-colors\"\n          >\n            <X size={20} />\n          </button>\n\n          <div className=\"flex items-center justify-center mb-4\">\n            <div className=\"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center\">\n              <Icon size={40} />\n            </div>\n          </div>\n\n          <h2 className=\"text-xl font-bold text-center\">{step.title}</h2>\n\n          {/*   */}\n          <div className=\"flex justify-center gap-1 mt-4\">\n            {TUTORIAL_STEPS.map((_, i) => (\n              <div\n                key={i}\n                className={`w-2 h-2 rounded-full transition-all duration-300 ${\n                  i === currentStep ? \"w-6 bg-white\" : \"bg-white/40\"\n                }`}\n              />\n            ))}\n          </div>\n        </div>\n\n        {/*  */}\n        <div\n          className={`p-6 transition-opacity duration-200 ${isAnimating ? \"opacity-0\" : \"opacity-100\"}`}\n        >\n          <p className=\"text-gray-300 text-center mb-6\">{step.description}</p>\n\n          <div className=\"space-y-3 mb-6\">\n            {step.tips.map((tip, i) => (\n              <div\n                key={i}\n                className=\"flex items-start gap-3 p-3 bg-gray-700/50 rounded-xl\"\n              >\n                <div\n                  className={`w-6 h-6 rounded-full bg-gradient-to-r ${step.color} flex items-center justify-center flex-shrink-0`}\n                >\n                  <span className=\"text-white text-xs font-bold\">{i + 1}</span>\n                </div>\n                <p className=\"text-sm text-gray-300\">{tip}</p>\n              </div>\n            ))}\n          </div>\n\n          {step.action && (\n            <a\n              href={step.action.path}\n              className={`block w-full py-3 bg-gradient-to-r ${step.color} text-white rounded-xl font-semibold text-center mb-4 hover:opacity-90 transition-opacity`}\n              onClick={(e) => {\n                e.preventDefault();\n                //      \n                handleNext();\n              }}\n            >\n              <Play size={16} className=\"inline mr-2\" />\n              {step.action.label}\n            </a>\n          )}\n        </div>\n\n        {/*   */}\n        <div className=\"px-6 pb-6 flex gap-3\">\n          <button\n            onClick={handlePrev}\n            disabled={isFirstStep}\n            className={`flex-1 py-3 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${\n              isFirstStep\n                ? \"bg-gray-700 text-gray-400 cursor-not-allowed\"\n                : \"bg-gray-700 text-gray-300 hover:bg-gray-600\"\n            }`}\n          >\n            <ChevronLeft size={18} />\n            \n          </button>\n          <button\n            onClick={handleNext}\n            className={`flex-1 py-3 bg-gradient-to-r ${step.color} text-white rounded-xl font-semibold hover:opacity-90 transition-opacity flex items-center justify-center gap-2`}\n          >\n            {isLastStep ? \"\" : \"\"}\n            {!isLastStep && <ChevronRight size={18} />}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n//  \nexport function useTutorial() {\n  const { user } = useAuth();\n  const [showTutorial, setShowTutorial] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!user?.uid) {\n      setLoading(false);\n      return;\n    }\n\n    const checkTutorial = async () => {\n      try {\n        const tutorialRef = doc(db, \"users\", user.uid, \"settings\", \"tutorial\");\n        const tutorialDoc = await getDoc(tutorialRef);\n\n        if (!tutorialDoc.exists() || !tutorialDoc.data().completed) {\n          setShowTutorial(true);\n        }\n      } catch (error) {\n        logger.error(\"  :\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkTutorial();\n  }, [user?.uid]);\n\n  const completeTutorial = useCallback(async () => {\n    if (!user?.uid) return;\n\n    try {\n      const tutorialRef = doc(db, \"users\", user.uid, \"settings\", \"tutorial\");\n      await setDoc(tutorialRef, {\n        completed: true,\n        completedAt: serverTimestamp(),\n      });\n      setShowTutorial(false);\n    } catch (error) {\n      logger.error(\"   :\", error);\n    }\n  }, [user?.uid]);\n\n  const skipTutorial = useCallback(async () => {\n    if (!user?.uid) return;\n\n    try {\n      const tutorialRef = doc(db, \"users\", user.uid, \"settings\", \"tutorial\");\n      await setDoc(tutorialRef, {\n        completed: true,\n        skipped: true,\n        skippedAt: serverTimestamp(),\n      });\n      setShowTutorial(false);\n    } catch (error) {\n      logger.error(\"   :\", error);\n    }\n  }, [user?.uid]);\n\n  const resetTutorial = useCallback(async () => {\n    if (!user?.uid) return;\n\n    try {\n      const tutorialRef = doc(db, \"users\", user.uid, \"settings\", \"tutorial\");\n      await setDoc(tutorialRef, {\n        completed: false,\n      });\n      setShowTutorial(true);\n    } catch (error) {\n      logger.error(\"  :\", error);\n    }\n  }, [user?.uid]);\n\n  return {\n    showTutorial,\n    loading,\n    completeTutorial,\n    skipTutorial,\n    resetTutorial,\n  };\n}\n\n//    \nexport function FeatureTooltip({\n  children,\n  title,\n  description,\n  position = \"bottom\",\n}) {\n  const [show, setShow] = useState(false);\n\n  const positionClasses = {\n    top: \"bottom-full mb-2\",\n    bottom: \"top-full mt-2\",\n    left: \"right-full mr-2\",\n    right: \"left-full ml-2\",\n  };\n\n  return (\n    <div\n      className=\"relative inline-block\"\n      onMouseEnter={() => setShow(true)}\n      onMouseLeave={() => setShow(false)}\n    >\n      {children}\n      {show && (\n        <div\n          className={`absolute ${positionClasses[position]} left-1/2 -translate-x-1/2 w-48 p-3 bg-gray-900 text-white rounded-xl shadow-xl z-50`}\n        >\n          <h4 className=\"font-semibold text-sm mb-1\">{title}</h4>\n          <p className=\"text-xs text-gray-300\">{description}</p>\n          <div className=\"absolute w-2 h-2 bg-gray-900 transform rotate-45 left-1/2 -translate-x-1/2 -top-1\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default TutorialGuide;\n","// src/components/SettingsPanel.js\n//    ( ,   )\n\nimport React, { useState } from \"react\";\nimport { useTheme, FONT_SIZES } from \"../contexts/ThemeContext\";\nimport { useTutorial } from \"./TutorialGuide\";\nimport {\n  X,\n  Moon,\n  Sun,\n  Type,\n  RefreshCw,\n  Bell,\n  Volume2,\n  Smartphone,\n  ChevronRight,\n  Check,\n  HelpCircle,\n} from \"lucide-react\";\n\nexport function SettingsPanel({ isOpen, onClose }) {\n  const { isDarkMode, toggleDarkMode, fontSize, setFontSize } = useTheme();\n  const { resetTutorial } = useTutorial();\n  const [notifications, setNotifications] = useState(\n    localStorage.getItem(\"alchan-notifications\") !== \"false\",\n  );\n  const [sounds, setSounds] = useState(\n    localStorage.getItem(\"alchan-sounds\") !== \"false\",\n  );\n\n  const handleNotificationToggle = () => {\n    const newValue = !notifications;\n    setNotifications(newValue);\n    localStorage.setItem(\"alchan-notifications\", String(newValue));\n  };\n\n  const handleSoundToggle = () => {\n    const newValue = !sounds;\n    setSounds(newValue);\n    localStorage.setItem(\"alchan-sounds\", String(newValue));\n  };\n\n  const handleResetTutorial = () => {\n    if (window.confirm(\"  ?\")) {\n      resetTutorial();\n      onClose();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-gray-800 rounded-3xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl\">\n        {/*  */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-700\">\n          <h2 className=\"text-lg font-bold text-white\"></h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 rounded-full hover:bg-gray-700 transition-colors\"\n          >\n            <X size={20} className=\"text-gray-400\" />\n          </button>\n        </div>\n\n        {/*   */}\n        <div className=\"overflow-y-auto p-4 space-y-6\">\n          {/*   */}\n          <section>\n            <h3 className=\"text-sm font-semibold text-gray-400 mb-3 uppercase tracking-wider\">\n              \n            </h3>\n\n            {/*   */}\n            <div className=\"bg-gray-700/50 rounded-2xl p-4 space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  {isDarkMode ? (\n                    <Moon size={20} className=\"text-indigo-500\" />\n                  ) : (\n                    <Sun size={20} className=\"text-amber-500\" />\n                  )}\n                  <div>\n                    <p className=\"font-medium text-white\"> </p>\n                    <p className=\"text-sm text-gray-400\">\n                          \n                    </p>\n                  </div>\n                </div>\n                <button\n                  onClick={toggleDarkMode}\n                  className={`w-12 h-7 rounded-full transition-colors relative ${\n                    isDarkMode ? \"bg-indigo-500\" : \"bg-gray-500\"\n                  }`}\n                >\n                  <div\n                    className={`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${\n                      isDarkMode ? \"left-6\" : \"left-1\"\n                    }`}\n                  />\n                </button>\n              </div>\n\n              {/*   */}\n              <div className=\"pt-4 border-t border-gray-600\">\n                <div className=\"flex items-center gap-3 mb-3\">\n                  <Type size={20} className=\"text-blue-500\" />\n                  <div>\n                    <p className=\"font-medium text-white\"> </p>\n                    <p className=\"text-sm text-gray-400\">\n                         \n                    </p>\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-4 gap-2\">\n                  {Object.entries(FONT_SIZES).map(([key, { label }]) => (\n                    <button\n                      key={key}\n                      onClick={() => setFontSize(key)}\n                      className={`py-2 rounded-xl text-sm font-medium transition-all ${\n                        fontSize === key\n                          ? \"bg-indigo-500 text-white\"\n                          : \"bg-gray-600 text-gray-300 hover:bg-gray-500\"\n                      }`}\n                    >\n                      {label}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </section>\n\n          {/*   */}\n          <section>\n            <h3 className=\"text-sm font-semibold text-gray-400 mb-3 uppercase tracking-wider\">\n              \n            </h3>\n\n            <div className=\"bg-gray-700/50 rounded-2xl divide-y divide-gray-600\">\n              {/*   */}\n              <div className=\"flex items-center justify-between p-4\">\n                <div className=\"flex items-center gap-3\">\n                  <Bell size={20} className=\"text-green-500\" />\n                  <div>\n                    <p className=\"font-medium text-white\"> </p>\n                    <p className=\"text-sm text-gray-400\">\n                        \n                    </p>\n                  </div>\n                </div>\n                <button\n                  onClick={handleNotificationToggle}\n                  className={`w-12 h-7 rounded-full transition-colors relative ${\n                    notifications ? \"bg-green-500\" : \"bg-gray-500\"\n                  }`}\n                >\n                  <div\n                    className={`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${\n                      notifications ? \"left-6\" : \"left-1\"\n                    }`}\n                  />\n                </button>\n              </div>\n\n              {/*  */}\n              <div className=\"flex items-center justify-between p-4\">\n                <div className=\"flex items-center gap-3\">\n                  <Volume2 size={20} className=\"text-purple-500\" />\n                  <div>\n                    <p className=\"font-medium text-white\"></p>\n                    <p className=\"text-sm text-gray-400\"> </p>\n                  </div>\n                </div>\n                <button\n                  onClick={handleSoundToggle}\n                  className={`w-12 h-7 rounded-full transition-colors relative ${\n                    sounds ? \"bg-purple-500\" : \"bg-gray-500\"\n                  }`}\n                >\n                  <div\n                    className={`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${\n                      sounds ? \"left-6\" : \"left-1\"\n                    }`}\n                  />\n                </button>\n              </div>\n            </div>\n          </section>\n\n          {/*  */}\n          <section>\n            <h3 className=\"text-sm font-semibold text-gray-400 mb-3 uppercase tracking-wider\">\n              \n            </h3>\n\n            <div className=\"bg-gray-700/50 rounded-2xl divide-y divide-gray-600\">\n              {/*    */}\n              <button\n                onClick={handleResetTutorial}\n                className=\"flex items-center justify-between p-4 w-full hover:bg-gray-600/50 transition-colors\"\n              >\n                <div className=\"flex items-center gap-3\">\n                  <HelpCircle size={20} className=\"text-amber-500\" />\n                  <div className=\"text-left\">\n                    <p className=\"font-medium text-white\">  </p>\n                    <p className=\"text-sm text-gray-400\">\n                        \n                    </p>\n                  </div>\n                </div>\n                <ChevronRight size={20} className=\"text-gray-400\" />\n              </button>\n\n              {/*   */}\n              <div className=\"p-4\">\n                <div className=\"flex items-center gap-3\">\n                  <Smartphone size={20} className=\"text-gray-400\" />\n                  <div>\n                    <p className=\"font-medium text-white\"> </p>\n                    <p className=\"text-sm text-gray-400\">v1.0.0</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n\n        {/*  */}\n        <div className=\"p-4 border-t border-gray-700\">\n          <button\n            onClick={onClose}\n            className=\"w-full py-3 bg-indigo-500 hover:bg-indigo-600 text-white rounded-xl font-semibold transition-colors\"\n          >\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SettingsPanel;\n","// src/components/AlchanHeader.js\n//  UI   -    \n\nimport React, { useState, useRef, useEffect, memo, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { verifyClassCode } from \"../firebase\";\nimport {\n  X,\n  LogOut,\n  User,\n  Key,\n  Building2,\n  Trash2,\n  ChevronLeft,\n  ChevronRight,\n  Gift,\n  Settings,\n  LayoutDashboard,\n} from \"lucide-react\";\nimport SettingsPanel from \"./SettingsPanel\";\nimport Avatar from \"./Avatar\";\nimport { getAvatarConfig } from \"../utils/avatarSystem\";\nimport { getLevelInfo } from \"../utils/levelSystem\";\nimport {\n  getUserAchievements,\n  getAchievementById,\n} from \"../utils/achievementSystem\";\nimport { formatKoreanNumber, getCurrencyUnit } from \"../utils/numberFormatter\";\n\n//   - numberFormatter.js  (  )\nconst formatMoney = (amount) => formatKoreanNumber(amount, getCurrencyUnit());\n\n//  \nconst Modal = ({ isOpen, onClose, title, children }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-[#1a1a2e] rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border border-slate-700\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"px-6 py-5 border-b border-slate-700 bg-gradient-to-r from-[#141423] to-indigo-900/20 flex items-center justify-between\">\n          <h3 className=\"text-lg font-bold text-white\">{title}</h3>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-lg bg-slate-800 hover:bg-slate-700 flex items-center justify-center text-slate-400 transition-colors\"\n          >\n            <X size={18} />\n          </button>\n        </div>\n        <div className=\"p-6\">{children}</div>\n      </div>\n    </div>\n  );\n};\n\nconst AlchanHeader = memo(\n  ({ toggleSidebar, isSidebarCollapsed, onToggleSidebarCollapse }) => {\n    const navigate = useNavigate();\n    const {\n      user,\n      userDoc,\n      logout,\n      updateUser,\n      changePassword,\n      deleteCurrentUserAccount,\n      loginWithEmailPassword,\n    } = useAuth();\n\n    const [showUserMenu, setShowUserMenu] = useState(false);\n    const [isLoading, setIsLoading] = useState(false);\n    const userMenuRef = useRef(null);\n\n    const [activeModal, setActiveModal] = useState(null);\n    const [showSettings, setShowSettings] = useState(false);\n\n    // \n    const [newNickname, setNewNickname] = useState(\"\");\n    const [nicknameError, setNicknameError] = useState(\"\");\n\n    // \n    const [currentPassword, setCurrentPassword] = useState(\"\");\n    const [newPassword, setNewPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [passwordError, setPasswordError] = useState(\"\");\n    const [passwordSuccess, setPasswordSuccess] = useState(false);\n\n    //  \n    const [newClassCodeInput, setNewClassCodeInput] = useState(\"\");\n    const [classCodeError, setClassCodeError] = useState(\"\");\n    const [classCodeSuccess, setClassCodeSuccess] = useState(false);\n\n    const isCurrentUserAdmin =\n      userDoc?.isAdmin || userDoc?.role === \"admin\" || userDoc?.isSuperAdmin;\n    const displayName =\n      userDoc?.name || userDoc?.nickname || user?.displayName || \"\";\n\n    let userRole = \"\";\n    if (userDoc?.isSuperAdmin) userRole = \" \";\n    else if (userDoc?.isAdmin) userRole = \"\";\n\n    // , ,  \n    const [avatarConfig, setAvatarConfig] = useState(null);\n\n    //       \n    useEffect(() => {\n      if (user?.uid) {\n        setAvatarConfig(getAvatarConfig(user.uid));\n      }\n\n      //    \n      const handleAvatarChange = (e) => {\n        if (e.detail.userId === user?.uid) {\n          setAvatarConfig(e.detail.config);\n        }\n      };\n\n      window.addEventListener(\"avatarChanged\", handleAvatarChange);\n      return () =>\n        window.removeEventListener(\"avatarChanged\", handleAvatarChange);\n    }, [user?.uid]);\n\n    const levelInfo = useMemo(() => {\n      const cash = Number(userDoc?.cash) || 0;\n      const stockValue = Number(userDoc?.stockValue) || 0;\n      const realEstateValue = Number(userDoc?.realEstateValue) || 0;\n      const itemValue = Number(userDoc?.itemValue) || 0;\n      const netAssets = cash + stockValue + realEstateValue + itemValue;\n      return getLevelInfo(netAssets);\n    }, [\n      userDoc?.cash,\n      userDoc?.stockValue,\n      userDoc?.realEstateValue,\n      userDoc?.itemValue,\n    ]);\n\n    const bestAchievement = useMemo(() => {\n      if (!user?.uid) return null;\n      const achievements = getUserAchievements(user.uid);\n      if (achievements.length === 0) return null;\n\n      const rarityOrder = { legendary: 0, epic: 1, rare: 2, common: 3 };\n      const sorted = [...achievements].sort((a, b) => {\n        const achA = getAchievementById(a.id);\n        const achB = getAchievementById(b.id);\n        return (\n          (rarityOrder[achA?.rarity] || 99) - (rarityOrder[achB?.rarity] || 99)\n        );\n      });\n\n      return getAchievementById(sorted[0].id);\n    }, [user?.uid]);\n\n    useEffect(() => {\n      const handleClickOutside = (event) => {\n        if (\n          userMenuRef.current &&\n          !userMenuRef.current.contains(event.target)\n        ) {\n          setShowUserMenu(false);\n        }\n      };\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () =>\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n\n    const closeModal = () => {\n      setActiveModal(null);\n      setNicknameError(\"\");\n      setPasswordError(\"\");\n      setPasswordSuccess(false);\n      setClassCodeError(\"\");\n      setClassCodeSuccess(false);\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmPassword(\"\");\n    };\n\n    const handleLogout = async () => {\n      try {\n        if (logout) {\n          await logout();\n          navigate(\"/login\");\n        }\n      } catch (e) {\n        navigate(\"/login\");\n      }\n      setShowUserMenu(false);\n    };\n\n    //  \n    const handleChangeNickname = () => {\n      setNewNickname(userDoc?.name || userDoc?.nickname || \"\");\n      setActiveModal(\"nickname\");\n      setShowUserMenu(false);\n    };\n\n    const saveNickname = async () => {\n      const trimmed = newNickname.trim();\n      if (!trimmed) return setNicknameError(\" .\");\n      if (trimmed.length < 2)\n        return setNicknameError(\"  2  .\");\n      if (trimmed.length > 12)\n        return setNicknameError(\"  12 .\");\n\n      setIsLoading(true);\n      try {\n        const success = await updateUser({ name: trimmed });\n        if (success) {\n          alert(\" .\");\n          closeModal();\n        } else {\n          setNicknameError(\" .\");\n        }\n      } catch (error) {\n        setNicknameError(`: ${error.message}`);\n      }\n      setIsLoading(false);\n    };\n\n    //  \n    const handleChangePassword = () => {\n      setActiveModal(\"password\");\n      setShowUserMenu(false);\n    };\n\n    const savePassword = async () => {\n      if (!currentPassword || !newPassword || !confirmPassword)\n        return setPasswordError(\"  .\");\n      if (newPassword.length < 6)\n        return setPasswordError(\"  6  .\");\n      if (newPassword !== confirmPassword)\n        return setPasswordError(\"  .\");\n\n      setIsLoading(true);\n      try {\n        await loginWithEmailPassword(user.email, currentPassword, true);\n        await changePassword(newPassword);\n        setPasswordSuccess(true);\n        setTimeout(closeModal, 2000);\n      } catch (error) {\n        if (\n          error.code === \"auth/wrong-password\" ||\n          error.code === \"auth/invalid-credential\"\n        ) {\n          setPasswordError(\"   .\");\n        } else {\n          setPasswordError(`: ${error.message}`);\n        }\n      }\n      setIsLoading(false);\n    };\n\n    //  \n    const handleEnterClassCode = () => {\n      setNewClassCodeInput(userDoc?.classCode || \"\");\n      setActiveModal(\"classCode\");\n      setShowUserMenu(false);\n    };\n\n    const saveClassCode = async () => {\n      const trimmed = newClassCodeInput.trim().toUpperCase();\n      if (!trimmed) return setClassCodeError(\"  .\");\n\n      setIsLoading(true);\n      try {\n        const isValid = await verifyClassCode(trimmed);\n        if (!isValid) {\n          setClassCodeError(`'${trimmed}'    .`);\n          setIsLoading(false);\n          return;\n        }\n\n        const success = await updateUser({ classCode: trimmed });\n        if (success) {\n          setClassCodeSuccess(true);\n          setTimeout(() => {\n            alert(`  '${trimmed}' !`);\n            closeModal();\n          }, 1000);\n        } else {\n          setClassCodeError(\" .\");\n        }\n      } catch (error) {\n        setClassCodeError(`: ${error.message}`);\n      }\n      setIsLoading(false);\n    };\n\n    //  \n    const handleDeleteAccount = async () => {\n      setShowUserMenu(false);\n      const confirmation = window.prompt(\n        \"   '' .\",\n      );\n      if (confirmation === \"\") {\n        const password = window.prompt(\"  .\");\n        if (password) {\n          try {\n            await loginWithEmailPassword(user.email, password, true);\n            await deleteCurrentUserAccount();\n            alert(\" .\");\n          } catch (error) {\n            alert(` : ${error.message}`);\n          }\n        }\n      }\n    };\n\n    return (\n      <>\n        {/*   */}\n        <header className=\"md:hidden sticky top-0 z-30 bg-[#141423] border-b border-[#00fff2]/10\">\n          {/*    */}\n          <div className=\"h-14 px-3 flex items-center justify-between\">\n            {/* :   +   */}\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={toggleSidebar}\n                className=\"p-1.5 rounded-lg hover:bg-white/5 transition-colors\"\n              >\n                <LayoutDashboard size={22} className=\"text-white\" />\n              </button>\n              <h2 className=\"text-sm font-bold text-white whitespace-nowrap\">\n                 <span className=\"text-[#00fff2]\"></span> !\n              </h2>\n            </div>\n\n            {/* : / +  */}\n            <div className=\"flex items-center gap-2\">\n              {/*  &   */}\n              <div\n                onClick={() => navigate(\"/my-profile\")}\n                className=\"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg cursor-pointer bg-[#a78bfa]/20\"\n              >\n                <span className=\"text-sm\">{levelInfo?.icon || \"\"}</span>\n                <div className=\"flex flex-col leading-none\">\n                  <span className=\"text-[9px] text-gray-400\">LEVEL</span>\n                  <span\n                    className=\"text-xs font-bold\"\n                    style={{ color: levelInfo?.color || \"#a78bfa\" }}\n                  >\n                    {levelInfo?.level || 1}\n                  </span>\n                </div>\n                {bestAchievement && (\n                  <span className=\"text-sm ml-0.5\">{bestAchievement.icon}</span>\n                )}\n              </div>\n\n              {/*  -    */}\n              <div\n                onClick={() => navigate(\"/my-profile\")}\n                className=\"cursor-pointer\"\n              >\n                <Avatar config={avatarConfig} size={40} showBorder={true} />\n              </div>\n            </div>\n          </div>\n\n          {/*     */}\n          <div className=\"px-4 pb-3 flex gap-3\">\n            {/*  */}\n            <div className=\"flex-1 flex items-center gap-2 px-3 py-2 bg-emerald-900/10 rounded-xl border border-emerald-500/20\">\n              <div className=\"w-8 h-8 rounded-lg bg-emerald-600 text-white flex items-center justify-center shadow-sm flex-shrink-0\">\n                <span className=\"font-bold text-xs\"></span>\n              </div>\n              <div className=\"min-w-0\">\n                <p className=\"text-[9px] text-emerald-400 font-bold uppercase tracking-wider leading-none\">\n                  \n                </p>\n                <p className=\"text-sm font-bold text-white truncate\">\n                  {formatMoney(userDoc?.cash || 0)}\n                </p>\n              </div>\n            </div>\n\n            {/*  */}\n            <div className=\"flex-1 flex items-center gap-2 px-3 py-2 bg-rose-900/10 rounded-xl border border-rose-500/20\">\n              <div className=\"w-8 h-8 rounded-lg bg-rose-600 text-white flex items-center justify-center shadow-sm flex-shrink-0\">\n                <Gift size={14} />\n              </div>\n              <div className=\"min-w-0\">\n                <p className=\"text-[9px] text-rose-400 font-bold uppercase tracking-wider leading-none\">\n                  \n                </p>\n                <p className=\"text-sm font-bold text-white truncate\">\n                  {userDoc?.coupons || 0}\n                </p>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* PC  */}\n        <header className=\"hidden md:flex items-center justify-between bg-[#141423] border-b border-[#00fff2]/10 shadow-sm z-10 h-16 min-h-16 max-h-16 px-4\">\n          <div className=\"flex items-center gap-3\">\n            {/*    */}\n            <button\n              onClick={onToggleSidebarCollapse}\n              className=\"p-2 rounded-lg border border-[#00fff2]/10 bg-white/5 text-white cursor-pointer flex items-center justify-center\"\n            >\n              {isSidebarCollapsed ? (\n                <ChevronRight size={16} />\n              ) : (\n                <ChevronLeft size={16} />\n              )}\n            </button>\n            <div>\n              <div className=\"text-[15px] font-bold text-white whitespace-nowrap leading-tight\">\n                 <span className=\"text-[#00fff2] font-jua\"></span>{\" \"}\n                ! \n              </div>\n              <div className=\"text-xs text-slate-400 whitespace-nowrap leading-tight\">\n                {displayName} \n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            {/*   */}\n            <div className=\"flex items-center gap-2 px-3 py-1.5 bg-emerald-900/10 rounded-lg text-emerald-400\">\n              <div className=\"w-8 h-8 rounded-lg bg-emerald-600 text-white flex items-center justify-center font-bold text-xs\">\n                \n              </div>\n              <div>\n                <div className=\"text-[10px] font-semibold opacity-70 leading-tight\">\n                  \n                </div>\n                <div className=\"text-[13px] font-bold whitespace-nowrap leading-tight\">\n                  {formatMoney(userDoc?.cash || 0)}\n                </div>\n              </div>\n            </div>\n\n            {/*   */}\n            <div className=\"flex items-center gap-2 px-3 py-1.5 bg-rose-900/10 rounded-lg text-rose-400\">\n              <div className=\"w-8 h-8 rounded-lg bg-rose-600 text-white flex items-center justify-center\">\n                <Gift size={14} />\n              </div>\n              <div>\n                <div className=\"text-[10px] font-semibold opacity-70 leading-tight\">\n                  \n                </div>\n                <div className=\"text-[13px] font-bold whitespace-nowrap leading-tight\">\n                  {userDoc?.coupons || 0}\n                </div>\n              </div>\n            </div>\n\n            {/*  &   */}\n            <div\n              onClick={() => navigate(\"/my-profile\")}\n              className=\"flex items-center gap-2 px-3 py-1.5 bg-violet-500/10 rounded-lg cursor-pointer transition-all duration-200 hover:bg-violet-500/20\"\n            >\n              <div\n                className=\"flex items-center justify-center w-7 h-7 rounded-md text-sm\"\n                style={{ background: levelInfo?.color || \"#a78bfa\" }}\n              >\n                {levelInfo?.icon || \"\"}\n              </div>\n              <div>\n                <div\n                  className=\"text-[10px] font-semibold leading-tight\"\n                  style={{ color: levelInfo?.color || \"#a78bfa\" }}\n                >\n                  Lv.{levelInfo?.level || 1}\n                </div>\n                <div className=\"text-[11px] font-bold text-[#e8e8ff] whitespace-nowrap leading-tight\">\n                  {levelInfo?.title || \"\"}\n                </div>\n              </div>\n              {bestAchievement && (\n                <div\n                  className=\"flex items-center gap-1 ml-1 px-1.5 py-0.5 rounded\"\n                  style={{\n                    background:\n                      bestAchievement.rarity === \"legendary\"\n                        ? \"rgba(245, 158, 11, 0.2)\"\n                        : bestAchievement.rarity === \"epic\"\n                          ? \"rgba(167, 139, 250, 0.2)\"\n                          : bestAchievement.rarity === \"rare\"\n                            ? \"rgba(59, 130, 246, 0.2)\"\n                            : \"rgba(107, 114, 128, 0.2)\",\n                  }}\n                >\n                  <span className=\"text-xs\">{bestAchievement.icon}</span>\n                </div>\n              )}\n            </div>\n\n            {/*   */}\n            <div className=\"relative\" ref={userMenuRef}>\n              <button\n                onClick={() => setShowUserMenu(!showUserMenu)}\n                className=\"flex items-center gap-2 pl-3 border-none bg-transparent cursor-pointer\"\n              >\n                <div className=\"text-right\">\n                  <div className=\"text-[13px] font-bold text-white whitespace-nowrap leading-tight\">\n                    {displayName}\n                  </div>\n                  <div className=\"text-[11px] text-indigo-400 font-medium whitespace-nowrap leading-tight\">\n                    {userRole}\n                  </div>\n                </div>\n                <div\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    navigate(\"/my-profile\");\n                  }}\n                  className=\"cursor-pointer\"\n                >\n                  <Avatar config={avatarConfig} size={40} showBorder={true} />\n                </div>\n              </button>\n\n              {/*   */}\n              {showUserMenu && (\n                <div className=\"absolute top-full right-0 mt-2 w-72 bg-[#1a1a2e] rounded-2xl shadow-2xl border border-slate-700 overflow-hidden z-50\">\n                  <div className=\"px-5 py-4 bg-gradient-to-r from-[#141423] to-indigo-900/20 border-b border-slate-700\">\n                    <p className=\"font-bold text-white\">{displayName}</p>\n                    <p className=\"text-sm text-slate-400 flex items-center gap-2 mt-1\">\n                      {isCurrentUserAdmin && (\n                        <span className=\"text-indigo-400 font-semibold\">\n                          \n                        </span>\n                      )}\n                      {userDoc?.classCode && (\n                        <span>: {userDoc.classCode}</span>\n                      )}\n                    </p>\n                  </div>\n\n                  {/* :   */}\n                  <div className=\"md:hidden px-5 py-4 bg-[#141423]/50 border-b border-slate-700\">\n                    <div className=\"flex justify-between items-center mb-2\">\n                      <span className=\"text-sm text-slate-400\"></span>\n                      <span className=\"font-bold text-emerald-400\">\n                        {formatMoney(userDoc?.cash || 0)}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-sm text-slate-400\"></span>\n                      <span className=\"font-bold text-rose-400\">\n                        {userDoc?.coupons || 0}\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"p-2\">\n                    {/*   -    */}\n                    <button\n                      onClick={() => {\n                        navigate(\"/my-profile\");\n                        setShowUserMenu(false);\n                      }}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-white hover:bg-indigo-600/20 transition-colors bg-indigo-500/10 border border-indigo-500/30 mb-2\"\n                    >\n                      <User size={18} className=\"text-indigo-400\" /> \n                      <span className=\"ml-auto text-xs text-indigo-400\">\n                        Lv.{levelInfo?.level || 0}\n                      </span>\n                    </button>\n\n                    <div className=\"h-px bg-slate-700 my-2\" />\n\n                    <button\n                      onClick={handleChangeNickname}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-white hover:bg-white/10 transition-colors\"\n                    >\n                      <User size={18} className=\"text-slate-400\" />\n                       \n                    </button>\n                    <button\n                      onClick={handleChangePassword}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-white hover:bg-white/10 transition-colors\"\n                    >\n                      <Key size={18} className=\"text-slate-400\" />\n                       \n                    </button>\n                    <button\n                      onClick={handleEnterClassCode}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-white hover:bg-white/10 transition-colors\"\n                    >\n                      <Building2 size={18} className=\"text-slate-400\" />\n                        \n                    </button>\n                    <button\n                      onClick={() => {\n                        setShowSettings(true);\n                        setShowUserMenu(false);\n                      }}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-white hover:bg-white/10 transition-colors\"\n                    >\n                      <Settings size={18} className=\"text-slate-400\" />\n                      \n                    </button>\n\n                    <div className=\"h-px bg-slate-600 my-2\" />\n\n                    <button\n                      onClick={handleDeleteAccount}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-400 hover:bg-red-900/20 transition-colors\"\n                    >\n                      <Trash2 size={18} />\n                       \n                    </button>\n\n                    <div className=\"h-px bg-slate-600 my-2\" />\n\n                    <button\n                      onClick={handleLogout}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-white hover:bg-white/10 transition-colors\"\n                    >\n                      <LogOut size={18} className=\"text-slate-400\" />\n                      \n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </header>\n\n        {/*  */}\n        <Modal\n          isOpen={activeModal === \"nickname\"}\n          onClose={closeModal}\n          title=\" \"\n        >\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-slate-300 mb-2\">\n                 \n              </label>\n              <input\n                type=\"text\"\n                value={newNickname}\n                onChange={(e) => setNewNickname(e.target.value)}\n                placeholder=\"2-12\"\n                maxLength={12}\n                className=\"w-full px-4 py-3 border-2 border-slate-700 bg-[#141423] text-white rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-colors\"\n                autoFocus\n              />\n            </div>\n            {nicknameError && (\n              <p className=\"text-sm text-red-400 bg-red-900/10 p-3 rounded-xl\">\n                {nicknameError}\n              </p>\n            )}\n            <div className=\"flex gap-3 pt-2\">\n              <button\n                onClick={closeModal}\n                className=\"flex-1 py-3 border border-slate-700 rounded-xl text-sm font-semibold text-slate-300 hover:bg-slate-800 transition-colors\"\n              >\n                \n              </button>\n              <button\n                onClick={saveNickname}\n                disabled={isLoading}\n                className=\"flex-1 py-3 bg-gradient-to-r from-indigo-600 to-violet-600 text-white rounded-xl text-sm font-semibold shadow-lg shadow-indigo-500/30 hover:from-indigo-700 hover:to-violet-700 transition-all disabled:opacity-50\"\n              >\n                {isLoading ? \" ...\" : \"\"}\n              </button>\n            </div>\n          </div>\n        </Modal>\n\n        <Modal\n          isOpen={activeModal === \"password\"}\n          onClose={closeModal}\n          title=\" \"\n        >\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-semibold text-slate-300 mb-2\">\n                 \n              </label>\n              <input\n                type=\"password\"\n                value={currentPassword}\n                onChange={(e) => setCurrentPassword(e.target.value)}\n                className=\"w-full px-4 py-3 border-2 border-slate-700 bg-[#141423] text-white rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-colors\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-slate-300 mb-2\">\n                 \n              </label>\n              <input\n                type=\"password\"\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n                className=\"w-full px-4 py-3 border-2 border-slate-700 bg-[#141423] text-white rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-colors\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-slate-300 mb-2\">\n                 \n              </label>\n              <input\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                className=\"w-full px-4 py-3 border-2 border-slate-700 bg-[#141423] text-white rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-colors\"\n              />\n            </div>\n            {passwordError && (\n              <p className=\"text-sm text-red-400 bg-red-900/10 p-3 rounded-xl\">\n                {passwordError}\n              </p>\n            )}\n            {passwordSuccess && (\n              <p className=\"text-sm text-green-400 bg-green-900/10 p-3 rounded-xl\">\n                 !\n              </p>\n            )}\n            <div className=\"flex gap-3 pt-2\">\n              <button\n                onClick={closeModal}\n                className=\"flex-1 py-3 border border-slate-700 rounded-xl text-sm font-semibold text-slate-300 hover:bg-slate-800 transition-colors\"\n              >\n                \n              </button>\n              <button\n                onClick={savePassword}\n                disabled={isLoading || passwordSuccess}\n                className=\"flex-1 py-3 bg-gradient-to-r from-indigo-600 to-violet-600 text-white rounded-xl text-sm font-semibold shadow-lg shadow-indigo-500/30 hover:from-indigo-700 hover:to-violet-700 transition-all disabled:opacity-50\"\n              >\n                {isLoading ? \" ...\" : \"\"}\n              </button>\n            </div>\n          </div>\n        </Modal>\n\n        <Modal\n          isOpen={activeModal === \"classCode\"}\n          onClose={closeModal}\n          title=\"  \"\n        >\n          <div className=\"space-y-4\">\n            {userDoc?.classCode && (\n              <p className=\"text-sm text-slate-400 bg-slate-800/50 p-3 rounded-xl\">\n                  :{\" \"}\n                <strong className=\"text-white\">{userDoc.classCode}</strong>\n              </p>\n            )}\n            <div>\n              <label className=\"block text-sm font-semibold text-slate-300 mb-2\">\n                  \n              </label>\n              <input\n                type=\"text\"\n                value={newClassCodeInput}\n                onChange={(e) =>\n                  setNewClassCodeInput(\n                    e.target.value.replace(/[^a-zA-Z0-9]/g, \"\").toUpperCase(),\n                  )\n                }\n                placeholder=\" \"\n                maxLength={20}\n                className=\"w-full px-4 py-3 border-2 border-slate-700 bg-[#141423] text-white rounded-xl text-sm focus:outline-none focus:border-indigo-500 transition-colors\"\n                autoFocus\n              />\n              <p className=\"text-xs text-slate-500 mt-2\">\n                   .\n              </p>\n            </div>\n            {classCodeError && (\n              <p className=\"text-sm text-red-400 bg-red-900/10 p-3 rounded-xl\">\n                {classCodeError}\n              </p>\n            )}\n            {classCodeSuccess && (\n              <p className=\"text-sm text-green-400 bg-green-900/10 p-3 rounded-xl\">\n                  !\n              </p>\n            )}\n            <div className=\"flex gap-3 pt-2\">\n              <button\n                onClick={closeModal}\n                className=\"flex-1 py-3 border border-slate-700 rounded-xl text-sm font-semibold text-slate-300 hover:bg-slate-800 transition-colors\"\n              >\n                \n              </button>\n              <button\n                onClick={saveClassCode}\n                disabled={isLoading}\n                className=\"flex-1 py-3 bg-gradient-to-r from-indigo-600 to-violet-600 text-white rounded-xl text-sm font-semibold shadow-lg shadow-indigo-500/30 hover:from-indigo-700 hover:to-violet-700 transition-all disabled:opacity-50\"\n              >\n                {isLoading ? \" ...\" : \"\"}\n              </button>\n            </div>\n          </div>\n        </Modal>\n\n        {/*   */}\n        <SettingsPanel\n          isOpen={showSettings}\n          onClose={() => setShowSettings(false)}\n        />\n      </>\n    );\n  },\n);\n\nexport default AlchanHeader;\n","// src/components/MobileNav.js\r\n//    \r\n\r\nimport React, { useCallback, useMemo, memo } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { Home, Wallet, Gamepad2, Users } from 'lucide-react';\r\n\r\nconst tabs = [\r\n  { id: 'home', icon: Home, label: '', path: '/dashboard/tasks' },\r\n  { id: 'assets', icon: Wallet, label: '', path: '/my-assets' },\r\n  { id: 'game', icon: Gamepad2, label: '', paths: ['/learning-games'] },\r\n  { id: 'community', icon: Users, label: '', path: '/learning-board' },\r\n];\r\n\r\nconst MobileNav = memo(function MobileNav() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const isTabActive = useCallback((tab) => {\r\n    if (tab.paths) {\r\n      return tab.paths.some(p => location.pathname.startsWith(p));\r\n    }\r\n    return location.pathname === tab.path || location.pathname.startsWith(tab.path + '/');\r\n  }, [location.pathname]);\r\n\r\n  const handleTabClick = useCallback((tab) => {\r\n    if (tab.paths) {\r\n      navigate(tab.paths[0] + '/omok');\r\n    } else {\r\n      navigate(tab.path);\r\n    }\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <nav className=\"md:hidden fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-md border-t border-gray-100/50 pb-safe pt-2 px-6 shadow-[0_-4px_20px_rgba(0,0,0,0.03)] z-50\">\r\n      <div className=\"flex justify-between items-center max-w-md mx-auto\">\r\n        {tabs.map((tab) => {\r\n          const isActive = isTabActive(tab);\r\n          const Icon = tab.icon;\r\n          return (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => handleTabClick(tab)}\r\n              className={`flex flex-col items-center gap-1 p-2 min-w-[64px] transition-all duration-300 ${\r\n                isActive ? 'text-indigo-600 -translate-y-1' : 'text-gray-400'\r\n              }`}\r\n            >\r\n              <Icon\r\n                size={24}\r\n                strokeWidth={isActive ? 2.5 : 2}\r\n                className={isActive ? 'drop-shadow-md' : ''}\r\n              />\r\n              <span className={`text-[10px] font-medium ${isActive ? 'opacity-100' : 'opacity-70'}`}>\r\n                {tab.label}\r\n              </span>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    </nav>\r\n  );\r\n});\n\nexport default MobileNav;\n","// src/components/PWAInstallPrompt.js\r\n// PWA   \r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { X, Download, Smartphone, Share, Plus } from 'lucide-react';\r\n\r\nimport { logger } from \"../utils/logger\";\r\nexport default function PWAInstallPrompt() {\r\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\r\n  const [showPrompt, setShowPrompt] = useState(false);\r\n  const [isIOS, setIsIOS] = useState(false);\r\n  const [isInstalled, setIsInstalled] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // iOS \r\n    const isIOSDevice = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n    setIsIOS(isIOSDevice);\r\n\r\n    //    \r\n    if (window.matchMedia('(display-mode: standalone)').matches) {\r\n      setIsInstalled(true);\r\n      return;\r\n    }\r\n\r\n    //   \r\n    const dismissed = localStorage.getItem('pwa-install-dismissed');\r\n    if (dismissed) {\r\n      const dismissedTime = parseInt(dismissed, 10);\r\n      // 7   \r\n      if (Date.now() - dismissedTime < 7 * 24 * 60 * 60 * 1000) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    // beforeinstallprompt  \r\n    const handleBeforeInstall = (e) => {\r\n      e.preventDefault();\r\n      setDeferredPrompt(e);\r\n      // 2   \r\n      setTimeout(() => setShowPrompt(true), 2000);\r\n    };\r\n\r\n    window.addEventListener('beforeinstallprompt', handleBeforeInstall);\r\n\r\n    // iOS  3    \r\n    if (isIOSDevice && !window.matchMedia('(display-mode: standalone)').matches) {\r\n      setTimeout(() => setShowPrompt(true), 3000);\r\n    }\r\n\r\n    //   \r\n    const handleAppInstalled = () => {\r\n      setIsInstalled(true);\r\n      setShowPrompt(false);\r\n      setDeferredPrompt(null);\r\n    };\r\n    window.addEventListener('appinstalled', handleAppInstalled);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstall);\r\n      window.removeEventListener('appinstalled', handleAppInstalled);\r\n    };\r\n  }, []);\r\n\r\n  const handleInstall = async () => {\r\n    if (!deferredPrompt) return;\r\n\r\n    deferredPrompt.prompt();\r\n    const { outcome } = await deferredPrompt.userChoice;\r\n\r\n    if (outcome === 'accepted') {\r\n      logger.log('PWA  ');\r\n    } else {\r\n      logger.log('PWA  ');\r\n    }\r\n\r\n    setDeferredPrompt(null);\r\n    setShowPrompt(false);\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setShowPrompt(false);\r\n    localStorage.setItem('pwa-install-dismissed', Date.now().toString());\r\n  };\r\n\r\n  if (isInstalled || !showPrompt) return null;\r\n\r\n  return (\r\n    <div className=\"fixed bottom-20 md:bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-slide-up\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden\">\r\n        {/*  */}\r\n        <div className=\"bg-gradient-to-r from-indigo-500 to-violet-600 px-4 py-3 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2 text-white\">\r\n            <Smartphone size={20} />\r\n            <span className=\"font-semibold\"> </span>\r\n          </div>\r\n          <button\r\n            onClick={handleDismiss}\r\n            className=\"text-white/80 hover:text-white transition-colors\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/*  */}\r\n        <div className=\"p-4\">\r\n          <div className=\"flex items-start gap-4\">\r\n            <div className=\"w-14 h-14 bg-gradient-to-tr from-indigo-500 to-violet-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-indigo-200/50\">\r\n              <span className=\"text-white text-2xl\"></span>\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"font-bold text-gray-900 mb-1\">\r\n                  !\r\n              </h3>\r\n              <p className=\"text-sm text-gray-500 leading-relaxed\">\r\n                     ,      .\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* iOS  */}\r\n          {isIOS ? (\r\n            <div className=\"mt-4 p-3 bg-gray-50 rounded-xl\">\r\n              <p className=\"text-sm text-gray-600 mb-2 font-medium\">\r\n                iOS :\r\n              </p>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-2 text-sm text-gray-500\">\r\n                  <Share size={16} className=\"text-indigo-500\" />\r\n                  <span>1.    </span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 text-sm text-gray-500\">\r\n                  <Plus size={16} className=\"text-indigo-500\" />\r\n                  <span>2. \"  \" </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"mt-4 flex gap-2\">\r\n              <button\r\n                onClick={handleDismiss}\r\n                className=\"flex-1 px-4 py-2.5 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium transition-colors\"\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                onClick={handleInstall}\r\n                className=\"flex-1 px-4 py-2.5 text-white bg-gradient-to-r from-indigo-500 to-violet-600 hover:from-indigo-600 hover:to-violet-700 rounded-xl font-medium transition-all flex items-center justify-center gap-2 shadow-lg shadow-indigo-200/50\"\r\n              >\r\n                <Download size={18} />\r\n                \r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/*   */}\r\n        <div className=\"px-4 py-2 bg-gray-50 border-t border-gray-100\">\r\n          <p className=\"text-xs text-gray-400 text-center\">\r\n                \r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// src/components/UpdateNotification.js\r\n//    \r\n\r\nimport React, { memo } from 'react';\r\nimport { RefreshCw, X } from 'lucide-react';\r\n\r\nconst UpdateNotification = memo(function UpdateNotification({ onUpdate, onDismiss }) {\r\n  return (\r\n    <div className=\"fixed top-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-slide-up\">\r\n      <div className=\"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl shadow-2xl p-4 text-white\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <div className=\"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0\">\r\n            <RefreshCw size={20} className=\"animate-spin-slow\" />\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"font-bold mb-1\">  !</h3>\r\n            <p className=\"text-sm text-white/80 mb-3\">\r\n                   .\r\n            </p>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={onDismiss}\r\n                className=\"px-3 py-1.5 text-sm bg-white/20 hover:bg-white/30 rounded-lg transition-colors\"\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                onClick={onUpdate}\r\n                className=\"px-3 py-1.5 text-sm bg-white text-emerald-600 font-semibold rounded-lg hover:bg-white/90 transition-colors flex items-center gap-1\"\r\n              >\r\n                <RefreshCw size={14} />\r\n                 \r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={onDismiss}\r\n            className=\"text-white/60 hover:text-white transition-colors\"\r\n          >\r\n            <X size={18} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\n\nexport default UpdateNotification;\n","// src/hooks/useServiceWorker.js\r\n//       \r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\nimport { logger } from \"../utils/logger\";\r\nexport function useServiceWorker() {\r\n  const [registration, setRegistration] = useState(null);\r\n  const [updateAvailable, setUpdateAvailable] = useState(false);\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\r\n\r\n  useEffect(() => {\r\n    // /  \r\n    const handleOnline = () => setIsOnline(true);\r\n    const handleOffline = () => setIsOnline(false);\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    //   \r\n    if ('serviceWorker' in navigator) {\r\n      registerServiceWorker();\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  //  [] interval ID  state (cleanup )\r\n  const [updateIntervalId, setUpdateIntervalId] = useState(null);\r\n\r\n  //  [] cleanup  effect\r\n  useEffect(() => {\r\n    return () => {\r\n      if (updateIntervalId) {\r\n        clearInterval(updateIntervalId);\r\n      }\r\n    };\r\n  }, [updateIntervalId]);\r\n\r\n  const registerServiceWorker = async () => {\r\n    try {\r\n      const reg = await navigator.serviceWorker.register('/sw.js', {\r\n        scope: '/'\r\n      });\r\n\r\n      setRegistration(reg);\r\n      logger.log('[PWA]    :', reg.scope);\r\n\r\n      //  \r\n      reg.addEventListener('updatefound', () => {\r\n        const newWorker = reg.installing;\r\n        if (newWorker) {\r\n          newWorker.addEventListener('statechange', () => {\r\n            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\r\n              //      (1 )\r\n              const lastUpdated = localStorage.getItem('alchan_updated');\r\n              if (lastUpdated && Date.now() - parseInt(lastUpdated) < 60 * 60 * 1000) {\r\n                logger.log('[PWA]   -  ');\r\n                return;\r\n              }\r\n              logger.log('[PWA]    ');\r\n              setUpdateAvailable(true);\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      //  []    (1) - cleanup  ID \r\n      const intervalId = setInterval(() => {\r\n        reg.update();\r\n      }, 60 * 60 * 1000);\r\n      setUpdateIntervalId(intervalId);\r\n\r\n    } catch (error) {\r\n      logger.error('[PWA]    :', error);\r\n    }\r\n  };\r\n\r\n  const updateServiceWorker = useCallback(() => {\r\n    //   \r\n    setUpdateAvailable(false);\r\n\r\n    // localStorage    (     )\r\n    localStorage.setItem('alchan_updated', Date.now().toString());\r\n\r\n    if (registration && registration.waiting) {\r\n      //      \r\n      navigator.serviceWorker.addEventListener('controllerchange', () => {\r\n        logger.log('[PWA]     - ');\r\n        window.location.reload();\r\n      });\r\n\r\n      //      \r\n      registration.waiting.postMessage({ type: 'SKIP_WAITING' });\r\n    } else {\r\n      // waiting      \r\n      logger.log('[PWA]      -  ');\r\n      window.location.reload();\r\n    }\r\n  }, [registration]);\r\n\r\n  const requestNotificationPermission = useCallback(async () => {\r\n    if (!('Notification' in window)) {\r\n      logger.log('[PWA]     .');\r\n      return false;\r\n    }\r\n\r\n    if (Notification.permission === 'granted') {\r\n      return true;\r\n    }\r\n\r\n    if (Notification.permission !== 'denied') {\r\n      const permission = await Notification.requestPermission();\r\n      return permission === 'granted';\r\n    }\r\n\r\n    return false;\r\n  }, []);\r\n\r\n  const showNotification = useCallback(async (title, options = {}) => {\r\n    const hasPermission = await requestNotificationPermission();\r\n\r\n    if (hasPermission && registration) {\r\n      registration.showNotification(title, {\r\n        icon: '/icons/icon-192x192.png',\r\n        badge: '/icons/icon-72x72.png',\r\n        vibrate: [100, 50, 100],\r\n        ...options\r\n      });\r\n    }\r\n  }, [registration, requestNotificationPermission]);\r\n\r\n  return {\r\n    registration,\r\n    updateAvailable,\r\n    updateServiceWorker,\r\n    isOnline,\r\n    requestNotificationPermission,\r\n    showNotification\r\n  };\r\n}\r\n\r\nexport default useServiceWorker;\r\n","// src/components/EconomicEventBanner.js\n//        \nimport React, { useState, useEffect } from \"react\";\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { X, Zap } from \"lucide-react\";\n\nexport default function EconomicEventBanner() {\n  const { userDoc } = useAuth();\n  const classCode = userDoc?.classCode;\n\n  const [activeEvent, setActiveEvent] = useState(null);\n  const [dismissed, setDismissed] = useState(false);\n\n  useEffect(() => {\n    if (!classCode) return;\n\n    const ref = doc(db, \"activeEconomicEvent\", classCode);\n    const unsubscribe = onSnapshot(ref, (snap) => {\n      if (!snap.exists()) {\n        setActiveEvent(null);\n        return;\n      }\n\n      const data = snap.data();\n      //  \n      const now = new Date();\n      const expires = data.expiresAt?.toDate?.();\n      if (expires && expires < now) {\n        setActiveEvent(null);\n        return;\n      }\n\n      setActiveEvent(data);\n      setDismissed(false); //       \n    });\n\n    return () => unsubscribe();\n  }, [classCode]);\n\n  if (!activeEvent || dismissed) return null;\n\n  const event = activeEvent.event || {};\n  const result = activeEvent.result || {};\n  const triggeredAt = activeEvent.triggeredAt?.toDate?.() || new Date();\n\n  //    \n  const getResultSummary = () => {\n    const type = event.type;\n    if (type === \"REAL_ESTATE_PRICE_CHANGE\") {\n      const pct = event.params?.changePercent || 0;\n      return ` ${result.affectedCount || 0} ${pct > 0 ? \"+\" : \"\"}${pct}% `;\n    }\n    if (type === \"TAX_REFUND\") {\n      if (result.refundedAmount > 0) {\n        return ` ${result.refundedAmount.toLocaleString()}  (1 ${result.perStudent?.toLocaleString() || 0})`;\n      }\n      return \"    \";\n    }\n    if (type === \"TAX_EXTRA\") {\n      return ` ${result.collectedAmount?.toLocaleString() || 0}   (${result.affectedCount || 0})`;\n    }\n    if (type === \"CASH_BONUS\") {\n      return `1 ${result.perStudent?.toLocaleString() || 0}  (${result.affectedCount || 0})`;\n    }\n    if (type === \"LOTTERY\") {\n      if (result.winnerNames?.length > 0) {\n        return ` : ${result.winnerNames.join(\", \")} (${result.prizeAmount?.toLocaleString() || 0})`;\n      }\n      return \" \";\n    }\n    return \"\";\n  };\n\n  const isPositive =\n    [\n      \"REAL_ESTATE_PRICE_CHANGE\",\n      \"TAX_REFUND\",\n      \"CASH_BONUS\",\n      \"LOTTERY\",\n    ].includes(event.type) &&\n    !(\n      event.type === \"REAL_ESTATE_PRICE_CHANGE\" &&\n      (event.params?.changePercent || 0) < 0\n    );\n\n  const timeStr = triggeredAt.toLocaleTimeString(\"ko-KR\", {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n  const dateStr = triggeredAt.toLocaleDateString(\"ko-KR\", {\n    month: \"long\",\n    day: \"numeric\",\n  });\n\n  return (\n    <div\n      className={`relative flex items-start gap-3 px-4 py-3 ${\n        isPositive\n          ? \"bg-gradient-to-r from-emerald-900/80 to-cyan-900/80 border-b border-emerald-500/30\"\n          : \"bg-gradient-to-r from-red-900/80 to-orange-900/80 border-b border-red-500/30\"\n      }`}\n    >\n      {/*   */}\n      <div\n        className={`absolute inset-0 opacity-10 pointer-events-none ${isPositive ? \"bg-emerald-400\" : \"bg-red-400\"}`}\n        style={{\n          backgroundImage:\n            \"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px)\",\n        }}\n      />\n\n      {/*  */}\n      <div\n        className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-base ${isPositive ? \"bg-emerald-500/20\" : \"bg-red-500/20\"}`}\n      >\n        {event.emoji || \"\"}\n      </div>\n\n      {/*  */}\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          <Zap\n            className={`w-3.5 h-3.5 ${isPositive ? \"text-emerald-400\" : \"text-red-400\"}`}\n          />\n          <span\n            className={`text-xs font-bold uppercase tracking-wide ${isPositive ? \"text-emerald-400\" : \"text-red-400\"}`}\n          >\n             \n          </span>\n          <span className=\"text-xs text-gray-400\">\n            {dateStr} {timeStr}\n          </span>\n        </div>\n        <p className=\"text-sm font-bold text-white mt-0.5\">{event.title}</p>\n        <p className=\"text-xs text-gray-300 mt-0.5\">{event.description}</p>\n        {getResultSummary() && (\n          <p\n            className={`text-xs mt-1 font-medium ${isPositive ? \"text-emerald-300\" : \"text-red-300\"}`}\n          >\n             {getResultSummary()}\n          </p>\n        )}\n      </div>\n\n      {/*   */}\n      <button\n        onClick={() => setDismissed(true)}\n        className=\"relative z-10 flex-shrink-0 p-1 rounded-full text-gray-400 hover:text-white hover:bg-white/10 transition-colors\"\n        aria-label=\" \"\n      >\n        <X className=\"w-5 h-5\" />\n      </button>\n    </div>\n  );\n}\n","// src/components/AlchanLayout.js\n//  UI    - Tailwind CSS \n//   : /  lazy loading \n\nimport React, { useState, useEffect, useCallback, lazy, Suspense } from \"react\";\nimport { Routes, Route, Navigate, useLocation } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { ItemProvider } from \"../contexts/ItemContext\"; //  []   \nimport AlchanSidebar from \"./AlchanSidebar\";\nimport AlchanHeader from \"./AlchanHeader\";\nimport MobileNav from \"./MobileNav\";\nimport PWAInstallPrompt from \"./PWAInstallPrompt\";\nimport UpdateNotification from \"./UpdateNotification\";\nimport { useServiceWorker } from \"../hooks/useServiceWorker\";\nimport { AlchanLoadingScreen } from \"./ui/Skeleton\";\nimport { WifiOff } from \"lucide-react\";\nimport { getStreakInfo } from \"./DailyReward\";\nimport EconomicEventBanner from \"./EconomicEventBanner\";\nconst EconomicEventPopup = lazy(() => import(\"./EconomicEventPopup\"));\nconst NewBillPopup = lazy(() => import(\"./NewBillPopup\"));\nconst DailyRewardBanner = lazy(() =>\n  import(\"./DailyReward\").then((m) => ({ default: m.DailyRewardBanner })),\n);\nconst WelcomePopup = lazy(() => import(\"./WelcomePopup\"));\nconst HelpButton = lazy(() => import(\"./HelpButton\"));\nconst IOSInstallPrompt = lazy(() => import(\"./IOSInstallPrompt\"));\nconst AppUpdateChecker = lazy(() => import(\"./AppUpdateChecker\"));\nimport { db, doc, updateDoc, increment } from \"../firebase\";\nimport globalCacheService from \"../services/globalCacheService\";\nimport { logger } from \"../utils/logger\";\n\n//    - Dashboard lazy \nconst Dashboard = lazy(() => import(\"../pages/dashboard/Dashboard\"));\n\n//  []       -  \nconst ItemStore = lazy(() => import(\"../pages/market/ItemStore\"));\nconst MyItems = lazy(() => import(\"../pages/my-items/MyItems\"));\n\n//  []       -  \nconst PersonalShop = lazy(() => import(\"../pages/market/PersonalShop\"));\nconst Banking = lazy(() => import(\"../pages/banking/Banking\"));\nconst MyProfile = lazy(() => import(\"../pages/my-profile/MyProfile\"));\nconst MyAssets = lazy(() => import(\"../pages/my-assets/MyAssets\"));\n\n//    -   (  )\nconst OmokGame = lazy(() => import(\"../pages/games/OmokGame\"));\nconst ChessGame = lazy(() => import(\"../pages/games/ChessGame\"));\nconst TypingPracticeGame = lazy(\n  () => import(\"../pages/games/TypingPracticeGame\"),\n);\n\n//  /  -  \nconst AdminApprovalPanel = lazy(\n  () => import(\"../pages/admin/AdminApprovalPanel\"),\n);\nconst AdminItemPage = lazy(() => import(\"../pages/admin/AdminItemPage\"));\nconst AdminDatabase = lazy(() => import(\"../pages/admin/AdminDatabase\"));\nconst AdminEconomicEvents = lazy(\n  () => import(\"../pages/admin/AdminEconomicEvents\"),\n);\nconst FirestoreDoctor = lazy(() => import(\"../pages/admin/FirestoreDoctor\"));\nconst RecoverDonations = lazy(() => import(\"../pages/admin/RecoverDonations\"));\nconst StudentManager = lazy(() => import(\"./StudentManager\"));\n\n//   (SuperAdmin)  \nconst SuperAdminDashboard = lazy(\n  () => import(\"../pages/superadmin/SuperAdminDashboard\"),\n);\n\n//      -  \nconst LearningBoard = lazy(() => import(\"../pages/learning/LearningBoard\"));\nconst MusicRequest = lazy(() => import(\"../pages/music/MusicRequest\"));\nconst MusicRoom = lazy(() => import(\"../pages/music/MusicRoom\"));\nconst StudentRequest = lazy(() => import(\"../pages/student/StudentRequest\"));\nconst StockExchange = lazy(() => import(\"../pages/banking/StockExchange\"));\nconst RealEstateRegistry = lazy(\n  () => import(\"../pages/real-estate/RealEstateRegistry\"),\n);\nconst NationalAssembly = lazy(\n  () => import(\"../pages/government/NationalAssembly\"),\n);\nconst Government = lazy(() => import(\"../pages/government/Government\"));\nconst Court = lazy(() => import(\"../pages/government/Court\"));\nconst PoliceStation = lazy(() => import(\"../pages/government/PoliceStation\"));\nconst Auction = lazy(() => import(\"../pages/market/Auction\"));\nconst MoneyTransfer = lazy(() => import(\"../pages/banking/MoneyTransfer\"));\nconst CouponTransfer = lazy(() => import(\"../pages/banking/CouponTransfer\"));\nconst CouponGoalPage = lazy(() => import(\"../pages/coupon/CouponGoalPage\"));\n\n//      (  )\nconst FULLSCREEN_PAGES = [\n  \"/learning-games/omok\",\n  \"/learning-games/science\",\n  \"/learning-games/typing\",\n  \"/court\",\n  \"/national-assembly\",\n  \"/music-room\",\n];\n\n//    -      \nconst AlchanLoading = ({ message = \" ...\" }) => {\n  return <AlchanLoadingScreen message={message} />;\n};\n\n// Protected Route \nconst ProtectedRoute = ({ children }) => {\n  const { user, loading } = useAuth();\n  const location = useLocation();\n\n  if (loading) {\n    return <AlchanLoading />;\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  return children;\n};\n\n// Admin Route \nconst AdminRoute = ({ children }) => {\n  const { user, userDoc, loading } = useAuth();\n  const location = useLocation();\n\n  if (loading) {\n    return <AlchanLoading />;\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  const isAdmin =\n    userDoc?.isAdmin || userDoc?.role === \"admin\" || userDoc?.isSuperAdmin;\n  if (!isAdmin) {\n    return <Navigate to=\"/dashboard/tasks\" replace />;\n  }\n\n  return children;\n};\n\n// / Route \nconst TeacherRoute = ({ children }) => {\n  const { user, userDoc, loading } = useAuth();\n  const location = useLocation();\n\n  if (loading) {\n    return <AlchanLoading />;\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  const isTeacher =\n    userDoc?.isTeacher || userDoc?.isAdmin || userDoc?.isSuperAdmin;\n  if (!isTeacher) {\n    return <Navigate to=\"/dashboard/tasks\" replace />;\n  }\n\n  return children;\n};\n\n//   (SuperAdmin)  Route \nconst SuperAdminRoute = ({ children }) => {\n  const { user, userDoc, loading } = useAuth();\n  const location = useLocation();\n\n  if (loading) {\n    return <AlchanLoading />;\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  if (!userDoc?.isSuperAdmin) {\n    return <Navigate to=\"/dashboard/tasks\" replace />;\n  }\n\n  return children;\n};\n\n//   \nexport default function AlchanLayout() {\n  const location = useLocation();\n  const { user, userDoc, loading, logout } = useAuth();\n\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n  const [showUpdateDismissed, setShowUpdateDismissed] = useState(() => {\n    try {\n      const dismissed = localStorage.getItem(\"alchan_update_dismissed\");\n      if (!dismissed) return false;\n      // 24    \n      return Date.now() - parseInt(dismissed) < 24 * 60 * 60 * 1000;\n    } catch {\n      return false;\n    }\n  });\n  const [showDailyRewardPopup, setShowDailyRewardPopup] = useState(false);\n\n  // PWA   \n  const { updateAvailable, updateServiceWorker, isOnline } = useServiceWorker();\n\n  //     -  ( )   \n  useEffect(() => {\n    if (\n      userDoc?.uid &&\n      !userDoc?.isAdmin &&\n      !userDoc?.isSuperAdmin &&\n      !userDoc?.isTeacher\n    ) {\n      const streakInfo = getStreakInfo(userDoc.uid);\n      if (streakInfo.canClaim) {\n        const timer = setTimeout(() => {\n          setShowDailyRewardPopup(true);\n        }, 500);\n        return () => clearTimeout(timer);\n      }\n    }\n  }, [\n    userDoc?.uid,\n    userDoc?.isAdmin,\n    userDoc?.isSuperAdmin,\n    userDoc?.isTeacher,\n  ]);\n\n  //     \n  const handleDailyRewardClaim = useCallback(\n    async (rewardAmount) => {\n      if (!userDoc?.uid || !rewardAmount) return;\n      try {\n        const userRef = doc(db, \"users\", userDoc.uid);\n        await updateDoc(userRef, { cash: increment(rewardAmount) });\n        globalCacheService.invalidate(`user_${userDoc.uid}`);\n        setTimeout(() => setShowDailyRewardPopup(false), 3000);\n      } catch (error) {\n        logger.error(\"   :\", error);\n      }\n    },\n    [userDoc?.uid],\n  );\n\n  // Jua  index.html preload  ( )\n\n  //      \n  useEffect(() => {\n    const isFullscreenPage = FULLSCREEN_PAGES.some((page) =>\n      location.pathname.startsWith(page),\n    );\n    if (isFullscreenPage && !isMobile) {\n      setIsSidebarCollapsed(true);\n    }\n  }, [location.pathname, isMobile]);\n\n  //    ( )\n  useEffect(() => {\n    let timeoutId;\n    const handleResize = () => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        const mobile = window.innerWidth < 768;\n        setIsMobile(mobile);\n        if (mobile) {\n          setIsSidebarOpen(false);\n        }\n      }, 150);\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n      clearTimeout(timeoutId);\n    };\n  }, []);\n\n  const toggleSidebar = useCallback(() => {\n    setIsSidebarOpen((prev) => !prev);\n  }, []);\n\n  const closeSidebar = useCallback(() => {\n    setIsSidebarOpen(false);\n  }, []);\n\n  const toggleSidebarCollapse = useCallback(() => {\n    setIsSidebarCollapsed((prev) => !prev);\n  }, []);\n\n  //        ( )\n  if (!loading && !user) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  //   (loading ,  userDoc  )\n  if (loading || (user && !userDoc)) {\n    return <AlchanLoading />;\n  }\n\n  //   (  )\n  if (location.pathname === \"/login\") {\n    return <Navigate to={user ? \"/dashboard/tasks\" : \"/login\"} replace />;\n  }\n\n  //   \n  if (!userDoc.classCode) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-3xl shadow-xl p-8 max-w-sm w-full text-center\">\n          <div className=\"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-4 text-3xl\">\n            \n          </div>\n          <h2 className=\"text-xl font-bold text-gray-900 mb-2\">\n              \n          </h2>\n          <p className=\"text-gray-500 mb-6\">\n                .\n          </p>\n          <button\n            onClick={() => logout()}\n            className=\"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-semibold transition-colors\"\n          >\n            \n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    //  [] ItemProvider   -     Firestore  \n    <ItemProvider>\n      <div className=\"min-h-screen bg-[#0a0a12] text-gray-100 font-sans selection:bg-indigo-500/30 selection:text-indigo-200 flex\">\n        {/* PC  */}\n        <AlchanSidebar\n          isOpen={isSidebarOpen}\n          onClose={closeSidebar}\n          isCollapsed={isSidebarCollapsed}\n        />\n\n        {/*    -    */}\n        <main className=\"flex-1 min-w-0 md:min-h-screen relative bg-[#0a0a12] overflow-visible\">\n          {/*  */}\n          <AlchanHeader\n            toggleSidebar={toggleSidebar}\n            isMobile={isMobile}\n            isSidebarCollapsed={isSidebarCollapsed}\n            onToggleSidebarCollapse={toggleSidebarCollapse}\n          />\n\n          {/*    */}\n          <EconomicEventBanner />\n\n          {/*   -  Suspense lazy loading  */}\n          <div className=\"w-full pb-20 md:pb-4\">\n            <Suspense fallback={<AlchanLoading message=\"  ...\" />}>\n              <Routes>\n                {/*   */}\n                <Route\n                  path=\"/dashboard/tasks\"\n                  element={\n                    <ProtectedRoute>\n                      <Dashboard />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/my-assets\"\n                  element={\n                    <ProtectedRoute>\n                      <MyAssets />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/my-profile\"\n                  element={\n                    <ProtectedRoute>\n                      <MyProfile />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/coupon-goal\"\n                  element={\n                    <ProtectedRoute>\n                      <CouponGoalPage />\n                    </ProtectedRoute>\n                  }\n                />\n\n                {/*  */}\n                <Route\n                  path=\"/learning-games/omok\"\n                  element={\n                    <ProtectedRoute>\n                      <OmokGame />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/learning-games/typing\"\n                  element={\n                    <ProtectedRoute>\n                      <TypingPracticeGame />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/learning-games/science\"\n                  element={\n                    <ProtectedRoute>\n                      <ChessGame />\n                    </ProtectedRoute>\n                  }\n                />\n\n                {/*  */}\n                <Route\n                  path=\"/item-shop\"\n                  element={\n                    <ProtectedRoute>\n                      <ItemStore />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/my-items\"\n                  element={\n                    <ProtectedRoute>\n                      <MyItems />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/item-market\"\n                  element={\n                    <ProtectedRoute>\n                      <PersonalShop />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/personal-shop\"\n                  element={\n                    <ProtectedRoute>\n                      <PersonalShop />\n                    </ProtectedRoute>\n                  }\n                />\n\n                {/*  */}\n                <Route\n                  path=\"/banking\"\n                  element={\n                    <ProtectedRoute>\n                      <Banking />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/stock-trading\"\n                  element={\n                    <ProtectedRoute>\n                      <StockExchange />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/auction\"\n                  element={\n                    <ProtectedRoute>\n                      <Auction />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/real-estate\"\n                  element={\n                    <ProtectedRoute>\n                      <RealEstateRegistry />\n                    </ProtectedRoute>\n                  }\n                />\n\n                {/*  */}\n                <Route\n                  path=\"/government\"\n                  element={\n                    <ProtectedRoute>\n                      <Government />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/national-assembly\"\n                  element={\n                    <ProtectedRoute>\n                      <NationalAssembly />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/court\"\n                  element={\n                    <ProtectedRoute>\n                      <Court />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/police\"\n                  element={\n                    <ProtectedRoute>\n                      <PoliceStation />\n                    </ProtectedRoute>\n                  }\n                />\n\n                {/*  */}\n                <Route\n                  path=\"/learning-board\"\n                  element={\n                    <ProtectedRoute>\n                      <LearningBoard />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/learning-board/music-request\"\n                  element={\n                    <ProtectedRoute>\n                      <MusicRequest user={user} />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/music-room/:roomId\"\n                  element={\n                    <ProtectedRoute>\n                      <MusicRoom user={user} />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/student-request/:roomId\"\n                  element={<StudentRequest />}\n                />\n\n                {/*   */}\n                <Route\n                  path=\"/admin/app-settings\"\n                  element={\n                    <AdminRoute>\n                      <Dashboard adminTabMode=\"generalSettings\" />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/job-settings\"\n                  element={\n                    <AdminRoute>\n                      <Dashboard adminTabMode=\"jobSettings\" />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/class-members\"\n                  element={\n                    <AdminRoute>\n                      <Dashboard adminTabMode=\"memberManagement\" />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/coupon-transfer\"\n                  element={\n                    <AdminRoute>\n                      <CouponTransfer />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/money-transfer\"\n                  element={\n                    <AdminRoute>\n                      <MoneyTransfer />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/approvals\"\n                  element={\n                    <AdminRoute>\n                      <AdminApprovalPanel />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/activity-log\"\n                  element={\n                    <AdminRoute>\n                      <AdminDatabase />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/items\"\n                  element={\n                    <AdminRoute>\n                      <AdminItemPage />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/economic-events\"\n                  element={\n                    <AdminRoute>\n                      <AdminEconomicEvents />\n                    </AdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/admin/students\"\n                  element={\n                    <TeacherRoute>\n                      <StudentManager />\n                    </TeacherRoute>\n                  }\n                />\n\n                {/*   (SuperAdmin)  */}\n                <Route\n                  path=\"/super-admin\"\n                  element={\n                    <SuperAdminRoute>\n                      <SuperAdminDashboard />\n                    </SuperAdminRoute>\n                  }\n                />\n                <Route\n                  path=\"/super-admin/*\"\n                  element={\n                    <SuperAdminRoute>\n                      <SuperAdminDashboard />\n                    </SuperAdminRoute>\n                  }\n                />\n\n                {/*  */}\n                <Route\n                  path=\"/doctor\"\n                  element={\n                    <ProtectedRoute>\n                      <FirestoreDoctor />\n                    </ProtectedRoute>\n                  }\n                />\n                <Route\n                  path=\"/recover-donations\"\n                  element={\n                    <ProtectedRoute>\n                      <RecoverDonations />\n                    </ProtectedRoute>\n                  }\n                />\n\n                {/*   */}\n                <Route\n                  path=\"/\"\n                  element={<Navigate to=\"/dashboard/tasks\" replace />}\n                />\n                <Route\n                  path=\"*\"\n                  element={<Navigate to=\"/dashboard/tasks\" replace />}\n                />\n              </Routes>\n            </Suspense>\n          </div>\n\n          {/*  - PC */}\n          <footer className=\"hidden md:block py-8 text-center text-sm text-gray-400 font-medium\">\n             2025  Corp. All rights reserved.\n          </footer>\n        </main>\n\n        {/*    */}\n        <MobileNav />\n\n        {/* PWA   */}\n        <PWAInstallPrompt />\n\n        {/*   */}\n        {updateAvailable && !showUpdateDismissed && (\n          <UpdateNotification\n            onUpdate={updateServiceWorker}\n            onDismiss={() => {\n              setShowUpdateDismissed(true);\n              try {\n                localStorage.setItem(\n                  \"alchan_update_dismissed\",\n                  Date.now().toString(),\n                );\n              } catch {}\n            }}\n          />\n        )}\n\n        {/*   */}\n        {!isOnline && (\n          <div className=\"fixed top-0 left-0 right-0 bg-amber-500 text-white text-center py-2 text-sm font-medium z-50 flex items-center justify-center gap-2\">\n            <WifiOff size={16} />\n             .     .\n          </div>\n        )}\n\n        {/*    */}\n        <HelpButton />\n\n        {/*     */}\n        <WelcomePopup />\n\n        {/*     (/ ) */}\n        <Suspense fallback={null}>\n          <EconomicEventPopup />\n        </Suspense>\n\n        {/*      (  ) */}\n        <Suspense fallback={null}>\n          <NewBillPopup />\n        </Suspense>\n\n        {/*  iOS    */}\n        <Suspense fallback={null}>\n          <IOSInstallPrompt />\n        </Suspense>\n\n        {/*  Android    */}\n        <Suspense fallback={null}>\n          <AppUpdateChecker />\n        </Suspense>\n\n        {/*      */}\n        {showDailyRewardPopup && userDoc?.uid && (\n          <div\n            className=\"fixed inset-0 flex items-center justify-center p-5 bg-black/70 backdrop-blur-sm z-[9999] animate-fadeIn\"\n            onClick={() => setShowDailyRewardPopup(false)}\n          >\n            <div\n              className=\"w-full max-w-[400px] animate-slideUp\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              <div className=\"text-right mb-2\">\n                <button\n                  onClick={() => setShowDailyRewardPopup(false)}\n                  className=\"w-8 h-8 rounded-full border-none cursor-pointer text-lg text-white flex items-center justify-center ml-auto bg-white/20\"\n                >\n                  \n                </button>\n              </div>\n              <DailyRewardBanner\n                userId={userDoc.uid}\n                onClaim={handleDailyRewardClaim}\n              />\n              <div className=\"text-center mt-3 text-[13px] text-white/60\">\n                  \n              </div>\n            </div>\n          </div>\n        )}\n\n        {/*   index.css  */}\n      </div>\n    </ItemProvider>\n  );\n}\n\n// AlchanLoading  export\nexport { AlchanLoading };\n","// src/components/Avatar.js -    ( )\r\nimport React from \"react\";\r\nimport {\r\n  SKIN_TONES,\r\n  FACE_SHAPES,\r\n  EYE_STYLES,\r\n  EYE_COLORS,\r\n  MOUTH_STYLES,\r\n  HAIRSTYLES,\r\n  HAIR_COLORS,\r\n  OUTFITS,\r\n  OUTFIT_COLORS,\r\n  ACCESSORIES,\r\n  BACKGROUNDS,\r\n  BORDERS,\r\n  DEFAULT_AVATAR,\r\n} from \"../utils/avatarSystem\";\r\n\r\n/**\r\n *     \r\n */\r\nfunction darkenColor(hex, percent = 15) {\r\n  if (!hex || hex === 'none' || hex === 'transparent') return hex;\r\n\r\n  // hex RGB \r\n  let r = parseInt(hex.slice(1, 3), 16);\r\n  let g = parseInt(hex.slice(3, 5), 16);\r\n  let b = parseInt(hex.slice(5, 7), 16);\r\n\r\n  // \r\n  r = Math.max(0, Math.floor(r * (100 - percent) / 100));\r\n  g = Math.max(0, Math.floor(g * (100 - percent) / 100));\r\n  b = Math.max(0, Math.floor(b * (100 - percent) / 100));\r\n\r\n  return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;\r\n}\r\n\r\n/**\r\n *   - SVG   ( )\r\n *   viewBox \r\n */\r\nexport default function Avatar({ config = {}, size = 100, showBorder = true, onClick }) {\r\n  const avatarConfig = { ...DEFAULT_AVATAR, ...config };\r\n\r\n  //  \r\n  const skinTone = SKIN_TONES.find(s => s.id === avatarConfig.skinTone) || SKIN_TONES[1];\r\n  const faceShape = FACE_SHAPES.find(f => f.id === avatarConfig.faceShape) || FACE_SHAPES[1];\r\n  const eyeStyle = EYE_STYLES.find(e => e.id === avatarConfig.eyeStyle) || EYE_STYLES[0];\r\n  const eyeColor = EYE_COLORS.find(e => e.id === avatarConfig.eyeColor) || EYE_COLORS[1];\r\n  const mouthStyle = MOUTH_STYLES.find(m => m.id === avatarConfig.mouthStyle) || MOUTH_STYLES[0];\r\n  const hairstyle = HAIRSTYLES.find(h => h.id === avatarConfig.hairstyle) || HAIRSTYLES[1];\r\n  const hairColor = HAIR_COLORS.find(h => h.id === avatarConfig.hairColor) || HAIR_COLORS[0];\r\n  const outfit = OUTFITS.find(o => o.id === avatarConfig.outfit) || OUTFITS[1];\r\n  const outfitColor = OUTFIT_COLORS.find(o => o.id === avatarConfig.outfitColor) || OUTFIT_COLORS[0];\r\n  const accessory = ACCESSORIES.find(a => a.id === avatarConfig.accessory);\r\n  const background = BACKGROUNDS.find(b => b.id === avatarConfig.background) || BACKGROUNDS[0];\r\n  const border = BORDERS.find(b => b.id === avatarConfig.border);\r\n\r\n  //   (  )\r\n  const noseColor = darkenColor(skinTone.color, 12);\r\n\r\n  //   \r\n  const getBackgroundStyle = () => {\r\n    if (!background || background.id === \"none\") return \"#1a1a2e\";\r\n    if (background.gradient) {\r\n      return `url(#bg-gradient-${background.id})`;\r\n    }\r\n    return background.color;\r\n  };\r\n\r\n  //  \r\n  const getBorderStyle = () => {\r\n    if (!border || border.id === \"none\" || !showBorder) return null;\r\n    return {\r\n      stroke: border.gradient ? `url(#border-gradient-${border.id})` : border.color,\r\n      strokeWidth: border.width || 3,\r\n      filter: border.glow ? `drop-shadow(0 0 ${border.width * 2}px ${border.glowColor || border.color})` : undefined,\r\n    };\r\n  };\r\n\r\n  const borderStyle = getBorderStyle();\r\n\r\n  //    (  )\r\n  const getHairFill = () => {\r\n    if (hairColor?.gradient) {\r\n      return \"url(#hair-rainbow)\";\r\n    }\r\n    return hairColor?.color || \"#1a1a1a\";\r\n  };\r\n\r\n  //    viewBox \r\n  const viewBoxY = -25; //   \r\n  const viewBoxHeight = 150; //   \r\n\r\n  return (\r\n    <svg\r\n      width={size}\r\n      height={size}\r\n      viewBox={`-15 ${viewBoxY} 130 ${viewBoxHeight}`}\r\n      onClick={onClick}\r\n      style={{ cursor: onClick ? \"pointer\" : \"default\", overflow: \"visible\" }}\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n    >\r\n      <defs>\r\n        {/*   */}\r\n        {background?.gradient && (\r\n          <linearGradient id={`bg-gradient-${background.id}`} x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n            {background.gradient.map((color, idx) => (\r\n              <stop\r\n                key={idx}\r\n                offset={`${(idx / (background.gradient.length - 1)) * 100}%`}\r\n                stopColor={color}\r\n              />\r\n            ))}\r\n          </linearGradient>\r\n        )}\r\n\r\n        {/*   */}\r\n        {border?.gradient && (\r\n          <linearGradient id={`border-gradient-${border.id}`} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n            {border.gradient.map((color, idx) => (\r\n              <stop\r\n                key={idx}\r\n                offset={`${(idx / (border.gradient.length - 1)) * 100}%`}\r\n                stopColor={color}\r\n              />\r\n            ))}\r\n          </linearGradient>\r\n        )}\r\n\r\n        {/*   () */}\r\n        {hairColor?.gradient && (\r\n          <linearGradient id=\"hair-rainbow\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n            {hairColor.gradient.map((color, idx) => (\r\n              <stop\r\n                key={idx}\r\n                offset={`${(idx / (hairColor.gradient.length - 1)) * 100}%`}\r\n                stopColor={color}\r\n              />\r\n            ))}\r\n          </linearGradient>\r\n        )}\r\n\r\n        {/*   */}\r\n        <filter id=\"shadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\r\n          <feDropShadow dx=\"0\" dy=\"2\" stdDeviation=\"2\" floodOpacity=\"0.3\" />\r\n        </filter>\r\n\r\n        {/*   -   */}\r\n        <clipPath id=\"face-clip\">\r\n          <path d={faceShape.path} />\r\n        </clipPath>\r\n      </defs>\r\n\r\n      {/* =======  ======= */}\r\n      {background && background.id !== \"none\" && (\r\n        <rect\r\n          x=\"-15\"\r\n          y={viewBoxY}\r\n          width=\"130\"\r\n          height={viewBoxHeight}\r\n          fill={getBackgroundStyle()}\r\n          rx=\"10\"\r\n        />\r\n      )}\r\n\r\n      {/*   () */}\r\n      {background?.stars && (\r\n        <g>\r\n          <circle cx=\"15\" cy=\"10\" r=\"1.5\" fill=\"white\" opacity=\"0.9\" />\r\n          <circle cx=\"85\" cy=\"15\" r=\"2\" fill=\"white\" opacity=\"0.8\" />\r\n          <circle cx=\"45\" cy=\"-5\" r=\"1.2\" fill=\"white\" opacity=\"0.9\" />\r\n          <circle cx=\"70\" cy=\"0\" r=\"1.5\" fill=\"white\" opacity=\"0.7\" />\r\n          <circle cx=\"25\" cy=\"20\" r=\"1\" fill=\"white\" opacity=\"0.8\" />\r\n          <circle cx=\"95\" cy=\"25\" r=\"1.2\" fill=\"white\" opacity=\"0.7\" />\r\n          <circle cx=\"5\" cy=\"30\" r=\"1.5\" fill=\"white\" opacity=\"0.6\" />\r\n          <circle cx=\"60\" cy=\"100\" r=\"1\" fill=\"white\" opacity=\"0.9\" />\r\n          <circle cx=\"30\" cy=\"110\" r=\"1.2\" fill=\"white\" opacity=\"0.7\" />\r\n        </g>\r\n      )}\r\n\r\n      {/* =======  ======= */}\r\n      <rect\r\n        x=\"42\"\r\n        y=\"85\"\r\n        width=\"16\"\r\n        height=\"12\"\r\n        fill={skinTone.color}\r\n      />\r\n\r\n      {/* =======  ======= */}\r\n      {outfit && outfit.id !== \"none\" && (\r\n        <g>\r\n          {/*   */}\r\n          <path\r\n            d={outfit.path}\r\n            fill={outfitColor?.color || outfit.baseColor}\r\n          />\r\n          {/*  () */}\r\n          {outfit.collar && (\r\n            <g>\r\n              <path d=\"M40,95 L50,103 L60,95\" stroke=\"#ffffff\" strokeWidth=\"3\" fill=\"none\" />\r\n            </g>\r\n          )}\r\n          {/*  () */}\r\n          {outfit.buttons && (\r\n            <g>\r\n              <circle cx=\"50\" cy=\"103\" r=\"2\" fill=\"#f1c40f\" />\r\n              <circle cx=\"50\" cy=\"110\" r=\"2\" fill=\"#f1c40f\" />\r\n            </g>\r\n          )}\r\n          {/*  () */}\r\n          {outfit.tie && (\r\n            <g>\r\n              <path d=\"M47,95 L50,98 L53,95\" fill=\"#c0392b\" />\r\n              <path d=\"M48,98 L50,118 L52,98 Z\" fill=\"#e74c3c\" />\r\n            </g>\r\n          )}\r\n          {/*  */}\r\n          {outfit.hood && (\r\n            <path\r\n              d=\"M25,92 Q22,80 35,75 L65,75 Q78,80 75,92\"\r\n              fill={darkenColor(outfitColor?.color || outfit.baseColor, 15)}\r\n            />\r\n          )}\r\n        </g>\r\n      )}\r\n\r\n      {/* =======  ======= */}\r\n      <g>\r\n        {/*      -  path    */}\r\n        {(() => {\r\n          //    ( path !)\r\n          // round/square/heart: x=10~90, oval: x=12~88, long: x=20~80\r\n          const earPositions = {\r\n            round: { leftX: 7, rightX: 93, y: 50 },\r\n            oval: { leftX: 9, rightX: 91, y: 48 },\r\n            square: { leftX: 7, rightX: 93, y: 50 },\r\n            heart: { leftX: 7, rightX: 93, y: 48 },\r\n            long: { leftX: 17, rightX: 83, y: 50 },\r\n          };\r\n          const earPos = earPositions[faceShape.id] || earPositions.round;\r\n          return (\r\n            <>\r\n              {/*  () -    */}\r\n              <ellipse\r\n                cx={earPos.leftX}\r\n                cy={earPos.y}\r\n                rx=\"5\"\r\n                ry=\"8\"\r\n                fill={skinTone.color}\r\n              />\r\n              <ellipse\r\n                cx={earPos.leftX + 1}\r\n                cy={earPos.y}\r\n                rx=\"2\"\r\n                ry=\"4\"\r\n                fill={darkenColor(skinTone.color, 12)}\r\n              />\r\n              {/*  () */}\r\n              <ellipse\r\n                cx={earPos.rightX}\r\n                cy={earPos.y}\r\n                rx=\"5\"\r\n                ry=\"8\"\r\n                fill={skinTone.color}\r\n              />\r\n              <ellipse\r\n                cx={earPos.rightX - 1}\r\n                cy={earPos.y}\r\n                rx=\"2\"\r\n                ry=\"4\"\r\n                fill={darkenColor(skinTone.color, 12)}\r\n              />\r\n            </>\r\n          );\r\n        })()}\r\n        {/*   */}\r\n        <path\r\n          d={faceShape.path}\r\n          fill={skinTone.color}\r\n        />\r\n        {/*   */}\r\n        <ellipse cx=\"30\" cy=\"60\" rx=\"8\" ry=\"5\" fill=\"#ffb6c1\" opacity=\"0.3\" />\r\n        <ellipse cx=\"70\" cy=\"60\" rx=\"8\" ry=\"5\" fill=\"#ffb6c1\" opacity=\"0.3\" />\r\n      </g>\r\n\r\n      {/* =======  ======= */}\r\n      <g>\r\n        {/*   */}\r\n        <ellipse\r\n          cx={eyeStyle.leftX}\r\n          cy={eyeStyle.y}\r\n          rx={eyeStyle.size}\r\n          ry={eyeStyle.size * 0.75}\r\n          fill=\"white\"\r\n        />\r\n        <circle\r\n          cx={eyeStyle.leftX}\r\n          cy={eyeStyle.y}\r\n          r={eyeStyle.size * 0.55}\r\n          fill={eyeColor.color}\r\n        />\r\n        <circle\r\n          cx={eyeStyle.leftX - 1}\r\n          cy={eyeStyle.y - 1}\r\n          r={eyeStyle.size * 0.22}\r\n          fill=\"white\"\r\n        />\r\n\r\n        {/*   */}\r\n        <ellipse\r\n          cx={eyeStyle.rightX}\r\n          cy={eyeStyle.y}\r\n          rx={eyeStyle.size}\r\n          ry={eyeStyle.size * 0.75}\r\n          fill=\"white\"\r\n        />\r\n        <circle\r\n          cx={eyeStyle.rightX}\r\n          cy={eyeStyle.y}\r\n          r={eyeStyle.size * 0.55}\r\n          fill={eyeColor.color}\r\n        />\r\n        <circle\r\n          cx={eyeStyle.rightX - 1}\r\n          cy={eyeStyle.y - 1}\r\n          r={eyeStyle.size * 0.22}\r\n          fill=\"white\"\r\n        />\r\n\r\n        {/*  -    */}\r\n        <path\r\n          d={`M${eyeStyle.leftX - 7},${eyeStyle.y - 11} Q${eyeStyle.leftX},${eyeStyle.y - 14} ${eyeStyle.leftX + 7},${eyeStyle.y - 11}`}\r\n          stroke={hairColor?.gradient ? \"#1a1a1a\" : (hairColor?.color || \"#1a1a1a\")}\r\n          strokeWidth=\"2.5\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n          d={`M${eyeStyle.rightX - 7},${eyeStyle.y - 11} Q${eyeStyle.rightX},${eyeStyle.y - 14} ${eyeStyle.rightX + 7},${eyeStyle.y - 11}`}\r\n          stroke={hairColor?.gradient ? \"#1a1a1a\" : (hairColor?.color || \"#1a1a1a\")}\r\n          strokeWidth=\"2.5\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n      </g>\r\n\r\n      {/* =======  ======= */}\r\n      <path\r\n        d=\"M48,53 L50,60 L52,53\"\r\n        stroke={noseColor}\r\n        strokeWidth=\"2.5\"\r\n        fill=\"none\"\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n      />\r\n\r\n      {/* =======  ======= */}\r\n      <path\r\n        d={mouthStyle.path}\r\n        stroke={mouthStyle.stroke ? \"#c0392b\" : \"none\"}\r\n        strokeWidth=\"2.5\"\r\n        fill={mouthStyle.fill ? \"#c0392b\" : \"none\"}\r\n        strokeLinecap=\"round\"\r\n      />\r\n\r\n      {/* =======     ======= */}\r\n      {hairstyle && hairstyle.id !== \"none\" && (\r\n        <g>\r\n          {/*   */}\r\n          {hairstyle.paths && hairstyle.paths[0] && (\r\n            <path\r\n              d={hairstyle.paths[0]}\r\n              fill={getHairFill()}\r\n              stroke={hairColor?.color === \"#1a1a1a\" ? \"#333\" : \"none\"}\r\n              strokeWidth=\"1\"\r\n            />\r\n          )}\r\n          {/*   (/ ) */}\r\n          {hairstyle.paths && hairstyle.paths.slice(1).map((p, i) => (\r\n            <path\r\n              key={`hair-${i}`}\r\n              d={p}\r\n              fill={getHairFill()}\r\n              stroke={hairColor?.color === \"#1a1a1a\" ? \"#333\" : \"none\"}\r\n              strokeWidth=\"1\"\r\n            />\r\n          ))}\r\n          {/*  */}\r\n          {hairstyle.bangsPath && (\r\n            <path\r\n              d={hairstyle.bangsPath}\r\n              fill={getHairFill()}\r\n              stroke={hairColor?.color === \"#1a1a1a\" ? \"#333\" : \"none\"}\r\n              strokeWidth=\"1\"\r\n            />\r\n          )}\r\n        </g>\r\n      )}\r\n\r\n      {/* =======  ======= */}\r\n      {accessory && accessory.id !== \"none\" && (\r\n        <g>\r\n          {/*  */}\r\n          {accessory.id === \"glasses\" && (\r\n            <g>\r\n              {/*   */}\r\n              <circle cx=\"35\" cy=\"45\" r=\"10\" fill=\"none\" stroke=\"#1a1a1a\" strokeWidth=\"2\" />\r\n              {/*   */}\r\n              <circle cx=\"65\" cy=\"45\" r=\"10\" fill=\"none\" stroke=\"#1a1a1a\" strokeWidth=\"2\" />\r\n              {/*  */}\r\n              <path d=\"M45,45 Q50,42 55,45\" fill=\"none\" stroke=\"#1a1a1a\" strokeWidth=\"2\" />\r\n              {/*  */}\r\n              <path d=\"M25,45 L10,42\" stroke=\"#1a1a1a\" strokeWidth=\"2\" />\r\n              <path d=\"M75,45 L90,42\" stroke=\"#1a1a1a\" strokeWidth=\"2\" />\r\n            </g>\r\n          )}\r\n          {/*  */}\r\n          {accessory.id === \"sunglasses\" && (\r\n            <g>\r\n              <ellipse cx=\"35\" cy=\"45\" rx=\"12\" ry=\"8\" fill=\"#1a1a1a\" />\r\n              <ellipse cx=\"65\" cy=\"45\" rx=\"12\" ry=\"8\" fill=\"#1a1a1a\" />\r\n              <path d=\"M47,45 Q50,42 53,45\" fill=\"none\" stroke=\"#1a1a1a\" strokeWidth=\"2\" />\r\n              <path d=\"M23,45 L8,42\" stroke=\"#1a1a1a\" strokeWidth=\"2\" />\r\n              <path d=\"M77,45 L92,42\" stroke=\"#1a1a1a\" strokeWidth=\"2\" />\r\n              {/*  */}\r\n              <ellipse cx=\"32\" cy=\"43\" rx=\"3\" ry=\"2\" fill=\"white\" opacity=\"0.3\" />\r\n              <ellipse cx=\"62\" cy=\"43\" rx=\"3\" ry=\"2\" fill=\"white\" opacity=\"0.3\" />\r\n            </g>\r\n          )}\r\n          {/*  */}\r\n          {accessory.id === \"earrings\" && (\r\n            <g>\r\n              <circle cx=\"6\" cy=\"58\" r=\"4\" fill=\"#f1c40f\" />\r\n              <circle cx=\"94\" cy=\"58\" r=\"4\" fill=\"#f1c40f\" />\r\n              <circle cx=\"5\" cy=\"56\" r=\"1\" fill=\"white\" opacity=\"0.6\" />\r\n              <circle cx=\"93\" cy=\"56\" r=\"1\" fill=\"white\" opacity=\"0.6\" />\r\n            </g>\r\n          )}\r\n          {/*  */}\r\n          {accessory.id === \"necklace\" && (\r\n            <g>\r\n              <path d=\"M30,88 Q50,95 70,88\" fill=\"none\" stroke=\"#f1c40f\" strokeWidth=\"2\" />\r\n              <circle cx=\"50\" cy=\"94\" r=\"4\" fill=\"#f1c40f\" />\r\n              <circle cx=\"49\" cy=\"92\" r=\"1\" fill=\"white\" opacity=\"0.5\" />\r\n            </g>\r\n          )}\r\n          {/*  */}\r\n          {accessory.id === \"hat\" && (\r\n            <g>\r\n              <ellipse cx=\"50\" cy=\"8\" rx=\"45\" ry=\"8\" fill=\"#e74c3c\" />\r\n              <path d=\"M15,8 Q15,-15 50,-18 Q85,-15 85,8\" fill=\"#e74c3c\" />\r\n              <rect x=\"15\" y=\"5\" width=\"70\" height=\"5\" fill=\"#c0392b\" />\r\n            </g>\r\n          )}\r\n          {/*  */}\r\n          {accessory.id === \"crown\" && (\r\n            <g>\r\n              <path\r\n                d=\"M18,12 L22,0 L32,-12 L42,5 L50,-15 L58,5 L68,-12 L78,0 L82,12 Z\"\r\n                fill=\"#f1c40f\"\r\n                stroke=\"#d4ac0d\"\r\n                strokeWidth=\"1\"\r\n              />\r\n              <circle cx=\"32\" cy=\"-2\" r=\"4\" fill=\"#e74c3c\" />\r\n              <circle cx=\"50\" cy=\"-5\" r=\"5\" fill=\"#3498db\" />\r\n              <circle cx=\"68\" cy=\"-2\" r=\"4\" fill=\"#2ecc71\" />\r\n              <circle cx=\"31\" cy=\"-4\" r=\"1.5\" fill=\"white\" opacity=\"0.5\" />\r\n              <circle cx=\"49\" cy=\"-7\" r=\"2\" fill=\"white\" opacity=\"0.5\" />\r\n              <circle cx=\"67\" cy=\"-4\" r=\"1.5\" fill=\"white\" opacity=\"0.5\" />\r\n            </g>\r\n          )}\r\n          {/*  */}\r\n          {accessory.id === \"headband\" && (\r\n            <path\r\n              d=\"M10,22 Q50,15 90,22\"\r\n              fill=\"none\"\r\n              stroke=\"#ff69b4\"\r\n              strokeWidth=\"4\"\r\n            />\r\n          )}\r\n          {/*  */}\r\n          {accessory.id === \"bow\" && (\r\n            <g transform=\"translate(78, 15)\">\r\n              <ellipse cx=\"-10\" cy=\"0\" rx=\"10\" ry=\"6\" fill=\"#ff69b4\" />\r\n              <ellipse cx=\"10\" cy=\"0\" rx=\"10\" ry=\"6\" fill=\"#ff69b4\" />\r\n              <circle cx=\"0\" cy=\"0\" r=\"5\" fill=\"#e91e8c\" />\r\n            </g>\r\n          )}\r\n          {/*  */}\r\n          {accessory.id === \"mask\" && (\r\n            <g>\r\n              <path\r\n                d=\"M20,55 Q50,72 80,55 L80,70 Q50,88 20,70 Z\"\r\n                fill=\"#ffffff\"\r\n                stroke=\"#e0e0e0\"\r\n                strokeWidth=\"1\"\r\n              />\r\n              <path d=\"M35,62 L65,62\" stroke=\"#e0e0e0\" strokeWidth=\"1\" />\r\n            </g>\r\n          )}\r\n        </g>\r\n      )}\r\n\r\n      {/* =======  ======= */}\r\n      {borderStyle && showBorder && (\r\n        <rect\r\n          x=\"-13\"\r\n          y={viewBoxY + 2}\r\n          width=\"126\"\r\n          height={viewBoxHeight - 4}\r\n          fill=\"none\"\r\n          stroke={borderStyle.stroke}\r\n          strokeWidth={borderStyle.strokeWidth}\r\n          rx=\"12\"\r\n          style={{ filter: borderStyle.filter }}\r\n        />\r\n      )}\r\n    </svg>\r\n  );\r\n}\r\n\r\n/**\r\n *   \r\n *  viewBox     \r\n */\r\nexport function MiniAvatar({ config, size = 40, onClick }) {\r\n  return (\r\n    <div\r\n      onClick={onClick}\r\n      className=\"rounded-full overflow-hidden relative\"\r\n      style={{\r\n        width: size,\r\n        height: size,\r\n        cursor: onClick ? \"pointer\" : \"default\",\r\n        boxShadow: \"0 2px 8px rgba(0,0,0,0.3)\",\r\n        border: \"2px solid rgba(255,255,255,0.3)\",\r\n      }}\r\n    >\r\n      <div className=\"absolute top-1/2 left-1/2\" style={{ transform: \"translate(-50%, -60%)\" }}>\r\n        <Avatar config={config} size={size * 1.6} showBorder={false} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// src/utils/achievementSystem.js - / \r\n\r\n/**\r\n *   \r\n *      .\r\n */\r\n\r\nimport { logger } from './logger';\nexport const ACHIEVEMENTS = {\r\n  //   \r\n  FIRST_THOUSAND: {\r\n    id: \"first_thousand\",\r\n    name: \"  \",\r\n    description: \"1,000  \",\r\n    icon: \"\",\r\n    category: \"wealth\",\r\n    condition: (stats) => stats.totalAssets >= 1000,\r\n    rarity: \"common\",\r\n    points: 10,\r\n  },\r\n  FIRST_TEN_THOUSAND: {\r\n    id: \"first_ten_thousand\",\r\n    name: \"  \",\r\n    description: \"10,000  \",\r\n    icon: \"\",\r\n    category: \"wealth\",\r\n    condition: (stats) => stats.totalAssets >= 10000,\r\n    rarity: \"common\",\r\n    points: 25,\r\n  },\r\n  HUNDRED_THOUSAND: {\r\n    id: \"hundred_thousand\",\r\n    name: \"10  \",\r\n    description: \"100,000  \",\r\n    icon: \"\",\r\n    category: \"wealth\",\r\n    condition: (stats) => stats.totalAssets >= 100000,\r\n    rarity: \"uncommon\",\r\n    points: 50,\r\n  },\r\n  MILLIONAIRE: {\r\n    id: \"millionaire\",\r\n    name: \"\",\r\n    description: \"1,000,000  \",\r\n    icon: \"\",\r\n    category: \"wealth\",\r\n    condition: (stats) => stats.totalAssets >= 1000000,\r\n    rarity: \"rare\",\r\n    points: 100,\r\n  },\r\n  MULTI_MILLIONAIRE: {\r\n    id: \"multi_millionaire\",\r\n    name: \"\",\r\n    description: \"10,000,000  \",\r\n    icon: \"\",\r\n    category: \"wealth\",\r\n    condition: (stats) => stats.totalAssets >= 10000000,\r\n    rarity: \"legendary\",\r\n    points: 500,\r\n  },\r\n\r\n  //   \r\n  COUPON_COLLECTOR: {\r\n    id: \"coupon_collector\",\r\n    name: \" \",\r\n    description: \" 10  \",\r\n    icon: \"\",\r\n    category: \"coupon\",\r\n    condition: (stats) => stats.coupons >= 10,\r\n    rarity: \"common\",\r\n    points: 15,\r\n  },\r\n  COUPON_MASTER: {\r\n    id: \"coupon_master\",\r\n    name: \" \",\r\n    description: \" 50  \",\r\n    icon: \"\",\r\n    category: \"coupon\",\r\n    condition: (stats) => stats.coupons >= 50,\r\n    rarity: \"uncommon\",\r\n    points: 40,\r\n  },\r\n  COUPON_HOARDER: {\r\n    id: \"coupon_hoarder\",\r\n    name: \" \",\r\n    description: \" 100  \",\r\n    icon: \"\",\r\n    category: \"coupon\",\r\n    condition: (stats) => stats.coupons >= 100,\r\n    rarity: \"rare\",\r\n    points: 80,\r\n  },\r\n\r\n  //   \r\n  FIRST_TRADE: {\r\n    id: \"first_trade\",\r\n    name: \" \",\r\n    description: \"   \",\r\n    icon: \"\",\r\n    category: \"trading\",\r\n    condition: (stats) => stats.totalTransactions >= 1,\r\n    rarity: \"common\",\r\n    points: 10,\r\n  },\r\n  ACTIVE_TRADER: {\r\n    id: \"active_trader\",\r\n    name: \" \",\r\n    description: \"10  \",\r\n    icon: \"\",\r\n    category: \"trading\",\r\n    condition: (stats) => stats.totalTransactions >= 10,\r\n    rarity: \"common\",\r\n    points: 25,\r\n  },\r\n  TRADING_EXPERT: {\r\n    id: \"trading_expert\",\r\n    name: \" \",\r\n    description: \"50  \",\r\n    icon: \"\",\r\n    category: \"trading\",\r\n    condition: (stats) => stats.totalTransactions >= 50,\r\n    rarity: \"uncommon\",\r\n    points: 50,\r\n  },\r\n\r\n  //   \r\n  GENEROUS_HEART: {\r\n    id: \"generous_heart\",\r\n    name: \" \",\r\n    description: \"   \",\r\n    icon: \"\",\r\n    category: \"donation\",\r\n    condition: (stats) => stats.totalDonations >= 1,\r\n    rarity: \"common\",\r\n    points: 20,\r\n  },\r\n  PHILANTHROPIST: {\r\n    id: \"philanthropist\",\r\n    name: \"\",\r\n    description: \" 10  \",\r\n    icon: \"\",\r\n    category: \"donation\",\r\n    condition: (stats) => stats.totalDonations >= 10,\r\n    rarity: \"uncommon\",\r\n    points: 50,\r\n  },\r\n  DONATION_KING: {\r\n    id: \"donation_king\",\r\n    name: \"\",\r\n    description: \" 100  \",\r\n    icon: \"\",\r\n    category: \"donation\",\r\n    condition: (stats) => stats.totalDonations >= 100,\r\n    rarity: \"rare\",\r\n    points: 150,\r\n  },\r\n\r\n  //   \r\n  SAVER_BEGINNER: {\r\n    id: \"saver_beginner\",\r\n    name: \" \",\r\n    description: \"    \",\r\n    icon: \"\",\r\n    category: \"saving\",\r\n    condition: (stats) => stats.savingProducts >= 1,\r\n    rarity: \"common\",\r\n    points: 15,\r\n  },\r\n  SMART_SAVER: {\r\n    id: \"smart_saver\",\r\n    name: \" \",\r\n    description: \"/ 3  \",\r\n    icon: \"\",\r\n    category: \"saving\",\r\n    condition: (stats) => stats.savingProducts >= 3,\r\n    rarity: \"uncommon\",\r\n    points: 40,\r\n  },\r\n\r\n  //   \r\n  FIRST_PROPERTY: {\r\n    id: \"first_property\",\r\n    name: \" \",\r\n    description: \"   \",\r\n    icon: \"\",\r\n    category: \"realestate\",\r\n    condition: (stats) => stats.properties >= 1,\r\n    rarity: \"common\",\r\n    points: 30,\r\n  },\r\n  REAL_ESTATE_INVESTOR: {\r\n    id: \"real_estate_investor\",\r\n    name: \" \",\r\n    description: \" 3  \",\r\n    icon: \"\",\r\n    category: \"realestate\",\r\n    condition: (stats) => stats.properties >= 3,\r\n    rarity: \"uncommon\",\r\n    points: 70,\r\n  },\r\n  PROPERTY_TYCOON: {\r\n    id: \"property_tycoon\",\r\n    name: \" \",\r\n    description: \" 5  \",\r\n    icon: \"\",\r\n    category: \"realestate\",\r\n    condition: (stats) => stats.properties >= 5,\r\n    rarity: \"rare\",\r\n    points: 150,\r\n  },\r\n\r\n  //  \r\n  PERFECT_ATTENDANCE: {\r\n    id: \"perfect_attendance\",\r\n    name: \"\",\r\n    description: \"7  \",\r\n    icon: \"\",\r\n    category: \"special\",\r\n    condition: (stats) => stats.loginStreak >= 7,\r\n    rarity: \"uncommon\",\r\n    points: 100,\r\n  },\r\n  MONTHLY_STREAK: {\r\n    id: \"monthly_streak\",\r\n    name: \"  \",\r\n    description: \"30  \",\r\n    icon: \"\",\r\n    category: \"special\",\r\n    condition: (stats) => stats.loginStreak >= 30,\r\n    rarity: \"rare\",\r\n    points: 300,\r\n  },\r\n  EARLY_BIRD: {\r\n    id: \"early_bird\",\r\n    name: \"\",\r\n    description: \"  \",\r\n    icon: \"\",\r\n    category: \"special\",\r\n    condition: () => false, //  \r\n    rarity: \"legendary\",\r\n    points: 200,\r\n  },\r\n};\r\n\r\nexport const RARITY_COLORS = {\r\n  common: { color: \"#9ca3af\", bg: \"#374151\", label: \"\" },\r\n  uncommon: { color: \"#22c55e\", bg: \"#14532d\", label: \"\" },\r\n  rare: { color: \"#3b82f6\", bg: \"#1e3a8a\", label: \"\" },\r\n  epic: { color: \"#a855f7\", bg: \"#581c87\", label: \"\" },\r\n  legendary: { color: \"#f59e0b\", bg: \"#78350f\", label: \"\" },\r\n};\r\n\r\nexport const CATEGORIES = {\r\n  wealth: { name: \"\", icon: \"\" },\r\n  coupon: { name: \"\", icon: \"\" },\r\n  trading: { name: \"\", icon: \"\" },\r\n  donation: { name: \"\", icon: \"\" },\r\n  saving: { name: \"\", icon: \"\" },\r\n  realestate: { name: \"\", icon: \"\" },\r\n  special: { name: \"\", icon: \"\" },\r\n};\r\n\r\n/**\r\n *       .\r\n * @param {object} userStats -  \r\n * @returns {Array}   \r\n */\r\nexport function getUnlockedAchievements(userStats) {\r\n  const stats = {\r\n    totalAssets: userStats.totalAssets || 0,\r\n    coupons: userStats.coupons || 0,\r\n    totalTransactions: userStats.totalTransactions || 0,\r\n    totalDonations: userStats.totalDonations || 0,\r\n    savingProducts: userStats.savingProducts || 0,\r\n    properties: userStats.properties || 0,\r\n    loginStreak: userStats.loginStreak || 0,\r\n    ...userStats,\r\n  };\r\n\r\n  return Object.values(ACHIEVEMENTS).filter(\r\n    (achievement) => achievement.condition(stats)\r\n  );\r\n}\r\n\r\n/**\r\n *    \r\n * @param {object} userStats -  \r\n * @returns {{ unlocked: number, total: number, percentage: number, points: number }}\r\n */\r\nexport function getAchievementProgress(userStats) {\r\n  const unlockedAchievements = getUnlockedAchievements(userStats);\r\n  const totalAchievements = Object.keys(ACHIEVEMENTS).length;\r\n  const totalPoints = unlockedAchievements.reduce((sum, a) => sum + a.points, 0);\r\n\r\n  return {\r\n    unlocked: unlockedAchievements.length,\r\n    total: totalAchievements,\r\n    percentage: Math.round((unlockedAchievements.length / totalAchievements) * 100),\r\n    points: totalPoints,\r\n  };\r\n}\r\n\r\n/**\r\n *   \r\n * @param {object} userStats -  \r\n * @returns {object}   \r\n */\r\nexport function getAchievementsByCategory(userStats) {\r\n  const unlockedIds = new Set(\r\n    getUnlockedAchievements(userStats).map((a) => a.id)\r\n  );\r\n\r\n  const grouped = {};\r\n  for (const [category, info] of Object.entries(CATEGORIES)) {\r\n    grouped[category] = {\r\n      ...info,\r\n      achievements: Object.values(ACHIEVEMENTS)\r\n        .filter((a) => a.category === category)\r\n        .map((a) => ({\r\n          ...a,\r\n          unlocked: unlockedIds.has(a.id),\r\n        })),\r\n    };\r\n  }\r\n\r\n  return grouped;\r\n}\r\n\r\n/**\r\n * ID   .\r\n * @param {string} achievementId -  ID\r\n * @returns {object|null}    null\r\n */\r\nexport function getAchievementById(achievementId) {\r\n  return Object.values(ACHIEVEMENTS).find((a) => a.id === achievementId) || null;\r\n}\r\n\r\n/**\r\n *       .\r\n * @param {string} userId -  ID\r\n * @returns {Array}    [{id, unlockedAt}, ...]\r\n */\r\nexport function getUserAchievements(userId) {\r\n  if (!userId) return [];\r\n  try {\r\n    const key = `alchan_achievements_${userId}`;\r\n    const stored = localStorage.getItem(key);\r\n    return stored ? JSON.parse(stored) : [];\r\n  } catch (error) {\r\n    logger.error(\"   :\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n *   .\r\n * @param {string} userId -  ID\r\n * @param {string} achievementId -  ID\r\n * @returns {boolean}    true\r\n */\r\nexport function grantAchievement(userId, achievementId) {\r\n  if (!userId || !achievementId) return false;\r\n\r\n  try {\r\n    const key = `alchan_achievements_${userId}`;\r\n    const achievements = getUserAchievements(userId);\r\n\r\n    //    false \r\n    if (achievements.some((a) => a.id === achievementId)) {\r\n      return false;\r\n    }\r\n\r\n    //   \r\n    achievements.push({\r\n      id: achievementId,\r\n      unlockedAt: new Date().toISOString(),\r\n    });\r\n\r\n    localStorage.setItem(key, JSON.stringify(achievements));\r\n    return true;\r\n  } catch (error) {\r\n    logger.error(\"  :\", error);\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n *       .\r\n * @param {string} userId -  ID\r\n * @param {object} userStats -  \r\n * @returns {Array}    \r\n */\r\nexport function checkAndGrantAchievements(userId, userStats) {\r\n  if (!userId) return [];\r\n\r\n  const newAchievements = [];\r\n  const unlockedAchievements = getUnlockedAchievements(userStats);\r\n\r\n  for (const achievement of unlockedAchievements) {\r\n    if (grantAchievement(userId, achievement.id)) {\r\n      newAchievements.push(achievement);\r\n    }\r\n  }\r\n\r\n  return newAchievements;\r\n}\r\n","// src/utils/levelSystem.js -   /  ( )\r\n\r\n/**\r\n *      \r\n *     .\r\n * 1  1 12 \r\n */\r\n\r\nexport const LEVEL_THRESHOLDS = [\r\n  {\r\n    level: 0,\r\n    minAssets: 0,\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#6b7280\",\r\n    badge: \"\",\r\n    description: \"  \"\r\n  },\r\n  {\r\n    level: 1,\r\n    minAssets: 10000000, // 1\r\n    title: \"\",\r\n    icon: \"\",\r\n    color: \"#22c55e\",\r\n    badge: \"\",\r\n    description: \"  !\"\r\n  },\r\n  {\r\n    level: 2,\r\n    minAssets: 50000000, // 5\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#84cc16\",\r\n    badge: \"\",\r\n    description: \" !\"\r\n  },\r\n  {\r\n    level: 3,\r\n    minAssets: 100000000, // 1\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#eab308\",\r\n    badge: \"\",\r\n    description: \"  \"\r\n  },\r\n  {\r\n    level: 4,\r\n    minAssets: 200000000, // 2\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#f97316\",\r\n    badge: \"\",\r\n    description: \"2  \"\r\n  },\r\n  {\r\n    level: 5,\r\n    minAssets: 300000000, // 3\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#ef4444\",\r\n    badge: \"\",\r\n    description: \"3  \"\r\n  },\r\n  {\r\n    level: 6,\r\n    minAssets: 500000000, // 5\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#ec4899\",\r\n    badge: \"\",\r\n    description: \"5 \"\r\n  },\r\n  {\r\n    level: 7,\r\n    minAssets: 1000000000, // 10\r\n    title: \"10 \",\r\n    icon: \"\",\r\n    color: \"#a855f7\",\r\n    badge: \"\",\r\n    description: \"10 !  \"\r\n  },\r\n  {\r\n    level: 8,\r\n    minAssets: 5000000000, // 50\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#8b5cf6\",\r\n    badge: \"\",\r\n    description: \"50  \"\r\n  },\r\n  {\r\n    level: 9,\r\n    minAssets: 10000000000, // 100\r\n    title: \"100 \",\r\n    icon: \"\",\r\n    color: \"#6366f1\",\r\n    badge: \"\",\r\n    description: \"100!  \"\r\n  },\r\n  {\r\n    level: 10,\r\n    minAssets: 50000000000, // 500\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#3b82f6\",\r\n    badge: \"\",\r\n    description: \"500  \"\r\n  },\r\n  {\r\n    level: 11,\r\n    minAssets: 100000000000, // 1000\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#0ea5e9\",\r\n    badge: \"\",\r\n    description: \"1000!  \"\r\n  },\r\n  {\r\n    level: 12,\r\n    minAssets: 1000000000000, // 1\r\n    title: \" \",\r\n    icon: \"\",\r\n    color: \"#00fff2\",\r\n    badge: \"\",\r\n    description: \"1 !  \"\r\n  },\r\n];\r\n\r\n/**\r\n *     .\r\n * @param {number} netAssets -  \r\n * @returns {{ level: number, title: string, icon: string, color: string, progress: number, nextLevel: object|null }}\r\n */\r\nexport function getLevelInfo(netAssets) {\r\n  const assets = Number(netAssets) || 0;\r\n\r\n  //    ( )\r\n  let currentLevelData = LEVEL_THRESHOLDS[0];\r\n  for (let i = LEVEL_THRESHOLDS.length - 1; i >= 0; i--) {\r\n    if (assets >= LEVEL_THRESHOLDS[i].minAssets) {\r\n      currentLevelData = LEVEL_THRESHOLDS[i];\r\n      break;\r\n    }\r\n  }\r\n\r\n  //   \r\n  const nextLevelIndex = LEVEL_THRESHOLDS.findIndex(l => l.level === currentLevelData.level + 1);\r\n  const nextLevel = nextLevelIndex !== -1 ? LEVEL_THRESHOLDS[nextLevelIndex] : null;\r\n\r\n  //   (  %)\r\n  let progress = 100;\r\n  if (nextLevel) {\r\n    const currentMin = currentLevelData.minAssets;\r\n    const nextMin = nextLevel.minAssets;\r\n    progress = Math.min(100, Math.floor(((assets - currentMin) / (nextMin - currentMin)) * 100));\r\n  }\r\n\r\n  return {\r\n    level: currentLevelData.level,\r\n    title: currentLevelData.title,\r\n    icon: currentLevelData.icon,\r\n    color: currentLevelData.color,\r\n    badge: currentLevelData.badge,\r\n    description: currentLevelData.description,\r\n    progress,\r\n    nextLevel,\r\n    currentAssets: assets,\r\n    assetsToNextLevel: nextLevel ? nextLevel.minAssets - assets : 0,\r\n  };\r\n}\r\n\r\n/**\r\n *     \r\n * @param {string} color -  \r\n * @returns {object} CSS  \r\n */\r\nexport function getLevelBadgeStyle(color) {\r\n  return {\r\n    background: `linear-gradient(135deg, ${color}20 0%, ${color}40 100%)`,\r\n    border: `2px solid ${color}`,\r\n    color: color,\r\n    padding: \"4px 12px\",\r\n    borderRadius: \"20px\",\r\n    fontWeight: \"700\",\r\n    fontSize: \"14px\",\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    gap: \"6px\",\r\n    boxShadow: `0 0 12px ${color}40`,\r\n  };\r\n}\r\n\r\n/**\r\n *    \r\n * @param {number} newLevel -  \r\n * @param {string} newTitle -  \r\n * @returns {string}  \r\n */\r\nexport function getLevelUpMessage(newLevel, newTitle) {\r\n  return ` !  ${newLevel} \"${newTitle}\" !`;\r\n}\r\n\r\n/**\r\n * /  ( )\r\n * @param {number} amount - \r\n * @returns {string}  \r\n */\r\nexport function formatAssetsShort(amount) {\r\n  if (amount >= 1000000000000) {\r\n    return `${(amount / 1000000000000).toFixed(1)}`;\r\n  } else if (amount >= 100000000) {\r\n    return `${(amount / 100000000).toFixed(1)}`;\r\n  } else if (amount >= 10000) {\r\n    return `${(amount / 10000).toFixed(0)}`;\r\n  } else if (amount >= 1000) {\r\n    return `${(amount / 1000).toFixed(1)}`;\r\n  }\r\n  return amount.toLocaleString();\r\n}\r\n\r\n/**\r\n *    \r\n */\r\nexport function getAllLevels() {\r\n  return LEVEL_THRESHOLDS;\r\n}\r\n","// src/components/DailyReward.js -     ( )\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\n/**\r\n *     \r\n * 1: 1 \r\n * 10: 10\r\n * 10 :  10  (  )\r\n */\r\n\r\nconst STREAK_REWARDS = [\r\n  { day: 1, reward: 10000, icon: \"\", label: \"1\" },\r\n  { day: 2, reward: 15000, icon: \"\", label: \"2\" },\r\n  { day: 3, reward: 20000, icon: \"\", label: \"3\" },\r\n  { day: 4, reward: 30000, icon: \"\", label: \"4\" },\r\n  { day: 5, reward: 40000, icon: \"\", label: \"5\" },\r\n  { day: 6, reward: 50000, icon: \"\", label: \"6\" },\r\n  { day: 7, reward: 60000, icon: \"\", label: \"7\" },\r\n  { day: 8, reward: 70000, icon: \"\", label: \"8\" },\r\n  { day: 9, reward: 85000, icon: \"\", label: \"9\" },\r\n  { day: 10, reward: 100000, icon: \"\", label: \"10!\" },\r\n];\r\n\r\n// 10  \r\nconst STREAK_BONUS_AFTER_10 = 100000;\r\n\r\n/**\r\n *      .\r\n */\r\nexport function getStreakInfo(userId) {\r\n  const key = `dailyStreak_${userId}`;\r\n  const today = new Date().toDateString();\r\n\r\n  try {\r\n    const saved = localStorage.getItem(key);\r\n    if (saved) {\r\n      const data = JSON.parse(saved);\r\n      const lastLogin = new Date(data.lastLogin).toDateString();\r\n      const yesterday = new Date(Date.now() - 86400000).toDateString();\r\n\r\n      if (lastLogin === today) {\r\n        //   \r\n        return { ...data, isNewDay: false, canClaim: false };\r\n      } else if (lastLogin === yesterday) {\r\n        //    \r\n        return {\r\n          streak: data.streak,\r\n          lastLogin: data.lastLogin,\r\n          totalClaimed: data.totalClaimed || 0,\r\n          isNewDay: true,\r\n          canClaim: true,\r\n        };\r\n      } else {\r\n        //   - \r\n        return {\r\n          streak: 0,\r\n          lastLogin: null,\r\n          totalClaimed: data.totalClaimed || 0,\r\n          isNewDay: true,\r\n          canClaim: true,\r\n          streakBroken: true\r\n        };\r\n      }\r\n    }\r\n    //  \r\n    return { streak: 0, lastLogin: null, totalClaimed: 0, isNewDay: true, canClaim: true };\r\n  } catch {\r\n    return { streak: 0, lastLogin: null, totalClaimed: 0, isNewDay: true, canClaim: true };\r\n  }\r\n}\r\n\r\n/**\r\n *    \r\n */\r\nfunction getRewardForDay(day) {\r\n  if (day <= 10) {\r\n    return STREAK_REWARDS[day - 1]?.reward || 10000;\r\n  }\r\n  // 10   10\r\n  return STREAK_BONUS_AFTER_10;\r\n}\r\n\r\n/**\r\n *    .\r\n */\r\nexport function claimDailyReward(userId) {\r\n  const key = `dailyStreak_${userId}`;\r\n  const today = new Date().toISOString();\r\n  const streakInfo = getStreakInfo(userId);\r\n\r\n  if (!streakInfo.canClaim) {\r\n    return { success: false, message: \"   .\" };\r\n  }\r\n\r\n  const newStreak = streakInfo.streak + 1;\r\n  const reward = getRewardForDay(newStreak);\r\n  const icon = newStreak >= 10 ? \"\" : newStreak >= 7 ? \"\" : \"\";\r\n\r\n  const newData = {\r\n    streak: newStreak,\r\n    lastLogin: today,\r\n    totalClaimed: (streakInfo.totalClaimed || 0) + reward,\r\n  };\r\n\r\n  localStorage.setItem(key, JSON.stringify(newData));\r\n\r\n  return {\r\n    success: true,\r\n    reward: reward,\r\n    newStreak,\r\n    icon,\r\n    message: `${newStreak}  : ${reward.toLocaleString()}!`,\r\n    isMilestone: newStreak === 10 || newStreak % 30 === 0,\r\n  };\r\n}\r\n\r\n/**\r\n *    \r\n */\r\nexport function DailyRewardBanner({ userId, onClaim, autoPopup = true }) {\r\n  const [streakInfo, setStreakInfo] = useState(null);\r\n  const [claimed, setClaimed] = useState(false);\r\n  const [rewardResult, setRewardResult] = useState(null);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [showPopup, setShowPopup] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      const info = getStreakInfo(userId);\r\n      setStreakInfo(info);\r\n      setIsVisible(info.canClaim);\r\n      // PC   \r\n      if (autoPopup && info.canClaim) {\r\n        setShowPopup(true);\r\n      }\r\n    }\r\n  }, [userId, autoPopup]);\r\n\r\n  const handleClaim = () => {\r\n    const result = claimDailyReward(userId);\r\n    setRewardResult(result);\r\n    setClaimed(true);\r\n\r\n    if (result.success && onClaim) {\r\n      onClaim(result.reward);\r\n    }\r\n\r\n    // 5   \r\n    setTimeout(() => {\r\n      setIsVisible(false);\r\n    }, 5000);\r\n  };\r\n\r\n  if (!isVisible || !streakInfo) return null;\r\n\r\n  const nextDay = streakInfo.streak + 1;\r\n  const nextReward = getRewardForDay(nextDay);\r\n  const isBigReward = nextDay >= 10;\r\n\r\n  //   (PC  )\r\n  if (showPopup && !claimed) {\r\n    return (\r\n      <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm\" onClick={() => setShowPopup(false)}>\r\n        <div className=\"rounded-3xl p-8 max-w-md w-[90%] relative animate-slide-up\" onClick={(e) => e.stopPropagation()}\r\n          style={{\r\n            background: isBigReward\r\n              ? \"linear-gradient(135deg, #f59e0b 0%, #ea580c 100%)\"\r\n              : \"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)\",\r\n            boxShadow: \"0 20px 60px rgba(0,0,0,0.5)\",\r\n            border: \"2px solid rgba(255,255,255,0.3)\",\r\n          }}\r\n        >\r\n          <button onClick={() => setShowPopup(false)} className=\"absolute top-3 right-3 text-white/60 hover:text-white text-2xl bg-transparent border-none cursor-pointer\"></button>\r\n          <div className=\"text-center mb-6\">\r\n            <div className=\"text-6xl mb-4\">{isBigReward ? \"\" : \"\"}</div>\r\n            <div className=\"text-white text-2xl font-bold mb-2\">{nextDay}  </div>\r\n            {streakInfo.streakBroken && (\r\n              <div className=\"px-4 py-2 rounded-xl mb-3 text-sm\" style={{ background: \"rgba(0,0,0,0.2)\", color: \"rgba(255,255,255,0.9)\" }}>\r\n                   .  1!\r\n              </div>\r\n            )}\r\n            <div className=\"text-4xl font-extrabold text-white mt-3\">+{nextReward.toLocaleString()}</div>\r\n          </div>\r\n          <button\r\n            onClick={() => { handleClaim(); setShowPopup(false); }}\r\n            className=\"w-full py-4 rounded-2xl text-xl font-bold cursor-pointer border-none transition-all hover:scale-105\"\r\n            style={{ background: \"rgba(255,255,255,0.95)\", color: isBigReward ? \"#ea580c\" : \"#6366f1\", boxShadow: \"0 4px 20px rgba(0,0,0,0.3)\" }}\r\n          >\r\n            ! \r\n          </button>\r\n          <div className=\"flex justify-between gap-1 mt-5\">\r\n            {STREAK_REWARDS.map((day, idx) => (\r\n              <div key={day.day} className=\"flex-1\">\r\n                <div className=\"w-full h-2 rounded\" style={{ background: idx < streakInfo.streak ? \"rgba(255,255,255,0.9)\" : idx === streakInfo.streak ? \"rgba(255,255,255,0.5)\" : \"rgba(255,255,255,0.2)\" }} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"rounded-2xl p-5 mb-5\"\r\n      style={{\r\n        background: claimed\r\n          ? \"linear-gradient(135deg, #10b981 0%, #059669 100%)\"\r\n          : isBigReward\r\n            ? \"linear-gradient(135deg, #f59e0b 0%, #ea580c 100%)\"\r\n            : \"linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)\",\r\n        boxShadow: claimed\r\n          ? \"0 4px 20px rgba(16, 185, 129, 0.4)\"\r\n          : isBigReward\r\n            ? \"0 4px 20px rgba(245, 158, 11, 0.4)\"\r\n            : \"0 4px 20px rgba(139, 92, 246, 0.4)\",\r\n        animation: \"slideDown 0.3s ease-out\",\r\n        border: \"2px solid rgba(255,255,255,0.2)\",\r\n      }}\r\n    >\r\n      {!claimed ? (\r\n        <>\r\n          {/*    */}\r\n          {streakInfo.streakBroken && (\r\n            <div\r\n              className=\"px-3 py-2 rounded-lg mb-3 text-sm\"\r\n              style={{\r\n                background: \"rgba(0,0,0,0.2)\",\r\n                color: \"rgba(255,255,255,0.9)\",\r\n              }}\r\n            >\r\n                 .  1 !\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2.5 mb-1.5\">\r\n                <span className=\"text-3xl\">\r\n                  {isBigReward ? \"\" : \"\"}\r\n                </span>\r\n                <div>\r\n                  <div className=\"text-white text-lg font-bold\">\r\n                    {nextDay}  \r\n                  </div>\r\n                  {nextDay >= 10 && (\r\n                    <div className=\"text-xs mt-0.5\" style={{ color: \"rgba(255,255,255,0.8)\" }}>\r\n                       {nextDay}   !\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"text-2xl font-extrabold mt-1\" style={{ color: \"rgba(255,255,255,0.95)\" }}>\r\n                +{nextReward.toLocaleString()}\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={handleClaim}\r\n              className=\"border-none py-3.5 px-7 rounded-xl text-base font-bold cursor-pointer transition-all\"\r\n              style={{\r\n                background: \"rgba(255,255,255,0.95)\",\r\n                color: isBigReward ? \"#ea580c\" : \"#6366f1\",\r\n                boxShadow: \"0 4px 15px rgba(0,0,0,0.2)\",\r\n              }}\r\n            >\r\n              ! \r\n            </button>\r\n          </div>\r\n\r\n          {/*   */}\r\n          <div className=\"mt-4\">\r\n            <div className=\"flex justify-between gap-1\">\r\n              {STREAK_REWARDS.map((day, idx) => (\r\n                <div key={day.day} className=\"flex-1 flex flex-col items-center\">\r\n                  <div\r\n                    className=\"w-full h-2 rounded mb-1\"\r\n                    style={{\r\n                      background:\r\n                        idx < streakInfo.streak\r\n                          ? \"rgba(255,255,255,0.9)\"\r\n                          : idx === streakInfo.streak\r\n                            ? \"rgba(255,255,255,0.5)\"\r\n                            : \"rgba(255,255,255,0.2)\",\r\n                    }}\r\n                  />\r\n                  {(idx === 0 || idx === 4 || idx === 9) && (\r\n                    <span className=\"text-[9px]\" style={{ color: \"rgba(255,255,255,0.7)\" }}>\r\n                      {idx + 1}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {nextDay > 10 && (\r\n              <div className=\"text-center mt-2 text-xs\" style={{ color: \"rgba(255,255,255,0.8)\" }}>\r\n                 10      10!\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"text-center py-2.5\">\r\n          <div className=\"text-5xl mb-3\" style={{ animation: \"bounce 0.5s ease\" }}>\r\n            {rewardResult?.icon || \"\"}\r\n          </div>\r\n          <div className=\"text-white text-3xl font-extrabold mb-2\">\r\n            +{rewardResult?.reward?.toLocaleString()}\r\n          </div>\r\n          <div className=\"text-base font-semibold\" style={{ color: \"rgba(255,255,255,0.9)\" }}>\r\n             {rewardResult?.newStreak}  !\r\n          </div>\r\n          {rewardResult?.isMilestone && (\r\n            <div\r\n              className=\"mt-2.5 px-4 py-2 rounded-2xl inline-block text-sm text-white\"\r\n              style={{ background: \"rgba(255,255,255,0.2)\" }}\r\n            >\r\n               !  !\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n *    ()\r\n */\r\nexport function StreakDisplay({ userId }) {\r\n  const [streakInfo, setStreakInfo] = useState({ streak: 0 });\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      const info = getStreakInfo(userId);\r\n      setStreakInfo(info);\r\n    }\r\n  }, [userId]);\r\n\r\n  const currentStreak = streakInfo.streak || 0;\r\n\r\n  if (currentStreak === 0) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-xl text-sm font-semibold\"\r\n      style={{\r\n        background: currentStreak >= 10\r\n          ? \"linear-gradient(135deg, #f59e0b20 0%, #ea580c20 100%)\"\r\n          : \"linear-gradient(135deg, #8b5cf620 0%, #6366f120 100%)\",\r\n        border: `1px solid ${currentStreak >= 10 ? \"#f59e0b40\" : \"#8b5cf640\"}`,\r\n        color: currentStreak >= 10 ? \"#f59e0b\" : \"#a78bfa\",\r\n      }}\r\n    >\r\n      <span></span>\r\n      <span>{currentStreak} </span>\r\n      {currentStreak >= 10 && <span></span>}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n *    \r\n */\r\nexport function StreakRewardInfo() {\r\n  return (\r\n    <div\r\n      className=\"rounded-2xl p-4\"\r\n      style={{\r\n        background: \"linear-gradient(145deg, #1a1a2e 0%, #16213e 100%)\",\r\n        border: \"2px solid #8b5cf640\",\r\n      }}\r\n    >\r\n      <h4 className=\"text-sm font-bold mb-3 flex items-center gap-2\" style={{ color: \"#e8e8ff\" }}>\r\n            \r\n      </h4>\r\n      <div className=\"flex flex-col gap-1.5\">\r\n        {STREAK_REWARDS.map((day) => (\r\n          <div\r\n            key={day.day}\r\n            className=\"flex justify-between items-center px-2.5 py-1.5 rounded-lg\"\r\n            style={{\r\n              background: day.day === 10 ? \"#f59e0b15\" : \"transparent\",\r\n              border: day.day === 10 ? \"1px solid #f59e0b30\" : \"none\",\r\n            }}\r\n          >\r\n            <span\r\n              className=\"text-sm\"\r\n              style={{ color: day.day === 10 ? \"#f59e0b\" : \"#9ca3af\" }}\r\n            >\r\n              {day.icon} {day.label}\r\n            </span>\r\n            <span\r\n              style={{\r\n                color: day.day === 10 ? \"#f59e0b\" : \"#e8e8ff\",\r\n                fontWeight: day.day === 10 ? \"700\" : \"500\",\r\n                fontSize: day.day === 10 ? \"15px\" : \"13px\",\r\n              }}\r\n            >\r\n              {day.reward.toLocaleString()}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        <div\r\n          className=\"mt-2 p-2.5 rounded-xl text-center\"\r\n          style={{\r\n            background: \"#f59e0b15\",\r\n            border: \"1px solid #f59e0b30\",\r\n          }}\r\n        >\r\n          <span className=\"text-sm font-semibold\" style={{ color: \"#f59e0b\" }}>\r\n             10 :  100,000!\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DailyRewardBanner;\r\n","import React, {\n  createContext,\n  useState,\n  useContext,\n  useEffect,\n  useCallback,\n  useMemo,\n} from \"react\";\nimport { useAuth } from \"./AuthContext\";\nimport { functions, httpsCallable, db } from \"../firebase\";\nimport { usePolling, POLLING_INTERVALS } from \"../hooks/usePolling\";\nimport { logActivity, ACTIVITY_TYPES } from \"../utils/firestoreHelpers\";\n\nimport { logger } from \"../utils/logger\";\nexport const ItemContext = createContext(null);\n\nexport const useItems = () => {\n  const context = useContext(ItemContext);\n  if (!context) {\n    // This fallback is for components that might render outside the provider.\n    // It provides a safe, non-functional version of the context values.\n    logger.warn(\"useItems: ItemContext   \");\n    return {\n      items: [],\n      userItems: [],\n      marketListings: [],\n      marketOffers: [],\n      loading: true,\n      error: null,\n      addItem: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      purchaseItem: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      updateItem: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      deleteItem: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      useItem: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      updateUserItemQuantity: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      listItemForSale: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      buyMarketItem: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      cancelSale: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      makeOffer: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      respondToOffer: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      adminCancelSale: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      adminDeleteItem: async () => ({\n        success: false,\n        message: \"Context not available\",\n      }),\n      refreshData: async () => {},\n    };\n  }\n  return context;\n};\n\nexport const ItemProvider = ({ children }) => {\n  const {\n    user,\n    userDoc,\n    isAdmin: isAuthAdmin,\n    loading: authLoading,\n    deductCash,\n    addCash,\n    optimisticUpdate,\n  } = useAuth() || {};\n  const userId = user?.uid;\n  const currentUserClassCode = userDoc?.classCode;\n\n  // State for all economic data\n  const [items, setItems] = useState([]);\n  const [userItems, setUserItems] = useState([]);\n  const [marketListings, setMarketListings] = useState([]);\n  const [marketOffers, setMarketOffers] = useState([]);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Unified loading state\n  const loading = authLoading || dataLoading;\n\n  // Memoized Firebase callables\n  const getItemContextData = useMemo(\n    () => httpsCallable(functions, \"getItemContextData\"),\n    [],\n  );\n  const firebaseFunctions = useMemo(\n    () => ({\n      addStoreItem: httpsCallable(functions, \"addStoreItem\"),\n      updateStoreItem: httpsCallable(functions, \"updateStoreItem\"),\n      deleteStoreItem: httpsCallable(functions, \"deleteStoreItem\"),\n      purchaseStoreItem: httpsCallable(functions, \"purchaseStoreItem\"),\n      useUserItem: httpsCallable(functions, \"useUserItem\"),\n      updateUserItemQuantity: httpsCallable(\n        functions,\n        \"updateUserItemQuantity\",\n      ),\n      listUserItemForSale: httpsCallable(functions, \"listUserItemForSale\"),\n      buyMarketItem: httpsCallable(functions, \"buyMarketItem\"),\n      cancelMarketSale: httpsCallable(functions, \"cancelMarketSale\"),\n      makeOffer: httpsCallable(functions, \"makeOffer\"),\n      respondToOffer: httpsCallable(functions, \"respondToOffer\"),\n      adminCancelSale: httpsCallable(functions, \"adminCancelSale\"),\n      adminDeleteItem: httpsCallable(functions, \"adminDeleteItem\"),\n    }),\n    [],\n  );\n\n  // Central data fetching function\n  const fetchData = useCallback(async () => {\n    if (!userId || !currentUserClassCode) {\n      setDataLoading(false);\n      return;\n    }\n\n    setDataLoading(true);\n    try {\n      const result = await getItemContextData();\n      if (result.data.success) {\n        const {\n          storeItems,\n          userItems: groupedUserItems,\n          marketListings,\n          marketOffers,\n        } = result.data.data;\n        setItems(storeItems || []);\n        setUserItems(groupedUserItems || []);\n        setMarketListings(marketListings || []);\n        setMarketOffers(marketOffers || []);\n        setError(null);\n      } else {\n        throw new Error(\n          result.data.message || \"  .\",\n        );\n      }\n    } catch (err) {\n      logger.error(\"[ItemContext]   :\", err);\n      setError(err);\n    } finally {\n      setDataLoading(false);\n    }\n  }, [userId, currentUserClassCode, getItemContextData]);\n\n  // Effect to fetch data when user is authenticated, now using polling\n  //  []      10   (  90% )\n  usePolling(fetchData, {\n    interval: 30 * 60 * 1000, //  [] 30   (10 )\n    enabled: !authLoading && !!userId && !!currentUserClassCode,\n    deps: [authLoading, userId, currentUserClassCode],\n  });\n\n  // Public refresh function\n  const refreshData = useCallback(() => {\n    return fetchData();\n  }, [fetchData]);\n\n  //       (Firestore  )\n  const updateLocalUserItems = useCallback((newUserItems) => {\n    logger.log(\n      \"[ItemContext]  userItems :\",\n      newUserItems?.length,\n      \"\",\n    );\n    setUserItems(newUserItems);\n  }, []);\n\n  // All context functions now use firebaseFunctions and refreshData\n  const addItem = useCallback(\n    async (newItemData) => {\n      if (typeof isAuthAdmin !== \"function\" || !isAuthAdmin())\n        return { success: false, message: \"  \" };\n\n      // Optimistic Update: Add item to local state immediately\n      const tempId = `temp_${Date.now()}`;\n      const tempNewItem = { ...newItemData, id: tempId };\n      setItems((prevItems) => [...prevItems, tempNewItem]);\n\n      try {\n        const token = await user?.getIdToken();\n        if (!token) {\n          throw new Error(\"    .\");\n        }\n\n        const functionUrl = `https://asia-northeast3-inconomysu-class.cloudfunctions.net/addStoreItem`;\n        const response = await fetch(functionUrl, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({ data: { newItemData } }),\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          throw new Error(errorText || ` : ${response.status}`);\n        }\n\n        const result = await response.json();\n\n        if (result.data.success) {\n          // Success: Refresh data from server to get final item with correct ID\n          await refreshData();\n          return { success: true };\n        } else {\n          throw new Error(\n            result.data.message || \"    .\",\n          );\n        }\n      } catch (error) {\n        // Rollback on error\n        setItems((prevItems) => prevItems.filter((item) => item.id !== tempId));\n        return { success: false, message: error.message };\n      }\n    },\n    [isAuthAdmin, user, refreshData],\n  );\n\n  const updateItem = useCallback(\n    async (itemId, updatesToApply) => {\n      if (typeof isAuthAdmin !== \"function\" || !isAuthAdmin())\n        return { success: false, message: \"  \" };\n      try {\n        await firebaseFunctions.updateStoreItem({ itemId, updatesToApply });\n        refreshData();\n        return { success: true };\n      } catch (error) {\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"  (updateStoreItem)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [isAuthAdmin, firebaseFunctions, refreshData],\n  );\n\n  const deleteItem = useCallback(\n    async (itemId) => {\n      if (typeof isAuthAdmin !== \"function\" || !isAuthAdmin())\n        return { success: false, message: \"  \" };\n      try {\n        await firebaseFunctions.deleteStoreItem({ itemId });\n        refreshData();\n        return { success: true };\n      } catch (error) {\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"  (deleteStoreItem)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [isAuthAdmin, firebaseFunctions, refreshData],\n  );\n\n  const purchaseItem = useCallback(\n    async (itemId, quantity = 1) => {\n      if (!userId) return { success: false, message: \" \" };\n      const itemToPurchase = items.find((item) => item.id === itemId);\n      if (!itemToPurchase)\n        return { success: false, message: \"   .\" };\n\n      const totalPrice = itemToPurchase.price * quantity;\n\n      //  1.    ( )\n      if (optimisticUpdate) {\n        optimisticUpdate({ cash: -totalPrice });\n      }\n\n      //  2. userItems  \n      const newUserItem = {\n        id: `temp-${Date.now()}-${Math.random()}`, //  ID\n        itemId: itemToPurchase.id,\n        name: itemToPurchase.name,\n        icon: itemToPurchase.icon || \"\",\n        description: itemToPurchase.description || \"\",\n        type: itemToPurchase.type || \"general\",\n        quantity: quantity,\n        price: itemToPurchase.price,\n        durationMs: itemToPurchase.durationMs || 300000,\n        purchasedAt: new Date(),\n      };\n\n      logger.log(\n        \"[ItemContext]  : Store  \",\n        newUserItem,\n      );\n\n      //    ()\n      const originalUserItems = [...userItems];\n      const originalStock = itemToPurchase.stock;\n      const originalPrice = itemToPurchase.price;\n\n      //  userItems  \n      setUserItems((prev) => {\n        //  itemId   ,   \n        const existingIndex = prev.findIndex(\n          (item) => item.itemId === newUserItem.itemId,\n        );\n        if (existingIndex >= 0) {\n          const updated = [...prev];\n          updated[existingIndex] = {\n            ...updated[existingIndex],\n            quantity: updated[existingIndex].quantity + quantity,\n          };\n          return updated;\n        } else {\n          return [...prev, newUserItem];\n        }\n      });\n\n      try {\n        const result = await firebaseFunctions.purchaseStoreItem({\n          itemId,\n          quantity,\n        });\n        if (result.data.success) {\n          //           \n          const { restocked, newStock, newPrice } = result.data;\n\n          logger.log(\"[ItemContext]  :\", {\n            itemId,\n            quantity,\n            restocked,\n            newStock,\n            newPrice,\n            oldPrice: originalPrice,\n            oldStock: originalStock,\n          });\n\n          //     ( )\n          logActivity(db, {\n            classCode: currentUserClassCode,\n            userId: userId,\n            userName: userDoc?.name || \"\",\n            type: ACTIVITY_TYPES.ITEM_PURCHASE,\n            description: `${itemToPurchase.name} ${quantity}  (${totalPrice.toLocaleString()})`,\n            amount: -totalPrice,\n            metadata: {\n              itemId,\n              itemName: itemToPurchase.name,\n              quantity,\n              pricePerItem: itemToPurchase.price,\n              totalPrice,\n            },\n          });\n\n          if (itemToPurchase.stock !== undefined) {\n            setItems((prevItems) =>\n              prevItems.map((item) => {\n                if (item.id === itemId) {\n                  return {\n                    ...item,\n                    stock: newStock,\n                    price: newPrice,\n                  };\n                }\n                return item;\n              }),\n            );\n          }\n\n          //     ( inventory  )\n          logger.log(\"[ItemContext]  ,   \");\n          refreshData();\n\n          return { success: true, restocked, newStock, newPrice };\n        } else {\n          //  :   \n          logger.warn(\"[ItemContext]  ,  \");\n          if (optimisticUpdate) {\n            optimisticUpdate({ cash: totalPrice });\n          }\n          setUserItems(originalUserItems);\n          throw new Error(result.data.message || \" .\");\n        }\n      } catch (error) {\n        //  :   \n        logger.error(\"[ItemContext]  ,  :\", error);\n        if (optimisticUpdate) {\n          optimisticUpdate({ cash: totalPrice });\n        }\n        setUserItems(originalUserItems);\n\n        //   refreshData \n        refreshData();\n\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"  (purchaseStoreItem)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [\n      userId,\n      firebaseFunctions,\n      refreshData,\n      items,\n      userItems,\n      optimisticUpdate,\n      currentUserClassCode,\n      userDoc,\n    ],\n  );\n\n  const useItem = useCallback(\n    async (inventoryItemId, quantity = 1) => {\n      if (!userId) return { success: false, message: \" \" };\n\n      //      (Firebase  )\n      const itemToUse = userItems.find(\n        (item) =>\n          item.id === inventoryItemId || item.itemId === inventoryItemId,\n      );\n      const itemName = itemToUse?.name || itemToUse?.itemName || \"\";\n\n      //   : userItems   \n      const originalUserItems = [...userItems];\n      setUserItems((prev) => {\n        return prev\n          .map((item) => {\n            if (\n              item.id === inventoryItemId ||\n              item.itemId === inventoryItemId\n            ) {\n              const newQuantity = item.quantity - quantity;\n              if (newQuantity <= 0) return null; //  0  \n              return { ...item, quantity: newQuantity };\n            }\n            return item;\n          })\n          .filter(Boolean);\n      });\n\n      try {\n        await firebaseFunctions.useUserItem({\n          itemId: inventoryItemId,\n          quantityToUse: quantity,\n          sourceCollection: \"inventory\",\n        });\n\n        //     ( )\n        logActivity(db, {\n          classCode: currentUserClassCode,\n          userId: userId,\n          userName: userDoc?.name || \"\",\n          type: ACTIVITY_TYPES.ITEM_USE,\n          description: `${itemName} ${quantity} `,\n          metadata: {\n            itemId: inventoryItemId,\n            itemName: itemName,\n            quantity,\n          },\n        });\n\n        refreshData();\n        return { success: true };\n      } catch (error) {\n        //  :   \n        logger.error(\"[ItemContext]   ,  :\", error);\n        setUserItems(originalUserItems);\n        refreshData();\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"  (useUserItem)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [\n      userId,\n      userItems,\n      currentUserClassCode,\n      userDoc,\n      firebaseFunctions,\n      refreshData,\n    ],\n  );\n\n  const listItemForSale = useCallback(\n    async ({ itemId, quantity, price }) => {\n      if (!userId) return { success: false, message: \" \" };\n\n      //      (Firebase  )\n      const itemToSell = userItems.find(\n        (item) => item.id === itemId || item.itemId === itemId,\n      );\n      const itemName = itemToSell?.name || itemToSell?.itemName || \"\";\n\n      //   : userItems   \n      const originalUserItems = [...userItems];\n      setUserItems((prev) => {\n        return prev\n          .map((item) => {\n            if (item.id === itemId || item.itemId === itemId) {\n              const newQuantity = item.quantity - quantity;\n              if (newQuantity <= 0) return null;\n              return { ...item, quantity: newQuantity };\n            }\n            return item;\n          })\n          .filter(Boolean);\n      });\n\n      try {\n        await firebaseFunctions.listUserItemForSale({\n          inventoryItemId: itemId,\n          quantity,\n          price,\n          sourceCollection: \"inventory\",\n        });\n\n        //     (  )\n        logActivity(db, {\n          classCode: currentUserClassCode,\n          userId: userId,\n          userName: userDoc?.name || \"\",\n          type: ACTIVITY_TYPES.ITEM_MARKET_LIST,\n          description: `${itemName} ${quantity}   (${price.toLocaleString()})`,\n          metadata: {\n            itemId,\n            itemName: itemName,\n            quantity,\n            price,\n          },\n        });\n\n        refreshData();\n        return { success: true };\n      } catch (error) {\n        //  :   \n        logger.error(\"[ItemContext]   ,  :\", error);\n        setUserItems(originalUserItems);\n        refreshData();\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"   (listUserItemForSale)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [\n      userId,\n      firebaseFunctions,\n      refreshData,\n      userItems,\n      currentUserClassCode,\n      userDoc,\n    ],\n  );\n\n  const buyMarketItem = useCallback(\n    async (listingId) => {\n      if (!userId) return { success: false, message: \" \" };\n      const itemToBuy = marketListings.find((item) => item.id === listingId);\n      if (!itemToBuy)\n        return {\n          success: false,\n          message: \"     .\",\n        };\n\n      const itemPrice = itemToBuy.price || itemToBuy.totalPrice || 0;\n\n      //  1.   \n      const deductResult = await deductCash(\n        itemPrice,\n        `${itemToBuy.itemName} `,\n      );\n      if (!deductResult) {\n        return { success: false, message: \"  .\" };\n      }\n\n      //  2.  :   \n      const newUserItem = {\n        id: `temp-${Date.now()}-${Math.random()}`, //  ID\n        itemId: itemToBuy.itemId || itemToBuy.id,\n        name: itemToBuy.itemName,\n        icon: itemToBuy.icon || \"\",\n        description: itemToBuy.description || \"\",\n        type: itemToBuy.category || itemToBuy.itemType || \"general\",\n        quantity: itemToBuy.quantity || 1,\n        purchasedAt: new Date(),\n      };\n\n      logger.log(\"[ItemContext]  :  \", newUserItem);\n\n      //    ()\n      const originalUserItems = [...userItems];\n      const originalMarketListings = [...marketListings];\n\n      //  userItems  \n      setUserItems((prev) => {\n        //  itemId   ,   \n        const existingIndex = prev.findIndex(\n          (item) => item.itemId === newUserItem.itemId,\n        );\n        if (existingIndex >= 0) {\n          const updated = [...prev];\n          updated[existingIndex] = {\n            ...updated[existingIndex],\n            quantity: updated[existingIndex].quantity + newUserItem.quantity,\n          };\n          return updated;\n        } else {\n          return [...prev, newUserItem];\n        }\n      });\n\n      //  marketListings  \n      setMarketListings((prev) => prev.filter((item) => item.id !== listingId));\n\n      try {\n        const result = await firebaseFunctions.buyMarketItem({ listingId });\n        if (result.data.success) {\n          logger.log(\"[ItemContext]  ,   \");\n\n          //     (  )\n          logActivity(db, {\n            classCode: currentUserClassCode,\n            userId: userId,\n            userName: userDoc?.name || \"\",\n            type: ACTIVITY_TYPES.ITEM_MARKET_BUY,\n            description: `${itemToBuy.itemName} ${itemToBuy.quantity || 1}   (${itemPrice.toLocaleString()})`,\n            amount: -itemPrice,\n            metadata: {\n              listingId,\n              itemName: itemToBuy.itemName,\n              quantity: itemToBuy.quantity || 1,\n              sellerId: itemToBuy.sellerId,\n              sellerName: itemToBuy.sellerName,\n              price: itemPrice,\n            },\n          });\n\n          //  : refreshData   \n          refreshData();\n          return { success: true };\n        } else {\n          //  :   \n          logger.warn(\"[ItemContext]  ,  \");\n          await addCash(itemPrice, `${itemToBuy.itemName}   ()`);\n          setUserItems(originalUserItems);\n          setMarketListings(originalMarketListings);\n          throw new Error(result.data.message || \" .\");\n        }\n      } catch (error) {\n        //  :   \n        logger.error(\"[ItemContext]  ,  :\", error);\n        await addCash(itemPrice, `${itemToBuy.itemName}   ()`);\n        setUserItems(originalUserItems);\n        setMarketListings(originalMarketListings);\n\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"  (buyMarketItem)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [\n      userId,\n      firebaseFunctions,\n      refreshData,\n      marketListings,\n      userItems,\n      deductCash,\n      addCash,\n      currentUserClassCode,\n      userDoc,\n    ],\n  );\n\n  const cancelSale = useCallback(\n    async (listingId) => {\n      if (!userId) return { success: false, message: \" \" };\n      try {\n        await firebaseFunctions.cancelMarketSale({ listingId });\n        refreshData();\n        return { success: true };\n      } catch (error) {\n        refreshData();\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"  (cancelMarketSale)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [userId, firebaseFunctions, refreshData],\n  );\n\n  const makeOffer = useCallback(\n    async ({ listingId, offerPrice, quantity = 1 }) => {\n      if (!userId) return { success: false, message: \" \" };\n      try {\n        const result = await firebaseFunctions.makeOffer({\n          listingId,\n          offerPrice,\n          quantity,\n        });\n        refreshData();\n        return { success: true, offerId: result.data.offerId };\n      } catch (error) {\n        refreshData();\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"  (makeOffer)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [userId, firebaseFunctions, refreshData],\n  );\n\n  const respondToOffer = useCallback(\n    async ({ offerId, response }) => {\n      if (!userId) return { success: false, message: \" \" };\n      try {\n        await firebaseFunctions.respondToOffer({ offerId, response });\n        refreshData();\n        return { success: true };\n      } catch (error) {\n        refreshData();\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"  (respondToOffer)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [userId, firebaseFunctions, refreshData],\n  );\n\n  const adminCancelSale = useCallback(\n    async (listingId) => {\n      if (typeof isAuthAdmin !== \"function\" || !isAuthAdmin())\n        return { success: false, message: \"  \" };\n      try {\n        await firebaseFunctions.adminCancelSale({ listingId });\n        refreshData();\n        return { success: true };\n      } catch (error) {\n        refreshData();\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"   (adminCancelSale)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [isAuthAdmin, firebaseFunctions, refreshData],\n  );\n\n  const adminDeleteItem = useCallback(\n    async (listingId) => {\n      if (typeof isAuthAdmin !== \"function\" || !isAuthAdmin())\n        return { success: false, message: \"  \" };\n      try {\n        await firebaseFunctions.adminDeleteItem({ listingId });\n        refreshData();\n        return { success: true };\n      } catch (error) {\n        refreshData();\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"   (adminDeleteItem)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [isAuthAdmin, firebaseFunctions, refreshData],\n  );\n\n  const updateUserItemQuantity = useCallback(\n    async (itemId, quantityChange, sourceCollection = \"inventory\") => {\n      if (!userId) return { success: false, message: \" \" };\n      try {\n        const result = await firebaseFunctions.updateUserItemQuantity({\n          itemId,\n          quantityChange,\n          sourceCollection,\n        });\n        if (result.data.success) {\n          refreshData();\n          return { success: true };\n        } else {\n          throw new Error(\n            result.data.message || \"   .\",\n          );\n        }\n      } catch (error) {\n        refreshData();\n        if (error.code === \"not-found\") {\n          return {\n            success: false,\n            message:\n              \"   (updateUserItemQuantity)   .  .\",\n          };\n        }\n        return { success: false, message: error.message };\n      }\n    },\n    [userId, firebaseFunctions, refreshData],\n  );\n\n  // Final context value\n  const contextValue = useMemo(\n    () => ({\n      items,\n      userItems,\n      marketListings,\n      marketOffers,\n      loading,\n      error,\n      addItem,\n      updateItem,\n      deleteItem,\n      purchaseItem,\n      useItem,\n      updateUserItemQuantity,\n      listItemForSale,\n      buyMarketItem,\n      cancelSale,\n      makeOffer,\n      respondToOffer,\n      adminCancelSale,\n      adminDeleteItem,\n      refreshData,\n      updateLocalUserItems,\n    }),\n    [\n      items,\n      userItems,\n      marketListings,\n      marketOffers,\n      loading,\n      error,\n      addItem,\n      updateItem,\n      deleteItem,\n      purchaseItem,\n      useItem,\n      updateUserItemQuantity,\n      listItemForSale,\n      buyMarketItem,\n      cancelSale,\n      makeOffer,\n      respondToOffer,\n      adminCancelSale,\n      adminDeleteItem,\n      refreshData,\n      updateLocalUserItems,\n    ],\n  );\n\n  return (\n    <ItemContext.Provider value={contextValue}>{children}</ItemContext.Provider>\n  );\n};\n","// src/utils/firestoreHelpers.js\r\n//  Firestore : ,  (where __name__ in),  , \r\nimport {\r\n  getDocs,\r\n  query as q,\r\n  limit as qLimit,\r\n  startAfter as qStartAfter,\r\n  where,\r\n  doc,\r\n  getDoc,\r\n  writeBatch,\r\n  runTransaction,\r\n  collection,\r\n  addDoc,\r\n  serverTimestamp,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../firebase\";\r\n\r\nimport { logger } from \"../utils/logger\";\r\n\r\n// ============================================================\r\n//    \r\n// ============================================================\r\n\r\n/**\r\n * Firestore Timestamp, Date, ISO ,      Date  \r\n * @param {any} timestamp -  \r\n * @returns {Date}\r\n */\r\nexport function safeTimestampToDate(timestamp) {\r\n  try {\r\n    if (!timestamp) return new Date();\r\n    if (timestamp instanceof Date) {\r\n      return isNaN(timestamp.getTime()) ? new Date() : timestamp;\r\n    }\r\n    if (typeof timestamp.toDate === 'function') {\r\n      const date = timestamp.toDate();\r\n      return isNaN(date.getTime()) ? new Date() : date;\r\n    }\r\n    if (timestamp.seconds) {\r\n      const date = new Date(timestamp.seconds * 1000);\r\n      return isNaN(date.getTime()) ? new Date() : date;\r\n    }\r\n    if (typeof timestamp === 'string' || typeof timestamp === 'number') {\r\n      const date = new Date(timestamp);\r\n      return isNaN(date.getTime()) ? new Date() : date;\r\n    }\r\n    return new Date();\r\n  } catch {\r\n    return new Date();\r\n  }\r\n}\r\n\r\n/**\r\n * localStorage  Firestore   \r\n * @param {string} key -  \r\n * @param {string} userId -  ID\r\n * @param {number} cacheDuration -   (ms)\r\n * @returns {any|null}\r\n */\r\nexport function getCachedFirestoreData(key, userId, cacheDuration) {\r\n  try {\r\n    const cached = localStorage.getItem(`firestore_cache_${key}_${userId}`);\r\n    if (cached) {\r\n      const { data, timestamp } = JSON.parse(cached);\r\n      if (Date.now() - timestamp < cacheDuration) {\r\n        return data;\r\n      }\r\n    }\r\n  } catch (error) {\r\n    logger.warn('[Cache] getCachedFirestoreData failed:', error);\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * localStorage  Firestore   \r\n * @param {string} key -  \r\n * @param {string} userId -  ID\r\n * @param {any} data -  \r\n */\r\nexport function setCachedFirestoreData(key, userId, data) {\r\n  try {\r\n    localStorage.setItem(\r\n      `firestore_cache_${key}_${userId}`,\r\n      JSON.stringify({ data, timestamp: Date.now() })\r\n    );\r\n  } catch (error) {\r\n    logger.warn('[Cache] setCachedFirestoreData failed:', error);\r\n  }\r\n}\r\n\r\n// ============================================================\r\n//    ( )  \r\n// ============================================================\r\n\r\n/**\r\n *    \r\n */\r\nexport const ACTIVITY_TYPES = {\r\n  //  \r\n  CASH_INCOME: ' ',\r\n  CASH_EXPENSE: ' ',\r\n  TRANSFER_SEND: ' ',\r\n  TRANSFER_RECEIVE: ' ',\r\n\r\n  //  \r\n  STOCK_BUY: ' ',\r\n  STOCK_SELL: ' ',\r\n\r\n  //  \r\n  ITEM_PURCHASE: ' ',\r\n  ITEM_SELL: ' ',\r\n  ITEM_USE: ' ',\r\n  ITEM_MARKET_LIST: '  ',\r\n  ITEM_MARKET_BUY: '  ',\r\n\r\n  // / \r\n  DEPOSIT_CREATE: ' ',\r\n  DEPOSIT_WITHDRAW: ' ',\r\n  DEPOSIT_MATURITY: ' ',\r\n  LOAN_CREATE: ' ',\r\n  LOAN_REPAY: ' ',\r\n  PARKING_DEPOSIT: ' ',\r\n  PARKING_WITHDRAW: ' ',\r\n  PARKING_INTEREST: ' ',\r\n\r\n  //  \r\n  COUPON_EARN: ' ',\r\n  COUPON_USE: ' ',\r\n  COUPON_GIVE: ' ',\r\n  COUPON_DONATE: ' ',\r\n  COUPON_GIFT_SEND: ' ',\r\n  COUPON_GIFT_RECEIVE: ' ',\r\n\r\n  //  \r\n  GAME_WIN: ' ',\r\n  GAME_LOSE: ' ',\r\n  GAME_REWARD: ' ',\r\n  GAME_BET: ' ',\r\n\r\n  //  \r\n  AUCTION_BID: ' ',\r\n  AUCTION_WIN: ' ',\r\n  AUCTION_SOLD: ' ',\r\n  AUCTION_REFUND: ' ',\r\n\r\n  //  \r\n  REALESTATE_BUY: ' ',\r\n  REALESTATE_SELL: ' ',\r\n  REALESTATE_RENT: ' ',\r\n\r\n  // /\r\n  TAX_PAYMENT: ' ',\r\n  FINE_PAYMENT: ' ',\r\n\r\n  // \r\n  SALARY_RECEIVE: ' ',\r\n\r\n  // \r\n  ADMIN_GIVE: ' ',\r\n  ADMIN_TAKE: ' ',\r\n};\r\n\r\n/**\r\n *   Firestore .\r\n *  []     UI  \r\n *\r\n * @param {object} db - Firestore \r\n * @param {object} params -  \r\n * @param {string} params.classCode -  \r\n * @param {string} params.userId -  ID\r\n * @param {string} params.userName -  \r\n * @param {string} params.type -   (ACTIVITY_TYPES )\r\n * @param {string} params.description -  \r\n * @param {number} [params.amount] -  ( )\r\n * @param {number} [params.couponAmount] -  \r\n * @param {object} [params.metadata] -  \r\n * @returns {Promise<{success: boolean, logId?: string, error?: string}>}\r\n */\r\nexport async function logActivity(dbInstance, {\r\n  classCode,\r\n  userId,\r\n  userName,\r\n  type,\r\n  description,\r\n  amount = 0,\r\n  couponAmount = 0,\r\n  metadata = {}\r\n}) {\r\n  if (!classCode || !userId || !type) {\r\n    logger.warn('[logActivity]   :', { classCode, userId, type });\r\n    return { success: false, error: '  ' };\r\n  }\r\n\r\n  // db    import db \r\n  const firestore = dbInstance || db;\r\n\r\n  try {\r\n    //    : activity_logs   \r\n    const logsRef = collection(firestore, 'activity_logs');\r\n    const logData = {\r\n      classCode, //  classCode   (  )\r\n      userId,\r\n      userName: userName || '  ',\r\n      type,\r\n      description: description || type,\r\n      amount: amount || 0,\r\n      couponAmount: couponAmount || 0,\r\n      metadata: {\r\n        ...metadata,\r\n        timestamp: new Date().toISOString(), //   ()\r\n      },\r\n      timestamp: serverTimestamp(),\r\n      createdAt: serverTimestamp(),\r\n    };\r\n\r\n    const docRef = await addDoc(logsRef, logData);\r\n    logger.log('[logActivity]   :', type, description);\r\n\r\n    return { success: true, logId: docRef.id };\r\n  } catch (error) {\r\n    logger.error('[logActivity]   :', error);\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\n/**\r\n *       .\r\n *  []    Firestore  \r\n *\r\n * @param {object} db - Firestore \r\n * @param {string} classCode -  \r\n * @param {Array} logs -  \r\n * @returns {Promise<{success: boolean, count?: number, error?: string}>}\r\n */\r\nexport async function logActivitiesBatch(db, classCode, logs) {\r\n  if (!classCode || !logs || logs.length === 0) {\r\n    return { success: false, error: ' ' };\r\n  }\r\n\r\n  try {\r\n    const batch = writeBatch(db);\r\n    const logsRef = collection(db, 'classes', classCode, 'activityLogs');\r\n\r\n    logs.forEach((log) => {\r\n      const docRef = doc(logsRef);\r\n      batch.set(docRef, {\r\n        userId: log.userId,\r\n        userName: log.userName || '  ',\r\n        type: log.type,\r\n        description: log.description || log.type,\r\n        amount: log.amount || 0,\r\n        couponAmount: log.couponAmount || 0,\r\n        metadata: log.metadata || {},\r\n        timestamp: serverTimestamp(),\r\n        createdAt: serverTimestamp(),\r\n      });\r\n    });\r\n\r\n    await batch.commit();\r\n    logger.log('[logActivitiesBatch]   :', logs.length, '');\r\n\r\n    return { success: true, count: logs.length };\r\n  } catch (error) {\r\n    logger.error('[logActivitiesBatch]   :', error);\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\n/**\r\n * startAfter     .\r\n * @param {import('firebase/firestore').Query} baseQuery   orderBy  \r\n * @param {number} pageSize\r\n * @returns {{loadFirst: function(): Promise<{items: any[], lastDoc: any}>, loadMore: function(lastDoc:any): Promise<{items:any[], lastDoc:any}>}}\r\n */\r\nexport function createPaginator(baseQuery, pageSize = 20) {\r\n  if (!baseQuery) throw new Error(\"createPaginator: baseQuery .\");\r\n  if (pageSize <= 0) pageSize = 20;\r\n\r\n  const loadFirst = async () => {\r\n    const pageQ = q(baseQuery, qLimit(pageSize));\r\n    const snap = await getDocs(pageQ);\r\n    const items = snap.docs.map(d => ({ id: d.id, ...d.data() }));\r\n    const lastDoc = snap.docs.length ? snap.docs[snap.docs.length - 1] : null;\r\n    return { items, lastDoc };\r\n  };\r\n\r\n  const loadMore = async (last) => {\r\n    if (!last) return { items: [], lastDoc: null };\r\n    const pageQ = q(baseQuery, qStartAfter(last), qLimit(pageSize));\r\n    const snap = await getDocs(pageQ);\r\n    const items = snap.docs.map(d => ({ id: d.id, ...d.data() }));\r\n    const newLast = snap.docs.length ? snap.docs[snap.docs.length - 1] : null;\r\n    return { items, lastDoc: newLast };\r\n  };\r\n\r\n  return { loadFirst, loadMore };\r\n}\r\n\r\n/**\r\n * where(\"__name__\", \"in\", [...])   . Firestore in   10.\r\n * 10      .\r\n * @param {import('firebase/firestore').Firestore} db\r\n * @param {string} collectionPath\r\n * @param {string[]} ids\r\n * @returns {Promise<Record<string, any>>}  // id -> data\r\n */\r\nexport async function batchGetByIds(db, collectionPath, ids) {\r\n  if (!ids || ids.length === 0) return {};\r\n  const chunks = [];\r\n  for (let i = 0; i < ids.length; i += 10) chunks.push(ids.slice(i, i + 10));\r\n\r\n  const colRef = collection(db, collectionPath);\r\n  const results = await Promise.all(chunks.map(async (chunk) => {\r\n    const snap = await getDocs(q(colRef, where(\"__name__\", \"in\", chunk)));\r\n    return snap.docs.map(d => ({ id: d.id, ...d.data() }));\r\n  }));\r\n\r\n  const flat = results.flat();\r\n  const map = {};\r\n  flat.forEach(doc => { map[doc.id] = doc; });\r\n  return map;\r\n}\r\n\r\n/**\r\n *  (: stats/{classCode}) /  \r\n * - (Functions) .   .\r\n * @param {import('firebase/firestore').Firestore} db\r\n * @param {string} statsDocPath  : `stats/${classCode}`\r\n * @param {(prev:any)=>any} reducer        \r\n */\r\nexport async function updateAggregateDoc(db, statsDocPath, reducer) {\r\n  const ref = doc(db, statsDocPath);\r\n  await runTransaction(db, async (tx) => {\r\n    const snap = await tx.get(ref);\r\n    const prev = snap.exists() ? snap.data() : {};\r\n    const next = reducer(prev || {});\r\n    tx.set(ref, next, { merge: true });\r\n  });\r\n}\r\n"],"names":["POLLING_INTERVALS","REALTIME","NORMAL","LOW","MANUAL","globalInitialLoadQueue","isProcessingQueue","usePolling","queryFn","options","arguments","length","undefined","interval","enabled","deps","data","setData","useState","loading","setLoading","error","setError","intervalRef","useRef","mountedRef","queryFnRef","useEffect","current","fetchData","useCallback","async","result","err","logger","refetch","clearInterval","push","fetchFn","shift","Promise","resolve","setTimeout","processInitialLoadQueue","setInterval","SKIN_TONES","id","name","color","FACE_SHAPES","icon","path","EYE_STYLES","leftX","rightX","y","size","shape","EYE_COLORS","MOUTH_STYLES","stroke","fill","ALL_FACES","HAIRSTYLES","paths","compatibleFaces","bangsPath","HAIR_COLORS","gradient","OUTFITS","baseColor","sleeves","tie","lapels","hood","pocket","collar","buttons","OUTFIT_COLORS","ACCESSORIES","type","BACKGROUNDS","stars","BORDERS","style","width","glow","animated","glowColor","EXPRESSIONS","eyeMod","mouthMod","DEFAULT_AVATAR","skinTone","faceShape","eyeStyle","eyeColor","mouthStyle","hairstyle","hairColor","outfit","outfitColor","accessory","background","border","expression","getAvatarConfig","userId","saved","localStorage","getItem","concat","_objectSpread","JSON","parse","_unused","saveAvatarConfig","config","setItem","stringify","window","dispatchEvent","CustomEvent","detail","_unused2","getAvatarOptions","category","isHairstyleCompatible","hairstyleId","faceShapeId","find","h","includes","AVATAR_CATEGORIES","AppIcon","_ref","className","_jsxs","viewBox","xmlns","children","x1","y1","x2","y2","gradientUnits","_jsx","offset","stopColor","x","height","stdDeviation","in","rx","d","strokeWidth","strokeLinecap","strokeLinejoin","filter","ALCHAN_MENU_ITEMS","label","LayoutDashboard","Wallet","Target","Gamepad2","isCategory","Circle","parentId","Keyboard","Crown","Package","Boxes","Store","ShoppingBag","TrendingUp","Banknote","BarChart3","Hammer","Building2","Landmark","Users","Scale","Shield","FileText","BookOpen","Music","Settings","adminOnly","CheckCircle","Zap","superAdminOnly","CATEGORY_LABELS","main","play","economy","society","community","admin","superadmin","MenuSection","memo","_ref2","title","MenuItem","_ref3","Icon","active","hasSubmenu","onClick","ChevronDown","SubMenuItem","_ref4","CategoryItem","_ref5","isExpanded","onToggle","hasActiveChild","AlchanSidebar","_ref6","isOpen","onClose","isCollapsed","location","useLocation","navigate","useNavigate","userDoc","logout","useAuth","expandedCategories","setExpandedCategories","isMobile","setIsMobile","innerWidth","timeoutId","handleResize","clearTimeout","addEventListener","removeEventListener","toggleCategory","categoryId","prev","isActive","pathname","startsWith","some","item","handleItemClick","handleLogout","e","isAdmin","isSuperAdmin","userRole","userName","nickname","renderMenuSection","categoryKey","items","map","childItems","child","isSubGroup","charAt","_Fragment","X","LogOut","Sparkles","Check","isDarkMode","toggleDarkMode","fontSize","setFontSize","useTheme","resetTutorial","user","showTutorial","setShowTutorial","uid","tutorialRef","doc","db","tutorialDoc","getDoc","exists","completed","checkTutorial","completeTutorial","setDoc","completedAt","serverTimestamp","skipTutorial","skipped","skippedAt","useTutorial","notifications","setNotifications","sounds","setSounds","Moon","Sun","Type","Object","entries","FONT_SIZES","key","Bell","handleNotificationToggle","newValue","String","Volume2","handleSoundToggle","handleResetTutorial","confirm","HelpCircle","ChevronRight","Smartphone","formatMoney","amount","formatKoreanNumber","getCurrencyUnit","Modal","stopPropagation","toggleSidebar","isSidebarCollapsed","onToggleSidebarCollapse","updateUser","changePassword","deleteCurrentUserAccount","loginWithEmailPassword","showUserMenu","setShowUserMenu","isLoading","setIsLoading","userMenuRef","activeModal","setActiveModal","showSettings","setShowSettings","newNickname","setNewNickname","nicknameError","setNicknameError","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","passwordError","setPasswordError","passwordSuccess","setPasswordSuccess","newClassCodeInput","setNewClassCodeInput","classCodeError","setClassCodeError","classCodeSuccess","setClassCodeSuccess","isCurrentUserAdmin","role","displayName","avatarConfig","setAvatarConfig","handleAvatarChange","levelInfo","useMemo","netAssets","Number","cash","stockValue","realEstateValue","itemValue","getLevelInfo","bestAchievement","achievements","getUserAchievements","rarityOrder","legendary","epic","rare","common","sorted","sort","a","b","achA","getAchievementById","achB","rarity","handleClickOutside","event","contains","target","document","closeModal","level","Avatar","showBorder","Gift","coupons","ChevronLeft","ref","classCode","User","handleChangeNickname","handleChangePassword","Key","handleEnterClassCode","prompt","password","email","alert","message","Trash2","value","onChange","placeholder","maxLength","autoFocus","trimmed","trim","disabled","code","replace","toUpperCase","verifyClassCode","SettingsPanel","tabs","Home","isTabActive","tab","p","handleTabClick","PWAInstallPrompt","deferredPrompt","setDeferredPrompt","showPrompt","setShowPrompt","isIOS","setIsIOS","isInstalled","setIsInstalled","isIOSDevice","test","navigator","userAgent","MSStream","matchMedia","matches","dismissed","dismissedTime","parseInt","Date","now","handleBeforeInstall","preventDefault","handleAppInstalled","handleDismiss","toString","Share","Plus","outcome","userChoice","log","Download","onUpdate","onDismiss","RefreshCw","useServiceWorker","registration","setRegistration","updateAvailable","setUpdateAvailable","isOnline","setIsOnline","onLine","handleOnline","handleOffline","registerServiceWorker","updateIntervalId","setUpdateIntervalId","reg","serviceWorker","register","scope","newWorker","installing","state","controller","lastUpdated","intervalId","update","updateServiceWorker","waiting","reload","postMessage","requestNotificationPermission","Notification","permission","requestPermission","showNotification","badge","vibrate","EconomicEventBanner","_activeEvent$triggere","_activeEvent$triggere2","_event$params2","activeEvent","setActiveEvent","setDismissed","unsubscribe","onSnapshot","snap","_data$expiresAt","_data$expiresAt$toDat","expires","expiresAt","toDate","call","triggeredAt","getResultSummary","_event$params","pct","params","changePercent","affectedCount","_result$perStudent","_result$collectedAmou","_result$perStudent2","_result$winnerNames","_result$prizeAmount","refundedAmount","toLocaleString","perStudent","collectedAmount","winnerNames","join","prizeAmount","isPositive","timeStr","toLocaleTimeString","hour","minute","dateStr","toLocaleDateString","month","day","backgroundImage","emoji","description","EconomicEventPopup","lazy","NewBillPopup","DailyRewardBanner","then","m","default","WelcomePopup","HelpButton","IOSInstallPrompt","AppUpdateChecker","Dashboard","ItemStore","MyItems","PersonalShop","Banking","MyProfile","MyAssets","OmokGame","ChessGame","TypingPracticeGame","AdminApprovalPanel","AdminItemPage","AdminDatabase","AdminEconomicEvents","FirestoreDoctor","RecoverDonations","StudentManager","SuperAdminDashboard","LearningBoard","MusicRequest","MusicRoom","StudentRequest","StockExchange","RealEstateRegistry","NationalAssembly","Government","Court","PoliceStation","Auction","MoneyTransfer","CouponTransfer","CouponGoalPage","FULLSCREEN_PAGES","AlchanLoading","AlchanLoadingScreen","ProtectedRoute","Navigate","to","from","AdminRoute","TeacherRoute","isTeacher","SuperAdminRoute","AlchanLayout","isSidebarOpen","setIsSidebarOpen","setIsSidebarCollapsed","showUpdateDismissed","setShowUpdateDismissed","showDailyRewardPopup","setShowDailyRewardPopup","getStreakInfo","canClaim","timer","handleDailyRewardClaim","rewardAmount","userRef","updateDoc","increment","globalCacheService","invalidate","page","mobile","closeSidebar","toggleSidebarCollapse","ItemProvider","AlchanHeader","Suspense","fallback","Routes","Route","element","adminTabMode","MobileNav","UpdateNotification","WifiOff","onClaim","darkenColor","hex","percent","r","slice","g","Math","max","floor","padStart","s","f","o","noseColor","borderStyle","getHairFill","cursor","overflow","preserveAspectRatio","idx","dx","dy","floodOpacity","cx","cy","opacity","earPositions","round","oval","square","heart","long","earPos","ry","i","transform","viewBoxY","viewBoxHeight","ACHIEVEMENTS","FIRST_THOUSAND","condition","stats","totalAssets","points","FIRST_TEN_THOUSAND","HUNDRED_THOUSAND","MILLIONAIRE","MULTI_MILLIONAIRE","COUPON_COLLECTOR","COUPON_MASTER","COUPON_HOARDER","FIRST_TRADE","totalTransactions","ACTIVE_TRADER","TRADING_EXPERT","GENEROUS_HEART","totalDonations","PHILANTHROPIST","DONATION_KING","SAVER_BEGINNER","savingProducts","SMART_SAVER","FIRST_PROPERTY","properties","REAL_ESTATE_INVESTOR","PROPERTY_TYCOON","PERFECT_ATTENDANCE","loginStreak","MONTHLY_STREAK","EARLY_BIRD","achievementId","values","stored","LEVEL_THRESHOLDS","minAssets","assets","currentLevelData","nextLevelIndex","findIndex","l","nextLevel","progress","currentMin","nextMin","min","currentAssets","assetsToNextLevel","STREAK_REWARDS","reward","today","toDateString","lastLogin","yesterday","isNewDay","streak","totalClaimed","streakBroken","getRewardForDay","_STREAK_REWARDS","_rewardResult$reward","autoPopup","streakInfo","setStreakInfo","claimed","setClaimed","rewardResult","setRewardResult","isVisible","setIsVisible","showPopup","setShowPopup","info","handleClaim","toISOString","success","newStreak","newData","isMilestone","claimDailyReward","nextDay","nextReward","isBigReward","boxShadow","animation","StreakDisplay","currentStreak","StreakRewardInfo","fontWeight","ItemContext","createContext","useItems","context","useContext","warn","userItems","marketListings","marketOffers","addItem","purchaseItem","updateItem","deleteItem","useItem","updateUserItemQuantity","listItemForSale","buyMarketItem","cancelSale","makeOffer","respondToOffer","adminCancelSale","adminDeleteItem","refreshData","isAuthAdmin","authLoading","deductCash","addCash","optimisticUpdate","currentUserClassCode","setItems","setUserItems","setMarketListings","setMarketOffers","dataLoading","setDataLoading","getItemContextData","httpsCallable","functions","firebaseFunctions","addStoreItem","updateStoreItem","deleteStoreItem","purchaseStoreItem","useUserItem","listUserItemForSale","cancelMarketSale","Error","storeItems","groupedUserItems","updateLocalUserItems","newUserItems","tempId","tempNewItem","newItemData","prevItems","token","getIdToken","functionUrl","response","fetch","method","headers","Authorization","body","ok","errorText","text","status","json","itemId","updatesToApply","quantity","itemToPurchase","totalPrice","price","newUserItem","random","durationMs","purchasedAt","originalUserItems","originalStock","stock","originalPrice","existingIndex","updated","restocked","newStock","newPrice","oldPrice","oldStock","logActivity","ACTIVITY_TYPES","ITEM_PURCHASE","metadata","itemName","pricePerItem","inventoryItemId","itemToUse","newQuantity","Boolean","quantityToUse","sourceCollection","ITEM_USE","itemToSell","ITEM_MARKET_LIST","itemToBuy","listingId","itemPrice","itemType","originalMarketListings","ITEM_MARKET_BUY","sellerId","sellerName","offerPrice","offerId","quantityChange","contextValue","Provider","safeTimestampToDate","timestamp","isNaN","getTime","date","seconds","getCachedFirestoreData","cacheDuration","cached","setCachedFirestoreData","CASH_INCOME","CASH_EXPENSE","TRANSFER_SEND","TRANSFER_RECEIVE","STOCK_BUY","STOCK_SELL","ITEM_SELL","DEPOSIT_CREATE","DEPOSIT_WITHDRAW","DEPOSIT_MATURITY","LOAN_CREATE","LOAN_REPAY","PARKING_DEPOSIT","PARKING_WITHDRAW","PARKING_INTEREST","COUPON_EARN","COUPON_USE","COUPON_GIVE","COUPON_DONATE","COUPON_GIFT_SEND","COUPON_GIFT_RECEIVE","GAME_WIN","GAME_LOSE","GAME_REWARD","GAME_BET","AUCTION_BID","AUCTION_WIN","AUCTION_SOLD","AUCTION_REFUND","REALESTATE_BUY","REALESTATE_SELL","REALESTATE_RENT","TAX_PAYMENT","FINE_PAYMENT","SALARY_RECEIVE","ADMIN_GIVE","ADMIN_TAKE","dbInstance","couponAmount","firestore","logsRef","collection","logData","createdAt","docRef","addDoc","logId"],"ignoreList":[],"sourceRoot":""}