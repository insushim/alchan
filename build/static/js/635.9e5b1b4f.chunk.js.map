{"version":3,"file":"static/js/635.9e5b1b4f.chunk.js","mappings":"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","sources":["components/LoginWarning.js","pages/my-items/MyItems.js"],"sourcesContent":["// src/LoginWarning.js\r\nimport React from \"react\";\r\n\r\nconst LoginWarning = () => {\r\n  return (\r\n    <div className=\"login-warning\">\r\n      <h3>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</h3>\r\n      <p>ì•„ì´í…œì„ êµ¬ë§¤í•˜ê±°ë‚˜ ì‚¬ìš©í•˜ë ¤ë©´ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginWarning;\r\n","// src/pages/my-items/MyItems.js\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { useItems } from \"../../contexts/ItemContext\";\nimport \"./MyItems.css\";\nimport LoginWarning from \"../../components/LoginWarning\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { logger } from \"../../utils/logger\";\n// Firebase\nimport {\n  db,\n  firebaseDoc,\n  collection,\n  serverTimestamp,\n  runTransaction,\n  increment,\n  query,\n  where,\n  getDocs,\n  getDoc,\n  updateDoc,\n} from \"../../firebase\";\n\nconst ITEM_DEFAULT_DURATION_MS = 5 * 60 * 1000;\n\nconst formatTimeLeft = (\n  usedTimestamp,\n  durationMs = ITEM_DEFAULT_DURATION_MS,\n) => {\n  const now = Date.now();\n  const timeElapsed = now - usedTimestamp;\n  const timeLeft = durationMs - timeElapsed;\n  if (timeLeft <= 0) return \"ë§Œë£Œë¨\";\n  const hours = Math.floor(timeLeft / (60 * 60 * 1000));\n  const minutes = Math.floor((timeLeft % (60 * 60 * 1000)) / (60 * 1000));\n  const seconds = Math.floor((timeLeft % (60 * 1000)) / 1000);\n  let formatted = \"\";\n  if (hours > 0) formatted += `${hours}ì‹œê°„ `;\n  if (minutes > 0 || hours > 0) formatted += `${minutes}ë¶„ `;\n  formatted += `${seconds}ì´ˆ ë‚¨ìŒ`;\n  return formatted.trim();\n};\n\nconst QuantityBadge = ({ quantity }) => {\n  let badgeClass = \"\";\n  if (quantity > 10) badgeClass = \"quantity-high\";\n  else if (quantity > 5) badgeClass = \"quantity-medium\";\n  else badgeClass = \"quantity-low\";\n  return <span className={`quantity-badge ${badgeClass}`}>Ã—{quantity}</span>;\n};\n\nconst MyItems = () => {\n  const { user, userDoc, users, classmates } = useAuth() || {};\n  const {\n    userItems,\n    useItem,\n    listItemForSale,\n    refreshData,\n    updateLocalUserItems,\n  } = useItems() || {\n    userItems: [],\n    useItem: null,\n    listItemForSale: null,\n    refreshData: null,\n    updateLocalUserItems: null,\n  };\n\n  const navigate = useNavigate();\n\n  const [notification, setNotification] = useState(null);\n  const showNotification = (type, message) => {\n    setNotification({ type, message });\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  const groupedUserItems = useMemo(() => {\n    if (!userItems || userItems.length === 0) {\n      return [];\n    }\n\n    const itemsMap = new Map();\n\n    userItems.forEach((item) => {\n      if (\n        !item ||\n        !item.itemId ||\n        typeof item.quantity !== \"number\" ||\n        item.quantity <= 0\n      ) {\n        return;\n      }\n\n      const key = item.itemId;\n\n      if (itemsMap.has(key)) {\n        const existingGroup = itemsMap.get(key);\n        existingGroup.totalQuantity += item.quantity;\n        existingGroup.sourceDocs.push(item);\n        if (item.name && !existingGroup.displayInfo.name) {\n          existingGroup.displayInfo.name = item.name;\n        }\n        if (item.icon && !existingGroup.displayInfo.icon) {\n          existingGroup.displayInfo.icon = item.icon;\n        }\n        if (item.description && !existingGroup.displayInfo.description) {\n          existingGroup.displayInfo.description = item.description;\n        }\n      } else {\n        itemsMap.set(key, {\n          displayInfo: {\n            itemId: item.itemId,\n            name: item.name || \"ì•Œ ìˆ˜ ì—†ëŠ” ì•„ì´í…œ\",\n            icon: item.icon || \"ğŸ”®\",\n            description: item.description || \"\",\n            type: item.type || \"general\",\n            price: item.price || 0,\n            durationMs: item.durationMs || ITEM_DEFAULT_DURATION_MS,\n          },\n          totalQuantity: item.quantity,\n          sourceDocs: [item],\n        });\n      }\n    });\n\n    return Array.from(itemsMap.values()).sort((a, b) =>\n      a.displayInfo.name.localeCompare(b.displayInfo.name),\n    );\n  }, [userItems]);\n\n  const [recentlyUsedItems, setRecentlyUsedItems] = useState(() => {\n    try {\n      const saved = localStorage.getItem(\n        `recentlyUsedItems_${user?.uid || \"guest\"}`,\n      );\n      return saved ? JSON.parse(saved) : {};\n    } catch (e) {\n      return {};\n    }\n  });\n\n  useEffect(() => {\n    if (user?.uid) {\n      localStorage.setItem(\n        `recentlyUsedItems_${user.uid}`,\n        JSON.stringify(recentlyUsedItems),\n      );\n    }\n  }, [recentlyUsedItems, user?.uid]);\n\n  const hasRecentlyUsedItems = Object.keys(recentlyUsedItems).length > 0;\n  useEffect(() => {\n    if (!hasRecentlyUsedItems) return;\n    const timer = setInterval(() => {\n      setRecentlyUsedItems((prevItems) => {\n        let itemsChanged = false;\n        const updatedItems = { ...prevItems };\n        const now = Date.now();\n        Object.keys(updatedItems).forEach((itemId) => {\n          const itemData = updatedItems[itemId];\n          const duration =\n            itemData.itemDetails?.durationMs || ITEM_DEFAULT_DURATION_MS;\n          if (now - itemData.usedTimestamp > duration) {\n            delete updatedItems[itemId];\n            itemsChanged = true;\n          }\n        });\n        return itemsChanged ? updatedItems : prevItems;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [hasRecentlyUsedItems]);\n\n  const [useItemModal, setUseItemModal] = useState({\n    isOpen: false,\n    item: null,\n    quantity: 1,\n  });\n  const [giftModal, setGiftModal] = useState({\n    isOpen: false,\n    item: null,\n  });\n  const [giftRecipientUid, setGiftRecipientUid] = useState(\"\");\n  const [giftQuantity, setGiftQuantity] = useState(1);\n  const [isGifting, setIsGifting] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [sellToMarketModal, setSellToMarketModal] = useState({\n    isOpen: false,\n    item: null,\n    quantity: 1,\n    price: 0,\n  });\n\n  const handleOpenUseItemModal = (group) => {\n    if (!user) {\n      showNotification(\"error\", \"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\");\n      return;\n    }\n    if (!group || group.totalQuantity <= 0) {\n      showNotification(\"error\", \"ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì•„ì´í…œì´ ì•„ë‹™ë‹ˆë‹¤.\");\n      return;\n    }\n    setUseItemModal({ isOpen: true, item: group, quantity: 1 });\n  };\n\n  const handleCloseUseItemModal = () => {\n    setUseItemModal({ isOpen: false, item: null, quantity: 1 });\n  };\n\n  const handleOpenGiftModal = (group) => {\n    if (!user) {\n      showNotification(\"error\", \"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\");\n      return;\n    }\n    if (!classmates || classmates.length === 0) {\n      showNotification(\"error\", \"ì„ ë¬¼í•  ì¹œêµ¬ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    if (!group || group.totalQuantity <= 0) {\n      showNotification(\"error\", \"ì„ ë¬¼í•  ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n\n    setGiftRecipientUid(\"\");\n    setGiftQuantity(1);\n    setGiftModal({ isOpen: true, item: group });\n  };\n\n  const handleCloseGiftModal = () => {\n    setGiftModal({ isOpen: false, item: null });\n  };\n\n  const handleOpenSellToMarketModal = (group) => {\n    if (!user) {\n      showNotification(\"error\", \"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\");\n      return;\n    }\n    if (!group || group.totalQuantity <= 0) {\n      showNotification(\"error\", \"íŒë§¤í•  ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    if (!listItemForSale) {\n      showNotification(\"error\", \"íŒë§¤ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    const defaultPrice = group.displayInfo.price\n      ? Math.max(1, Math.round(group.displayInfo.price * 0.8))\n      : 100;\n    setSellToMarketModal({\n      isOpen: true,\n      item: group,\n      quantity: 1,\n      price: defaultPrice,\n    });\n  };\n\n  const handleCloseSellToMarketModal = () => {\n    setSellToMarketModal({\n      isOpen: false,\n      item: null,\n      quantity: 1,\n      price: 0,\n    });\n  };\n\n  const handleSellToMarketQuantityChange = (value) => {\n    const maxQty = sellToMarketModal.item?.totalQuantity || 1;\n    const newQty = Math.max(1, Math.min(maxQty, parseInt(value) || 1));\n    setSellToMarketModal((prev) => ({\n      ...prev,\n      quantity: newQty,\n    }));\n  };\n\n  const handleSellToMarketPriceChange = (value) => {\n    const newPrice = Math.max(1, parseInt(value) || 1);\n    setSellToMarketModal((prev) => ({\n      ...prev,\n      price: newPrice,\n    }));\n  };\n\n  const handleConfirmUseItem = async () => {\n    const { item: group, quantity: quantityToUse } = useItemModal;\n    if (!group || !quantityToUse || quantityToUse <= 0) {\n      showNotification(\"error\", \"ì‚¬ìš©í•  ì•„ì´í…œ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n      return;\n    }\n\n    if (group.totalQuantity < quantityToUse) {\n      showNotification(\"error\", \"ë³´ìœ  ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.\");\n      return;\n    }\n\n    // ğŸ”¥ ë‚™ê´€ì  ì—…ë°ì´íŠ¸: ì¦‰ì‹œ ì„±ê³µ í‘œì‹œ + ëª¨ë‹¬ ë‹«ê¸° + ì‚¬ìš© ì¤‘ ì•„ì´í…œ ë“±ë¡\n    showNotification(\n      \"success\",\n      `${group.displayInfo.name} ${quantityToUse}ê°œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.`,\n    );\n    handleCloseUseItemModal();\n\n    setRecentlyUsedItems((prev) => ({\n      ...prev,\n      [group.displayInfo.itemId]: {\n        usedTimestamp: Date.now(),\n        itemDetails: {\n          name: group.displayInfo.name,\n          icon: group.displayInfo.icon,\n          durationMs: group.displayInfo.durationMs || ITEM_DEFAULT_DURATION_MS,\n        },\n      },\n    }));\n\n    // ğŸ”¥ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì„œë²„ í˜¸ì¶œ (useItem ë‚´ë¶€ì—ì„œ ì´ë¯¸ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ìˆ˜í–‰)\n    try {\n      let remainingToUse = quantityToUse;\n\n      const sortedDocs = [...group.sourceDocs].sort(\n        (a, b) => a.quantity - b.quantity,\n      );\n\n      for (const doc of sortedDocs) {\n        if (remainingToUse <= 0) break;\n\n        const amountToUse = Math.min(doc.quantity, remainingToUse);\n\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const result = await useItem(doc.id, amountToUse);\n\n        if (!result.success) {\n          throw new Error(\n            result.message || `ì•„ì´í…œ ì‚¬ìš©ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ (${doc.id})`,\n          );\n        }\n\n        remainingToUse -= amountToUse;\n      }\n\n      if (remainingToUse > 0) {\n        throw new Error(\n          `ìš”ì²­í•œ ìˆ˜ëŸ‰ì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (ë¶€ì¡±í•œ ìˆ˜ëŸ‰: ${remainingToUse})`,\n        );\n      }\n    } catch (error) {\n      // ğŸ”¥ ì„œë²„ ì‹¤íŒ¨ ì‹œ: ì—ëŸ¬ ì•Œë¦¼ í‘œì‹œ + ì‚¬ìš© ì¤‘ ì•„ì´í…œ ì œê±° (ItemContextì—ì„œ ì´ë¯¸ ë¡¤ë°± ì²˜ë¦¬)\n      showNotification(\n        \"error\",\n        `ì•„ì´í…œ ì‚¬ìš© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`,\n      );\n      setRecentlyUsedItems((prev) => {\n        const updated = { ...prev };\n        delete updated[group.displayInfo.itemId];\n        return updated;\n      });\n    }\n  };\n\n  const handleRemoveUsedItem = (itemId) => {\n    setRecentlyUsedItems((prevItems) => {\n      const updatedItems = { ...prevItems };\n      delete updatedItems[itemId];\n      return updatedItems;\n    });\n    showNotification(\"info\", \"ì•„ì´í…œ ì‚¬ìš©ì„ ì¤‘ì§€í–ˆìŠµë‹ˆë‹¤.\");\n  };\n\n  const handleSendGift = async () => {\n    if (isGifting) return;\n\n    const { item: group } = giftModal;\n    if (!user || !giftRecipientUid || !group) {\n      logger.error(\"[MyItems] ì„ ë¬¼ ì •ë³´ ì˜¤ë¥˜:\", {\n        user: !!user,\n        giftRecipientUid,\n        group: !!group,\n      });\n      showNotification(\"error\", \"ì„ ë¬¼ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    const quantity = Number(giftQuantity) || 1;\n    if (quantity <= 0 || quantity > group.totalQuantity) {\n      logger.error(\"[MyItems] ì„ ë¬¼ ìˆ˜ëŸ‰ ì˜¤ë¥˜:\", {\n        quantity,\n        totalQuantity: group.totalQuantity,\n      });\n      showNotification(\"error\", \"ì„ ë¬¼ ìˆ˜ëŸ‰ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n      return;\n    }\n\n    // ë°›ëŠ” ì‚¬ëŒ ì •ë³´ ì°¾ê¸°\n    const recipient = classmates.find(\n      (c) => (c.uid || c.id) === giftRecipientUid,\n    );\n    const recipientName = recipient ? recipient.name : \"ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì\";\n\n    logger.log(\"[MyItems] ì„ ë¬¼ ì‹œì‘:\", {\n      ì•„ì´í…œ: group.displayInfo.name,\n      ìˆ˜ëŸ‰: quantity,\n      ë³´ë‚´ëŠ”ì‚¬ëŒ: userDoc?.name || user.uid,\n      ë°›ëŠ”ì‚¬ëŒ: recipientName,\n      ë°›ëŠ”ì‚¬ëŒUID: giftRecipientUid,\n    });\n\n    setIsGifting(true);\n    let originalUserItems;\n    try {\n      // ğŸ”¥ ë””ë²„ê¹…: inventory ì»¬ë ‰ì…˜ ì „ì²´ ì¡°íšŒ\n      const inventoryRef = collection(db, \"users\", user.uid, \"inventory\");\n      const allInventoryDocs = await getDocs(inventoryRef);\n      const actualDocs = allInventoryDocs.docs.map((doc) => ({\n        id: doc.id,\n        itemId: doc.data().itemId,\n        name: doc.data().name,\n        quantity: doc.data().quantity,\n      }));\n\n      logger.log(\"[MyItems] ğŸ” ì‹¤ì œ inventory ì»¬ë ‰ì…˜ ì „ì²´ ì¡°íšŒ:\");\n      logger.log(\"ì´ë¬¸ì„œìˆ˜:\", allInventoryDocs.size);\n      logger.log(\"ë¬¸ì„œë“¤:\", actualDocs);\n\n      // itemIdë¡œ ê·¸ë£¹í•‘\n      const itemIdGroups = {};\n      actualDocs.forEach((doc) => {\n        const key = doc.itemId || doc.id;\n        if (!itemIdGroups[key]) itemIdGroups[key] = [];\n        itemIdGroups[key].push(doc.id);\n      });\n      logger.log(\"[MyItems] itemIdë³„ ê·¸ë£¹:\", itemIdGroups);\n\n      // ğŸ”¥ ë³´ë‚´ëŠ” ì‚¬ëŒì˜ ì‹¤ì œ ì•„ì´í…œ ë¬¸ì„œë¥¼ Firestoreì—ì„œ ë‹¤ì‹œ ì¡°íšŒ\n      // group.sourceDocsì—ì„œ ë¬¸ì„œ ID ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\n      const docIds = group.sourceDocs.map((doc) => doc.id);\n\n      logger.log(\"[MyItems] ìºì‹œëœ ë¬¸ì„œ ID ëª©ë¡:\", docIds);\n\n      // ê° ë¬¸ì„œ IDë¡œ ì§ì ‘ ì¡°íšŒ (getDoc ì‚¬ìš©)\n      const actualSourceDocs = [];\n      let actualTotalQuantity = 0;\n\n      for (const docId of docIds) {\n        const docRef = firebaseDoc(db, \"users\", user.uid, \"inventory\", docId);\n        const docSnap = await getDoc(docRef);\n\n        if (docSnap.exists()) {\n          const data = docSnap.data();\n          actualSourceDocs.push({\n            id: docSnap.id,\n            ...data,\n          });\n          actualTotalQuantity += data.quantity || 0;\n          logger.log(\"[MyItems] âœ… ë¬¸ì„œ ë°œê²¬:\", {\n            id: docSnap.id,\n            quantity: data.quantity,\n          });\n        } else {\n          logger.warn(\"[MyItems] âš ï¸ ë¬¸ì„œ ì—†ìŒ:\", docId);\n        }\n      }\n\n      logger.log(\"[MyItems] ë³´ë‚´ëŠ” ì‚¬ëŒ ì¸ë²¤í† ë¦¬ ì‹¤ì œ ì¡°íšŒ ì™„ë£Œ:\", {\n        ìºì‹œë¬¸ì„œìˆ˜: group.sourceDocs.length,\n        ì‹¤ì œë¬¸ì„œìˆ˜: actualSourceDocs.length,\n        ì‹¤ì œì´ìˆ˜ëŸ‰: actualTotalQuantity,\n      });\n\n      if (actualSourceDocs.length === 0) {\n        throw new Error(\n          \"ë³´ìœ  ì¤‘ì¸ ì•„ì´í…œì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.\",\n        );\n      }\n\n      if (actualTotalQuantity < quantity) {\n        throw new Error(\n          `ì•„ì´í…œ ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (í•„ìš”: ${quantity}, ì‹¤ì œ ë³´ìœ : ${actualTotalQuantity})`,\n        );\n      }\n\n      // ğŸ”¥ ë°›ëŠ” ì‚¬ëŒì˜ ì¸ë²¤í† ë¦¬ ì¿¼ë¦¬ (íŠ¸ëœì­ì…˜ ì™¸ë¶€ì—ì„œ ì‹¤í–‰ - Firestore ì œí•œì‚¬í•­)\n      const recipientInventoryRef = collection(\n        db,\n        \"users\",\n        giftRecipientUid,\n        \"inventory\",\n      );\n      const recipientQuery = query(\n        recipientInventoryRef,\n        where(\"itemId\", \"==\", group.displayInfo.itemId),\n      );\n      const recipientQuerySnapshot = await getDocs(recipientQuery);\n\n      const recipientExistingDocRef = recipientQuerySnapshot.empty\n        ? null\n        : recipientQuerySnapshot.docs[0].ref;\n\n      logger.log(\"[MyItems] ë°›ëŠ” ì‚¬ëŒ ì¸ë²¤í† ë¦¬ ì¡°íšŒ (íŠ¸ëœì­ì…˜ ì™¸ë¶€):\", {\n        ê¸°ì¡´ì•„ì´í…œì¡´ì¬: !recipientQuerySnapshot.empty,\n        ë¬¸ì„œìˆ˜: recipientQuerySnapshot.size,\n      });\n\n      originalUserItems = [...userItems];\n\n      const updatedUserItems = [];\n      let remainingToDeduct = quantity;\n\n      for (const item of userItems) {\n        if (item.itemId === group.displayInfo.itemId && remainingToDeduct > 0) {\n          const deductAmount = Math.min(item.quantity, remainingToDeduct);\n          const newQuantity = item.quantity - deductAmount;\n\n          if (newQuantity > 0) {\n            updatedUserItems.push({ ...item, quantity: newQuantity });\n          }\n\n          remainingToDeduct -= deductAmount;\n        } else {\n          updatedUserItems.push(item);\n        }\n      }\n\n      if (updateLocalUserItems) {\n        updateLocalUserItems(updatedUserItems);\n      }\n\n      // ğŸ”¥ íŠ¸ëœì­ì…˜: ëª¨ë“  ì½ê¸°ë¥¼ ë¨¼ì € ìˆ˜í–‰í•˜ê³ , ê·¸ ë‹¤ìŒ ëª¨ë“  ì“°ê¸°ë¥¼ ìˆ˜í–‰\n      await runTransaction(db, async (transaction) => {\n        // ===== 1ë‹¨ê³„: ëª¨ë“  ì½ê¸° ì‘ì—… =====\n\n        // 1-1. ë³´ë‚´ëŠ” ì‚¬ëŒì˜ ì•„ì´í…œ ë¬¸ì„œë“¤ ì½ê¸°\n        const senderItemSnaps = [];\n        for (const senderDoc of actualSourceDocs) {\n          const senderItemRef = firebaseDoc(\n            db,\n            \"users\",\n            user.uid,\n            \"inventory\",\n            senderDoc.id,\n          );\n          const senderItemSnap = await transaction.get(senderItemRef);\n\n          if (!senderItemSnap.exists()) {\n            logger.error(\n              \"[MyItems] âŒ íŠ¸ëœì­ì…˜ ì¤‘ ì•„ì´í…œ ë¬¸ì„œê°€ ì‚¬ë¼ì§:\",\n              senderDoc.id,\n            );\n            throw new Error(\n              \"íŠ¸ëœì­ì…˜ ì¤‘ ì•„ì´í…œì´ ì‚¬ë¼ì¡ŒìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\",\n            );\n          }\n\n          const currentQuantity = senderItemSnap.data().quantity || 0;\n          if (currentQuantity <= 0) {\n            logger.error(\n              \"[MyItems] âŒ íŠ¸ëœì­ì…˜ ì¤‘ ì•„ì´í…œ ìˆ˜ëŸ‰ì´ 0:\",\n              senderDoc.id,\n            );\n            throw new Error(\n              \"íŠ¸ëœì­ì…˜ ì¤‘ ì•„ì´í…œ ìˆ˜ëŸ‰ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\",\n            );\n          }\n\n          senderItemSnaps.push({\n            ref: senderItemRef,\n            snap: senderItemSnap,\n            quantity: currentQuantity,\n          });\n        }\n\n        // 1-2. ë°›ëŠ” ì‚¬ëŒì˜ ì¸ë²¤í† ë¦¬ ì•„ì´í…œ ì½ê¸° (íŠ¸ëœì­ì…˜ ë‚´ë¶€ì—ì„œ)\n        let recipientItemRef = null;\n        let recipientCurrentQuantity = 0;\n\n        if (recipientExistingDocRef) {\n          // ê¸°ì¡´ ì•„ì´í…œì´ ìˆëŠ” ê²½ìš°, íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ë‹¤ì‹œ ì½ê¸°\n          recipientItemRef = recipientExistingDocRef;\n          const recipientSnap = await transaction.get(recipientItemRef);\n\n          if (recipientSnap.exists()) {\n            recipientCurrentQuantity = recipientSnap.data().quantity || 0;\n            logger.log(\"[MyItems] ë°›ëŠ” ì‚¬ëŒ ê¸°ì¡´ ì•„ì´í…œ ë°œê²¬:\", {\n              ë¬¸ì„œID: recipientItemRef.id,\n              í˜„ì¬ìˆ˜ëŸ‰: recipientCurrentQuantity,\n            });\n          } else {\n            logger.warn(\n              \"[MyItems] âš ï¸ ë°›ëŠ” ì‚¬ëŒì˜ ê¸°ì¡´ ì•„ì´í…œì´ ì‚¬ë¼ì§, ìƒˆë¡œ ìƒì„±í•©ë‹ˆë‹¤.\",\n            );\n            recipientItemRef = null;\n          }\n        } else {\n          logger.log(\"[MyItems] ë°›ëŠ” ì‚¬ëŒì—ê²Œ ìƒˆ ì•„ì´í…œ ìƒì„± ì˜ˆì •\");\n        }\n\n        // ===== 2ë‹¨ê³„: ëª¨ë“  ì“°ê¸° ì‘ì—… =====\n\n        let remainingToSend = quantity;\n        let processedAmount = 0;\n\n        // 2-1. ë³´ë‚´ëŠ” ì‚¬ëŒì˜ ì•„ì´í…œ ì°¨ê°\n        for (const {\n          ref: senderItemRef,\n          quantity: currentQuantity,\n        } of senderItemSnaps) {\n          if (remainingToSend <= 0) break;\n\n          const amountFromThisDoc = Math.min(currentQuantity, remainingToSend);\n          const newSenderQty = currentQuantity - amountFromThisDoc;\n\n          logger.log(\"[MyItems] ì•„ì´í…œ ì°¨ê°:\", {\n            ë¬¸ì„œID: senderItemRef.id,\n            ê¸°ì¡´ìˆ˜ëŸ‰: currentQuantity,\n            ì°¨ê°ìˆ˜ëŸ‰: amountFromThisDoc,\n            ë‚¨ì€ìˆ˜ëŸ‰: newSenderQty,\n          });\n\n          if (newSenderQty <= 0) {\n            transaction.delete(senderItemRef);\n          } else {\n            transaction.update(senderItemRef, { quantity: newSenderQty });\n          }\n\n          remainingToSend -= amountFromThisDoc;\n          processedAmount += amountFromThisDoc;\n        }\n\n        // ì‹¤ì œë¡œ ì²˜ë¦¬ëœ ìˆ˜ëŸ‰ í™•ì¸\n        if (processedAmount < quantity) {\n          logger.error(\"[MyItems] ì²˜ë¦¬ëœ ìˆ˜ëŸ‰ ë¶€ì¡±:\", {\n            ìš”ì²­: quantity,\n            ì²˜ë¦¬ë¨: processedAmount,\n          });\n          throw new Error(\n            `ì•„ì´í…œ ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (í•„ìš”: ${quantity}, ì‹¤ì œ ë³´ìœ : ${processedAmount})`,\n          );\n        }\n\n        // 2-2. ë°›ëŠ” ì‚¬ëŒì—ê²Œ ì•„ì´í…œ ì¶”ê°€\n        if (recipientItemRef) {\n          // ê¸°ì¡´ ì•„ì´í…œì— ìˆ˜ëŸ‰ ì¶”ê°€\n          logger.log(\n            \"[MyItems] ë°›ëŠ” ì‚¬ëŒ ì•„ì´í…œ ì—…ë°ì´íŠ¸ (ê¸°ì¡´ ì•„ì´í…œì— ì¶”ê°€):\",\n            {\n              ê¸°ì¡´ìˆ˜ëŸ‰: recipientCurrentQuantity,\n              ì¶”ê°€ìˆ˜ëŸ‰: processedAmount,\n              ìµœì¢…ìˆ˜ëŸ‰: recipientCurrentQuantity + processedAmount,\n            },\n          );\n          transaction.update(recipientItemRef, {\n            quantity: recipientCurrentQuantity + processedAmount,\n            updatedAt: serverTimestamp(),\n          });\n        } else {\n          // ìƒˆ ì•„ì´í…œ ìƒì„±\n          logger.log(\"[MyItems] ë°›ëŠ” ì‚¬ëŒ ì•„ì´í…œ ìƒì„± (ìƒˆ ì•„ì´í…œ):\", {\n            ìˆ˜ëŸ‰: processedAmount,\n          });\n          const newRecipientItemRef = firebaseDoc(recipientInventoryRef);\n          transaction.set(newRecipientItemRef, {\n            itemId: group.displayInfo.itemId,\n            name: group.displayInfo.name,\n            icon: group.displayInfo.icon,\n            description: group.displayInfo.description,\n            type: group.displayInfo.type,\n            quantity: processedAmount,\n            receivedAt: serverTimestamp(),\n            updatedAt: serverTimestamp(),\n          });\n        }\n      });\n\n      logger.log(\"[MyItems] âœ… ì„ ë¬¼ íŠ¸ëœì­ì…˜ ì™„ë£Œ\");\n      showNotification(\n        \"success\",\n        `${recipientName}ë‹˜ì—ê²Œ ${group.displayInfo.name} ${quantity}ê°œë¥¼ ì„ ë¬¼í–ˆìŠµë‹ˆë‹¤.`,\n      );\n      handleCloseGiftModal();\n\n      setTimeout(() => {\n        if (refreshData) refreshData();\n      }, 2000);\n    } catch (error) {\n      logger.error(\"[MyItems] ì„ ë¬¼í•˜ê¸° ì‹¤íŒ¨:\", error);\n\n      // ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ë¡¤ë°±\n      if (updateLocalUserItems && originalUserItems) {\n        logger.log(\"[MyItems] ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ë¡¤ë°± - ì›ë˜ ìƒíƒœë¡œ ë³µì›\");\n        updateLocalUserItems(originalUserItems);\n      }\n\n      // ë°ì´í„° ë™ê¸°í™” í›„ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ\n      showNotification(\"error\", `ì„ ë¬¼í•˜ê¸° ì‹¤íŒ¨: ${error.message}`);\n\n      // í•­ìƒ ë°ì´í„° ìƒˆë¡œê³ ì¹¨\n      if (refreshData) {\n        logger.log(\"[MyItems] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì‹œì‘\");\n        try {\n          const result = refreshData();\n          if (result && typeof result.then === \"function\") {\n            await result;\n          }\n          logger.log(\"[MyItems] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ\");\n        } catch (syncError) {\n          logger.error(\"[MyItems] ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨:\", syncError);\n        }\n      }\n    } finally {\n      setIsGifting(false);\n    }\n  };\n\n  const handleConfirmSellToMarket = async () => {\n    const { item: group, quantity, price } = sellToMarketModal;\n    if (!group || !quantity || !price) {\n      showNotification(\"error\", \"íŒë§¤ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.\");\n      return;\n    }\n\n    try {\n      // ğŸ”¥ ì‹¤ì œ Firestoreì—ì„œ ë¬¸ì„œ ë‹¤ì‹œ ì¡°íšŒ\n      const docIds = group.sourceDocs.map((doc) => doc.id);\n      const actualSourceDocs = [];\n      let actualTotalQuantity = 0;\n\n      for (const docId of docIds) {\n        const docRef = firebaseDoc(db, \"users\", user.uid, \"inventory\", docId);\n        const docSnap = await getDoc(docRef);\n\n        if (docSnap.exists()) {\n          const data = docSnap.data();\n          actualSourceDocs.push({\n            id: docSnap.id,\n            ...data,\n          });\n          actualTotalQuantity += data.quantity || 0;\n        }\n      }\n\n      logger.log(\"[MyItems] ì‹œì¥ì— íŒ”ê¸° - ì‹¤ì œ ì¡°íšŒ:\", {\n        ìš”ì²­ìˆ˜ëŸ‰: quantity,\n        ì‹¤ì œë³´ìœ : actualTotalQuantity,\n        ë¬¸ì„œìˆ˜: actualSourceDocs.length,\n      });\n\n      if (actualSourceDocs.length === 0) {\n        throw new Error(\n          \"íŒë§¤í•  ì•„ì´í…œì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.\",\n        );\n      }\n\n      if (actualTotalQuantity < quantity) {\n        throw new Error(\n          `ì•„ì´í…œ ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (í•„ìš”: ${quantity}, ì‹¤ì œ ë³´ìœ : ${actualTotalQuantity})`,\n        );\n      }\n\n      // ì‹¤ì œ ë¬¸ì„œë“¤ë¡œ íŒë§¤ ì§„í–‰\n      let remainingToSell = quantity;\n      const itemsToProcess = [...actualSourceDocs].sort(\n        (a, b) => a.quantity - b.quantity,\n      );\n\n      for (const doc of itemsToProcess) {\n        if (remainingToSell <= 0) break;\n        const amountToSell = Math.min(doc.quantity, remainingToSell);\n\n        // ğŸ”¥ FIX: íŒë§¤ ì „ í•„ìˆ˜ í•„ë“œê°€ undefinedì¸ ê²½ìš° ê¸°ë³¸ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸\n        const updateFields = {};\n        if (doc.description === undefined) {\n          logger.warn(`[MyItems] ëˆ„ë½ëœ description í•„ë“œ ìˆ˜ì •: ${doc.id}`);\n          updateFields.description = \"\";\n        }\n        if (doc.icon === undefined) {\n          logger.warn(`[MyItems] ëˆ„ë½ëœ icon í•„ë“œ ìˆ˜ì •: ${doc.id}`);\n          updateFields.icon = \"ğŸ”®\";\n        }\n        if (doc.type === undefined) {\n          logger.warn(`[MyItems] ëˆ„ë½ëœ type í•„ë“œ ìˆ˜ì •: ${doc.id}`);\n          updateFields.type = \"general\";\n        }\n        if (Object.keys(updateFields).length > 0) {\n          const itemRef = firebaseDoc(\n            db,\n            \"users\",\n            user.uid,\n            \"inventory\",\n            doc.id,\n          );\n          await updateDoc(itemRef, updateFields);\n          // ë¡œì»¬ doc ê°ì²´ë„ ì—…ë°ì´íŠ¸\n          Object.assign(doc, updateFields);\n        }\n\n        const result = await listItemForSale({\n          itemId: doc.id,\n          quantity: amountToSell,\n          price,\n        });\n\n        if (!result.success) {\n          throw new Error(\n            result.message || \"ì¼ë¶€ ì•„ì´í…œ íŒë§¤ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\",\n          );\n        }\n        remainingToSell -= amountToSell;\n      }\n\n      showNotification(\n        \"success\",\n        `${group.displayInfo.name} ${quantity}ê°œë¥¼ ì‹œì¥ì— íŒë§¤ ë“±ë¡í–ˆìŠµë‹ˆë‹¤.`,\n      );\n      handleCloseSellToMarketModal();\n\n      setTimeout(() => {\n        if (window.confirm(\"ì•„ì´í…œ ì‹œì¥ìœ¼ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\")) {\n          navigate(\"/item-market\");\n        }\n      }, 500);\n    } catch (error) {\n      logger.error(\"[MyItems] ì‹œì¥ íŒë§¤ ë“±ë¡ ì‹¤íŒ¨:\", error);\n\n      if (\n        error.message.includes(\"ì•„ì´í…œì„ ì°¾ì„ ìˆ˜ ì—†\") ||\n        error.message.includes(\"ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤\")\n      ) {\n        showNotification(\n          \"warning\",\n          \"ì•„ì´í…œ ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ë°ì´í„°ë¥¼ ë™ê¸°í™”í•©ë‹ˆë‹¤.\",\n        );\n        setIsSyncing(true);\n\n        if (refreshData) {\n          refreshData()\n            .then(() => {\n              showNotification(\n                \"success\",\n                \"ë™ê¸°í™”ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\",\n              );\n              setIsSyncing(false);\n            })\n            .catch((syncError) => {\n              logger.error(\"[MyItems] ë°ì´í„° ë™ê¸°í™” ì‹¤íŒ¨:\", syncError);\n              showNotification(\"error\", \"ë°ì´í„° ë™ê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n              setIsSyncing(false);\n            });\n        } else {\n          showNotification(\n            \"error\",\n            `ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìœ¼ë©° ë°ì´í„°ë¥¼ ìƒˆë¡œê³ ì¹  ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${error.message}`,\n          );\n          setIsSyncing(false);\n        }\n      } else {\n        showNotification(\"error\", `ì‹œì¥ íŒë§¤ ë“±ë¡ ì¤‘ ì˜¤ë¥˜: ${error.message}`);\n      }\n    }\n  };\n\n  const itemToGift = giftModal.isOpen ? giftModal.item : null;\n\n  return (\n    <>\n      <div className=\"page-container relative\">\n        <h2 className=\"page-title\">ë‚´ ì•„ì´í…œ ê´€ë¦¬</h2>\n        {!user && <LoginWarning />}\n        {notification && (\n          <div className={`notification bg-${notification.type}-100`}>\n            {notification.message}\n          </div>\n        )}\n\n        {user && (\n          <>\n            {Object.keys(recentlyUsedItems).length > 0 && (\n              <div className=\"content-card-section\">\n                <h3 className=\"section-title\">ì‚¬ìš© ì¤‘ì¸ ì•„ì´í…œ</h3>\n                <div className=\"items-grid\">\n                  {Object.entries(recentlyUsedItems).map(\n                    ([itemId, itemData]) => (\n                      <div\n                        key={itemId}\n                        className=\"store-item-card active-item-card\"\n                      >\n                        <div className=\"item-content\">\n                          <div className=\"my-item-header\">\n                            <div className=\"item-icon-group\">\n                              <div className=\"item-icon\">\n                                {itemData.itemDetails.icon || \"âœ¨\"}\n                              </div>\n                            </div>\n                            <div className=\"item-info\">\n                              <h3 className=\"item-name\">\n                                {itemData.itemDetails.name}\n                              </h3>\n                              <p className=\"timer-text\">\n                                {formatTimeLeft(\n                                  itemData.usedTimestamp,\n                                  itemData.itemDetails.durationMs,\n                                )}\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"my-item-actions\">\n                            <button\n                              className=\"stop-using-button\"\n                              onClick={() => handleRemoveUsedItem(itemId)}\n                            >\n                              ì‚¬ìš© ì¤‘ì§€\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    ),\n                  )}\n                </div>\n              </div>\n            )}\n\n            <div className=\"content-card-section\">\n              <h3 className=\"section-title\">ë³´ìœ  ì•„ì´í…œ</h3>\n              {groupedUserItems.length > 0 ? (\n                <div className=\"items-grid\">\n                  {groupedUserItems.map((group) => (\n                    <div\n                      key={group.displayInfo.itemId}\n                      className=\"store-item-card compact-myitem-card\"\n                    >\n                      <div className=\"item-content\">\n                        <div className=\"my-item-header-compact\">\n                          <h3 className=\"my-item-name-compact\">\n                            {group.displayInfo.name}\n                          </h3>\n                          <QuantityBadge quantity={group.totalQuantity} />\n                        </div>\n                        {group.displayInfo.description &&\n                          group.displayInfo.description.trim() && (\n                            <p className=\"my-item-description-compact\">\n                              {group.displayInfo.description}\n                            </p>\n                          )}\n                        <div className=\"my-item-actions\">\n                          <button\n                            className=\"use-item-button\"\n                            onClick={() => {\n                              handleOpenUseItemModal(group);\n                            }}\n                            disabled={isSyncing}\n                          >\n                            ì‚¬ìš©í•˜ê¸°\n                          </button>\n                          <button\n                            className=\"gift-item-button\"\n                            onClick={() => {\n                              handleOpenGiftModal(group);\n                            }}\n                            disabled={\n                              !classmates ||\n                              classmates.length === 0 ||\n                              isSyncing\n                            }\n                          >\n                            {isSyncing ? \"ë™ê¸°í™” ì¤‘\" : \"ì„ ë¬¼í•˜ê¸°\"}\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"empty-message\">\n                  <p>ë³´ìœ  ì¤‘ì¸ ì•„ì´í…œì´ ì—†ìŠµë‹ˆë‹¤.</p>\n                </div>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n\n      {useItemModal.isOpen && useItemModal.item && (\n        <div\n          className=\"myitems-modal-overlay\"\n          onClick={(e) => {\n            if (e.target === e.currentTarget) handleCloseUseItemModal();\n          }}\n        >\n          <div className=\"myitems-modal-container\">\n            <div className=\"myitems-modal-header\">\n              <h3>{useItemModal.item.displayInfo.name} ì‚¬ìš©í•˜ê¸°</h3>\n              <button\n                onClick={handleCloseUseItemModal}\n                className=\"myitems-close-button\"\n              >\n                âœ•\n              </button>\n            </div>\n            <div className=\"myitems-modal-body\">\n              <div className=\"form-group\">\n                <label htmlFor=\"useQuantity\">\n                  ì‚¬ìš©í•  ìˆ˜ëŸ‰: (ìµœëŒ€ {useItemModal.item.totalQuantity}ê°œ)\n                </label>\n                <div className=\"quantity-controls\">\n                  <button\n                    onClick={() =>\n                      setUseItemModal((prev) => ({\n                        ...prev,\n                        quantity: Math.max(1, prev.quantity - 1),\n                      }))\n                    }\n                    disabled={useItemModal.quantity <= 1}\n                  >\n                    -\n                  </button>\n                  <input\n                    id=\"useQuantity\"\n                    type=\"number\"\n                    min=\"1\"\n                    max={useItemModal.item.totalQuantity}\n                    value={useItemModal.quantity}\n                    onChange={(e) =>\n                      setUseItemModal((prev) => ({\n                        ...prev,\n                        quantity: Math.max(\n                          1,\n                          Math.min(\n                            prev.item.totalQuantity,\n                            parseInt(e.target.value) || 1,\n                          ),\n                        ),\n                      }))\n                    }\n                  />\n                  <button\n                    onClick={() =>\n                      setUseItemModal((prev) => ({\n                        ...prev,\n                        quantity: Math.min(\n                          prev.item.totalQuantity,\n                          prev.quantity + 1,\n                        ),\n                      }))\n                    }\n                    disabled={\n                      useItemModal.quantity >= useItemModal.item.totalQuantity\n                    }\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div className=\"myitems-modal-footer\">\n              <button\n                onClick={handleCloseUseItemModal}\n                className=\"button-secondary\"\n              >\n                ì·¨ì†Œ\n              </button>\n              <button onClick={handleConfirmUseItem} className=\"button-primary\">\n                ì‚¬ìš©í•˜ê¸°\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {giftModal.isOpen && itemToGift && (\n        <div\n          className=\"myitems-modal-overlay\"\n          onClick={(e) => {\n            if (e.target === e.currentTarget) handleCloseGiftModal();\n          }}\n        >\n          <div className=\"myitems-modal-container\">\n            <div className=\"myitems-modal-header\">\n              <h3>{itemToGift.displayInfo.name || \"ì•„ì´í…œ\"} ì„ ë¬¼í•˜ê¸°</h3>\n              <button\n                onClick={handleCloseGiftModal}\n                className=\"myitems-close-button\"\n              >\n                âœ•\n              </button>\n            </div>\n            <div className=\"myitems-modal-body\">\n              <div className=\"form-group\">\n                <label htmlFor=\"giftRecipient\">ì„ ë¬¼ ë°›ì„ ì¹œêµ¬:</label>\n                <select\n                  id=\"giftRecipient\"\n                  value={giftRecipientUid}\n                  onChange={(e) => setGiftRecipientUid(e.target.value)}\n                  className=\"form-select\"\n                >\n                  <option value=\"\" disabled>\n                    -- ì¹œêµ¬ë¥¼ ì„ íƒí•˜ì„¸ìš” --\n                  </option>\n                  {classmates.map((classmate) => (\n                    <option\n                      key={classmate.uid || classmate.id}\n                      value={classmate.uid || classmate.id}\n                    >\n                      {classmate.name} ({classmate.nickname})\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"giftQuantity\">\n                  ì„ ë¬¼í•  ìˆ˜ëŸ‰: (ìµœëŒ€ {itemToGift.totalQuantity}ê°œ)\n                </label>\n                <div className=\"quantity-controls\">\n                  <button\n                    onClick={() =>\n                      setGiftQuantity((prev) => Math.max(1, prev - 1))\n                    }\n                    disabled={giftQuantity <= 1}\n                  >\n                    -\n                  </button>\n                  <input\n                    id=\"giftQuantity\"\n                    type=\"number\"\n                    min=\"1\"\n                    max={itemToGift.totalQuantity}\n                    value={giftQuantity}\n                    onChange={(e) =>\n                      setGiftQuantity(\n                        Math.max(\n                          1,\n                          Math.min(\n                            itemToGift.totalQuantity,\n                            parseInt(e.target.value) || 1,\n                          ),\n                        ),\n                      )\n                    }\n                  />\n                  <button\n                    onClick={() =>\n                      setGiftQuantity((prev) =>\n                        Math.min(itemToGift.totalQuantity, prev + 1),\n                      )\n                    }\n                    disabled={giftQuantity >= itemToGift.totalQuantity}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div className=\"myitems-modal-footer\">\n              <button\n                onClick={handleCloseGiftModal}\n                className=\"button-secondary\"\n              >\n                ì·¨ì†Œ\n              </button>\n              <button\n                onClick={handleSendGift}\n                className=\"button-primary\"\n                disabled={isGifting || isSyncing}\n              >\n                {isGifting\n                  ? \"ì„ ë¬¼í•˜ëŠ” ì¤‘...\"\n                  : isSyncing\n                    ? \"ë™ê¸°í™” ì¤‘...\"\n                    : \"ì„ ë¬¼í•˜ê¸°\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {sellToMarketModal.isOpen && sellToMarketModal.item && (\n        <div\n          className=\"myitems-modal-overlay\"\n          onClick={(e) => {\n            if (e.target === e.currentTarget) handleCloseSellToMarketModal();\n          }}\n        >\n          <div className=\"myitems-modal-container\">\n            <div className=\"myitems-modal-header\">\n              <h3>\n                '{sellToMarketModal.item.displayInfo.name}' ì‹œì¥ì— íŒë§¤í•˜ê¸°\n              </h3>\n              <button\n                onClick={handleCloseSellToMarketModal}\n                className=\"myitems-close-button\"\n              >\n                âœ•\n              </button>\n            </div>\n            <div className=\"myitems-modal-body\">\n              <div className=\"item-preview-simple\">\n                <span className=\"item-icon-small\">\n                  {sellToMarketModal.item.displayInfo.icon}\n                </span>\n                <span>\n                  {sellToMarketModal.item.displayInfo.name} (ë³´ìœ :{\" \"}\n                  {sellToMarketModal.item.totalQuantity}ê°œ)\n                </span>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"sellToMarketQuantity\">\n                  íŒë§¤ ìˆ˜ëŸ‰ (ìµœëŒ€: {sellToMarketModal.item.totalQuantity}ê°œ):\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"sellToMarketQuantity\"\n                  value={sellToMarketModal.quantity}\n                  onChange={(e) =>\n                    handleSellToMarketQuantityChange(e.target.value)\n                  }\n                  min=\"1\"\n                  max={sellToMarketModal.item.totalQuantity}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"sellToMarketPrice\">ê°œë‹¹ íŒë§¤ ê°€ê²© (ì›):</label>\n                <input\n                  type=\"number\"\n                  id=\"sellToMarketPrice\"\n                  value={sellToMarketModal.price}\n                  onChange={(e) =>\n                    handleSellToMarketPriceChange(e.target.value)\n                  }\n                  min=\"1\"\n                />\n              </div>\n              <div className=\"total-price-preview\">\n                ì˜ˆìƒ íŒë§¤ ì´ì•¡:{\" \"}\n                <strong>\n                  {(\n                    sellToMarketModal.price * sellToMarketModal.quantity\n                  ).toLocaleString()}\n                  ì›\n                </strong>\n              </div>\n            </div>\n            <div className=\"myitems-modal-footer\">\n              <button\n                onClick={handleCloseSellToMarketModal}\n                className=\"button-secondary\"\n              >\n                ì·¨ì†Œ\n              </button>\n              <button\n                onClick={handleConfirmSellToMarket}\n                className=\"button-primary sell-button\"\n                disabled={isSyncing}\n              >\n                {isSyncing ? \"ë™ê¸°í™” ì¤‘...\" : \"íŒë§¤ ë“±ë¡\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default React.memo(MyItems);\n"],"names":["LoginWarning","_jsxs","className","children","_jsx","ITEM_DEFAULT_DURATION_MS","formatTimeLeft","usedTimestamp","timeLeft","arguments","length","undefined","Date","now","hours","Math","floor","minutes","seconds","formatted","concat","trim","QuantityBadge","_ref","quantity","badgeClass","MyItems","user","userDoc","users","classmates","useAuth","userItems","useItem","listItemForSale","refreshData","updateLocalUserItems","useItems","navigate","useNavigate","notification","setNotification","useState","showNotification","type","message","setTimeout","groupedUserItems","useMemo","itemsMap","Map","forEach","item","itemId","key","has","existingGroup","get","totalQuantity","sourceDocs","push","name","displayInfo","icon","description","set","price","durationMs","Array","from","values","sort","a","b","localeCompare","recentlyUsedItems","setRecentlyUsedItems","saved","localStorage","getItem","uid","JSON","parse","e","useEffect","setItem","stringify","hasRecentlyUsedItems","Object","keys","timer","setInterval","prevItems","itemsChanged","updatedItems","_objectSpread","_itemData$itemDetails","itemData","duration","itemDetails","clearInterval","useItemModal","setUseItemModal","isOpen","giftModal","setGiftModal","giftRecipientUid","setGiftRecipientUid","giftQuantity","setGiftQuantity","isGifting","setIsGifting","isSyncing","setIsSyncing","sellToMarketModal","setSellToMarketModal","handleCloseUseItemModal","handleCloseGiftModal","handleCloseSellToMarketModal","itemToGift","_Fragment","entries","map","_ref2","onClick","handleRemoveUsedItem","group","handleOpenUseItemModal","disabled","handleOpenGiftModal","target","currentTarget","htmlFor","prev","max","id","min","value","onChange","parseInt","async","quantityToUse","remainingToUse","sortedDocs","doc","amountToUse","result","success","Error","error","updated","classmate","nickname","logger","Number","recipient","find","c","recipientName","originalUserItems","log","ì•„ì´í…œ","ìˆ˜ëŸ‰","ë³´ë‚´ëŠ”ì‚¬ëŒ","ë°›ëŠ”ì‚¬ëŒ","ë°›ëŠ”ì‚¬ëŒUID","inventoryRef","collection","db","allInventoryDocs","getDocs","actualDocs","docs","data","size","itemIdGroups","docIds","actualSourceDocs","actualTotalQuantity","docId","docRef","firebaseDoc","docSnap","getDoc","exists","warn","ìºì‹œë¬¸ì„œìˆ˜","ì‹¤ì œë¬¸ì„œìˆ˜","ì‹¤ì œì´ìˆ˜ëŸ‰","recipientInventoryRef","recipientQuery","query","where","recipientQuerySnapshot","recipientExistingDocRef","empty","ref","ê¸°ì¡´ì•„ì´í…œì¡´ì¬","ë¬¸ì„œìˆ˜","updatedUserItems","remainingToDeduct","deductAmount","newQuantity","runTransaction","senderItemSnaps","senderDoc","senderItemRef","senderItemSnap","transaction","currentQuantity","snap","recipientItemRef","recipientCurrentQuantity","recipientSnap","ë¬¸ì„œID","í˜„ì¬ìˆ˜ëŸ‰","remainingToSend","processedAmount","amountFromThisDoc","newSenderQty","ê¸°ì¡´ìˆ˜ëŸ‰","ì°¨ê°ìˆ˜ëŸ‰","ë‚¨ì€ìˆ˜ëŸ‰","delete","update","ìš”ì²­","ì²˜ë¦¬ë¨","ì¶”ê°€ìˆ˜ëŸ‰","ìµœì¢…ìˆ˜ëŸ‰","updatedAt","serverTimestamp","newRecipientItemRef","receivedAt","then","syncError","_sellToMarketModal$it","maxQty","newQty","handleSellToMarketQuantityChange","newPrice","handleSellToMarketPriceChange","toLocaleString","ìš”ì²­ìˆ˜ëŸ‰","ì‹¤ì œë³´ìœ ","remainingToSell","itemsToProcess","amountToSell","updateFields","itemRef","updateDoc","assign","window","confirm","includes","catch","React"],"ignoreList":[],"sourceRoot":""}