{"version":3,"file":"static/js/433.914d9899.chunk.js","mappings":"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","sources":["components/PageWrapper.js","components/TaskItem.js","utils/jobTaskRewards.js","components/JobList.js","components/CommonTaskList.js","services/optimizedFirebaseService.js","pages/admin/SystemMonitoring.js","components/modals/AdminSettingsModal.js","hooks/useOptimizedAdminData.js","pages/dashboard/Dashboard.js"],"sourcesContent":["// src/components/PageWrapper.js\r\n//    -     \r\n\r\nimport React from 'react';\r\nimport { Loader2, CheckSquare } from 'lucide-react';\r\nimport { AlchanLoadingScreen } from './ui/Skeleton';\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const PageContainer = ({ children, className = '' }) => (\r\n  <div className={`min-h-full w-full bg-[#0a0a12] ${className}`}>\r\n    <div className=\"w-full max-w-none px-2 md:px-3 lg:px-4 py-1 md:py-2\">\r\n      {children}\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const PageHeader = ({\r\n  title,\r\n  subtitle,\r\n  icon: Icon,\r\n  badge,\r\n  action,\r\n  backButton,\r\n  className = '',\r\n}) => (\r\n  <section className={`bg-[#14142380] backdrop-blur-sm rounded-lg px-3 py-1.5 md:px-4 md:py-2 shadow-lg border border-cyan-900/30 flex flex-col md:flex-row md:items-center justify-between gap-1.5 md:gap-2 mb-2 md:mb-3 ${className}`}>\r\n    <div className=\"flex items-center gap-3\">\r\n      {backButton}\r\n      {Icon && (\r\n        <div className=\"w-9 h-9 md:w-10 md:h-10 bg-cyan-900/30 rounded-lg flex items-center justify-center text-cyan-400 shrink-0 shadow-sm border border-cyan-500/30\">\r\n          <Icon className=\"w-5 h-5\" />\r\n        </div>\r\n      )}\r\n      <div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <h2 className=\"text-lg md:text-xl font-bold text-white tracking-tight\">\r\n            {title}\r\n          </h2>\r\n          {badge}\r\n        </div>\r\n        {subtitle && (\r\n          <p className=\"text-xs md:text-sm text-slate-400 font-medium\">\r\n            {subtitle}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n    {action && (\r\n      <div className=\"flex flex-wrap items-center gap-2 md:gap-3 md:ml-auto\">\r\n        {action}\r\n      </div>\r\n    )}\r\n  </section>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const SectionTitle = ({ children, icon: Icon, action, className = '' }) => (\r\n  <div className={`flex items-center justify-between px-1 mb-4 ${className}`}>\r\n    <h3 className=\"text-lg md:text-xl font-bold text-white flex items-center gap-2\">\r\n      {Icon && <Icon className=\"w-5 h-5 text-cyan-400\" />}\r\n      {children}\r\n    </h3>\r\n    {action}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   - null (HTML  )\r\n// ============================================\r\nexport const LoadingState = ({ message = '  ...' }) => null;\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const ErrorState = ({ title = ' ', message, onRetry }) => (\r\n  <div className=\"flex flex-col items-center justify-center py-16 text-center\">\r\n    <div className=\"w-16 h-16 bg-red-900/30 rounded-full flex items-center justify-center mb-4\">\r\n      <span className=\"text-3xl text-red-400\">!</span>\r\n    </div>\r\n    <h3 className=\"text-lg font-semibold text-white mb-2\">{title}</h3>\r\n    {message && <p className=\"text-slate-400 mb-4 max-w-md\">{message}</p>}\r\n    {onRetry && (\r\n      <button\r\n        onClick={onRetry}\r\n        className=\"px-5 py-2.5 bg-cyan-500 hover:bg-cyan-400 text-slate-900 rounded-xl font-bold text-sm transition-all shadow-lg shadow-cyan-500/30\"\r\n      >\r\n         \r\n      </button>\r\n    )}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const EmptyState = ({ icon: Icon, title, description, action }) => (\r\n  <div className=\"flex flex-col items-center justify-center py-16 text-center\">\r\n    {Icon && (\r\n      <div className=\"w-16 h-16 rounded-full bg-[#14142380] shadow-lg flex items-center justify-center mb-4 border border-cyan-900/30\">\r\n        <Icon className=\"w-8 h-8 text-slate-400\" />\r\n      </div>\r\n    )}\r\n    {title && (\r\n      <h3 className=\"text-lg font-bold text-slate-300 mb-2\">{title}</h3>\r\n    )}\r\n    {description && (\r\n      <p className=\"text-slate-500 font-medium mb-6 max-w-md\">{description}</p>\r\n    )}\r\n    {action}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const CardGrid = ({ children, cols = 3, className = '' }) => {\r\n  const colsClass = {\r\n    1: 'grid-cols-1',\r\n    2: 'grid-cols-1 md:grid-cols-2',\r\n    3: 'grid-cols-1 md:grid-cols-2 xl:grid-cols-3',\r\n    4: 'grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4',\r\n  };\r\n\r\n  return (\r\n    <div className={`grid ${colsClass[cols] || colsClass[3]} gap-6 ${className}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const StatCard = ({\r\n  icon: Icon,\r\n  label,\r\n  value,\r\n  subValue,\r\n  trend,\r\n  iconBg = 'bg-cyan-900/30',\r\n  iconColor = 'text-cyan-400',\r\n  onClick,\r\n}) => (\r\n  <div\r\n    className={`bg-[#14142380] backdrop-blur-sm rounded-2xl p-6 border border-cyan-900/30 shadow-lg hover:shadow-xl hover:shadow-cyan-500/10 transition-all duration-300 ${onClick ? 'cursor-pointer' : ''\r\n      }`}\r\n    onClick={onClick}\r\n  >\r\n    <div className=\"flex items-start justify-between\">\r\n      <div className={`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${iconBg}`}>\r\n        <Icon className={`w-6 h-6 ${iconColor}`} />\r\n      </div>\r\n      {trend && (\r\n        <span className={`text-xs font-bold px-2.5 py-1 rounded-lg ${trend.type === 'up' ? 'bg-emerald-900/30 text-emerald-400' : 'bg-red-900/30 text-red-400'\r\n          }`}>\r\n          {trend.type === 'up' ? '+' : '-'}{trend.value}%\r\n        </span>\r\n      )}\r\n    </div>\r\n    <div className=\"mt-4\">\r\n      <p className=\"text-sm text-slate-400 font-medium\">{label}</p>\r\n      <p className=\"text-2xl font-bold text-white mt-1 tracking-tight\">{value}</p>\r\n      {subValue && (\r\n        <p className=\"text-sm text-slate-500 mt-1\">{subValue}</p>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   - \r\n// ============================================\r\nexport const AssetCard = ({ icon: Icon, label, value, color, iconColor }) => (\r\n  <div className={`hidden lg:flex items-center gap-3 px-3 py-1.5 rounded-xl ${color} bg-opacity-50 border border-transparent`}>\r\n    <div className={`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${iconColor}`}>\r\n      <Icon className=\"w-5 h-5\" />\r\n    </div>\r\n    <div>\r\n      <p className=\"text-[10px] font-bold opacity-70 mb-0 leading-tight\">{label}</p>\r\n      <p className=\"text-lg font-black tracking-tight leading-tight\">{value}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const TabGroup = ({ tabs, activeTab, onChange, className = '' }) => (\r\n  <div className={`flex gap-1 p-1 bg-[#0a0a12] rounded-xl border border-cyan-900/30 ${className}`}>\r\n    {tabs.map((tab) => (\r\n      <button\r\n        key={tab.id}\r\n        onClick={() => onChange(tab.id)}\r\n        className={`flex-1 px-4 py-2.5 text-sm font-bold rounded-lg transition-all duration-200 ${activeTab === tab.id\r\n          ? 'bg-cyan-500 text-slate-900 shadow-lg shadow-cyan-500/30'\r\n          : 'text-slate-400 hover:text-white hover:bg-white/5'\r\n          }`}\r\n      >\r\n        {tab.icon && <tab.icon className=\"w-4 h-4 mr-2 inline-block\" />}\r\n        {tab.label}\r\n        {tab.count !== undefined && (\r\n          <span className={`ml-2 px-1.5 py-0.5 text-xs rounded-full ${activeTab === tab.id\r\n            ? 'bg-slate-900 text-cyan-400'\r\n            : 'bg-slate-800 text-slate-400'\r\n            }`}>\r\n            {tab.count}\r\n          </span>\r\n        )}\r\n      </button>\r\n    ))}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const ActionButton = ({\r\n  children,\r\n  icon: Icon,\r\n  variant = 'primary',\r\n  size = 'md',\r\n  loading = false,\r\n  disabled = false,\r\n  onClick,\r\n  className = '',\r\n  title,\r\n}) => {\r\n  const variants = {\r\n    primary: 'bg-cyan-500 text-slate-900 hover:bg-cyan-400 ring-1 ring-cyan-400 shadow-cyan-500/30',\r\n    secondary: 'bg-slate-800 hover:bg-slate-700 text-slate-200',\r\n    outline: 'bg-transparent text-slate-300 ring-1 ring-slate-600 hover:bg-slate-800 hover:ring-slate-500 shadow-sm',\r\n    'outline-green': 'bg-transparent text-emerald-400 ring-1 ring-emerald-600 hover:bg-emerald-900/30 hover:ring-emerald-500 shadow-sm',\r\n    'outline-red': 'bg-transparent text-rose-400 ring-1 ring-rose-600 hover:bg-rose-900/30 hover:ring-rose-500 shadow-sm',\r\n    danger: 'bg-transparent text-rose-400 ring-1 ring-rose-600 hover:bg-rose-900/30 hover:ring-rose-500 shadow-sm',\r\n    success: 'bg-transparent text-emerald-400 ring-1 ring-emerald-600 hover:bg-emerald-900/30 hover:ring-emerald-500 shadow-sm',\r\n    ghost: 'text-slate-400 hover:bg-slate-800 hover:text-white',\r\n    indigo: 'bg-purple-900/30 text-purple-400 hover:bg-purple-900/50',\r\n  };\r\n\r\n  const sizes = {\r\n    sm: 'px-4 py-2 text-sm',\r\n    md: 'px-5 py-2.5 text-sm',\r\n    lg: 'px-6 py-3 text-base',\r\n  };\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      disabled={disabled || loading}\r\n      title={title}\r\n      className={`inline-flex items-center justify-center gap-2 font-bold rounded-xl transition-all duration-200 active:scale-95 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${variants[variant]} ${sizes[size]} ${className}`}\r\n    >\r\n      {loading ? (\r\n        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n      ) : Icon ? (\r\n        <Icon className=\"w-4 h-4\" />\r\n      ) : null}\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const InfoBadge = ({ children, variant = 'default', className = '' }) => {\r\n  const variants = {\r\n    default: 'bg-slate-100 text-slate-700',\r\n    primary: 'bg-indigo-100 text-indigo-700',\r\n    success: 'bg-emerald-100 text-emerald-700',\r\n    warning: 'bg-amber-100 text-amber-700',\r\n    danger: 'bg-red-100 text-red-700',\r\n  };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center px-2.5 py-1 text-xs font-bold rounded-lg ${variants[variant]} ${className}`}>\r\n      {children}\r\n    </span>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const AlertBanner = ({ children, variant = 'info', icon: Icon, onClose, className = '' }) => {\r\n  const variants = {\r\n    info: 'bg-blue-50 border-blue-200 text-blue-800',\r\n    success: 'bg-emerald-50 border-emerald-200 text-emerald-800',\r\n    warning: 'bg-amber-50 border-amber-200 text-amber-800',\r\n    danger: 'bg-red-50 border-red-200 text-red-800',\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-start gap-3 p-4 rounded-xl border ${variants[variant]} ${className}`}>\r\n      {Icon && <Icon className=\"w-5 h-5 flex-shrink-0 mt-0.5\" />}\r\n      <div className=\"flex-1 text-sm font-medium\">{children}</div>\r\n      {onClose && (\r\n        <button onClick={onClose} className=\"text-current opacity-50 hover:opacity-100\">\r\n          \r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//   /  \r\n// ============================================\r\nexport const ListItem = ({ children, icon: Icon, onClick, active, className = '' }) => (\r\n  <div\r\n    className={`flex items-center gap-3 p-4 rounded-xl transition-all ${onClick ? 'cursor-pointer' : ''\r\n      } ${active\r\n        ? 'bg-cyan-900/30 border border-cyan-500/50'\r\n        : 'bg-[#14142380] border border-cyan-900/20 hover:border-cyan-500/30 hover:shadow-lg hover:shadow-cyan-500/10'\r\n      } ${className}`}\r\n    onClick={onClick}\r\n  >\r\n    {Icon && (\r\n      <div className={`p-2 rounded-lg ${active ? 'bg-cyan-500' : 'bg-slate-800'}`}>\r\n        <Icon className={`w-5 h-5 ${active ? 'text-slate-900' : 'text-slate-400'}`} />\r\n      </div>\r\n    )}\r\n    <div className=\"flex-1 min-w-0\">{children}</div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const TaskItem = ({ task, onComplete, onEdit, onDelete, showActions = true }) => (\r\n  <div className=\"group flex items-center justify-between p-3 rounded-xl bg-[#0a0a12] border border-cyan-900/30 hover:border-cyan-500/50 hover:bg-slate-900/50 hover:shadow-lg hover:shadow-cyan-500/10 transition-all\">\r\n    <div className=\"flex items-center gap-3 min-w-0\">\r\n      <div\r\n        onClick={onComplete}\r\n        className=\"w-5 h-5 rounded md:rounded-md border-2 border-slate-600 group-hover:border-cyan-500 cursor-pointer transition-colors flex items-center justify-center shrink-0\"\r\n      >\r\n        {/*   */}\r\n      </div>\r\n      <span className=\"font-bold text-slate-300 text-base truncate group-hover:text-cyan-400 transition-colors\">\r\n        {task.name}\r\n      </span>\r\n    </div>\r\n\r\n    <div className=\"flex items-center gap-2 shrink-0\">\r\n      {task.rewardType === \"random\" && (\r\n        <span className=\"px-2.5 py-1 rounded-lg bg-amber-900/30 text-amber-400 text-xs font-bold flex items-center gap-1\">\r\n           \r\n        </span>\r\n      )}\r\n      {showActions && (\r\n        <div className=\"opacity-0 group-hover:opacity-100 flex gap-1 transition-opacity\">\r\n          {onEdit && (\r\n            <button\r\n              onClick={onEdit}\r\n              className=\"p-1.5 text-slate-500 hover:text-cyan-400 rounded hover:bg-cyan-900/30\"\r\n            >\r\n              \r\n            </button>\r\n          )}\r\n          {onDelete && (\r\n            <button\r\n              onClick={onDelete}\r\n              className=\"p-1.5 text-slate-500 hover:text-red-400 rounded hover:bg-red-900/30\"\r\n            >\r\n              \r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//   -  \r\n// ============================================\r\nexport const JobCard = ({ job, children, onEdit, onDelete, onAddTask }) => {\r\n  const gradients = {\r\n    indigo: 'from-indigo-500 to-purple-600',\r\n    blue: 'from-blue-500 to-cyan-500',\r\n    emerald: 'from-emerald-500 to-teal-600',\r\n    orange: 'from-orange-400 to-red-500',\r\n    pink: 'from-pink-500 to-rose-500',\r\n    violet: 'from-violet-500 to-purple-600',\r\n  };\r\n\r\n  const gradient = job.color || gradients.indigo;\r\n\r\n  return (\r\n    <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl hover:shadow-cyan-500/10 transition-all duration-300 border border-cyan-900/30 overflow-hidden flex flex-col\">\r\n      {/*   */}\r\n      <div className={`h-16 px-6 flex items-center justify-between bg-gradient-to-r ${gradient}`}>\r\n        <h4 className=\"text-white font-bold text-lg tracking-wide flex items-center gap-2\">\r\n           {job.title}\r\n        </h4>\r\n        {(onEdit || onDelete) && (\r\n          <div className=\"flex gap-2\">\r\n            {onEdit && (\r\n              <button\r\n                onClick={onEdit}\r\n                className=\"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors\"\r\n              >\r\n                \r\n              </button>\r\n            )}\r\n            {onDelete && (\r\n              <button\r\n                onClick={onDelete}\r\n                className=\"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 text-white transition-colors\"\r\n              >\r\n                \r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/*   */}\r\n      <div className=\"p-6 space-y-4 flex-1\">\r\n        {children}\r\n      </div>\r\n\r\n      {/*   */}\r\n      {onAddTask && (\r\n        <div className=\"px-6 pb-6 pt-2\">\r\n          <button\r\n            onClick={onAddTask}\r\n            className=\"w-full py-3 rounded-xl bg-slate-900/50 text-slate-400 text-sm font-bold border border-cyan-900/30 hover:bg-cyan-900/30 hover:text-cyan-400 hover:border-cyan-500/50 transition-colors flex items-center justify-center gap-2\"\r\n          >\r\n                \r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//   \r\n// ============================================\r\nexport const ContentSection = ({ children, className = '' }) => (\r\n  <div className={`bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 p-6 ${className}`}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\n// ============================================\r\n//  \r\n// ============================================\r\nexport const MoneyDisplay = ({ amount, size = 'md', showSign = false, className = '' }) => {\r\n  const formatted = Math.abs(amount || 0).toLocaleString('ko-KR');\r\n  const isNegative = amount < 0;\r\n  const isPositive = amount > 0;\r\n\r\n  const sizes = {\r\n    sm: 'text-sm',\r\n    md: 'text-base',\r\n    lg: 'text-xl',\r\n    xl: 'text-2xl',\r\n  };\r\n\r\n  return (\r\n    <span className={`font-bold tabular-nums ${sizes[size]} ${isNegative ? 'text-red-500' : isPositive && showSign ? 'text-emerald-500' : 'text-slate-900'\r\n      } ${className}`}>\r\n      {showSign && isPositive && '+'}\r\n      {isNegative && '-'}\r\n      {formatted}\r\n    </span>\r\n  );\r\n};\r\n\r\n// ============================================\r\n//   \r\n// ============================================\r\nexport const AddCard = ({ onClick, label = ' ' }) => (\r\n  <button\r\n    onClick={onClick}\r\n    className=\"group relative flex flex-col items-center justify-center h-full min-h-[260px] rounded-2xl border-2 border-dashed border-cyan-900/50 bg-slate-900/30 hover:bg-cyan-900/20 hover:border-cyan-500/50 transition-all\"\r\n  >\r\n    <div className=\"w-16 h-16 rounded-full bg-slate-800 shadow-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform\">\r\n      <span className=\"text-3xl text-slate-500 group-hover:text-cyan-400\"></span>\r\n    </div>\r\n    <span className=\"text-slate-500 font-bold group-hover:text-cyan-400 text-sm\">{label}</span>\r\n  </button>\r\n);\r\n\r\nexport default {\r\n  PageContainer,\r\n  PageHeader,\r\n  SectionTitle,\r\n  LoadingState,\r\n  ErrorState,\r\n  EmptyState,\r\n  CardGrid,\r\n  StatCard,\r\n  AssetCard,\r\n  TabGroup,\r\n  ActionButton,\r\n  InfoBadge,\r\n  AlertBanner,\r\n  ListItem,\r\n  TaskItem,\r\n  JobCard,\r\n  ContentSection,\r\n  MoneyDisplay,\r\n  AddCard,\r\n};\r\n","// src/TaskItem.js\r\nimport React, { useState, useEffect, memo, useCallback } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { generateJobTaskReward } from \"../utils/jobTaskRewards\";\r\n\r\nimport { logger } from \"../utils/logger\";\r\nconst TaskItem = memo(function TaskItem({\r\n  task,\r\n  onEarnCoupon,\r\n  onRequestApproval,\r\n  isJobTask,\r\n  isAdmin,\r\n  onEditTask,\r\n  onDeleteTask,\r\n  taskId, // taskId prop \r\n  jobId = null, // jobId prop  (  )\r\n}) {\r\n  const [showBubble, setShowBubble] = useState(false);\r\n  const [bubbleText, setBubbleText] = useState(\"\");\r\n  const [showCardModal, setShowCardModal] = useState(false);\r\n  const [rewardData, setRewardData] = useState(null);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [isFlipping, setIsFlipping] = useState(false);\r\n\r\n  const handleInternalClick = () => {\r\n    logger.log(\"[TaskItem] handleInternalClick :\", { taskName: task?.name, isJobTask, taskId, jobId });\r\n\r\n    //  \r\n    if (\r\n      !task ||\r\n      typeof task.clicks !== \"number\" ||\r\n      typeof task.maxClicks !== \"number\"\r\n    ) {\r\n      logger.error(\"Invalid task prop:\", task);\r\n      return;\r\n    }\r\n    if (task.maxClicks > 0 && task.clicks >= task.maxClicks) {\r\n      return;\r\n    }\r\n\r\n    //        \r\n    logger.log(\"[TaskItem]   \");\r\n    const rewards = generateJobTaskReward();\r\n    setRewardData(rewards);\r\n    setSelectedCard(null);\r\n    setIsFlipping(false);\r\n    setShowCardModal(true);\r\n  };\r\n\r\n  const handleCardSelect = (cardType) => {\r\n    if (isFlipping || selectedCard) return;\r\n\r\n    logger.log(\"[TaskItem]  :\", { cardType, taskId, jobId, isJobTask, requiresApproval: task.requiresApproval });\r\n\r\n    setSelectedCard(cardType);\r\n    setIsFlipping(true);\r\n\r\n    // 800ms   \r\n    setTimeout(() => {\r\n      const reward = cardType === \"cash\" ? rewardData.cash : rewardData.coupon;\r\n      const rewardText = cardType === \"cash\" ? `${reward.toLocaleString()}` : `${reward}`;\r\n\r\n      //    : onRequestApproval  ( )\r\n      if (task.requiresApproval && typeof onRequestApproval === \"function\") {\r\n        logger.log(\"[TaskItem] onRequestApproval :\", { taskId, jobId, isJobTask, cardType, reward });\r\n        onRequestApproval(taskId || task.id, jobId, isJobTask, cardType, reward);\r\n        setShowCardModal(false);\r\n        setBubbleText(\"  !     .\");\r\n        setShowBubble(true);\r\n        setIsFlipping(false);\r\n        return;\r\n      }\r\n\r\n      logger.log(\"[TaskItem] onEarnCoupon  :\", { taskId, jobId, isJobTask, cardType, reward });\r\n\r\n      // onEarnCoupon  - taskId, jobId, isJobTask, cardType, reward \r\n      if (typeof onEarnCoupon === \"function\") {\r\n        onEarnCoupon(taskId || task.id, jobId, isJobTask, cardType, reward);\r\n      }\r\n\r\n      setShowCardModal(false);\r\n      setBubbleText(`${cardType === \"cash\" ? \" \" : \" \"} ${rewardText} !`);\r\n      setShowBubble(true);\r\n      setIsFlipping(false);\r\n    }, 800);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n    if (showBubble) {\r\n      timer = setTimeout(() => {\r\n        setShowBubble(false);\r\n        setBubbleText(\"\");\r\n      }, 2000);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [showBubble]);\r\n\r\n  const isCompleted =\r\n    task && task.maxClicks > 0 && task.clicks >= task.maxClicks;\r\n\r\n  if (!task) return null;\r\n\r\n  const isMobile = window.innerWidth <= 768;\r\n\r\n  const taskItemStyle = {\r\n    backgroundColor: isCompleted ? \"rgba(20, 20, 35, 0.4)\" : \"rgba(30, 30, 50, 0.6)\",\r\n    border: `1px solid ${isCompleted ? \"rgba(100, 116, 139, 0.1)\" : \"rgba(0, 255, 242, 0.15)\"}`,\r\n    opacity: isCompleted ? 0.6 : 1,\r\n    padding: isMobile ? \"8px 10px\" : \"12px\",\r\n    boxShadow: isCompleted ? \"none\" : \"0 4px 12px rgba(0, 0, 0, 0.1)\",\r\n  };\r\n\r\n  const taskInfoStyle = {\r\n    gap: isMobile ? \"6px\" : \"10px\",\r\n  };\r\n\r\n  const taskNameStyle = {\r\n    color: isCompleted ? \"#64748b\" : \"#e8e8ff\",\r\n    fontSize: isMobile ? \"12px\" : \"16px\",\r\n    lineHeight: \"1.4\",\r\n  };\r\n\r\n  const taskActionsStyle = {\r\n    gap: isMobile ? \"4px\" : \"8px\",\r\n  };\r\n\r\n  const couponStyle = {\r\n    backgroundColor: isJobTask ? \"rgba(79, 70, 229, 0.3)\" : \"rgba(16, 185, 129, 0.3)\",\r\n    color: isJobTask ? \"#818cf8\" : \"#34d399\",\r\n    border: isJobTask ? \"1px solid rgba(99, 102, 241, 0.5)\" : \"1px solid rgba(52, 211, 153, 0.5)\",\r\n    padding: isMobile ? \"3px 6px\" : \"4px 10px\",\r\n    fontSize: isMobile ? \"10px\" : \"13px\",\r\n  };\r\n\r\n  const renderCardModal = () => {\r\n    if (!showCardModal || !rewardData) return null;\r\n\r\n    const mobileModalContentStyle = {\r\n      ...modalContentStyle,\r\n      padding: isMobile ? \"20px\" : \"40px\",\r\n    };\r\n\r\n    const mobileModalTitleStyle = {\r\n      ...modalTitleStyle,\r\n      fontSize: isMobile ? \"20px\" : \"28px\",\r\n    };\r\n\r\n    const mobileModalSubtitleStyle = {\r\n      ...modalSubtitleStyle,\r\n      fontSize: isMobile ? \"13px\" : \"16px\",\r\n    };\r\n\r\n    const mobileCardsContainerStyle = {\r\n      ...cardsContainerStyle,\r\n      gap: isMobile ? \"15px\" : \"20px\",\r\n    };\r\n\r\n    const mobileCardStyle = {\r\n      ...cardStyle,\r\n      width: isMobile ? \"140px\" : \"200px\",\r\n      height: isMobile ? \"200px\" : \"280px\",\r\n    };\r\n\r\n    const mobileCardIconStyle = {\r\n      ...cardIconStyle,\r\n      fontSize: isMobile ? \"50px\" : \"80px\",\r\n      marginBottom: isMobile ? \"10px\" : \"20px\",\r\n    };\r\n\r\n    const mobileCardTextStyle = {\r\n      ...cardTextStyle,\r\n      fontSize: isMobile ? \"18px\" : \"24px\",\r\n    };\r\n\r\n    const mobileRewardAmountStyle = {\r\n      ...rewardAmountStyle,\r\n      fontSize: isMobile ? \"24px\" : \"36px\",\r\n    };\r\n\r\n    const mobileRewardLabelStyle = {\r\n      ...rewardLabelStyle,\r\n      fontSize: isMobile ? \"14px\" : \"18px\",\r\n    };\r\n\r\n    return createPortal(\r\n      <div className=\"fixed inset-0 flex items-center justify-center z-[10000]\" style={modalOverlayStyle} onClick={() => setShowCardModal(false)}>\r\n        <div className=\"rounded-[20px] max-w-[600px]\" style={{...mobileModalContentStyle, width: isMobile ? \"95%\" : \"90%\"}} onClick={(e) => e.stopPropagation()}>\r\n          <h3 className=\"text-center font-bold\" style={{...mobileModalTitleStyle, marginBottom: isMobile ? \"8px\" : \"10px\"}}>  </h3>\r\n          <p className=\"text-center\" style={{...mobileModalSubtitleStyle, marginBottom: isMobile ? \"20px\" : \"30px\"}}>     !</p>\r\n\r\n          <div className=\"flex justify-center flex-wrap\" style={mobileCardsContainerStyle}>\r\n            {/*   */}\r\n            <div\r\n              className=\"cursor-pointer\"\r\n              style={{\r\n                ...mobileCardStyle,\r\n                ...(selectedCard === \"cash\" && selectedCardStyle),\r\n              }}\r\n              onClick={() => !selectedCard && handleCardSelect(\"cash\")}\r\n            >\r\n              <div className=\"relative w-full h-full\" style={{\r\n                ...cardInnerStyle,\r\n                transform: selectedCard === \"cash\" ? \"rotateY(180deg)\" : \"rotateY(0deg)\",\r\n              }}>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{...cardFrontStyle, backfaceVisibility: \"hidden\"}}>\r\n                  <div style={mobileCardIconStyle}></div>\r\n                  <div className=\"text-2xl font-bold\" style={mobileCardTextStyle}></div>\r\n                </div>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{ ...cardBackStyle, ...(selectedCard === \"cash\" && cardBackVisibleStyle), backfaceVisibility: \"hidden\" }}>\r\n                  <div className=\"text-4xl font-bold mb-2.5\" style={mobileRewardAmountStyle}>{rewardData.cash.toLocaleString()}</div>\r\n                  <div className=\"text-lg\" style={mobileRewardLabelStyle}>  !</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*   */}\r\n            <div\r\n              className=\"cursor-pointer\"\r\n              style={{\r\n                ...mobileCardStyle,\r\n                ...(selectedCard === \"coupon\" && selectedCardStyle),\r\n              }}\r\n              onClick={() => !selectedCard && handleCardSelect(\"coupon\")}\r\n            >\r\n              <div className=\"relative w-full h-full\" style={{\r\n                ...cardInnerStyle,\r\n                transform: selectedCard === \"coupon\" ? \"rotateY(180deg)\" : \"rotateY(0deg)\",\r\n              }}>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{...cardFrontStyle, backfaceVisibility: \"hidden\"}}>\r\n                  <div style={mobileCardIconStyle}></div>\r\n                  <div className=\"text-2xl font-bold\" style={mobileCardTextStyle}></div>\r\n                </div>\r\n                <div className=\"absolute w-full h-full rounded-2xl flex flex-col items-center justify-center\" style={{ ...cardBackStyle, ...(selectedCard === \"coupon\" && cardBackVisibleStyle), backfaceVisibility: \"hidden\" }}>\r\n                  <div className=\"text-4xl font-bold mb-2.5\" style={mobileRewardAmountStyle}>{rewardData.coupon}</div>\r\n                  <div className=\"text-lg\" style={mobileRewardLabelStyle}>  !</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      document.body\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"flex flex-row items-center justify-between relative rounded-lg mb-2 transition-all\"\r\n        style={{\r\n          ...taskItemStyle,\r\n          cursor: isCompleted ? \"default\" : \"pointer\",\r\n          gap: isMobile ? \"6px\" : \"8px\",\r\n        }}\r\n        onClick={isCompleted ? null : handleInternalClick}\r\n      >\r\n        <div className=\"flex items-center flex-grow min-w-0 overflow-hidden\" style={taskInfoStyle}>\r\n          <span className=\"font-semibold overflow-hidden text-ellipsis whitespace-nowrap flex-1 min-w-0\" style={taskNameStyle} title={task.name}>\r\n            {task.name}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center flex-shrink-0\" style={taskActionsStyle}>\r\n          {/*  /  */}\r\n          <span className=\"rounded-lg font-medium whitespace-nowrap\" style={task.requiresApproval ? approvalBadgeStyle : couponStyle}>\r\n            {task.requiresApproval ? \" \" : \" \"}\r\n          </span>\r\n\r\n          {isAdmin && (\r\n            <>\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onEditTask();\r\n                }}\r\n                className=\"cursor-pointer p-1 flex items-center justify-center\"\r\n                style={adminButtonStyles}\r\n                aria-label=\" \"\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onDeleteTask();\r\n                }}\r\n                className=\"cursor-pointer p-1 flex items-center justify-center\"\r\n                style={adminButtonStyles}\r\n                aria-label=\" \"\r\n              >\r\n                \r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {showBubble && (\r\n          <div className=\"absolute left-1/2 -translate-x-1/2 rounded-md font-medium whitespace-nowrap z-10 pointer-events-none\" style={bubbleStyle}>\r\n            {bubbleText}\r\n            <div className=\"absolute\" style={bubbleTailStyle}></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {renderCardModal()}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default TaskItem;\r\n\r\nconst approvalBadgeStyle = {\r\n  backgroundColor: \"rgba(245, 158, 11, 0.3)\",\r\n  color: \"#fbbf24\",\r\n  border: \"1px solid rgba(245, 158, 11, 0.5)\",\r\n  padding: \"4px 10px\",\r\n  fontSize: \"13px\",\r\n};\r\n\r\nconst adminButtonStyles = {\r\n  background: \"none\",\r\n  border: \"none\",\r\n  fontSize: \"16px\",\r\n  color: \"#94a3b8\",\r\n};\r\n\r\nconst bubbleStyle = {\r\n  bottom: \"calc(100% + 8px)\",\r\n  backgroundColor: \"rgba(0, 0, 0, 0.75)\",\r\n  color: \"white\",\r\n  padding: \"5px 10px\",\r\n  fontSize: \"12px\",\r\n  boxShadow: \"0 2px 5px rgba(0,0,0,0.2)\",\r\n};\r\n\r\nconst bubbleTailStyle = {\r\n  content: '\"\"',\r\n  top: \"100%\",\r\n  left: \"50%\",\r\n  marginLeft: \"-5px\",\r\n  borderWidth: \"5px\",\r\n  borderStyle: \"solid\",\r\n  borderColor: \"rgba(0, 0, 0, 0.75) transparent transparent transparent\",\r\n};\r\n\r\n//   \r\nconst modalOverlayStyle = {\r\n  backgroundColor: \"rgba(0, 0, 0, 0.7)\",\r\n  animation: \"fadeIn 0.3s ease\",\r\n};\r\n\r\nconst modalContentStyle = {\r\n  backgroundColor: \"#1a1a2e\",\r\n  border: \"1px solid rgba(0, 255, 242, 0.3)\",\r\n  boxShadow: \"0 10px 40px rgba(0, 0, 0, 0.3)\",\r\n  animation: \"zoomIn 0.3s ease\",\r\n};\r\n\r\nconst modalTitleStyle = {\r\n  color: \"#ffffff\",\r\n  textShadow: \"0 0 10px rgba(0, 255, 242, 0.5)\",\r\n};\r\n\r\nconst modalSubtitleStyle = {\r\n  color: \"#a0a0c0\",\r\n};\r\n\r\nconst cardsContainerStyle = {\r\n  gap: \"20px\",\r\n};\r\n\r\nconst cardStyle = {\r\n  perspective: \"1000px\",\r\n  transition: \"transform 0.2s ease\",\r\n};\r\n\r\nconst selectedCardStyle = {\r\n  transform: \"scale(1.05)\",\r\n};\r\n\r\nconst cardInnerStyle = {\r\n  transition: \"transform 0.8s\",\r\n  transformStyle: \"preserve-3d\",\r\n};\r\n\r\nconst cardFrontStyle = {\r\n  background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\r\n  boxShadow: \"0 8px 16px rgba(0, 0, 0, 0.2)\",\r\n  border: \"3px solid #fff\",\r\n};\r\n\r\nconst cardBackStyle = {\r\n  backgroundColor: \"#fff\",\r\n  boxShadow: \"0 8px 16px rgba(0, 0, 0, 0.2)\",\r\n  border: \"3px solid #667eea\",\r\n  transform: \"rotateY(180deg)\",\r\n  opacity: 0,\r\n  transition: \"opacity 0.3s ease 0.4s\",\r\n};\r\n\r\nconst cardBackVisibleStyle = {\r\n  opacity: 1,\r\n};\r\n\r\nconst cardIconStyle = {\r\n  fontSize: \"80px\",\r\n  marginBottom: \"20px\",\r\n};\r\n\r\nconst cardTextStyle = {\r\n  color: \"white\",\r\n};\r\n\r\nconst rewardAmountStyle = {\r\n  color: \"#667eea\",\r\n};\r\n\r\nconst rewardLabelStyle = {\r\n  color: \"#666\",\r\n};","//     \r\n\r\n//      ( )\r\nexport const generateJobTaskReward = () => {\r\n  //   (100 ~ 50,000) -    \r\n  const cashRewards = [\r\n    { amount: 50000, weight: 5 },     // 5:  \r\n    { amount: 30000, weight: 10 },    // 3:  \r\n    { amount: 20000, weight: 15 },    // 2:  \r\n    { amount: 10000, weight: 20 },    // 1:  \r\n    { amount: 5000, weight: 18 },     // 5\r\n    { amount: 3000, weight: 12 },     // 3\r\n    { amount: 1000, weight: 10 },     // 1:  \r\n    { amount: 500, weight: 7 },       // 500:  \r\n    { amount: 100, weight: 3 }        // 100:   \r\n  ];\r\n\r\n  //   (1, 3, 5, 10, 20)\r\n  const couponRewards = [\r\n    { amount: 20, weight: 10 },       // 20: 10%\r\n    { amount: 10, weight: 20 },       // 10: 20%\r\n    { amount: 5, weight: 20 },        // 5: 20%\r\n    { amount: 3, weight: 20 },        // 3: 20%\r\n    { amount: 1, weight: 30 }         // 1: 30%\r\n  ];\r\n\r\n  //     \r\n  const weightedRandom = (items) => {\r\n    const totalWeight = items.reduce((sum, item) => sum + item.weight, 0);\r\n    let random = Math.random() * totalWeight;\r\n\r\n    for (const item of items) {\r\n      random -= item.weight;\r\n      if (random <= 0) {\r\n        return item.amount;\r\n      }\r\n    }\r\n\r\n    return items[items.length - 1].amount;\r\n  };\r\n\r\n  return {\r\n    cash: weightedRandom(cashRewards),\r\n    coupon: weightedRandom(couponRewards)\r\n  };\r\n};\r\n","import React, { memo } from \"react\";\r\nimport TaskItem from \"./TaskItem\"; // TaskItem   \r\n\r\n// props jobs   job   \r\nconst JobList = memo(function JobList({\r\n  job, //    (  prop )\r\n  isAdmin, //   (  prop )\r\n  onEditJob, //    ( )\r\n  onDeleteJob, //    ( ) <--  prop \r\n  onAddTask, //      ( )\r\n  onEditTask, //   \r\n  onDeleteTask, //   \r\n  onEarnCoupon, //   \r\n  onRequestApproval, //   \r\n  addJobTaskButtonStyle, // Dashboard    <--  prop \r\n}) {\r\n  // job       ( )\r\n  if (!job) {\r\n    return null;\r\n  }\r\n\r\n  const isMobile = window.innerWidth <= 768;\r\n\r\n  return (\r\n    <div\r\n      key={job.id} //  map   key  X,  \r\n      className=\"flex flex-col h-full rounded-lg overflow-hidden mb-4\"\r\n      style={{\r\n        backgroundColor: \"rgba(20, 20, 35, 0.6)\",\r\n        border: \"1px solid rgba(0, 255, 242, 0.2)\",\r\n        boxShadow: \"0 4px 15px rgba(0, 0, 0, 0.3)\",\r\n        backdropFilter: \"blur(5px)\",\r\n      }}\r\n    >\r\n      {/*   -   */}\r\n      <div\r\n        className=\"job-header-container flex justify-between items-center\"\r\n        style={{\r\n          background: \"linear-gradient(135deg, rgba(79, 70, 229, 0.2) 0%, rgba(99, 102, 241, 0.2) 100%)\",\r\n          padding: isMobile ? \"12px 14px\" : \"14px 16px\",\r\n          borderBottom: \"1px solid rgba(0, 255, 242, 0.2)\",\r\n        }}\r\n      >\r\n        <div\r\n          className=\"job-title-text font-bold\"\r\n          style={{\r\n            fontSize: isMobile ? \"15px\" : \"18px\",\r\n            textShadow: \"0 0 10px rgba(0, 255, 242, 0.3)\",\r\n            letterSpacing: \"-0.01em\",\r\n            color: \"#e8e8ff\", //  \r\n          }}\r\n        >\r\n          {job.title}\r\n        </div>\r\n        {/*    /  */}\r\n        {isAdmin && (\r\n          <div>\r\n            <button\r\n              onClick={() => onEditJob(job.id)} // job.id  \r\n              className=\"cursor-pointer p-0 mr-2\"\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"rgba(255, 255, 255, 0.7)\",\r\n              }}\r\n              aria-label={`${job.title}  `}\r\n            >\r\n              \r\n            </button>\r\n            <button\r\n              onClick={() => onDeleteJob(job.id)} // job.id  \r\n              className=\"cursor-pointer p-0\"\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"rgba(255, 255, 255, 0.7)\",\r\n              }}\r\n              aria-label={`${job.title}  `}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/*    (flex-grow   ) */}\r\n      <div className=\"flex-grow overflow-y-auto\" style={{ padding: isMobile ? \"8px\" : \"10px\" }}>\r\n        {job.tasks && job.tasks.length > 0 ? (\r\n          job.tasks.map((task) => (\r\n            <TaskItem\r\n              key={task.id}\r\n              task={task}\r\n              taskId={task.id}\r\n              jobId={job.id}\r\n              //  task.id  \r\n              onEarnCoupon={onEarnCoupon}\r\n              onRequestApproval={onRequestApproval}\r\n              onEditTask={() => onEditTask(task.id, job.id)} // Dashboard    job.id \r\n              onDeleteTask={() => onDeleteTask(task.id, job.id)} // Dashboard    job.id \r\n              isAdmin={isAdmin}\r\n              isJobTask={true}\r\n            />\r\n          ))\r\n        ) : (\r\n          <p\r\n            className=\"text-center my-2.5\"\r\n            style={{\r\n              fontSize: \"13px\",\r\n              color: \"#9999bb\",\r\n            }}\r\n          >\r\n              .\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/*      (  ) */}\r\n      {isAdmin && (\r\n        <div style={{ padding: isMobile ? \"8px\" : \"10px\", borderTop: \"1px solid rgba(0, 255, 242, 0.1)\" }}>\r\n          <button\r\n            onClick={onAddTask} // Dashboard job.id    \r\n            // ---       ---\r\n            className=\"w-full cursor-pointer rounded-md mt-0 transition-all\"\r\n            style={\r\n              addJobTaskButtonStyle || {\r\n                /*   ( ) */\r\n                padding: isMobile ? \"6px\" : \"8px\",\r\n                backgroundColor: \"rgba(0, 255, 242, 0.1)\",\r\n                border: \"1px solid rgba(0, 255, 242, 0.3)\",\r\n                color: \"#00fff2\",\r\n                fontSize: isMobile ? \"12px\" : \"13px\",\r\n                fontWeight: \"500\",\r\n              }\r\n            }\r\n          >\r\n            +    \r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default JobList;\r\n","import React from \"react\";\r\nimport TaskItem from \"./TaskItem\";\r\n\r\n// Dashboard      \r\nexport default function CommonTaskList({\r\n  tasks,\r\n  isAdmin,\r\n  onEditTask,\r\n  onDeleteTask,\r\n  onEarnCoupon,\r\n  onRequestApproval,\r\n}) {\r\n  // tasks      \r\n  if (!Array.isArray(tasks) || tasks.length === 0) {\r\n    return (\r\n      <div className=\"p-5 text-center\" style={{ color: \"#6b7280\" }}>\r\n        {isAdmin\r\n          ? \"   .   .\"\r\n          : \"      .\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  //  \r\n  const isMobile = typeof window !== 'undefined' && window.innerWidth <= 768;\r\n\r\n  return (\r\n    <div className=\"grid\" style={{\r\n      gridTemplateColumns: isMobile ? \"1fr\" : \"repeat(2, 1fr)\",\r\n      gap: isMobile ? \"8px\" : \"10px\",\r\n    }}>\r\n      {tasks.map((task) => (\r\n        <TaskItem\r\n          key={task.id}\r\n          task={task}\r\n          taskId={task.id}\r\n          onEarnCoupon={onEarnCoupon}\r\n          onRequestApproval={onRequestApproval}\r\n          onEditTask={() => onEditTask(task.id)}\r\n          onDeleteTask={() => onDeleteTask(task.id)}\r\n          isAdmin={isAdmin}\r\n          isJobTask={false}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","// src/services/optimizedFirebaseService.js\r\n// Firebase    \r\n\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { functions } from \"../firebase\";\r\n\r\nimport { logger } from \"../utils/logger\";\n// Firebase Functions \r\nconst createOptimizedFunction = (functionName) => {\r\n  const fn = httpsCallable(functions, functionName);\r\n\r\n  return async (data) => {\r\n    try {\r\n      const result = await fn(data);\r\n      if (result.data.success) {\r\n        return result.data;\r\n      } else {\r\n        throw new Error(result.data.message || \"  \");\r\n      }\r\n    } catch (error) {\r\n      logger.error(`${functionName} :`, error);\r\n      throw error;\r\n    }\r\n  };\r\n};\r\n\r\n//  Firebase Functions\r\nexport const optimizedFirebaseService = {\r\n  //      ( )\r\n  getAdminSettingsData: createOptimizedFunction(\"getAdminSettingsData\"),\r\n\r\n  //   \r\n  batchPaySalaries: createOptimizedFunction(\"batchPaySalaries\"),\r\n\r\n  //  ItemContext  ( )\r\n  getItemContextData: createOptimizedFunction(\"getItemContextData\"),\r\n};\r\n\r\n// React Query  \r\nexport const queryKeys = {\r\n  //   \r\n  adminSettings: (classCode, tab) => [\"adminSettings\", classCode, tab],\r\n\r\n  //   \r\n  students: (classCode) => [\"students\", classCode],\r\n\r\n  //   \r\n  salarySettings: (classCode) => [\"salarySettings\", classCode],\r\n\r\n  //    ( )\r\n  systemManagement: () => [\"systemManagement\"],\r\n\r\n  //   \r\n  generalSettings: (classCode) => [\"generalSettings\", classCode],\r\n};\r\n\r\n//   \r\nexport const batchOperations = {\r\n  //      \r\n  updateMultipleStudentJobs: async (updates) => {\r\n    //    Firebase Function  \r\n    logger.log(\"  :\", updates);\r\n  },\r\n\r\n  //     \r\n  saveMultipleSettings: async (settings) => {\r\n    //    Firebase Function  \r\n    logger.log(\"  :\", settings);\r\n  },\r\n};\r\n\r\n//   \r\nexport const realtimeOptimizer = {\r\n  //     \r\n  shouldUseRealtime: () => {\r\n    return navigator.onLine && !document.hidden;\r\n  },\r\n\r\n  //     \r\n  getOptimalCacheTime: (dataSize) => {\r\n    if (dataSize < 1000) return 10 * 60 * 1000; // 10\r\n    if (dataSize < 5000) return 5 * 60 * 1000;  // 5\r\n    return 2 * 60 * 1000; // 2\r\n  },\r\n};\r\n\r\n//    ( )\r\nexport const localBackup = {\r\n  save: (key, data) => {\r\n    try {\r\n      localStorage.setItem(`backup_${key}`, JSON.stringify({\r\n        data,\r\n        timestamp: Date.now(),\r\n      }));\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n  },\r\n\r\n  load: (key, maxAge = 60000) => { //  1\r\n    try {\r\n      const backup = localStorage.getItem(`backup_${key}`);\r\n      if (backup) {\r\n        const parsed = JSON.parse(backup);\r\n        if (Date.now() - parsed.timestamp < maxAge) {\r\n          return parsed.data;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n    return null;\r\n  },\r\n\r\n  clear: (key) => {\r\n    try {\r\n      localStorage.removeItem(`backup_${key}`);\r\n    } catch (error) {\r\n      logger.warn(\"   :\", error);\r\n    }\r\n  },\r\n};","// src/pages/admin/SystemMonitoring.js -   \r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { functions } from \"../../firebase\";\r\nimport \"./SystemMonitoring.css\";\r\nimport { logger } from '../../utils/logger';\n\r\nconst SystemMonitoring = ({ isSuperAdmin }) => {\r\n  const [systemStatus, setSystemStatus] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [autoRefresh, setAutoRefresh] = useState(false); //   false \r\n  const [lastUpdate, setLastUpdate] = useState(null);\r\n  const [errorCount, setErrorCount] = useState(0); //    \r\n\r\n  const getSystemStatus = httpsCallable(functions, \"getSystemStatus\");\r\n  const resolveSystemAlert = httpsCallable(functions, \"resolveSystemAlert\");\r\n\r\n  //   \r\n  const fetchSystemStatus = useCallback(async () => {\r\n    if (!isSuperAdmin) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const result = await getSystemStatus();\r\n      if (result.data.success) {\r\n        setSystemStatus(result.data.data);\r\n        setLastUpdate(new Date());\r\n        setErrorCount(0); //      \r\n      } else {\r\n        throw new Error(result.data.message || \"   \");\r\n      }\r\n    } catch (err) {\r\n      logger.error(\"[SystemMonitoring]   :\", err);\r\n      setError(err.message || \"     .\");\r\n\r\n      //     \r\n      setErrorCount(prev => prev + 1);\r\n\r\n      //  3       \r\n      if (errorCount >= 2) {\r\n        setAutoRefresh(false);\r\n        logger.warn(\"[SystemMonitoring]      .\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [isSuperAdmin, getSystemStatus, errorCount]);\r\n\r\n  //   \r\n  const handleResolveAlert = useCallback(\r\n    async (alertId) => {\r\n      if (!window.confirm(\"   ?\")) {\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const result = await resolveSystemAlert({ alertId });\r\n        if (result.data.success) {\r\n          alert(\" .\");\r\n          //  \r\n          fetchSystemStatus();\r\n        }\r\n      } catch (err) {\r\n        logger.error(\"[SystemMonitoring]   :\", err);\r\n        alert(`    : ${err.message}`);\r\n      }\r\n    },\r\n    [resolveSystemAlert, fetchSystemStatus]\r\n  );\r\n\r\n  //  \r\n  useEffect(() => {\r\n    if (isSuperAdmin) {\r\n      fetchSystemStatus();\r\n    }\r\n  }, [isSuperAdmin, fetchSystemStatus]);\r\n\r\n  //   (30)\r\n  useEffect(() => {\r\n    if (!autoRefresh || !isSuperAdmin) return;\r\n\r\n    const intervalId = setInterval(() => {\r\n      fetchSystemStatus();\r\n    }, 2 * 60 * 1000); //  [] 2 (   30 )\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [autoRefresh, isSuperAdmin, fetchSystemStatus]);\r\n\r\n  //        \r\n  useEffect(() => {\r\n    if (autoRefresh) {\r\n      setErrorCount(0);\r\n    }\r\n  }, [autoRefresh]);\r\n\r\n  if (!isSuperAdmin) {\r\n    return (\r\n      <div className=\"system-monitoring section-card\">\r\n        <h3>   </h3>\r\n        <p className=\"admin-section-desc\">    .</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"system-monitoring section-card\">\r\n      <div className=\"monitoring-header\">\r\n        <h3>   </h3>\r\n        <div className=\"monitoring-controls\">\r\n          <label className=\"auto-refresh-toggle\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={autoRefresh}\r\n              onChange={(e) => setAutoRefresh(e.target.checked)}\r\n            />\r\n            <span>  (30)</span>\r\n          </label>\r\n          <button\r\n            onClick={fetchSystemStatus}\r\n            disabled={loading}\r\n            className=\"refresh-button\"\r\n          >\r\n            {loading ? \"  ...\" : \" \"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {lastUpdate && (\r\n        <p className=\"last-update\">\r\n           : {lastUpdate.toLocaleTimeString(\"ko-KR\")}\r\n        </p>\r\n      )}\r\n\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          <p> {error}</p>\r\n          {errorCount >= 3 && (\r\n            <p style={{ marginTop: \"8px\", fontSize: \"14px\" }}>\r\n                    .      .\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {systemStatus && (\r\n        <>\r\n          {/*    */}\r\n          {systemStatus.message && (\r\n            <div className=\"info-message\" style={{\r\n              padding: \"12px\",\r\n              background: \"#e3f2fd\",\r\n              border: \"1px solid #90caf9\",\r\n              borderRadius: \"4px\",\r\n              marginBottom: \"15px\",\r\n              color: \"#1976d2\"\r\n            }}>\r\n              <p style={{ margin: 0 }}> {systemStatus.message}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/*    */}\r\n          <div className=\"system-health-card\">\r\n            <h4> </h4>\r\n            <div className={`health-indicator health-${systemStatus.health}`}>\r\n              <span className=\"health-icon\">\r\n                {systemStatus.health === \"healthy\"\r\n                  ? \"\"\r\n                  : systemStatus.health === \"warning\"\r\n                  ? \"\"\r\n                  : \"\"}\r\n              </span>\r\n              <span className=\"health-text\">\r\n                {systemStatus.health === \"healthy\"\r\n                  ? \"\"\r\n                  : systemStatus.health === \"warning\"\r\n                  ? \"\"\r\n                  : \"\"}\r\n              </span>\r\n            </div>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">{systemStatus.totalUsers}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/*   */}\r\n          <div className=\"stats-card\">\r\n            <h4> 1 </h4>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.reads.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.writes.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.errors}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"></span>\r\n                <span className=\"stat-value\">\r\n                  {(systemStatus.stats.lastMinute.errorRate * 100).toFixed(2)}%\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.lastMinute.avgResponseTime.toFixed(0)}ms\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/*    */}\r\n          {systemStatus.anomalies && systemStatus.anomalies.length > 0 && (\r\n            <div className=\"anomalies-card\">\r\n              <h4>   </h4>\r\n              <div className=\"anomalies-list\">\r\n                {systemStatus.anomalies.map((anomaly, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`anomaly-item anomaly-${anomaly.severity}`}\r\n                  >\r\n                    <div className=\"anomaly-header\">\r\n                      <span className=\"anomaly-severity\">\r\n                        {anomaly.severity === \"critical\"\r\n                          ? \" \"\r\n                          : anomaly.severity === \"error\"\r\n                          ? \" \"\r\n                          : \" \"}\r\n                      </span>\r\n                      <span className=\"anomaly-type\">{anomaly.type}</span>\r\n                    </div>\r\n                    <p className=\"anomaly-message\">{anomaly.message}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*   */}\r\n          {systemStatus.alerts && systemStatus.alerts.length > 0 && (\r\n            <div className=\"alerts-card\">\r\n              <h4>   ({systemStatus.alerts.length})</h4>\r\n              <div className=\"alerts-list\">\r\n                {systemStatus.alerts.map((alert) => {\r\n                  const alertTime = alert.timestamp?.toDate\r\n                    ? alert.timestamp.toDate()\r\n                    : new Date(alert.timestamp?.seconds * 1000 || Date.now());\r\n\r\n                  return (\r\n                    <div\r\n                      key={alert.id}\r\n                      className={`alert-item alert-${alert.severity}`}\r\n                    >\r\n                      <div className=\"alert-header\">\r\n                        <span className=\"alert-time\">\r\n                          {alertTime.toLocaleString(\"ko-KR\")}\r\n                        </span>\r\n                        <button\r\n                          onClick={() => handleResolveAlert(alert.id)}\r\n                          className=\"resolve-alert-button\"\r\n                        >\r\n                          \r\n                        </button>\r\n                      </div>\r\n                      <p className=\"alert-message\">{alert.message}</p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*    */}\r\n          {systemStatus.errorLogs && systemStatus.errorLogs.length > 0 && (\r\n            <div className=\"error-logs-card\">\r\n              <h4>    (1)</h4>\r\n              <div className=\"error-logs-list\">\r\n                {systemStatus.errorLogs.slice(0, 10).map((log) => {\r\n                  const logTime = log.timestamp?.toDate\r\n                    ? log.timestamp.toDate()\r\n                    : new Date(log.timestamp?.seconds * 1000 || Date.now());\r\n\r\n                  return (\r\n                    <div key={log.id} className=\"error-log-item\">\r\n                      <span className=\"log-time\">\r\n                        {logTime.toLocaleTimeString(\"ko-KR\")}\r\n                      </span>\r\n                      <span className=\"log-message\">\r\n                        {log.message || \"   \"}\r\n                      </span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/*  5  */}\r\n          <div className=\"stats-card\">\r\n            <h4> 5 </h4>\r\n            <div className=\"stats-grid\">\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.reads.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">  </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.writes.toLocaleString()}\r\n                </span>\r\n              </div>\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\"> </span>\r\n                <span className=\"stat-value\">\r\n                  {systemStatus.stats.last5Minutes.errors}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {!systemStatus && !loading && !error && (\r\n        <div className=\"no-data-message\">\r\n          <p>      .</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SystemMonitoring;\r\n","// src/AdminSettingsModal.js\r\n// ========================================\r\n//     v2.0\r\n// ========================================\r\n//  :\r\n// - isSuperAdmin ( ):   ,   ,   \r\n// - isAdmin ():   , //// \r\n// ========================================\r\n\r\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport {\r\n  db,\r\n  functions,\r\n  firebaseDoc,\r\n  firebaseCollection,\r\n  firebaseGetSingleDoc,\r\n  firebaseUpdateDoc,\r\n  firebaseSetDoc,\r\n  firebaseGetDocs,\r\n  serverTimestamp,\r\n  increment,\r\n  writeBatch,\r\n  query as firebaseQuery,\r\n  where as firebaseWhere,\r\n} from \"../../firebase\";\r\n\r\n//   \r\nimport {\r\n  useOptimizedAdminSettings,\r\n  useOptimizedStudents,\r\n  useOptimizedSalarySettings,\r\n  useOptimizedSystemManagement,\r\n  useBatchPaySalaries,\r\n  useAdminDataPreloader,\r\n} from \"../../hooks/useOptimizedAdminData\";\r\n\r\n//   \r\nimport SystemMonitoring from \"../../pages/admin/SystemMonitoring\";\r\n\r\n//   \r\nimport AdminDatabase from \"../../pages/admin/AdminDatabase\";\r\n\r\nimport { logger } from \"../../utils/logger\";\r\n//     \r\nconst initialStocks = [\r\n  { id: 'KP', name: ' ', price: 10000, history: [{ price: 10000, timestamp: new Date() }] },\r\n  { id: 'SS', name: '', price: 80000, history: [{ price: 80000, timestamp: new Date() }] },\r\n  { id: 'LG', name: 'LG', price: 350000, history: [{ price: 350000, timestamp: new Date() }] },\r\n  { id: 'SK', name: 'SK', price: 230000, history: [{ price: 230000, timestamp: new Date() }] },\r\n];\r\n\r\n//    \r\nconst ClassDataDeletionSection = ({ userClassCode, isAdmin, isSuperAdmin }) => {\r\n  const [deleteConfirmText, setDeleteConfirmText] = useState(\"\");\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n\r\n  const handleDeleteClassData = async () => {\r\n    if (!userClassCode) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    if (deleteConfirmText !== \"\") {\r\n      alert(\"''  .\");\r\n      return;\r\n    }\r\n\r\n    //  \r\n    const finalConfirm = window.confirm(\r\n      ` '${userClassCode}'     ?\\n\\n        :\\n-   (role: 'student')\\n-  \\n-  \\n\\n(admin)  .`\r\n    );\r\n\r\n    if (!finalConfirm) {\r\n      return;\r\n    }\r\n\r\n    setIsDeleting(true);\r\n\r\n    try {\r\n      logger.log(`[ClassDataDeletion] ${userClassCode}    `);\r\n\r\n      // 1.    (role === 'student' AND classCode === userClassCode)\r\n      const usersRef = firestoreCollection(db, \"users\");\r\n      const studentsQuery = firebaseQuery(\r\n        usersRef,\r\n        firebaseWhere(\"classCode\", \"==\", userClassCode),\r\n        firebaseWhere(\"role\", \"==\", \"student\")\r\n      );\r\n      const studentsSnapshot = await firebaseGetDocs(studentsQuery);\r\n\r\n      logger.log(`[ClassDataDeletion]   : ${studentsSnapshot.size}`);\r\n\r\n      // 2.   \r\n      const activityLogsRef = firestoreCollection(db, \"activity_logs\");\r\n      const activityLogsQuery = firebaseQuery(\r\n        activityLogsRef,\r\n        firebaseWhere(\"classCode\", \"==\", userClassCode)\r\n      );\r\n      const activityLogsSnapshot = await firebaseGetDocs(activityLogsQuery);\r\n\r\n      logger.log(`[ClassDataDeletion]   : ${activityLogsSnapshot.size}`);\r\n\r\n      // 3.    ( userId )\r\n      const studentIds = studentsSnapshot.docs.map(doc => doc.id);\r\n      let transactionsToDelete = [];\r\n\r\n      if (studentIds.length > 0) {\r\n        // Firestore 'in'   10   \r\n        const batches = [];\r\n        for (let i = 0; i < studentIds.length; i += 10) {\r\n          batches.push(studentIds.slice(i, i + 10));\r\n        }\r\n\r\n        for (const batch of batches) {\r\n          const transactionsRef = firestoreCollection(db, \"transactions\");\r\n          const transactionsQuery = firebaseQuery(\r\n            transactionsRef,\r\n            firebaseWhere(\"userId\", \"in\", batch)\r\n          );\r\n          const transactionsSnapshot = await firebaseGetDocs(transactionsQuery);\r\n          transactionsToDelete.push(...transactionsSnapshot.docs);\r\n        }\r\n      }\r\n\r\n      logger.log(`[ClassDataDeletion]   : ${transactionsToDelete.length}`);\r\n\r\n      // 4.    (Firestore   500 )\r\n      const allDocsToDelete = [\r\n        ...studentsSnapshot.docs,\r\n        ...activityLogsSnapshot.docs,\r\n        ...transactionsToDelete,\r\n      ];\r\n\r\n      logger.log(`[ClassDataDeletion]   : ${allDocsToDelete.length}`);\r\n\r\n      //   \r\n      const BATCH_SIZE = 500;\r\n      for (let i = 0; i < allDocsToDelete.length; i += BATCH_SIZE) {\r\n        const batch = writeBatch(db);\r\n        const batchDocs = allDocsToDelete.slice(i, i + BATCH_SIZE);\r\n\r\n        batchDocs.forEach((docSnap) => {\r\n          batch.delete(docSnap.ref);\r\n        });\r\n\r\n        await batch.commit();\r\n        logger.log(`[ClassDataDeletion]  ${Math.floor(i / BATCH_SIZE) + 1}  `);\r\n      }\r\n\r\n      alert(\r\n        `   !\\n\\n :\\n-  : ${studentsSnapshot.size}\\n-  : ${activityLogsSnapshot.size}\\n-  : ${transactionsToDelete.length}`\r\n      );\r\n\r\n      logger.log(`[ClassDataDeletion] ${userClassCode}    `);\r\n\r\n      // \r\n      setDeleteConfirmText(\"\");\r\n      setShowConfirmation(false);\r\n    } catch (error) {\r\n      logger.error(\"[ClassDataDeletion]   :\", error);\r\n      alert(` : ${error.message}\\n\\n    .  .`);\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  if (!isAdmin && !isSuperAdmin) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"section-card mt-6 border-2 border-red-500/50 bg-red-900/10\">\r\n      <div className=\"flex items-center gap-2 mb-4\">\r\n        <span className=\"text-2xl\"></span>\r\n        <h3 className=\"text-xl font-bold text-red-400\"> :   </h3>\r\n      </div>\r\n\r\n      <div className=\"bg-red-900/20 rounded-lg p-4 mb-4 border border-red-500/30\">\r\n        <p className=\"text-sm text-red-200 mb-2\">\r\n          <strong>    !</strong>\r\n        </p>\r\n        <p className=\"text-sm text-red-200 mb-2\">\r\n                .\r\n        </p>\r\n        <p className=\"text-sm text-gray-300 mb-2\"> :</p>\r\n        <ul className=\"text-sm text-gray-300 list-disc list-inside ml-2 space-y-1\">\r\n          <li>  (role: 'student')</li>\r\n          <li>  (activity_logs)</li>\r\n          <li>  (transactions)</li>\r\n        </ul>\r\n        <p className=\"text-sm text-green-300 mt-2\">\r\n           (admin)  .\r\n        </p>\r\n        <p className=\"text-sm text-green-300\">\r\n           , ,    .\r\n        </p>\r\n      </div>\r\n\r\n      {!showConfirmation ? (\r\n        <button\r\n          onClick={() => setShowConfirmation(true)}\r\n          className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors\"\r\n        >\r\n             \r\n        </button>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                \"<strong className=\"text-red-400\"></strong>\"  :\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={deleteConfirmText}\r\n              onChange={(e) => setDeleteConfirmText(e.target.value)}\r\n              placeholder=\"\"\r\n              disabled={isDeleting}\r\n              className=\"w-full px-4 py-2 bg-[#1a1a2e] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-red-500\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={handleDeleteClassData}\r\n              disabled={isDeleting || deleteConfirmText !== \"\"}\r\n              className={`px-6 py-2 rounded-lg font-medium transition-colors ${\r\n                deleteConfirmText === \"\" && !isDeleting\r\n                  ? \"bg-red-600 hover:bg-red-700 text-white\"\r\n                  : \"bg-gray-600 text-gray-400 cursor-not-allowed\"\r\n              }`}\r\n            >\r\n              {isDeleting ? \" ...\" : \"  \"}\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setShowConfirmation(false);\r\n                setDeleteConfirmText(\"\");\r\n              }}\r\n              disabled={isDeleting}\r\n              className=\"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AdminSettingsModal = ({\r\n  isAdmin,\r\n  isSuperAdmin,\r\n  userClassCode,\r\n  showAdminSettingsModal,\r\n  setShowAdminSettingsModal,\r\n  adminSelectedMenu,\r\n  setAdminSelectedMenu,\r\n\r\n  //    props\r\n  newGoalAmount,\r\n  setNewGoalAmount,\r\n  adminCouponValue,\r\n  setAdminCouponValue,\r\n  handleSaveAdminSettings,\r\n\r\n  //    props\r\n  jobs,\r\n  adminNewJobTitle,\r\n  setAdminNewJobTitle,\r\n  adminEditingJob,\r\n  setAdminEditingJob,\r\n  handleSaveJob,\r\n  handleDeleteJob,\r\n  handleEditJob,\r\n\r\n  //    props\r\n  commonTasks,\r\n  showAddTaskForm,\r\n  setShowAddTaskForm,\r\n  adminNewTaskName,\r\n  setAdminNewTaskName,\r\n  adminNewTaskReward,\r\n  setAdminNewTaskReward,\r\n  adminNewTaskMaxClicks,\r\n  setAdminNewTaskMaxClicks,\r\n  adminNewTaskRequiresApproval,\r\n  setAdminNewTaskRequiresApproval,\r\n  adminEditingTask,\r\n  setAdminEditingTask,\r\n  handleSaveTask,\r\n  handleEditTask,\r\n  handleDeleteTask,\r\n  taskFormJobId,\r\n  taskFormIsJobTask,\r\n  handleAddTaskClick,\r\n\r\n  //     props\r\n  classCodes = [],\r\n  onAddClassCode,\r\n  onRemoveClassCode,\r\n}) => {\r\n  const [newClassCode, setNewClassCode] = useState(\"\");\r\n  const [classCodeOperationLoading, setClassCodeOperationLoading] =\r\n    useState(false);\r\n  const [classMembers, setClassMembers] = useState([]);\r\n  const [membersLoading, setMembersLoading] = useState(false);\r\n  const [showEditStudentJobsModal, setShowEditStudentJobsModal] =\r\n    useState(false);\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n  const [tempSelectedJobIds, setTempSelectedJobIds] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [studentsLoading, setStudentsLoading] = useState(false);\r\n  const [appLoading, setAppLoading] = useState(false);\r\n  const [isPayingSalary, setIsPayingSalary] = useState(false);\r\n  const [lastSalaryPaidDate, setLastSalaryPaidDate] = useState(null);\r\n  const [selectedStudentIds, setSelectedStudentIds] = useState([]);\r\n  const [selectAllStudents, setSelectAllStudents] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // ========================================\r\n  //    \r\n  // ========================================\r\n  const [depositProducts, setDepositProducts] = useState([]);\r\n  const [savingProducts, setSavingProducts] = useState([]);\r\n  const [loanProducts, setLoanProducts] = useState([]);\r\n  const [newProductName, setNewProductName] = useState(\"\");\r\n  const [newProductPeriod, setNewProductPeriod] = useState(\"\");\r\n  const [newProductRate, setNewProductRate] = useState(\"\");\r\n  const [financialSubTab, setFinancialSubTab] = useState(\"deposit\");\r\n  const [financialMessage, setFinancialMessage] = useState(null);\r\n\r\n  //    \r\n  const [jobTaskSubTab, setJobTaskSubTab] = useState(\"job\");\r\n  const [studentMemberSubTab, setStudentMemberSubTab] = useState(\"student\");\r\n  const [financeMarketSubTab, setFinanceMarketSubTab] = useState(\"financial\");\r\n  const [systemSubTab, setSystemSubTab] = useState(\"database\");\r\n\r\n  // ========================================\r\n  //   \r\n  // ========================================\r\n  const [marketStatus, setMarketStatus] = useState({ isOpen: false });\r\n  const [marketMessage, setMarketMessage] = useState('');\r\n  const [isMarketDataLoaded, setIsMarketDataLoaded] = useState(false);\r\n  const marketStatusCache = useRef(null);\r\n  const CACHE_DURATION = 5 * 60 * 1000; // 5\r\n\r\n  // ========================================\r\n  //   \r\n  // ========================================\r\n  const [parkingInterestRate, setParkingInterestRate] = useState(0.1);\r\n  const [newInterestRate, setNewInterestRate] = useState(\"\");\r\n  const [parkingMessage, setParkingMessage] = useState(null);\r\n\r\n  // Firebase Functions\r\n  const toggleMarketManually = httpsCallable(functions, 'toggleMarketManually');\r\n\r\n  //   \r\n  const [salarySettings, setSalarySettings] = useState({\r\n    taxRate: 0.1, // 10% \r\n    salaryIncreaseRate: 0.03, // 3%   \r\n  });\r\n  const [tempTaxRate, setTempTaxRate] = useState(\"10\");\r\n  const [tempSalaryIncreaseRate, setTempSalaryIncreaseRate] = useState(\"3\");\r\n  const [salarySettingsLoading, setSalarySettingsLoading] = useState(false);\r\n\r\n  //   \r\n  const studentsQuery = useOptimizedStudents();\r\n  const salarySettingsQuery = useOptimizedSalarySettings();\r\n  const systemManagementQuery = useOptimizedSystemManagement();\r\n  const generalSettingsQuery = useOptimizedAdminSettings(\"generalSettings\");\r\n  const batchPaySalariesMutation = useBatchPaySalaries();\r\n  const { preloadAdminData } = useAdminDataPreloader();\r\n\r\n  //   \r\n  const loadSalarySettings = useCallback(async () => {\r\n    if (!db) return;\r\n\r\n    try {\r\n      //    ,    \r\n      const classSettingsRef = userClassCode\r\n        ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\r\n        : firebaseDoc(db, \"settings\", \"salarySettings\");\r\n      const settingsSnap = await firebaseGetSingleDoc(classSettingsRef);\r\n      \r\n      if (settingsSnap.exists()) {\r\n        const data = settingsSnap.data();\r\n        const settings = {\r\n          taxRate: data.taxRate || 0.1,\r\n          salaryIncreaseRate: data.salaryIncreaseRate || 0.03,\r\n        };\r\n        setSalarySettings(settings);\r\n        setTempTaxRate(String((settings.taxRate * 100).toFixed(1)));\r\n        setTempSalaryIncreaseRate(String((settings.salaryIncreaseRate * 100).toFixed(1)));\r\n        \r\n        if (data.lastPaidDate) {\r\n          setLastSalaryPaidDate(data.lastPaidDate.toDate());\r\n        }\r\n      } else {\r\n        //   \r\n        await firebaseSetDoc(classSettingsRef, {\r\n          taxRate: 0.1,\r\n          salaryIncreaseRate: 0.03,\r\n          lastPaidDate: null,\r\n          classCode: userClassCode || null,\r\n          createdAt: serverTimestamp(),\r\n          updatedAt: serverTimestamp(),\r\n        });\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userClassCode]); // db     \r\n\r\n  //   \r\n  const handleSaveSalarySettings = useCallback(async () => {\r\n    if (!db) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    const taxRateNum = parseFloat(tempTaxRate);\r\n    const increaseRateNum = parseFloat(tempSalaryIncreaseRate);\r\n\r\n    if (isNaN(taxRateNum) || taxRateNum < 0 || taxRateNum > 100) {\r\n      alert(\" 0~100   .\");\r\n      return;\r\n    }\r\n\r\n    if (isNaN(increaseRateNum) || increaseRateNum < 0 || increaseRateNum > 100) {\r\n      alert(\"  0~100   .\");\r\n      return;\r\n    }\r\n\r\n    setSalarySettingsLoading(true);\r\n\r\n    try {\r\n      const classSettingsRef = userClassCode\r\n        ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\r\n        : firebaseDoc(db, \"settings\", \"salarySettings\");\r\n      const newSettings = {\r\n        taxRate: taxRateNum / 100,\r\n        salaryIncreaseRate: increaseRateNum / 100,\r\n        classCode: userClassCode || null,\r\n        updatedAt: serverTimestamp(),\r\n      };\r\n\r\n      await firebaseUpdateDoc(classSettingsRef, newSettings);\r\n      setSalarySettings({\r\n        taxRate: newSettings.taxRate,\r\n        salaryIncreaseRate: newSettings.salaryIncreaseRate,\r\n      });\r\n\r\n      alert(\"  .\");\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      alert(\"     : \" + error.message);\r\n    } finally {\r\n      setSalarySettingsLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userClassCode, tempTaxRate, tempSalaryIncreaseRate]); // db salarySettings.x     \r\n\r\n  //    (  )\r\n  const calculateSalary = useCallback((selectedJobIds, includesTax = false) => {\r\n    if (!Array.isArray(selectedJobIds) || selectedJobIds.length === 0) {\r\n      return { gross: 0, tax: 0, net: 0 };\r\n    }\r\n    \r\n    const baseSalary = 2000000;\r\n    const additionalSalary = 500000;\r\n    const grossSalary = baseSalary + Math.max(0, selectedJobIds.length - 1) * additionalSalary;\r\n    \r\n    if (!includesTax) {\r\n      return grossSalary;\r\n    }\r\n    \r\n    const tax = Math.floor(grossSalary * salarySettings.taxRate);\r\n    const netSalary = grossSalary - tax;\r\n    \r\n    return { gross: grossSalary, tax, net: netSalary };\r\n  }, [salarySettings.taxRate]);\r\n\r\n  //   \r\n  const handleJobEdit = useCallback(\r\n    (job) => {\r\n      logger.log(\"[AdminSettingsModal]   :\", job);\r\n      if (handleEditJob && typeof handleEditJob === \"function\") {\r\n        handleEditJob(job);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleEditJob   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleEditJob]\r\n  );\r\n\r\n  //   \r\n  const handleJobDelete = useCallback(\r\n    (jobId) => {\r\n      logger.log(\"[AdminSettingsModal]   :\", jobId);\r\n      if (handleDeleteJob && typeof handleDeleteJob === \"function\") {\r\n        handleDeleteJob(jobId);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleDeleteJob   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleDeleteJob]\r\n  );\r\n\r\n  //   \r\n  const handleTaskEdit = useCallback(\r\n    (task, jobId = null) => {\r\n      logger.log(\r\n        \"[AdminSettingsModal]   :\",\r\n        task,\r\n        \"jobId:\",\r\n        jobId\r\n      );\r\n      if (handleEditTask && typeof handleEditTask === \"function\") {\r\n        handleEditTask(task, jobId);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleEditTask   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleEditTask]\r\n  );\r\n\r\n  //   \r\n  const handleTaskDelete = useCallback(\r\n    (taskId, jobId = null) => {\r\n      logger.log(\r\n        \"[AdminSettingsModal]   :\",\r\n        taskId,\r\n        \"jobId:\",\r\n        jobId\r\n      );\r\n      if (handleDeleteTask && typeof handleDeleteTask === \"function\") {\r\n        handleDeleteTask(taskId, jobId);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleDeleteTask   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleDeleteTask]\r\n  );\r\n\r\n  //   \r\n  const handleTaskAdd = useCallback(\r\n    (jobId = null, isJobTask = false) => {\r\n      logger.log(\r\n        \"[AdminSettingsModal]   :\",\r\n        jobId,\r\n        \"isJobTask:\",\r\n        isJobTask\r\n      );\r\n      if (handleAddTaskClick && typeof handleAddTaskClick === \"function\") {\r\n        handleAddTaskClick(jobId, isJobTask);\r\n      } else {\r\n        logger.error(\r\n          \"[AdminSettingsModal] handleAddTaskClick   .\"\r\n        );\r\n        alert(\"     .\");\r\n      }\r\n    },\r\n    [handleAddTaskClick]\r\n  );\r\n\r\n  //     (Class/students  users   )\r\n  const loadStudents = useCallback(async () => {\r\n    if (!db) {\r\n      logger.error(\"loadStudents: Firestore   .\");\r\n      setError(\"       .\");\r\n      setStudents([]);\r\n      setStudentsLoading(false);\r\n      return;\r\n    }\r\n\r\n    setStudentsLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      let studentsList = [];\r\n\r\n      if (!isSuperAdmin && !userClassCode) {\r\n        setError(\"        .\");\r\n        setStudents([]);\r\n        setStudentsLoading(false);\r\n        return;\r\n      }\r\n\r\n      // 1. Class/{classCode}/students  \r\n      if (!isSuperAdmin && userClassCode) {\r\n        try {\r\n          const classStudentsRef = firebaseCollection(db, \"Class\", userClassCode, \"students\");\r\n          const classStudentsSnapshot = await firebaseGetDocs(classStudentsRef);\r\n\r\n          classStudentsSnapshot.forEach((doc) => {\r\n            const userData = doc.data();\r\n            studentsList.push({\r\n              id: doc.id,\r\n              nickname: userData.nickname || userData.name || \" \",\r\n              name: userData.name || \"\",\r\n              email: userData.email || \"\",\r\n              classCode: userClassCode,\r\n              selectedJobIds: userData.selectedJobIds || [],\r\n              cash: userData.money || userData.cash || 0, // money  \r\n              lastSalaryDate: userData.lastSalaryDate\r\n                ? userData.lastSalaryDate.toDate()\r\n                : null,\r\n              lastGrossSalary: userData.lastGrossSalary || 0,\r\n              lastTaxAmount: userData.lastTaxAmount || 0,\r\n              lastNetSalary: userData.lastNetSalary || 0,\r\n              totalSalaryReceived: userData.totalSalaryReceived || 0,\r\n            });\r\n          });\r\n        } catch (classError) {\r\n          // Class     users  \r\n        }\r\n      }\r\n\r\n      // 2. users   (Class      )\r\n      if (studentsList.length === 0) {\r\n        const usersRef = firebaseCollection(db, \"users\");\r\n        let queryRef;\r\n\r\n        if (!isSuperAdmin && userClassCode) {\r\n          queryRef = firebaseQuery(\r\n            usersRef,\r\n            firebaseWhere(\"classCode\", \"==\", userClassCode)\r\n          );\r\n        } else if (isSuperAdmin) {\r\n          queryRef = usersRef;\r\n        }\r\n\r\n        const querySnapshot = await firebaseGetDocs(queryRef);\r\n\r\n        querySnapshot.forEach((doc) => {\r\n          const userData = doc.data();\r\n          if (!userData.isAdmin && !userData.isSuperAdmin) {\r\n            studentsList.push({\r\n              id: doc.id,\r\n              nickname: userData.nickname || userData.name || \" \",\r\n              name: userData.name || \"\",\r\n              email: userData.email || \"\",\r\n              classCode: userData.classCode || \"\",\r\n              selectedJobIds: userData.selectedJobIds || [],\r\n              cash: userData.cash || 0,\r\n              lastSalaryDate: userData.lastSalaryDate\r\n                ? userData.lastSalaryDate.toDate()\r\n                : null,\r\n              lastGrossSalary: userData.lastGrossSalary || 0,\r\n              lastTaxAmount: userData.lastTaxAmount || 0,\r\n              lastNetSalary: userData.lastNetSalary || 0,\r\n              totalSalaryReceived: userData.totalSalaryReceived || 0,\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      setStudents(studentsList);\r\n\r\n      try {\r\n        const classSettingsRef = userClassCode\r\n          ? firebaseDoc(db, \"settings\", `salarySettings_${userClassCode}`)\r\n          : firebaseDoc(db, \"settings\", \"salarySettings\");\r\n        const settingsDoc = await firebaseGetSingleDoc(classSettingsRef);\r\n        if (settingsDoc.exists()) {\r\n          const data = settingsDoc.data();\r\n          setLastSalaryPaidDate(data.lastPaidDate ? data.lastPaidDate.toDate() : null);\r\n          setSalarySettings({\r\n            taxRate: data.taxRate || 0.1,\r\n            salaryIncreaseRate: data.salaryIncreaseRate || 0.03,\r\n          });\r\n        } else {\r\n          setLastSalaryPaidDate(null);\r\n        }\r\n      } catch (settingsError) {\r\n        logger.error(\"   :\", settingsError);\r\n        setLastSalaryPaidDate(null);\r\n      }\r\n\r\n      setSelectedStudentIds([]);\r\n      setSelectAllStudents(false);\r\n    } catch (error) {\r\n      logger.error(\"loadStudents:    :\", error);\r\n      setError(\"     : \" + error.message);\r\n      setStudents([]);\r\n    } finally {\r\n      setStudentsLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSuperAdmin, userClassCode]); // db     \r\n\r\n  //     \r\n  const handlePaySalariesToSelected = async () => {\r\n    if (selectedStudentIds.length === 0) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    const currentSalarySettings = salarySettingsQuery.data?.settings || salarySettings;\r\n\r\n    if (\r\n      !window.confirm(\r\n        ` ${selectedStudentIds.length}   ?\\n( ${(currentSalarySettings.taxRate * 100).toFixed(1)}%   )`\r\n      )\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setIsPayingSalary(true);\r\n\r\n    try {\r\n      const result = await batchPaySalariesMutation.mutateAsync({\r\n        studentIds: selectedStudentIds,\r\n        payAll: false,\r\n      });\r\n\r\n      if (result.success) {\r\n        const { summary } = result;\r\n        alert(\r\n          `  !\\n${summary.totalStudentsPaid}  \\n : ${(\r\n            summary.totalGrossPaid / 10000\r\n          ).toFixed(0)}\\n : ${(\r\n            summary.totalTaxDeducted / 10000\r\n          ).toFixed(0)}\\n : ${(\r\n            summary.totalNetPaid / 10000\r\n          ).toFixed(0)}`\r\n        );\r\n\r\n        //   \r\n        setSelectedStudentIds([]);\r\n        setSelectAllStudents(false);\r\n      } else {\r\n        alert(result.message || \"  .\");\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"[AdminSettingsModal]     :\", error);\r\n      alert(\"    : \" + error.message);\r\n    } finally {\r\n      setIsPayingSalary(false);\r\n    }\r\n  };\r\n\r\n  //     \r\n  const handlePaySalariesToAll = async () => {\r\n    const currentStudents = studentsQuery.data?.students || students;\r\n    const currentSalarySettings = salarySettingsQuery.data?.settings || salarySettings;\r\n\r\n    if (!currentStudents || currentStudents.length === 0) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    if (\r\n      !window.confirm(\r\n        `    ?\\n(   ,  ${(currentSalarySettings.taxRate * 100).toFixed(1)}% )`\r\n      )\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setIsPayingSalary(true);\r\n\r\n    try {\r\n      const result = await batchPaySalariesMutation.mutateAsync({\r\n        studentIds: [], //     \r\n        payAll: true,\r\n      });\r\n\r\n      if (result.success) {\r\n        const { summary } = result;\r\n        alert(\r\n          `  !\\n${summary.totalStudentsPaid}  \\n : ${(\r\n            summary.totalGrossPaid / 10000\r\n          ).toFixed(0)}\\n : ${(\r\n            summary.totalTaxDeducted / 10000\r\n          ).toFixed(0)}\\n : ${(\r\n            summary.totalNetPaid / 10000\r\n          ).toFixed(0)}`\r\n        );\r\n      } else {\r\n        alert(result.message || \"  .\");\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"[AdminSettingsModal]     :\", error);\r\n      alert(\"    : \" + error.message);\r\n    } finally {\r\n      setIsPayingSalary(false);\r\n    }\r\n  };\r\n\r\n  //   \r\n  const loadClassMembers = useCallback(async () => {\r\n    if (!db) {\r\n      logger.error(\r\n        \"loadClassMembers: Firestore   .\"\r\n      );\r\n      setError(\r\n        \"        .\"\r\n      );\r\n      setClassMembers([]);\r\n      setMembersLoading(false);\r\n      return;\r\n    }\r\n\r\n    setMembersLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const usersRef = firebaseCollection(db, \"users\");\r\n      let queryRef;\r\n\r\n      if (!isSuperAdmin && userClassCode) {\r\n        queryRef = firebaseQuery(\r\n          usersRef,\r\n          firebaseWhere(\"classCode\", \"==\", userClassCode)\r\n        );\r\n      } else if (isSuperAdmin) {\r\n        queryRef = usersRef;\r\n      } else {\r\n        logger.warn(\"    .\");\r\n        setError(\"        .\");\r\n        setClassMembers([]);\r\n        setMembersLoading(false);\r\n        return;\r\n      }\r\n\r\n      const querySnapshot = await firebaseGetDocs(queryRef);\r\n      const usersList = [];\r\n\r\n      querySnapshot.forEach((doc) => {\r\n        const userData = doc.data();\r\n        usersList.push({\r\n          id: doc.id,\r\n          name: userData.name || userData.nickname || \" \",\r\n          email: userData.email,\r\n          classCode: userData.classCode || \" \",\r\n          isAdmin: userData.isAdmin || false,\r\n          isSuperAdmin: userData.isSuperAdmin || false,\r\n        });\r\n      });\r\n\r\n      setClassMembers(usersList);\r\n      logger.log(\r\n        `[AdminSettingsModal] ${usersList.length}   `\r\n      );\r\n    } catch (error) {\r\n      logger.error(\"loadClassMembers:    :\", error);\r\n      setError(\r\n        \"     : \" + error.message\r\n      );\r\n      setClassMembers([]);\r\n    } finally {\r\n      setMembersLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSuperAdmin, userClassCode]); // db     \r\n\r\n  //     \r\n  const handleEditStudentJobs = (student) => {\r\n    setSelectedStudent(student);\r\n    setTempSelectedJobIds(\r\n      Array.isArray(student.selectedJobIds) ? [...student.selectedJobIds] : []\r\n    );\r\n    setShowEditStudentJobsModal(true);\r\n  };\r\n\r\n  //   \r\n  const handleToggleJobSelection = (jobId) => {\r\n    setTempSelectedJobIds((prev) => {\r\n      if (prev.includes(jobId)) {\r\n        return prev.filter((id) => id !== jobId);\r\n      } else {\r\n        return [...prev, jobId];\r\n      }\r\n    });\r\n  };\r\n\r\n  //   \r\n  const handleToggleStudentSelection = (studentId) => {\r\n    setSelectedStudentIds((prev) => {\r\n      if (prev.includes(studentId)) {\r\n        return prev.filter((id) => id !== studentId);\r\n      } else {\r\n        return [...prev, studentId];\r\n      }\r\n    });\r\n  };\r\n\r\n  //   \r\n  const handleToggleSelectAll = () => {\r\n    if (selectAllStudents) {\r\n      setSelectedStudentIds([]);\r\n    } else {\r\n      setSelectedStudentIds(\r\n        students.map((student) => student.id).filter((id) => id != null)\r\n      );\r\n    }\r\n    setSelectAllStudents(!selectAllStudents);\r\n  };\r\n\r\n  //   \r\n  const handleSaveStudentJobs = async () => {\r\n    if (!selectedStudent || !db) {\r\n      alert(\"     \");\r\n      return;\r\n    }\r\n\r\n    setAppLoading(true);\r\n\r\n    try {\r\n      const userRef = firebaseDoc(db, \"users\", selectedStudent.id);\r\n      await firebaseUpdateDoc(userRef, {\r\n        selectedJobIds: tempSelectedJobIds,\r\n        updatedAt: serverTimestamp(),\r\n      });\r\n\r\n      setStudents((prevStudents) =>\r\n        prevStudents.map((student) =>\r\n          student.id === selectedStudent.id\r\n            ? { ...student, selectedJobIds: tempSelectedJobIds }\r\n            : student\r\n        )\r\n      );\r\n\r\n      alert(\"   .\");\r\n      setShowEditStudentJobsModal(false);\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      alert(\"     : \" + error.message);\r\n    } finally {\r\n      setAppLoading(false);\r\n    }\r\n  };\r\n\r\n  const adminResetUserPassword = httpsCallable(functions, 'adminResetUserPassword');\r\n\r\n  const handleResetPassword = useCallback(async (userId) => {\r\n    if (!isAdmin && !isSuperAdmin) {\r\n      alert(\"    .\");\r\n      return;\r\n    }\r\n\r\n    const newPassword = prompt(\"  . 6  .\");\r\n\r\n    if (!newPassword || newPassword.length < 6) {\r\n      alert(\" 6  .\");\r\n      return;\r\n    }\r\n\r\n    if (window.confirm(`(ID: ${userId})   ?`)) {\r\n      try {\r\n        setMembersLoading(true);\r\n        const result = await adminResetUserPassword({ userId, newPassword });\r\n        if (result.data.success) {\r\n          alert(result.data.message);\r\n        } else {\r\n          throw new Error(result.data.message || \"   \");\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"  :\", error);\r\n        alert(`    : ${error.message}`);\r\n      } finally {\r\n        setMembersLoading(false);\r\n      }\r\n    }\r\n  }, [isAdmin, isSuperAdmin, adminResetUserPassword]);\r\n\r\n  //   \r\n  const toggleAdminStatus = useCallback(\r\n    async (userId, currentStatus) => {\r\n      if (!db) {\r\n        alert(\"  .\");\r\n        return;\r\n      }\r\n\r\n      if (!isSuperAdmin) {\r\n        alert(\"    /  .\");\r\n        return;\r\n      }\r\n\r\n      if (\r\n        window.confirm(\r\n          `    ${\r\n            currentStatus ? \"\" : \"\"\r\n          }?`\r\n        )\r\n      ) {\r\n        setMembersLoading(true);\r\n\r\n        try {\r\n          const userRef = firebaseDoc(db, \"users\", userId);\r\n          await firebaseUpdateDoc(userRef, { isAdmin: !currentStatus });\r\n\r\n          setClassMembers((prevMembers) =>\r\n            prevMembers.map((member) =>\r\n              member.id === userId\r\n                ? { ...member, isAdmin: !currentStatus }\r\n                : member\r\n            )\r\n          );\r\n\r\n          alert(`  ${!currentStatus ? \"\" : \"\"}.`);\r\n        } catch (error) {\r\n          logger.error(\"   :\", error);\r\n          alert(\"     .\");\r\n        } finally {\r\n          setMembersLoading(false);\r\n        }\r\n      }\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [isSuperAdmin] // db     \r\n  );\r\n\r\n  // ========================================\r\n  //    \r\n  // ========================================\r\n\r\n  //   \r\n  const loadFinancialProducts = useCallback(() => {\r\n    try {\r\n      const savedDeposit = localStorage.getItem(\"depositProducts\");\r\n      const savedSaving = localStorage.getItem(\"savingProducts\");\r\n      const savedLoan = localStorage.getItem(\"loanProducts\");\r\n\r\n      if (savedDeposit) setDepositProducts(JSON.parse(savedDeposit));\r\n      if (savedSaving) setSavingProducts(JSON.parse(savedSaving));\r\n      if (savedLoan) setLoanProducts(JSON.parse(savedLoan));\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n    }\r\n  }, []);\r\n\r\n  //   \r\n  const handleAddProduct = useCallback(() => {\r\n    if (!newProductName || newProductName.trim() === \"\") {\r\n      setFinancialMessage({ type: \"error\", text: \" .\" });\r\n      return;\r\n    }\r\n    if (!newProductPeriod || isNaN(newProductPeriod) || parseInt(newProductPeriod) <= 0) {\r\n      setFinancialMessage({ type: \"error\", text: \"  .\" });\r\n      return;\r\n    }\r\n    if (!newProductRate || isNaN(newProductRate) || parseFloat(newProductRate) < 0) {\r\n      setFinancialMessage({ type: \"error\", text: \"  .\" });\r\n      return;\r\n    }\r\n\r\n    const newProduct = {\r\n      id: Date.now(),\r\n      name: newProductName.trim(),\r\n      period: parseInt(newProductPeriod),\r\n      rate: parseFloat(newProductRate),\r\n    };\r\n\r\n    const typeText = financialSubTab === \"deposit\" ? \"\" : financialSubTab === \"saving\" ? \"\" : \"\";\r\n    let updatedProducts = [];\r\n    let storageKey = \"\";\r\n\r\n    if (financialSubTab === \"deposit\") {\r\n      updatedProducts = [...depositProducts, newProduct];\r\n      setDepositProducts(updatedProducts);\r\n      storageKey = \"depositProducts\";\r\n    } else if (financialSubTab === \"saving\") {\r\n      updatedProducts = [...savingProducts, newProduct];\r\n      setSavingProducts(updatedProducts);\r\n      storageKey = \"savingProducts\";\r\n    } else if (financialSubTab === \"loan\") {\r\n      updatedProducts = [...loanProducts, newProduct];\r\n      setLoanProducts(updatedProducts);\r\n      storageKey = \"loanProducts\";\r\n    }\r\n\r\n    localStorage.setItem(storageKey, JSON.stringify(updatedProducts));\r\n    setFinancialMessage({ type: \"success\", text: `${typeText}  .` });\r\n    setNewProductName(\"\");\r\n    setNewProductPeriod(\"\");\r\n    setNewProductRate(\"\");\r\n    setTimeout(() => setFinancialMessage(null), 3000);\r\n  }, [newProductName, newProductPeriod, newProductRate, financialSubTab, depositProducts, savingProducts, loanProducts]);\r\n\r\n  //   \r\n  const handleDeleteProduct = useCallback((id, type) => {\r\n    const typeText = type === \"deposit\" ? \"\" : type === \"saving\" ? \"\" : \"\";\r\n\r\n    if (!window.confirm(` ${typeText}  ?`)) return;\r\n\r\n    let updatedProducts = [];\r\n    let storageKey = \"\";\r\n\r\n    if (type === \"deposit\") {\r\n      updatedProducts = depositProducts.filter((p) => p.id !== id);\r\n      setDepositProducts(updatedProducts);\r\n      storageKey = \"depositProducts\";\r\n    } else if (type === \"saving\") {\r\n      updatedProducts = savingProducts.filter((p) => p.id !== id);\r\n      setSavingProducts(updatedProducts);\r\n      storageKey = \"savingProducts\";\r\n    } else if (type === \"loan\") {\r\n      updatedProducts = loanProducts.filter((p) => p.id !== id);\r\n      setLoanProducts(updatedProducts);\r\n      storageKey = \"loanProducts\";\r\n    }\r\n\r\n    localStorage.setItem(storageKey, JSON.stringify(updatedProducts));\r\n    setFinancialMessage({ type: \"success\", text: `${typeText}  .` });\r\n    setTimeout(() => setFinancialMessage(null), 3000);\r\n  }, [depositProducts, savingProducts, loanProducts]);\r\n\r\n  // ========================================\r\n  //   \r\n  // ========================================\r\n\r\n  //   \r\n  const fetchMarketStatus = useCallback(async (forceRefresh = false) => {\r\n    if (!userClassCode) return;\r\n\r\n    //  \r\n    if (!forceRefresh && marketStatusCache.current && isMarketDataLoaded) {\r\n      setMarketStatus(marketStatusCache.current);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const marketStatusRef = doc(db, `ClassStock/${userClassCode}/marketStatus/status`);\r\n      const docSnap = await getDoc(marketStatusRef);\r\n\r\n      let statusData;\r\n      if (docSnap.exists()) {\r\n        statusData = docSnap.data();\r\n      } else {\r\n        statusData = { isOpen: false };\r\n        await setDoc(marketStatusRef, statusData);\r\n      }\r\n\r\n      marketStatusCache.current = statusData;\r\n      setMarketStatus(statusData);\r\n      setIsMarketDataLoaded(true);\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      setMarketMessage(\"    .\");\r\n    }\r\n  }, [userClassCode, isMarketDataLoaded]);\r\n\r\n  //  / \r\n  const handleMarketControl = useCallback(async (newIsOpenState) => {\r\n    const actionText = newIsOpenState ? ' ' : ' ';\r\n    if (!window.confirm(`  '${actionText}'  ?`)) return;\r\n\r\n    try {\r\n      //  \r\n      const optimisticStatus = { isOpen: newIsOpenState };\r\n      setMarketStatus(optimisticStatus);\r\n      marketStatusCache.current = optimisticStatus;\r\n\r\n      const result = await toggleMarketManually({\r\n        classCode: userClassCode,\r\n        isOpen: newIsOpenState\r\n      });\r\n\r\n      setMarketMessage(result.data.message);\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      setMarketMessage(` : ${error.message}`);\r\n\r\n      // \r\n      if (marketStatusCache.current) {\r\n        setMarketStatus(marketStatusCache.current);\r\n      } else {\r\n        fetchMarketStatus(true);\r\n      }\r\n    }\r\n    setTimeout(() => setMarketMessage(''), 5000);\r\n  }, [userClassCode, toggleMarketManually, fetchMarketStatus]);\r\n\r\n  //   \r\n  const handleInitializeStocks = useCallback(async () => {\r\n    if (!window.confirm(\"     ?     .\")) return;\r\n\r\n    try {\r\n      const batch = writeBatch(db);\r\n\r\n      initialStocks.forEach((stock) => {\r\n        const stockRef = doc(db, \"CentralStocks\", stock.id);\r\n        batch.set(stockRef, stock);\r\n      });\r\n\r\n      await batch.commit();\r\n      alert(\"   .\");\r\n      setMarketMessage(\"   .\");\r\n    } catch (error) {\r\n      logger.error(\"     :\", error);\r\n      setMarketMessage(` : ${error.message}`);\r\n    }\r\n    setTimeout(() => setMarketMessage(''), 5000);\r\n  }, []);\r\n\r\n  // ========================================\r\n  //   \r\n  // ========================================\r\n\r\n  //   \r\n  const loadParkingRate = useCallback(() => {\r\n    const savedRate = localStorage.getItem(\"parkingInterestRate\");\r\n    if (savedRate) {\r\n      setParkingInterestRate(parseFloat(savedRate));\r\n    }\r\n  }, []);\r\n\r\n  //   \r\n  const handleParkingRateChange = useCallback(() => {\r\n    if (!newInterestRate || isNaN(newInterestRate) || parseFloat(newInterestRate) < 0) {\r\n      setParkingMessage({ type: \"error\", text: \"   (0 ).\" });\r\n      return;\r\n    }\r\n\r\n    const rate = parseFloat(newInterestRate);\r\n    setParkingInterestRate(rate);\r\n    localStorage.setItem(\"parkingInterestRate\", rate.toString());\r\n\r\n    setParkingMessage({ type: \"success\", text: `    ${rate}% .` });\r\n    setNewInterestRate(\"\");\r\n    setTimeout(() => setParkingMessage(null), 3000);\r\n  }, [newInterestRate]);\r\n\r\n  //   \r\n  const handleAddClassCode = useCallback(async () => {\r\n    if (!onAddClassCode || typeof onAddClassCode !== \"function\") {\r\n      alert(\"      .\");\r\n      return;\r\n    }\r\n\r\n    const codeToAdd = newClassCode.trim();\r\n    if (!codeToAdd) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    setClassCodeOperationLoading(true);\r\n\r\n    try {\r\n      const success = await onAddClassCode(codeToAdd);\r\n      if (success) {\r\n        setNewClassCode(\"\");\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"AdminSettingsModal:     :\", error);\r\n    } finally {\r\n      setClassCodeOperationLoading(false);\r\n    }\r\n  }, [newClassCode, onAddClassCode]);\r\n\r\n  //   \r\n  const handleRemoveClassCode = useCallback(\r\n    async (codeToRemove) => {\r\n      if (!onRemoveClassCode || typeof onRemoveClassCode !== \"function\") {\r\n        alert(\"      .\");\r\n        return;\r\n      }\r\n\r\n      setClassCodeOperationLoading(true);\r\n\r\n      try {\r\n        await onRemoveClassCode(codeToRemove);\r\n      } catch (error) {\r\n        logger.error(\"AdminSettingsModal:     :\", error);\r\n      } finally {\r\n        setClassCodeOperationLoading(false);\r\n      }\r\n    },\r\n    [onRemoveClassCode]\r\n  );\r\n\r\n  //   \r\n  useEffect(() => {\r\n    if (showAdminSettingsModal) {\r\n      //   (   )\r\n      preloadAdminData();\r\n      setError(\"\");\r\n\r\n      //      \r\n      loadFinancialProducts();\r\n      loadParkingRate();\r\n    }\r\n\r\n    if (!showAdminSettingsModal) {\r\n      setNewClassCode(\"\");\r\n      setClassMembers([]);\r\n      setStudents([]);\r\n      setSelectedStudent(null);\r\n      setTempSelectedJobIds([]);\r\n      setShowEditStudentJobsModal(false);\r\n      setLastSalaryPaidDate(null);\r\n      setSelectedStudentIds([]);\r\n      setSelectAllStudents(false);\r\n      setClassCodeOperationLoading(false);\r\n      setMembersLoading(false);\r\n      setStudentsLoading(false);\r\n      setAppLoading(false);\r\n      setError(\"\");\r\n      // //  \r\n      setFinancialMessage(null);\r\n      setMarketMessage('');\r\n      setParkingMessage(null);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [\r\n    showAdminSettingsModal,\r\n    adminSelectedMenu,\r\n    loadClassMembers,\r\n    loadStudents,\r\n    loadSalarySettings,\r\n    loadFinancialProducts,\r\n    loadParkingRate,\r\n  ]); // preloadAdminData  adminSelectedMenu  loadClassMembers, loadStudents, loadSalarySettings    \r\n\r\n  //   ID     ( )\r\n  useEffect(() => {\r\n    const mapping = {\r\n      taskManagement: ['jobAndTask', () => setJobTaskSubTab('task')],\r\n      jobSettings: ['jobAndTask', () => setJobTaskSubTab('job')],\r\n      studentManagement: ['studentAndMember', () => setStudentMemberSubTab('student')],\r\n      salarySettings: ['studentAndMember', () => setStudentMemberSubTab('salary')],\r\n      memberManagement: ['studentAndMember', () => setStudentMemberSubTab('member')],\r\n      financialProducts: ['financeAndMarket', () => setFinanceMarketSubTab('financial')],\r\n      parkingAccount: ['financeAndMarket', () => setFinanceMarketSubTab('parking')],\r\n      marketControl: ['financeAndMarket', () => setFinanceMarketSubTab('market')],\r\n      databaseManagement: ['system', () => setSystemSubTab('database')],\r\n      systemManagement: ['system', () => setSystemSubTab('system')],\r\n    };\r\n    const mapped = mapping[adminSelectedMenu];\r\n    if (mapped) {\r\n      setAdminSelectedMenu(mapped[0]);\r\n      mapped[1]();\r\n    }\r\n  }, [adminSelectedMenu, setAdminSelectedMenu]);\r\n\r\n  //       \r\n  useEffect(() => {\r\n    if (showAdminSettingsModal && adminSelectedMenu === 'studentAndMember' && studentMemberSubTab === 'student') {\r\n      loadStudents();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [showAdminSettingsModal, adminSelectedMenu, studentMemberSubTab]);\r\n\r\n  //       \r\n  useEffect(() => {\r\n    if (showAdminSettingsModal && adminSelectedMenu === 'studentAndMember' && studentMemberSubTab === 'member') {\r\n      loadClassMembers();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [showAdminSettingsModal, adminSelectedMenu, studentMemberSubTab]);\r\n\r\n  //       \r\n  useEffect(() => {\r\n    if (showAdminSettingsModal && adminSelectedMenu === 'financeAndMarket' && financeMarketSubTab === 'market') {\r\n      fetchMarketStatus();\r\n    }\r\n  }, [showAdminSettingsModal, adminSelectedMenu, financeMarketSubTab, fetchMarketStatus]);\r\n\r\n  //    \r\n  const formatLastSalaryDate = () => {\r\n    if (!lastSalaryPaidDate) return \"   \";\r\n\r\n    try {\r\n      const date = lastSalaryPaidDate;\r\n      return `${date.getFullYear()} ${String(date.getMonth() + 1).padStart(\r\n        2,\r\n        \"0\"\r\n      )} ${String(date.getDate()).padStart(2, \"0\")} ${String(\r\n        date.getHours()\r\n      ).padStart(2, \"0\")}:${String(date.getMinutes()).padStart(2, \"0\")}`;\r\n    } catch (e) {\r\n      logger.error(\"formatLastSalaryDate :\", e);\r\n      return \"  \";\r\n    }\r\n  };\r\n\r\n  if (!showAdminSettingsModal) return null;\r\n\r\n  if (!isAdmin && !isSuperAdmin) {\r\n    return (\r\n      <div className=\"admin-settings-modal show\">\r\n        <div className=\"admin-settings-content\">\r\n          <h2> </h2>\r\n          <p>   .</p>\r\n          <button\r\n            onClick={() => setShowAdminSettingsModal(false)}\r\n            className=\"admin-cancel-button\"\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`admin-settings-modal ${showAdminSettingsModal ? \"show\" : \"\"}`}\r\n    >\r\n      <div className=\"admin-settings-content\">\r\n        <h2>\r\n           {\" \"}\r\n          {isSuperAdmin && (\r\n            <span className=\"super-admin-badge\">( )</span>\r\n          )}\r\n        </h2>\r\n        {!isSuperAdmin && userClassCode && (\r\n          <p className=\"admin-class-info\"> : {userClassCode}</p>\r\n        )}\r\n\r\n        {/* ========================================\r\n               v2.0\r\n            - (isSuperAdmin):    \r\n            - (isAdmin):       \r\n            ======================================== */}\r\n        <div className=\"admin-menu-tabs flex flex-wrap gap-2.5 p-4 rounded-2xl border border-gray-700\" style={{ background: 'linear-gradient(135deg, #16213e 0%, #1a1a2e 100%)' }}>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"generalSettings\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"generalSettings\")}\r\n          >\r\n              \r\n          </button>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"jobAndTask\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"jobAndTask\")}\r\n          >\r\n             /\r\n          </button>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"studentAndMember\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"studentAndMember\")}\r\n          >\r\n             /\r\n          </button>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"financeAndMarket\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"financeAndMarket\")}\r\n          >\r\n             /\r\n          </button>\r\n          <button\r\n            className={`px-4 py-2.5 rounded-2xl text-[13px] whitespace-nowrap ${adminSelectedMenu === \"system\" ? \"active\" : \"\"}`}\r\n            onClick={() => setAdminSelectedMenu(\"system\")}\r\n          >\r\n             \r\n          </button>\r\n        </div>\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"generalSettings\" && (\r\n          <div className=\"general-settings-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"admin-goal-settings section-card\">\r\n              <h3>    </h3>\r\n              <div className=\"form-group\">\r\n                <label>   :</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  value={newGoalAmount || \"\"}\r\n                  onChange={(e) =>\r\n                    setNewGoalAmount && setNewGoalAmount(e.target.value)\r\n                  }\r\n                  className=\"admin-input\"\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>  ():</label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  value={adminCouponValue || \"\"}\r\n                  onChange={(e) =>\r\n                    setAdminCouponValue && setAdminCouponValue(e.target.value)\r\n                  }\r\n                  className=\"admin-input\"\r\n                />\r\n              </div>\r\n              <button\r\n                onClick={handleSaveAdminSettings}\r\n                className=\"admin-save-button\"\r\n              >\r\n                \r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ===== /   ===== */}\r\n        {adminSelectedMenu === \"jobAndTask\" && (\r\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${jobTaskSubTab === 'job' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setJobTaskSubTab('job')}\r\n            >\r\n               \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${jobTaskSubTab === 'task' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setJobTaskSubTab('task')}\r\n            >\r\n               \r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"jobAndTask\" && jobTaskSubTab === \"task\" && (\r\n          <div className=\"task-management-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"admin-tasks-settings section-card\">\r\n              <h3> </h3>\r\n              <p className=\"admin-section-desc\">\r\n                    .\r\n              </p>\r\n\r\n              {showAddTaskForm ? (\r\n                <div className=\"add-task-form\">\r\n                  <h4>{adminEditingTask ? \" \" : \"  \"}</h4>\r\n                  <p>\r\n                    {taskFormIsJobTask && jobs && taskFormJobId\r\n                      ? `: ${\r\n                          jobs.find((j) => j.id === taskFormJobId)?.title ||\r\n                          \"   \"\r\n                        }`\r\n                      : \" \"}\r\n                  </p>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label> :</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={adminNewTaskName}\r\n                      onChange={(e) => setAdminNewTaskName(e.target.value)}\r\n                      placeholder=\"  \"\r\n                      className=\"admin-input\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label> ():</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={adminNewTaskReward}\r\n                      onChange={(e) => setAdminNewTaskReward(e.target.value)}\r\n                      placeholder=\" \"\r\n                      className=\"admin-input\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label>  :</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      value={adminNewTaskMaxClicks}\r\n                      onChange={(e) => setAdminNewTaskMaxClicks(e.target.value)}\r\n                      placeholder=\"  \"\r\n                      className=\"admin-input\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\" style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\" }}>\r\n                    <label style={{ cursor: \"pointer\", display: \"flex\", alignItems: \"center\", gap: \"8px\", margin: 0 }}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={adminNewTaskRequiresApproval || false}\r\n                        onChange={(e) => setAdminNewTaskRequiresApproval(e.target.checked)}\r\n                        style={{ width: \"18px\", height: \"18px\", cursor: \"pointer\" }}\r\n                      />\r\n                      <span>  ( )</span>\r\n                    </label>\r\n                    {adminNewTaskRequiresApproval && (\r\n                      <span style={{ fontSize: \"12px\", color: \"#f59e0b\", fontWeight: \"500\" }}>\r\n                               \r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"task-form-buttons\">\r\n                    <button\r\n                      onClick={() => {\r\n                        logger.log(\"[AdminSettingsModal]    \");\r\n                        if (\r\n                          handleSaveTask &&\r\n                          typeof handleSaveTask === \"function\"\r\n                        ) {\r\n                          handleSaveTask();\r\n                        } else {\r\n                          logger.error(\r\n                            \"[AdminSettingsModal] handleSaveTask   .\"\r\n                          );\r\n                          alert(\"     .\");\r\n                        }\r\n                      }}\r\n                      className=\"admin-save-button\"\r\n                    >\r\n                      {adminEditingTask ? \"\" : \"\"}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowAddTaskForm(false);\r\n                        setAdminEditingTask(null);\r\n                      }}\r\n                      className=\"admin-cancel-button\"\r\n                    >\r\n                      \r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"task-management\">\r\n                  <div className=\"task-management-buttons\">\r\n                    <button\r\n                      onClick={() => {\r\n                        logger.log(\r\n                          \"[AdminSettingsModal]     \"\r\n                        );\r\n                        handleTaskAdd(null, false);\r\n                      }}\r\n                      className=\"admin-button\"\r\n                    >\r\n                        \r\n                    </button>\r\n                    <select\r\n                      onChange={(e) => {\r\n                        if (e.target.value) {\r\n                          logger.log(\r\n                            \"[AdminSettingsModal]    :\",\r\n                            e.target.value\r\n                          );\r\n                          handleTaskAdd(e.target.value, true);\r\n                        }\r\n                      }}\r\n                      className=\"job-select\"\r\n                      value=\"\"\r\n                    >\r\n                      <option value=\"\">  ...</option>\r\n                      {Array.isArray(jobs) &&\r\n                        jobs.map((job) => (\r\n                          <option key={job.id} value={job.id}>\r\n                            {job.title}  \r\n                          </option>\r\n                        ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/*    */}\r\n                  <div className=\"tasks-by-job\">\r\n                    <h4> </h4>\r\n                    {Array.isArray(jobs) && jobs.length > 0 ? (\r\n                      jobs.map((job) => (\r\n                        <div key={job.id} className=\"job-tasks\">\r\n                          <h5>{job.title}</h5>\r\n                          {Array.isArray(job.tasks) && job.tasks.length > 0 ? (\r\n                            <ul className=\"admin-tasks\">\r\n                              {job.tasks.map((task) => (\r\n                                <li key={task.id} className=\"admin-task-item\">\r\n                                  <div className=\"task-info\">\r\n                                    <span className=\"task-name\">\r\n                                      {task.name}\r\n                                      {task.requiresApproval && (\r\n                                        <span style={{ marginLeft: \"6px\", fontSize: \"11px\", color: \"#f59e0b\", fontWeight: \"bold\" }}>\r\n                                          []\r\n                                        </span>\r\n                                      )}\r\n                                    </span>\r\n                                    <span className=\"task-reward\">\r\n                                      : {task.reward || 0} \r\n                                    </span>\r\n                                    <span className=\"task-clicks\">\r\n                                      : {task.clicks || 0}/\r\n                                      {task.maxClicks || 5}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"task-actions\">\r\n                                    <button\r\n                                      onClick={() => {\r\n                                        logger.log(\r\n                                          \"[AdminSettingsModal]     :\",\r\n                                          task,\r\n                                          job.id\r\n                                        );\r\n                                        handleTaskEdit(task, job.id);\r\n                                      }}\r\n                                      className=\"edit-button\"\r\n                                    >\r\n                                      \r\n                                    </button>\r\n                                    <button\r\n                                      onClick={() => {\r\n                                        logger.log(\r\n                                          \"[AdminSettingsModal]     :\",\r\n                                          task.id,\r\n                                          job.id\r\n                                        );\r\n                                        handleTaskDelete(task.id, job.id);\r\n                                      }}\r\n                                      className=\"delete-button\"\r\n                                    >\r\n                                      \r\n                                    </button>\r\n                                  </div>\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          ) : (\r\n                            <p className=\"no-items-message\">\r\n                                  .\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <p className=\"no-items-message\">  .</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/*    */}\r\n                  <div className=\"common-tasks\">\r\n                    <h4> </h4>\r\n                    {Array.isArray(commonTasks) && commonTasks.length > 0 ? (\r\n                      <ul className=\"admin-tasks\">\r\n                        {commonTasks.map((task) => (\r\n                          <li key={task.id} className=\"admin-task-item\">\r\n                            <div className=\"task-info\">\r\n                              <span className=\"task-name\">\r\n                                {task.name}\r\n                                {task.requiresApproval && (\r\n                                  <span style={{ marginLeft: \"6px\", fontSize: \"11px\", color: \"#f59e0b\", fontWeight: \"bold\" }}>\r\n                                    []\r\n                                  </span>\r\n                                )}\r\n                              </span>\r\n                              <span className=\"task-reward\">\r\n                                : {task.reward || 0} \r\n                              </span>\r\n                              <span className=\"task-clicks\">\r\n                                : {task.clicks || 0}/{task.maxClicks || 5}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"task-actions\">\r\n                              <button\r\n                                onClick={() => {\r\n                                  logger.log(\r\n                                    \"[AdminSettingsModal]     :\",\r\n                                    task\r\n                                  );\r\n                                  handleTaskEdit(task);\r\n                                }}\r\n                                className=\"edit-button\"\r\n                              >\r\n                                \r\n                              </button>\r\n                              <button\r\n                                onClick={() => {\r\n                                  logger.log(\r\n                                    \"[AdminSettingsModal]     :\",\r\n                                    task.id\r\n                                  );\r\n                                  handleTaskDelete(task.id);\r\n                                }}\r\n                                className=\"delete-button\"\r\n                              >\r\n                                \r\n                              </button>\r\n                            </div>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    ) : (\r\n                      <p className=\"no-items-message\">\r\n                           .\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"jobAndTask\" && jobTaskSubTab === \"job\" && (\r\n          <div className=\"job-settings-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"admin-jobs-settings section-card\">\r\n              <h3> </h3>\r\n              <div className=\"add-job-form\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={adminNewJobTitle}\r\n                  onChange={(e) => setAdminNewJobTitle(e.target.value)}\r\n                  placeholder={adminEditingJob ? \" \" : \"  \"}\r\n                  className=\"admin-input\"\r\n                />\r\n                <button\r\n                  onClick={() => {\r\n                    logger.log(\"[AdminSettingsModal]    \");\r\n                    if (handleSaveJob && typeof handleSaveJob === \"function\") {\r\n                      handleSaveJob();\r\n                    } else {\r\n                      logger.error(\r\n                        \"[AdminSettingsModal] handleSaveJob   .\"\r\n                      );\r\n                      alert(\"     .\");\r\n                    }\r\n                  }}\r\n                  className=\"admin-save-button\"\r\n                >\r\n                  {adminEditingJob ? \"\" : \"\"}\r\n                </button>\r\n                {adminEditingJob && (\r\n                  <button\r\n                    onClick={() => {\r\n                      setAdminEditingJob(null);\r\n                      setAdminNewJobTitle(\"\");\r\n                    }}\r\n                    className=\"admin-cancel-button\"\r\n                  >\r\n                    \r\n                  </button>\r\n                )}\r\n              </div>\r\n              <div className=\"jobs-list\">\r\n                <h4>  </h4>\r\n                {jobs && jobs.length > 0 ? (\r\n                  <ul className=\"admin-jobs\">\r\n                    {jobs.map((job) => (\r\n                      <li key={job.id} className=\"admin-job-item\">\r\n                        <span className=\"job-title\">{job.title}</span>\r\n                        <div className=\"job-actions\">\r\n                          <button\r\n                            onClick={() => {\r\n                              logger.log(\r\n                                \"[AdminSettingsModal]    :\",\r\n                                job\r\n                              );\r\n                              handleJobEdit(job);\r\n                            }}\r\n                            className=\"edit-button\"\r\n                          >\r\n                            \r\n                          </button>\r\n                          <button\r\n                            onClick={() => {\r\n                              logger.log(\r\n                                \"[AdminSettingsModal]    :\",\r\n                                job.id\r\n                              );\r\n                              handleJobDelete(job.id);\r\n                            }}\r\n                            className=\"delete-button\"\r\n                          >\r\n                            \r\n                          </button>\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                ) : (\r\n                  <p className=\"no-items-message\">  .</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ===== /   ===== */}\r\n        {adminSelectedMenu === \"studentAndMember\" && (\r\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === 'student' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setStudentMemberSubTab('student')}\r\n            >\r\n              / \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === 'salary' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setStudentMemberSubTab('salary')}\r\n            >\r\n               \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${studentMemberSubTab === 'member' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setStudentMemberSubTab('member')}\r\n            >\r\n               \r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"studentAndMember\" && studentMemberSubTab === \"student\" && (\r\n          <div className=\"student-management-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"student-jobs-settings section-card\">\r\n              <h3> </h3>\r\n              {error && <p className=\"error-message\">{error}</p>}\r\n              <p className=\"admin-section-desc\">\r\n                   .    \r\n                 .\r\n              </p>\r\n\r\n              <div className=\"salary-management\">\r\n                <div className=\"salary-info\">\r\n                  <h4>  </h4>\r\n                  <p> : 200,  : 50</p>\r\n                  <p>: {(salarySettings.taxRate * 100).toFixed(1)}%</p>\r\n                  <p> : {(salarySettings.salaryIncreaseRate * 100).toFixed(1)}% ()</p>\r\n                  <p>  : {formatLastSalaryDate()}</p>\r\n                  <p className=\"auto-payment-info\">\r\n                       :    8 (  )\r\n                  </p>\r\n                </div>\r\n                <div className=\"salary-buttons\">\r\n                  <button\r\n                    className=\"admin-button pay-salary-button\"\r\n                    onClick={handlePaySalariesToAll}\r\n                    disabled={isPayingSalary || studentsLoading}\r\n                  >\r\n                    {isPayingSalary ? \"  ...\" : \"   \"}\r\n                  </button>\r\n                  <button\r\n                    className=\"admin-button pay-selected-salary-button\"\r\n                    onClick={handlePaySalariesToSelected}\r\n                    disabled={\r\n                      isPayingSalary ||\r\n                      studentsLoading ||\r\n                      selectedStudentIds.length === 0\r\n                    }\r\n                  >\r\n                    {isPayingSalary\r\n                      ? \"  ...\"\r\n                      : ` (${selectedStudentIds.length})  `}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"student-jobs-container\">\r\n                <div className=\"student-list-header\">\r\n                  <h4>\r\n                     {\" \"}\r\n                    {!isSuperAdmin && userClassCode && `(${userClassCode} )`}\r\n                  </h4>\r\n                  <button\r\n                    onClick={loadStudents}\r\n                    className=\"admin-button\"\r\n                    disabled={studentsLoading}\r\n                  >\r\n                    {studentsLoading ? \" ...\" : \"  \"}\r\n                  </button>\r\n                </div>\r\n                {studentsLoading ? (\r\n                  <p>   ...</p>\r\n                ) : students.length > 0 ? (\r\n                  <div className=\"members-table-container\">\r\n                    <table className=\"members-table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={selectAllStudents}\r\n                              onChange={handleToggleSelectAll}\r\n                              disabled={students.length === 0}\r\n                            />\r\n                          </th>\r\n                          <th> </th>\r\n                          <th></th>\r\n                          <th></th>\r\n                          <th> </th>\r\n                          <th> </th>\r\n                          <th> </th>\r\n                          <th></th>\r\n                          <th> </th>\r\n                          <th> </th>\r\n                          <th></th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {students.map((student) => {\r\n                          const salaryCalc = calculateSalary(student.selectedJobIds, true);\r\n                          return (\r\n                            <tr\r\n                              key={student.id}\r\n                              className={\r\n                                selectedStudentIds.includes(student.id)\r\n                                  ? \"selected-student-row\"\r\n                                  : \"\"\r\n                              }\r\n                            >\r\n                              <td>\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  checked={selectedStudentIds.includes(student.id)}\r\n                                  onChange={() =>\r\n                                    handleToggleStudentSelection(student.id)\r\n                                  }\r\n                                />\r\n                              </td>\r\n                              <td>\r\n                                {student.nickname || student.name || \" \"}\r\n                              </td>\r\n                              <td>{student.email || \"-\"}</td>\r\n                              <td>{student.classCode || \"\"}</td>\r\n                              <td>\r\n                                {Array.isArray(student.selectedJobIds) &&\r\n                                student.selectedJobIds.length > 0 ? (\r\n                                  student.selectedJobIds\r\n                                    .map((jobId) => {\r\n                                      const job = Array.isArray(jobs)\r\n                                        ? jobs.find((j) => j.id === jobId)\r\n                                        : null;\r\n                                      return job ? job.title : null;\r\n                                    })\r\n                                    .filter(Boolean)\r\n                                    .join(\", \")\r\n                                ) : (\r\n                                  <span className=\"no-jobs\"> </span>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"salary-column\">\r\n                                {`${(salaryCalc.gross / 10000).toFixed(0)}`}\r\n                              </td>\r\n                              <td className=\"tax-column\">\r\n                                {`${(salaryCalc.tax / 10000).toFixed(0)}`}\r\n                              </td>\r\n                              <td className=\"net-salary-column\">\r\n                                {`${(salaryCalc.net / 10000).toFixed(0)}`}\r\n                              </td>\r\n                              <td className=\"cash-column\">\r\n                                {(student.cash || 0).toLocaleString()}\r\n                              </td>\r\n                              <td>\r\n                                {student.lastSalaryDate\r\n                                  ? student.lastSalaryDate.toLocaleDateString()\r\n                                  : \"\"}\r\n                              </td>\r\n                              <td>\r\n                                <button\r\n                                  className=\"edit-button\"\r\n                                  onClick={() => handleEditStudentJobs(student)}\r\n                                >\r\n                                   \r\n                                </button>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"no-items-message\">\r\n                    {!isSuperAdmin && !userClassCode\r\n                      ? \"   .\"\r\n                      : \"  .\"}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ===== /   ===== */}\r\n        {adminSelectedMenu === \"financeAndMarket\" && (\r\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === 'financial' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setFinanceMarketSubTab('financial')}\r\n            >\r\n               \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === 'parking' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setFinanceMarketSubTab('parking')}\r\n            >\r\n               \r\n            </button>\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${financeMarketSubTab === 'market' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setFinanceMarketSubTab('market')}\r\n            >\r\n               \r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"financeAndMarket\" && financeMarketSubTab === \"financial\" && (\r\n          <div className=\"financial-products-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"financial-products-settings section-card\">\r\n              <h3>  </h3>\r\n              <p className=\"admin-section-desc\">\r\n                , ,    .\r\n              </p>\r\n\r\n              {/*     */}\r\n              <div className=\"financial-sub-tabs flex gap-2 mb-4\">\r\n                <button\r\n                  className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === 'deposit' ? 'active' : ''}`}\r\n                  onClick={() => setFinancialSubTab('deposit')}\r\n                  style={{\r\n                    border: financialSubTab === 'deposit' ? '2px solid #4f46e5' : '1px solid #374151',\r\n                    background: financialSubTab === 'deposit' ? '#4f46e5' : 'transparent',\r\n                    color: financialSubTab === 'deposit' ? 'white' : '#9ca3af',\r\n                  }}\r\n                >\r\n                   \r\n                </button>\r\n                <button\r\n                  className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === 'saving' ? 'active' : ''}`}\r\n                  onClick={() => setFinancialSubTab('saving')}\r\n                  style={{\r\n                    border: financialSubTab === 'saving' ? '2px solid #4f46e5' : '1px solid #374151',\r\n                    background: financialSubTab === 'saving' ? '#4f46e5' : 'transparent',\r\n                    color: financialSubTab === 'saving' ? 'white' : '#9ca3af',\r\n                  }}\r\n                >\r\n                   \r\n                </button>\r\n                <button\r\n                  className={`sub-tab-button px-4 py-2 rounded-lg cursor-pointer font-semibold ${financialSubTab === 'loan' ? 'active' : ''}`}\r\n                  onClick={() => setFinancialSubTab('loan')}\r\n                  style={{\r\n                    border: financialSubTab === 'loan' ? '2px solid #4f46e5' : '1px solid #374151',\r\n                    background: financialSubTab === 'loan' ? '#4f46e5' : 'transparent',\r\n                    color: financialSubTab === 'loan' ? 'white' : '#9ca3af',\r\n                  }}\r\n                >\r\n                   \r\n                </button>\r\n              </div>\r\n\r\n              {/*  */}\r\n              {financialMessage && (\r\n                <div\r\n                  className={`message-box ${financialMessage.type} p-3 mb-4 rounded-lg text-white`}\r\n                  style={{\r\n                    background: financialMessage.type === 'success' ? '#065f46' : '#991b1b',\r\n                  }}\r\n                >\r\n                  {financialMessage.text}\r\n                </div>\r\n              )}\r\n\r\n              {/*    */}\r\n              <div className=\"add-product-form p-4 rounded-xl mb-4 bg-gray-700/50\">\r\n                <h4 className=\"mb-3 text-white\">\r\n                  {financialSubTab === 'deposit' ? '' : financialSubTab === 'saving' ? '' : ''}  \r\n                </h4>\r\n                <div className=\"grid grid-cols-3 gap-3 mb-3\">\r\n                  <div>\r\n                    <label className=\"block mb-1 text-gray-400 text-xs\"></label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newProductName}\r\n                      onChange={(e) => setNewProductName(e.target.value)}\r\n                      placeholder=\" \"\r\n                      className=\"admin-input w-full\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block mb-1 text-gray-400 text-xs\"> ()</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={newProductPeriod}\r\n                      onChange={(e) => setNewProductPeriod(e.target.value)}\r\n                      placeholder=\" ()\"\r\n                      min=\"1\"\r\n                      className=\"admin-input w-full\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block mb-1 text-gray-400 text-xs\"> (%)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={newProductRate}\r\n                      onChange={(e) => setNewProductRate(e.target.value)}\r\n                      placeholder=\" (%)\"\r\n                      min=\"0\"\r\n                      step=\"0.1\"\r\n                      className=\"admin-input w-full\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <button onClick={handleAddProduct} className=\"admin-save-button w-full\">\r\n                   \r\n                </button>\r\n              </div>\r\n\r\n              {/*   */}\r\n              <div className=\"product-list\">\r\n                <h4 className=\"mb-3 text-white\">\r\n                  {financialSubTab === 'deposit' ? '' : financialSubTab === 'saving' ? '' : ''}  \r\n                </h4>\r\n                {(() => {\r\n                  const products = financialSubTab === 'deposit' ? depositProducts :\r\n                                   financialSubTab === 'saving' ? savingProducts : loanProducts;\r\n                  if (products.length === 0) {\r\n                    return <p className=\"no-items-message\">  .</p>;\r\n                  }\r\n                  return (\r\n                    <div className=\"members-table-container\">\r\n                      <table className=\"members-table\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th></th>\r\n                            <th> ()</th>\r\n                            <th> (%)</th>\r\n                            <th></th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {products.map((product) => (\r\n                            <tr key={product.id}>\r\n                              <td>{product.name}</td>\r\n                              <td>{product.period}</td>\r\n                              <td>{product.rate}%</td>\r\n                              <td>\r\n                                <button\r\n                                  onClick={() => handleDeleteProduct(product.id, financialSubTab)}\r\n                                  className=\"delete-button\"\r\n                                >\r\n                                  \r\n                                </button>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  );\r\n                })()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"financeAndMarket\" && financeMarketSubTab === \"market\" && (\r\n          <div className=\"market-control-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"market-control-settings section-card\">\r\n              <h3>  </h3>\r\n              <p className=\"admin-section-desc\">\r\n                  /   .\r\n              </p>\r\n\r\n              {/*   */}\r\n              <div className=\"p-4 rounded-xl mb-4 bg-gray-700/50\">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                  <p className=\"text-white\">\r\n                     :{\" \"}\r\n                    <span\r\n                      className=\"font-bold px-3 py-1 rounded-2xl\"\r\n                      style={{\r\n                        color: marketStatus.isOpen ? '#22c55e' : '#ef4444',\r\n                        background: marketStatus.isOpen ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'\r\n                      }}\r\n                    >\r\n                      {marketStatus.isOpen ? ' ' : ' '}\r\n                    </span>\r\n                  </p>\r\n                  <button\r\n                    onClick={() => fetchMarketStatus(true)}\r\n                    className=\"admin-button\"\r\n                    disabled={!userClassCode}\r\n                  >\r\n                    \r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"flex gap-3 mb-4\">\r\n                  <button\r\n                    onClick={() => handleMarketControl(true)}\r\n                    disabled={marketStatus.isOpen}\r\n                    className=\"admin-save-button flex-1\"\r\n                    style={{\r\n                      background: marketStatus.isOpen ? '#374151' : '#22c55e',\r\n                      cursor: marketStatus.isOpen ? 'not-allowed' : 'pointer'\r\n                    }}\r\n                  >\r\n                     \r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleMarketControl(false)}\r\n                    disabled={!marketStatus.isOpen}\r\n                    className=\"admin-cancel-button flex-1\"\r\n                    style={{\r\n                      background: !marketStatus.isOpen ? '#374151' : '#ef4444',\r\n                      cursor: !marketStatus.isOpen ? 'not-allowed' : 'pointer'\r\n                    }}\r\n                  >\r\n                     \r\n                  </button>\r\n                </div>\r\n\r\n                <p className=\"text-xs text-gray-400\">\r\n                          .<br />\r\n                   / (-,  8/ 3)    .\r\n                </p>\r\n              </div>\r\n\r\n              {/*  */}\r\n              {marketMessage && (\r\n                <div className=\"p-3 mb-4 rounded-lg bg-amber-600 text-white text-center\">\r\n                  {marketMessage}\r\n                </div>\r\n              )}\r\n\r\n              {/*   */}\r\n              <div className=\"p-4 rounded-xl bg-red-500/10 border border-red-500/30\">\r\n                <h4 className=\"mb-3 text-red-500\">   </h4>\r\n                <p className=\"text-xs text-gray-400 mb-3\">\r\n                  :          .     .\r\n                </p>\r\n                <button\r\n                  onClick={handleInitializeStocks}\r\n                  className=\"w-full p-3 rounded-lg bg-orange-600 text-white border-0 cursor-pointer font-semibold\"\r\n                >\r\n                     \r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"financeAndMarket\" && financeMarketSubTab === \"parking\" && (\r\n          <div className=\"parking-account-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"parking-account-settings section-card\">\r\n              <h3>   </h3>\r\n              <p className=\"admin-section-desc\">\r\n                    .\r\n              </p>\r\n\r\n              {/*  */}\r\n              {parkingMessage && (\r\n                <div\r\n                  className=\"p-3 mb-4 rounded-lg text-white\"\r\n                  style={{\r\n                    background: parkingMessage.type === 'success' ? '#065f46' : '#991b1b',\r\n                  }}\r\n                >\r\n                  {parkingMessage.text}\r\n                </div>\r\n              )}\r\n\r\n              {/*   */}\r\n              <div className=\"p-4 rounded-xl mb-4 bg-gray-700/50\">\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-gray-400 text-sm\">  </p>\r\n                  <p className=\"text-green-500 text-[32px] font-bold\">\r\n                    {parkingInterestRate}%\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"block mb-2 text-gray-400\">\r\n                       (%)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={newInterestRate}\r\n                    onChange={(e) => setNewInterestRate(e.target.value)}\r\n                    placeholder=\"   (%)\"\r\n                    min=\"0\"\r\n                    step=\"0.01\"\r\n                    className=\"admin-input mb-3\"\r\n                  />\r\n                  <button\r\n                    onClick={handleParkingRateChange}\r\n                    className=\"admin-save-button w-full\"\r\n                    disabled={!newInterestRate || isNaN(newInterestRate) || parseFloat(newInterestRate) < 0}\r\n                  >\r\n                     \r\n                  </button>\r\n                </div>\r\n\r\n                <p className=\"text-xs text-gray-400 mt-3\">\r\n                          .\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"studentAndMember\" && studentMemberSubTab === \"member\" && (\r\n          <div className=\"member-management-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"admin-class-members-container section-card\">\r\n              <h3>  </h3>\r\n              {error && <p className=\"error-message\">{error}</p>}\r\n              <p className=\"admin-section-desc\">\r\n                    .\r\n                {isSuperAdmin && \"        .\"}\r\n              </p>\r\n\r\n              {membersLoading ? (\r\n                <p>   ...</p>\r\n              ) : classMembers.length > 0 ? (\r\n                <div className=\"user-cards-container\">\r\n                  {classMembers.map((member) => (\r\n                    <div key={member.id} className=\"user-card\">\r\n                      <div className=\"user-card-header\">\r\n                        <span className=\"user-card-name\">{member.name}</span>\r\n                        <span className={`user-card-role role-${member.isSuperAdmin ? 'super' : member.isAdmin ? 'admin' : 'student'}`}>\r\n                          {member.isSuperAdmin\r\n                            ? \" \"\r\n                            : member.isAdmin\r\n                            ? \"\"\r\n                            : \"\"}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"user-card-body\">\r\n                        <p><strong>:</strong> {member.email}</p>\r\n                        <p><strong> :</strong> {member.classCode}</p>\r\n                      </div>\r\n                      {isSuperAdmin && (\r\n                        <div className=\"user-card-actions\">\r\n                          {!member.isSuperAdmin && (\r\n                            <button\r\n                              onClick={() =>\r\n                                toggleAdminStatus(member.id, member.isAdmin)\r\n                              }\r\n                              className={`admin-action-button ${\r\n                                member.isAdmin\r\n                                  ? \"remove-admin-button\"\r\n                                  : \"add-admin-button\"\r\n                              }`}\r\n                              disabled={membersLoading}\r\n                            >\r\n                              {member.isAdmin ? \" \" : \" \"}\r\n                            </button>\r\n                          )}\r\n                          <button\r\n                            onClick={() => handleResetPassword(member.id)}\r\n                            className=\"admin-action-button reset-password-button\"\r\n                            disabled={membersLoading}\r\n                          >\r\n                             \r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p className=\"no-members-message\">\r\n                  {!isSuperAdmin && !userClassCode\r\n                    ? \"   .\"\r\n                    : \"   .\"}\r\n                </p>\r\n              )}\r\n\r\n              <div className=\"refresh-members-section\">\r\n                <button\r\n                  onClick={loadClassMembers}\r\n                  className=\"admin-button\"\r\n                  disabled={membersLoading}\r\n                >\r\n                  {membersLoading ? \" ...\" : \"  \"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"studentAndMember\" && studentMemberSubTab === \"salary\" && (\r\n          <div className=\"salary-settings-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            {/*    */}\r\n            <div className=\"salary-settings section-card\">\r\n              <h3> </h3>\r\n              <p className=\"admin-section-desc\">\r\n                   .       8 .\r\n              </p>\r\n\r\n              <div className=\"salary-settings-form\">\r\n                <div className=\"form-group\">\r\n                  <label> (%):</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    step=\"0.1\"\r\n                    value={tempTaxRate}\r\n                    onChange={(e) => setTempTaxRate(e.target.value)}\r\n                    className=\"admin-input\"\r\n                    placeholder=\": 10 (10%)\"\r\n                  />\r\n                  <small className=\"form-help\">\r\n                        .\r\n                  </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>  (%):</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    step=\"0.1\"\r\n                    value={tempSalaryIncreaseRate}\r\n                    onChange={(e) => setTempSalaryIncreaseRate(e.target.value)}\r\n                    className=\"admin-input\"\r\n                    placeholder=\": 3 (3%)\"\r\n                  />\r\n                  <small className=\"form-help\">\r\n                         .\r\n                  </small>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={handleSaveSalarySettings}\r\n                  className=\"admin-save-button\"\r\n                  disabled={salarySettingsLoading}\r\n                >\r\n                  {salarySettingsLoading ? \" ...\" : \"  \"}\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"current-salary-settings\">\r\n                <h4>  </h4>\r\n                <div className=\"settings-display\">\r\n                  <p> : <strong>{(salarySettings.taxRate * 100).toFixed(1)}%</strong></p>\r\n                  <p>  : <strong>{(salarySettings.salaryIncreaseRate * 100).toFixed(1)}%</strong></p>\r\n                  <p>  : <strong>{formatLastSalaryDate()}</strong></p>\r\n                </div>\r\n                \r\n                <div className=\"salary-calculation-example\">\r\n                  <h5>  </h5>\r\n                  <p>  1:  200   {(2000000 * salarySettings.taxRate / 10000).toFixed(0)}    {((2000000 * (1 - salarySettings.taxRate)) / 10000).toFixed(0)}</p>\r\n                  <p>  2:  250   {(2500000 * salarySettings.taxRate / 10000).toFixed(0)}    {((2500000 * (1 - salarySettings.taxRate)) / 10000).toFixed(0)}</p>\r\n                  <p>  3:  300   {(3000000 * salarySettings.taxRate / 10000).toFixed(0)}    {((3000000 * (1 - salarySettings.taxRate)) / 10000).toFixed(0)}</p>\r\n                </div>\r\n                \r\n                <div className=\"auto-payment-info\">\r\n                  <h5>   </h5>\r\n                  <p>    8    .</p>\r\n                  <p>      .</p>\r\n                  <p>     .</p>\r\n                  <p>     .</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* =====    ===== */}\r\n        {adminSelectedMenu === \"system\" && (\r\n          <div className=\"flex gap-2 mb-4 p-3 rounded-xl bg-[#16213e]/50 border border-gray-700/50\">\r\n            <button\r\n              className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${systemSubTab === 'database' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n              onClick={() => setSystemSubTab('database')}\r\n            >\r\n              \r\n            </button>\r\n            {isSuperAdmin && (\r\n              <button\r\n                className={`px-4 py-2 rounded-xl text-sm font-medium transition-all ${systemSubTab === 'system' ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-500/30' : 'text-gray-400 hover:text-white hover:bg-gray-700/50'}`}\r\n                onClick={() => setSystemSubTab('system')}\r\n              >\r\n                 \r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/*   */}\r\n        {adminSelectedMenu === \"system\" && systemSubTab === \"database\" && (\r\n          <div className=\"database-management-tab\">\r\n            {!isSuperAdmin && userClassCode && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">   : <strong>{userClassCode}</strong></p>\r\n              </div>\r\n            )}\r\n            <div className=\"database-management-container section-card min-h-[500px] max-h-[70vh] overflow-auto\">\r\n              <AdminDatabase />\r\n            </div>\r\n\r\n            {/*    */}\r\n            <div className=\"section-card mt-6 p-6 rounded-2xl bg-violet-500/5 border border-violet-500/30\">\r\n              <h3 className=\"text-lg font-bold text-violet-300 mb-3\">  </h3>\r\n              <p className=\"text-sm text-gray-400 mb-4\">    .</p>\r\n              <div className=\"flex flex-wrap gap-3\">\r\n                <a\r\n                  href=\"/consent-form\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors text-sm font-medium\"\r\n                >\r\n                    ( )\r\n                </a>\r\n                <a\r\n                  href=\"/privacy\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-colors text-sm font-medium\"\r\n                >\r\n                   \r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  :    */}\r\n            <ClassDataDeletionSection\r\n              userClassCode={userClassCode}\r\n              isAdmin={isAdmin}\r\n              isSuperAdmin={isSuperAdmin}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/*    */}\r\n        {adminSelectedMenu === \"system\" && systemSubTab === \"system\" && (\r\n          <div className=\"system-management-tab\">\r\n            {isSuperAdmin && (\r\n              <div className=\"class-info-header\">\r\n                <p className=\"current-class-info\">    ( )</p>\r\n              </div>\r\n            )}\r\n            {/*     */}\r\n            {isSuperAdmin && (\r\n              <div className=\"admin-class-codes-container section-card\">\r\n                <h3>  </h3>\r\n                {error && <p className=\"error-message\">{error}</p>}\r\n                <div className=\"add-class-code-form\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newClassCode}\r\n                    onChange={(e) => setNewClassCode(e.target.value)}\r\n                    placeholder=\"   \"\r\n                    disabled={classCodeOperationLoading}\r\n                    className=\"admin-input\"\r\n                  />\r\n                  <button\r\n                    onClick={handleAddClassCode}\r\n                    disabled={classCodeOperationLoading || !newClassCode.trim()}\r\n                    className=\"admin-button\"\r\n                  >\r\n                    {classCodeOperationLoading ? \" ...\" : \" \"}\r\n                  </button>\r\n                </div>\r\n                <div className=\"class-codes-list\">\r\n                  <h4>\r\n                        (\r\n                    {Array.isArray(classCodes) ? classCodes.length : 0})\r\n                  </h4>\r\n                  {Array.isArray(classCodes) && classCodes.length > 0 ? (\r\n                    <ul className=\"codes-list\">\r\n                      {classCodes.map((code) => (\r\n                        <li key={code} className=\"code-item\">\r\n                          <span className=\"code-text\">{code}</span>\r\n                          <button\r\n                            onClick={() => handleRemoveClassCode(code)}\r\n                            className=\"remove-code-button\"\r\n                            disabled={classCodeOperationLoading}\r\n                          >\r\n                            \r\n                          </button>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  ) : (\r\n                    <p className=\"no-codes-message\">   .</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/*     */}\r\n            <SystemMonitoring isSuperAdmin={isSuperAdmin} />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"admin-settings-footer\">\r\n          <button\r\n            onClick={() => setShowAdminSettingsModal(false)}\r\n            className=\"admin-close-button\"\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/*     */}\r\n      {showEditStudentJobsModal && selectedStudent && (\r\n        <div className=\"modal-overlay show\">\r\n          <div className=\"edit-student-jobs-modal\">\r\n            <div className=\"modal-header\">\r\n              <h3>\r\n                  :{\" \"}\r\n                {selectedStudent.nickname || selectedStudent.name}\r\n              </h3>\r\n              <button\r\n                className=\"close-modal-btn\"\r\n                onClick={() => setShowEditStudentJobsModal(false)}\r\n              >\r\n                \r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <p>\r\n                <strong>\r\n                  {selectedStudent.nickname || selectedStudent.name}\r\n                </strong>\r\n                  .\r\n              </p>\r\n              <div className=\"salary-info\">\r\n                <p>\r\n                    : {(selectedStudent.cash || 0).toLocaleString()}\r\n                  \r\n                </p>\r\n                {(() => {\r\n                  const salaryCalc = calculateSalary(tempSelectedJobIds, true);\r\n                  return (\r\n                    <>\r\n                      <p> : {`${(salaryCalc.gross / 10000).toFixed(0)}`}</p>\r\n                      <p> : {`${(salaryCalc.tax / 10000).toFixed(0)}`} ({(salarySettings.taxRate * 100).toFixed(1)}%)</p>\r\n                      <p>: {`${(salaryCalc.net / 10000).toFixed(0)}`}</p>\r\n                    </>\r\n                  );\r\n                })()}\r\n                <p className=\"salary-explanation\">\r\n                  ( 200 +   50,  {(salarySettings.taxRate * 100).toFixed(1)}% )\r\n                </p>\r\n              </div>\r\n              <div className=\"job-selection-list\">\r\n                {Array.isArray(jobs) &&\r\n                jobs.filter((job) => job.active !== false).length > 0 ? (\r\n                  jobs\r\n                    .filter((job) => job.active !== false)\r\n                    .map((job) => (\r\n                      <div key={job.id} className=\"job-selection-item\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          id={`job-modal-${job.id}`}\r\n                          checked={tempSelectedJobIds.includes(job.id)}\r\n                          onChange={() => handleToggleJobSelection(job.id)}\r\n                        />\r\n                        <label htmlFor={`job-modal-${job.id}`}>\r\n                          {job.title}\r\n                        </label>\r\n                      </div>\r\n                    ))\r\n                ) : (\r\n                  <p className=\"no-items-message\">\r\n                       .\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"admin-cancel-button\"\r\n                onClick={() => setShowEditStudentJobsModal(false)}\r\n              >\r\n                \r\n              </button>\r\n              <button\r\n                className=\"admin-save-button\"\r\n                onClick={handleSaveStudentJobs}\r\n                disabled={appLoading}\r\n              >\r\n                {appLoading ? \" ...\" : \"\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSettingsModal;","// src/hooks/useOptimizedAdminData.js\r\n// Firebase     \r\n\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { logger } from \"../utils/logger\";\r\nimport {\r\n  optimizedFirebaseService,\r\n  queryKeys,\r\n  localBackup,\r\n  realtimeOptimizer,\r\n} from \"../services/optimizedFirebaseService\";\r\n\r\n//     ( )\r\nexport const useOptimizedAdminSettings = (tab) => {\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.adminSettings(classCode, tab),\r\n    queryFn: async () => {\r\n      //     ( )\r\n      const backupKey = `admin_${classCode}_${tab}`;\r\n      const backup = localBackup.load(backupKey, 30000); // 30\r\n\r\n      if (backup && !navigator.onLine) {\r\n        return backup;\r\n      }\r\n\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({ tab });\r\n\r\n      //   \r\n      localBackup.save(backupKey, data);\r\n\r\n      return data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode && tab),\r\n    staleTime: 5 * 60 * 1000, // 5\r\n    gcTime: 10 * 60 * 1000, // 10\r\n    retry: (failureCount, error) => {\r\n      if (error?.code === 'permission-denied') return false;\r\n      return failureCount < 2;\r\n    },\r\n    //    \r\n    refetchInterval: realtimeOptimizer.shouldUseRealtime() ? 5 * 60 * 1000 : false,\r\n  });\r\n};\r\n\r\n//    ( )\r\nexport const useOptimizedStudents = () => {\r\n  const { userDoc, isAdmin, isSuperAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.students(classCode),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"studentManagement\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode),\r\n    staleTime: 3 * 60 * 1000, // 3 (    )\r\n    gcTime: 8 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//   \r\nexport const useOptimizedSalarySettings = () => {\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.salarySettings(classCode),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"salarySettings\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isAdmin?.() && classCode),\r\n    staleTime: 10 * 60 * 1000, // 10 (   )\r\n    gcTime: 15 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//     (  )\r\nexport const useOptimizedSystemManagement = () => {\r\n  const { isSuperAdmin } = useAuth();\r\n\r\n  return useQuery({\r\n    queryKey: queryKeys.systemManagement(),\r\n    queryFn: async () => {\r\n      const data = await optimizedFirebaseService.getAdminSettingsData({\r\n        tab: \"systemManagement\"\r\n      });\r\n      return data.data;\r\n    },\r\n    enabled: !!(isSuperAdmin?.()),\r\n    staleTime: 15 * 60 * 1000, // 15 (     )\r\n    gcTime: 20 * 60 * 1000,\r\n  });\r\n};\r\n\r\n//    \r\nexport const useBatchPaySalaries = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ studentIds, payAll }) => {\r\n      return await optimizedFirebaseService.batchPaySalaries({\r\n        studentIds,\r\n        payAll,\r\n      });\r\n    },\r\n    onSuccess: () => {\r\n      //   \r\n      queryClient.invalidateQueries({\r\n        queryKey: queryKeys.students(classCode),\r\n      });\r\n      queryClient.invalidateQueries({\r\n        queryKey: queryKeys.salarySettings(classCode),\r\n      });\r\n\r\n      //   \r\n      localBackup.clear(`admin_${classCode}_studentManagement`);\r\n      localBackup.clear(`admin_${classCode}_salarySettings`);\r\n    },\r\n    onError: (error) => {\r\n      logger.error(\"  :\", error);\r\n    },\r\n  });\r\n};\r\n\r\n//    ()\r\nexport const useOptimizedSettingsSave = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ type, data }) => {\r\n      //  Firebase Function  \r\n      logger.log(\" :\", type, data);\r\n      return { success: true };\r\n    },\r\n    onSuccess: (data, variables) => {\r\n      const { type } = variables;\r\n\r\n      //   \r\n      switch (type) {\r\n        case \"general\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.generalSettings(classCode),\r\n          });\r\n          break;\r\n        case \"salary\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.salarySettings(classCode),\r\n          });\r\n          break;\r\n        case \"student\":\r\n          queryClient.invalidateQueries({\r\n            queryKey: queryKeys.students(classCode),\r\n          });\r\n          break;\r\n        default:\r\n          //    \r\n          queryClient.invalidateQueries({\r\n            queryKey: [\"adminSettings\", classCode],\r\n          });\r\n      }\r\n\r\n      //    \r\n      localBackup.clear(`admin_${classCode}_${type}`);\r\n    },\r\n  });\r\n};\r\n\r\n//   \r\nexport const useAdminDataPreloader = () => {\r\n  const queryClient = useQueryClient();\r\n  const { userDoc, isAdmin } = useAuth();\r\n  const classCode = userDoc?.classCode;\r\n\r\n  const preloadAdminData = async () => {\r\n    if (!isAdmin?.() || !classCode) return;\r\n\r\n    //      \r\n    const commonTabs = [\"generalSettings\", \"studentManagement\", \"salarySettings\"];\r\n\r\n    const preloadPromises = commonTabs.map(tab =>\r\n      queryClient.prefetchQuery({\r\n        queryKey: queryKeys.adminSettings(classCode, tab),\r\n        queryFn: async () => {\r\n          const data = await optimizedFirebaseService.getAdminSettingsData({ tab });\r\n          return data;\r\n        },\r\n        staleTime: 5 * 60 * 1000,\r\n      })\r\n    );\r\n\r\n    await Promise.allSettled(preloadPromises);\r\n  };\r\n\r\n  return { preloadAdminData };\r\n};\r\n\r\n//    \r\nexport const useNetworkOptimization = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const optimizeForNetwork = () => {\r\n    if (!navigator.onLine) {\r\n      //     \r\n      queryClient.setDefaultOptions({\r\n        queries: {\r\n          enabled: false,\r\n          retry: false,\r\n        },\r\n      });\r\n    } else {\r\n      //     \r\n      queryClient.setDefaultOptions({\r\n        queries: {\r\n          enabled: true,\r\n          retry: 2,\r\n        },\r\n      });\r\n\r\n      //   \r\n      queryClient.refetchQueries({ stale: true });\r\n    }\r\n  };\r\n\r\n  return { optimizeForNetwork };\r\n};","// src/pages/dashboard/Dashboard.js - Firestore   +     + Tailwind UI\r\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from \"react\";\r\nimport \"./Dashboard.css\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { db, functions, copyDefaultDataToNewClass } from \"../../firebase\";\r\nimport {\r\n  doc,\r\n  getDoc,\r\n  setDoc,\r\n  getDocs,\r\n  writeBatch,\r\n  serverTimestamp,\r\n  arrayUnion,\r\n  query,\r\n  where,\r\n  collection as firestoreCollection,\r\n  limit,\r\n} from \"firebase/firestore\";\r\nimport { httpsCallable } from \"firebase/functions\";\r\nimport JobList from \"../../components/JobList\";\r\nimport CommonTaskList from \"../../components/CommonTaskList\";\r\nimport AdminSettingsModal from \"../../components/modals/AdminSettingsModal\";\r\nimport {\r\n  PageContainer,\r\n  LoadingState,\r\n  EmptyState,\r\n  ActionButton,\r\n} from \"../../components/PageWrapper\";\r\nimport globalCacheService from \"../../services/globalCacheService\";\r\nimport { Briefcase, ListTodo, Settings, RefreshCw, RotateCcw, Plus, ChevronLeft } from \"lucide-react\";\r\n\r\nimport { logger } from \"../../utils/logger\";\r\n// Cloud Functions    (handleManualTaskReset  )\r\n\r\n//  [ v3.0]   - Firestore  95%  \r\n// TTL  -    globalCacheService  \r\nconst CACHE_TTL = {\r\n  JOBS: 6 * 60 * 60 * 1000,        // 6 ( )\r\n  TASKS: 6 * 60 * 60 * 1000,       // 6 ( )\r\n  SETTINGS: 12 * 60 * 60 * 1000,   // 12 ()\r\n  GOALS: 6 * 60 * 60 * 1000,       // 6 ()\r\n  CLASS_CODES: 24 * 60 * 60 * 1000, // 24 ( )\r\n};\r\n\r\n//  globalCacheService  ( dataCache  )\r\nconst dataCache = {\r\n  get: (key) => globalCacheService.get(key),\r\n  set: (key, data, ttl) => globalCacheService.set(key, data, ttl || CACHE_TTL.TASKS),\r\n  invalidate: (key) => globalCacheService.invalidate(key),\r\n  clear: () => globalCacheService.clearAll(),\r\n};\r\n\r\n//    \r\nclass BatchManager {\r\n  constructor() {\r\n    this.pendingWrites = [];\r\n    this.batchTimeout = null;\r\n    this.BATCH_DELAY = 2000; // 2 \r\n    this.MAX_BATCH_SIZE = 500; // Firestore \r\n  }\r\n\r\n  addWrite(operation) {\r\n    this.pendingWrites.push(operation);\r\n\r\n    if (this.pendingWrites.length >= this.MAX_BATCH_SIZE) {\r\n      this.executeBatch();\r\n    } else {\r\n      this.scheduleBatch();\r\n    }\r\n  }\r\n\r\n  scheduleBatch() {\r\n    if (this.batchTimeout) {\r\n      clearTimeout(this.batchTimeout);\r\n    }\r\n\r\n    this.batchTimeout = setTimeout(() => {\r\n      this.executeBatch();\r\n    }, this.BATCH_DELAY);\r\n  }\r\n\r\n  async executeBatch() {\r\n    if (this.pendingWrites.length === 0) return;\r\n\r\n    if (this.batchTimeout) {\r\n      clearTimeout(this.batchTimeout);\r\n      this.batchTimeout = null;\r\n    }\r\n\r\n    const batch = writeBatch(db);\r\n    const operations = [...this.pendingWrites];\r\n    this.pendingWrites = [];\r\n\r\n    try {\r\n      operations.forEach(({ type, ref, data }) => {\r\n        switch (type) {\r\n          case 'set':\r\n            batch.set(ref, data);\r\n            break;\r\n          case 'update':\r\n            batch.update(ref, data);\r\n            break;\r\n          case 'delete':\r\n            batch.delete(ref);\r\n            break;\r\n        }\r\n      });\r\n\r\n      await batch.commit();\r\n      logger.log(`  : ${operations.length} `);\r\n    } catch (error) {\r\n      logger.error('  :', error);\r\n      //       \r\n    }\r\n  }\r\n}\r\n\r\nconst batchManager = new BatchManager();\r\n\r\n//    \r\nclass RealtimeManager {\r\n  constructor() {\r\n    this.listeners = new Map();\r\n  }\r\n\r\n  addListener(key, unsubscribe) {\r\n    if (this.listeners.has(key)) {\r\n      this.listeners.get(key)();\r\n    }\r\n    this.listeners.set(key, unsubscribe);\r\n  }\r\n\r\n  removeListener(key) {\r\n    if (this.listeners.has(key)) {\r\n      this.listeners.get(key)();\r\n      this.listeners.delete(key);\r\n    }\r\n  }\r\n\r\n  removeAllListeners() {\r\n    this.listeners.forEach(unsubscribe => unsubscribe());\r\n    this.listeners.clear();\r\n  }\r\n}\r\n\r\n// Utility functions -    \r\nconst saveSharedData = async (data, classCode) => {\r\n  try {\r\n    //   \r\n    const newDocRef = doc(firestoreCollection(db, \"sharedData\"));\r\n    batchManager.addWrite({\r\n      type: 'set',\r\n      ref: newDocRef,\r\n      data: {\r\n        ...data,\r\n        classCode,\r\n        createdAt: serverTimestamp(),\r\n      }\r\n    });\r\n\r\n    //  \r\n    dataCache.invalidate(`classData_${classCode}`);\r\n    return true;\r\n  } catch (error) {\r\n    logger.error(\"Error saving shared data:\", error);\r\n    return false;\r\n  }\r\n};\r\n\r\nfunction SelectMultipleJobsView({\r\n  availableJobs,\r\n  currentSelectedJobIds = [],\r\n  onConfirmSelection,\r\n  onCancel,\r\n}) {\r\n  const [tempSelection, setTempSelection] = useState(\r\n    Array.isArray(currentSelectedJobIds) ? [...currentSelectedJobIds] : []\r\n  );\r\n\r\n  const activeJobs = useMemo(() => {\r\n    return Array.isArray(availableJobs)\r\n      ? availableJobs.filter((job) => job.active !== false)\r\n      : [];\r\n  }, [availableJobs]);\r\n\r\n  const handleCheckboxChange = useCallback((jobId) => {\r\n    setTempSelection((prev) =>\r\n      prev.includes(jobId)\r\n        ? prev.filter((id) => id !== jobId)\r\n        : [...prev, jobId]\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 p-6 max-w-xl mx-auto my-8\">\r\n      <h4 className=\"text-xl font-semibold text-white text-center mb-2\">\r\n          (  )\r\n      </h4>\r\n      <p className=\"text-sm text-slate-400 text-center mb-4\">\r\n        ' '   .\r\n      </p>\r\n      <div className=\"flex flex-col gap-3\">\r\n        {activeJobs.map((job) => (\r\n          <label\r\n            key={job.id}\r\n            className={`p-3 rounded-xl border-2 cursor-pointer transition-all flex items-center gap-3 ${tempSelection.includes(job.id)\r\n              ? 'border-cyan-500 bg-cyan-900/30'\r\n              : 'border-cyan-900/20 bg-[#14142380] hover:border-cyan-500/50'\r\n              }`}\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={tempSelection.includes(job.id)}\r\n              onChange={() => handleCheckboxChange(job.id)}\r\n              className=\"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer\"\r\n            />\r\n            <span className={`font-medium ${tempSelection.includes(job.id)\r\n              ? 'text-cyan-400'\r\n              : 'text-slate-300'\r\n              }`}>\r\n              {job.title}\r\n            </span>\r\n          </label>\r\n        ))}\r\n        {activeJobs.length === 0 && (\r\n          <EmptyState\r\n            icon={Briefcase}\r\n            title=\"   \"\r\n            description=\"    .\"\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"flex justify-end gap-3 mt-6\">\r\n        <ActionButton variant=\"secondary\" onClick={onCancel}>\r\n          \r\n        </ActionButton>\r\n        <ActionButton variant=\"primary\" onClick={() => onConfirmSelection(tempSelection)}>\r\n           \r\n        </ActionButton>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Dashboard({ adminTabMode }) {\r\n  const {\r\n    user,\r\n    userDoc,\r\n    setUserDoc,\r\n    loading: authLoading,\r\n    updateUser,\r\n    refreshUserDocument,\r\n    isAdmin,\r\n    isSuperAdmin,\r\n    optimisticUpdate,\r\n  } = useAuth();\r\n\r\n  // Refs for cleanup\r\n  const realtimeManager = useRef(new RealtimeManager());\r\n  const lastFetchTime = useRef(0);\r\n  const fetchPromise = useRef(null);\r\n\r\n  // State management\r\n  const [appLoading, setAppLoading] = useState(true);\r\n  const [viewMode, setViewMode] = useState(\"list\");\r\n  const [showAdminSettingsModal, setShowAdminSettingsModal] = useState(false);\r\n  const [adminSelectedMenu, setAdminSelectedMenu] = useState(\"generalSettings\");\r\n\r\n  const [jobs, setJobs] = useState([]);\r\n  const [commonTasks, setCommonTasks] = useState([]);\r\n\r\n  const [editingJob, setEditingJob] = useState(null);\r\n  const [adminNewJobTitle, setAdminNewJobTitle] = useState(\"\");\r\n  const [editingTask, setEditingTask] = useState(null);\r\n  const [currentJobIdForTask, setCurrentJobIdForTask] = useState(null);\r\n  const [isJobTaskForForm, setIsJobTaskForForm] = useState(false);\r\n  const [showAddTaskForm, setShowAddTaskForm] = useState(false);\r\n  const [adminNewTaskName, setAdminNewTaskName] = useState(\"\");\r\n  const [adminNewTaskReward, setAdminNewTaskReward] = useState(\"\");\r\n  const [adminNewTaskMaxClicks, setAdminNewTaskMaxClicks] = useState(\"5\");\r\n  const [adminNewTaskRequiresApproval, setAdminNewTaskRequiresApproval] = useState(false);\r\n\r\n  //  [] httpsCallable \r\n  const completeTaskFunction = useMemo(() => httpsCallable(functions, \"completeTask\"), []);\r\n  const manualResetClassTasksFn = useMemo(() => httpsCallable(functions, 'manualResetClassTasks'), []);\r\n\r\n  const [isHandlingTask, setIsHandlingTask] = useState(false);\r\n\r\n  const [classCouponGoal, setClassCouponGoal] = useState(1000);\r\n  const [couponValue, setCouponValue] = useState(1000);\r\n  const [adminCouponValueInput, setAdminCouponValueInput] = useState(\r\n    String(1000)\r\n  );\r\n  const [adminGoalAmountInput, setAdminGoalAmountInput] = useState(\r\n    String(1000)\r\n  );\r\n  const [classCodes, setClassCodes] = useState([]);\r\n\r\n  // adminTabMode   \r\n  useEffect(() => {\r\n    if (adminTabMode && isAdmin?.()) {\r\n      setAdminSelectedMenu(adminTabMode);\r\n      setShowAdminSettingsModal(true);\r\n    }\r\n  }, [adminTabMode, isAdmin]);\r\n\r\n\r\n  // Memoized values\r\n  const currentGoalId = useMemo(() => {\r\n    return userDoc?.classCode && isAdmin?.()\r\n      ? `${userDoc.classCode}_goal`\r\n      : null;\r\n  }, [userDoc?.classCode, isAdmin]);\r\n\r\n  const currentSelectedJobIdsFromUserDoc = useMemo(() => {\r\n    return userDoc && Array.isArray(userDoc.selectedJobIds)\r\n      ? userDoc.selectedJobIds\r\n      : [];\r\n  }, [userDoc]);\r\n\r\n  const jobsToShow = useMemo(() => {\r\n    const completedJobTasks = userDoc?.completedJobTasks || {};\r\n\r\n    return Array.isArray(jobs)\r\n      ? jobs\r\n        .filter(\r\n          (job) =>\r\n            currentSelectedJobIdsFromUserDoc.includes(job.id) &&\r\n            job.active !== false\r\n        )\r\n        .map((job) => ({\r\n          ...job,\r\n          tasks: (job.tasks || []).map((task) => ({\r\n            ...task,\r\n            clicks: completedJobTasks[`${job.id}_${task.id}`] || 0, //   \r\n          })),\r\n        }))\r\n      : [];\r\n  }, [jobs, currentSelectedJobIdsFromUserDoc, userDoc]);\r\n\r\n  const commonTasksWithUserProgress = useMemo(() => {\r\n    if (!commonTasks || !userDoc) {\r\n      return [];\r\n    }\r\n    const userCompletedTasks = userDoc.completedTasks || {};\r\n    return commonTasks.map(task => ({\r\n      ...task,\r\n      clicks: userCompletedTasks[task.id] || 0,\r\n    }));\r\n  }, [commonTasks, userDoc]);\r\n\r\n  // Utility function for generating IDs\r\n  const generateId = useCallback(() => {\r\n    try {\r\n      return doc(firestoreCollection(db, \"temp\")).id;\r\n    } catch (error) {\r\n      logger.error(\"Error generating ID:\", error);\r\n      return Date.now().toString() + Math.random().toString(36).substring(2, 11);\r\n    }\r\n  }, []);\r\n\r\n  //  [] Polling   (30)\r\n  const setupPolling = useCallback(async (classCode) => {\r\n    if (!classCode) return;\r\n\r\n    const pollData = async () => {\r\n      try {\r\n        // Jobs  (   orderBy )\r\n        const jobsQuery = query(\r\n          firestoreCollection(db, \"jobs\"),\r\n          where(\"classCode\", \"==\", classCode),\r\n          limit(50)\r\n        );\r\n\r\n        const jobsSnap = await getDocs(jobsQuery);\r\n        const loadedJobs = jobsSnap.docs.map((d) => ({\r\n          id: d.id,\r\n          ...d.data(),\r\n          tasks: (d.data().tasks || []).map((task) => ({\r\n            ...task,\r\n            reward: task.reward || 0,\r\n            clicks: 0, //    useMemo \r\n            maxClicks: task.maxClicks || 5,\r\n          })),\r\n          active: d.data().active !== false,\r\n        }))\r\n          //    (updatedAt  )\r\n          .sort((a, b) => {\r\n            const timeA = a.updatedAt?.toMillis?.() || 0;\r\n            const timeB = b.updatedAt?.toMillis?.() || 0;\r\n            return timeB - timeA;\r\n          });\r\n\r\n        setJobs(loadedJobs);\r\n        dataCache.set(`jobs_${classCode}`, loadedJobs, CACHE_TTL.JOBS);\r\n\r\n        // Common Tasks  (   orderBy )\r\n        const tasksQuery = query(\r\n          firestoreCollection(db, \"commonTasks\"),\r\n          where(\"classCode\", \"==\", classCode),\r\n          limit(50)\r\n        );\r\n\r\n        const tasksSnap = await getDocs(tasksQuery);\r\n        const loadedCommonTasks = tasksSnap.docs.map((d) => ({\r\n          id: d.id,\r\n          ...d.data(),\r\n          reward: d.data().reward || 0,\r\n          clicks: d.data().clicks || 0,\r\n          maxClicks: d.data().maxClicks || 5,\r\n        }))\r\n          //    (updatedAt  )\r\n          .sort((a, b) => {\r\n            const timeA = a.updatedAt?.toMillis?.() || 0;\r\n            const timeB = b.updatedAt?.toMillis?.() || 0;\r\n            return timeB - timeA;\r\n          });\r\n\r\n        setCommonTasks(loadedCommonTasks);\r\n        dataCache.set(`commonTasks_${classCode}`, loadedCommonTasks, CACHE_TTL.TASKS);\r\n      } catch (error) {\r\n        logger.error(\"Polling :\", error);\r\n      }\r\n    };\r\n\r\n    //    \r\n    await pollData();\r\n\r\n    //  [ v3.0] 2  (152 - Firestore  )\r\n    //          \r\n    const intervalId = setInterval(pollData, 2 * 60 * 60 * 1000);\r\n\r\n    // Cleanup  \r\n    realtimeManager.current.addListener('polling', () => clearInterval(intervalId));\r\n  }, []);\r\n\r\n  //    \r\n  const loadCachedData = useCallback(async (classCode) => {\r\n    const jobsCache = dataCache.get(`jobs_${classCode}`);\r\n    const tasksCache = dataCache.get(`commonTasks_${classCode}`);\r\n    const settingsCache = dataCache.get('mainSettings');\r\n\r\n    if (jobsCache) {\r\n      setJobs(jobsCache);\r\n    }\r\n    if (tasksCache) {\r\n      setCommonTasks(tasksCache);\r\n    }\r\n    if (settingsCache) {\r\n      setCouponValue(settingsCache.couponValue || 1000);\r\n      setAdminCouponValueInput(String(settingsCache.couponValue || 1000));\r\n    }\r\n\r\n    return {\r\n      hasJobsCache: !!jobsCache,\r\n      hasTasksCache: !!tasksCache,\r\n      hasSettingsCache: !!settingsCache\r\n    };\r\n  }, []);\r\n\r\n  //    \r\n  const loadTasksData = useCallback(async (forceRefresh = false) => {\r\n    if (!userDoc?.classCode) {\r\n      setAppLoading(false);\r\n      return;\r\n    }\r\n\r\n    const now = Date.now();\r\n    const classCode = userDoc.classCode;\r\n\r\n    //   \r\n    if (fetchPromise.current && !forceRefresh) {\r\n      return fetchPromise.current;\r\n    }\r\n\r\n    //  [ v3.0]     (2)\r\n    if (!forceRefresh && now - lastFetchTime.current < 2 * 60 * 60 * 1000) {\r\n      setAppLoading(false);\r\n      return;\r\n    }\r\n\r\n    //   \r\n    setAppLoading(true);\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        // 1:      UI \r\n        const cacheStatus = await loadCachedData(classCode);\r\n\r\n        //         UI \r\n        if (cacheStatus.hasJobsCache && cacheStatus.hasTasksCache) {\r\n          setAppLoading(false);\r\n        }\r\n\r\n        // 2:     ( )\r\n        if (!realtimeManager.current.listeners.has('jobs')) {\r\n          //         \r\n          setTimeout(() => setupPolling(classCode), 0);\r\n        }\r\n\r\n        // 3:     \r\n        const promises = [];\r\n\r\n        if (!cacheStatus.hasSettingsCache || forceRefresh) {\r\n          promises.push(\r\n            getDoc(doc(db, \"settings\", \"mainSettings\")).then(snap => ({\r\n              type: 'settings',\r\n              data: snap.exists() ? snap.data() : null\r\n            }))\r\n          );\r\n        }\r\n\r\n        if (currentGoalId && (!dataCache.get(`goal_${currentGoalId}`) || forceRefresh)) {\r\n          promises.push(\r\n            getDoc(doc(db, \"goals\", currentGoalId)).then(snap => ({\r\n              type: 'goal',\r\n              data: snap.exists() ? snap.data() : null\r\n            }))\r\n          );\r\n        }\r\n\r\n        if (isSuperAdmin() && (!dataCache.get('classCodes') || forceRefresh)) {\r\n          promises.push(\r\n            getDoc(doc(db, \"settings\", \"classCodes\")).then(snap => ({\r\n              type: 'classCodes',\r\n              data: snap.exists() ? snap.data() : null\r\n            }))\r\n          );\r\n        }\r\n\r\n        //    \r\n        if (promises.length > 0) {\r\n          const results = await Promise.all(promises);\r\n\r\n          results.forEach(result => {\r\n            switch (result.type) {\r\n              case 'settings':\r\n                if (result.data) {\r\n                  const newCouponValue = result.data.couponValue || 1000;\r\n                  setCouponValue(newCouponValue);\r\n                  setAdminCouponValueInput(String(newCouponValue));\r\n                  dataCache.set('mainSettings', result.data, CACHE_TTL.SETTINGS);\r\n                }\r\n                break;\r\n              case 'goal':\r\n                if (result.data && result.data.classCode === classCode) {\r\n                  const targetAmount = result.data.targetAmount || 1000;\r\n                  setClassCouponGoal(targetAmount);\r\n                  setAdminGoalAmountInput(String(targetAmount));\r\n                  dataCache.set(`goal_${currentGoalId}`, result.data, CACHE_TTL.GOALS);\r\n                }\r\n                break;\r\n              case 'classCodes':\r\n                if (result.data) {\r\n                  setClassCodes(result.data.validCodes || []);\r\n                  dataCache.set('classCodes', result.data, CACHE_TTL.CLASS_CODES);\r\n                }\r\n                break;\r\n            }\r\n          });\r\n        }\r\n\r\n        lastFetchTime.current = now;\r\n      } catch (error) {\r\n        logger.warn('[Dashboard] data fetch failed:', error);\r\n      } finally {\r\n        setAppLoading(false);\r\n        fetchPromise.current = null;\r\n      }\r\n    };\r\n\r\n    fetchPromise.current = fetchData();\r\n    return fetchPromise.current;\r\n  }, [userDoc?.classCode, currentGoalId, isSuperAdmin, setupPolling, loadCachedData]);\r\n\r\n  //  []      (  )\r\n  const refreshInProgressRef = useRef(false);\r\n\r\n  const refreshTasksAfterReset = useCallback(async () => {\r\n    //       \r\n    if (refreshInProgressRef.current) {\r\n      logger.log(\"[Dashboard]     -   \");\r\n      return;\r\n    }\r\n\r\n    refreshInProgressRef.current = true;\r\n    logger.log(\"[Dashboard]    -   \");\r\n\r\n    try {\r\n      //    ( )\r\n      if (refreshUserDocument) {\r\n        await refreshUserDocument();\r\n      }\r\n\r\n      //   \r\n      if (loadTasksData) {\r\n        await loadTasksData(true); // force refresh\r\n      }\r\n\r\n      // localStorage    \r\n      const today = new Date().toDateString();\r\n      localStorage.setItem('lastTaskResetDate', today);\r\n\r\n      logger.log(\"[Dashboard]    \");\r\n    } catch (error) {\r\n      logger.error(\"[Dashboard]   :\", error);\r\n    } finally {\r\n      refreshInProgressRef.current = false;\r\n    }\r\n  }, [refreshUserDocument, loadTasksData]);\r\n\r\n  // Effect for data loading\r\n  useEffect(() => {\r\n    if (authLoading) {\r\n      setAppLoading(true);\r\n      return;\r\n    }\r\n\r\n    if (!user) {\r\n      setAppLoading(false);\r\n      setJobs([]);\r\n      setCommonTasks([]);\r\n      //  \r\n      realtimeManager.current.removeAllListeners();\r\n      return;\r\n    }\r\n\r\n    if (userDoc?.id && userDoc?.classCode) {\r\n      loadTasksData();\r\n    } else {\r\n      setAppLoading(false);\r\n    }\r\n\r\n    //     \r\n    const manager = realtimeManager.current;\r\n    return () => {\r\n      manager.removeAllListeners();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [authLoading, user, userDoc?.id, userDoc?.classCode, loadTasksData]);\r\n\r\n  //  []     UI  (  )\r\n  const dateCheckExecutedRef = useRef(false);\r\n  const lastCheckedDateRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!userDoc?.classCode || !refreshTasksAfterReset) {\r\n      return;\r\n    }\r\n\r\n    //       (  )\r\n    const checkDateAndRefresh = () => {\r\n      const today = new Date().toDateString();\r\n      const lastResetDate = localStorage.getItem('lastTaskResetDate');\r\n\r\n      //    :     \r\n      if (lastCheckedDateRef.current === today) {\r\n        return;\r\n      }\r\n\r\n      lastCheckedDateRef.current = today;\r\n\r\n      if (lastResetDate !== today) {\r\n        // (GitHub Actions)     \r\n        //  UI \r\n        refreshTasksAfterReset();\r\n      }\r\n    };\r\n\r\n    //        ( )\r\n    if (!dateCheckExecutedRef.current) {\r\n      dateCheckExecutedRef.current = true;\r\n      checkDateAndRefresh();\r\n    }\r\n\r\n    //  [ v3.0] 1   (51, Firestore  )\r\n    //       \r\n    const dateCheckInterval = setInterval(() => {\r\n      checkDateAndRefresh();\r\n    }, 60 * 60 * 1000); // 1\r\n\r\n    // \r\n    return () => {\r\n      if (dateCheckInterval) {\r\n        clearInterval(dateCheckInterval);\r\n      }\r\n    };\r\n  }, [userDoc?.classCode, refreshTasksAfterReset]);\r\n\r\n  // Job management handlers\r\n  const handleSaveJob = useCallback(async () => {\r\n    if (!db || !userDoc?.classCode) {\r\n      alert(\"      .\");\r\n      return;\r\n    }\r\n\r\n    const title = adminNewJobTitle.trim();\r\n    if (!title) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    setAppLoading(true);\r\n    try {\r\n      if (editingJob) {\r\n        const jobRef = doc(db, \"jobs\", editingJob.id);\r\n        //   \r\n        batchManager.addWrite({\r\n          type: 'update',\r\n          ref: jobRef,\r\n          data: { title, updatedAt: serverTimestamp() }\r\n        });\r\n\r\n        alert(` .`);\r\n        setAdminNewJobTitle(\"\");\r\n        setEditingJob(null);\r\n        setShowAdminSettingsModal(false);\r\n      } else {\r\n        const newJobId = generateId();\r\n        const jobRef = doc(db, \"jobs\", newJobId);\r\n        batchManager.addWrite({\r\n          type: 'set',\r\n          ref: jobRef,\r\n          data: {\r\n            title,\r\n            active: true,\r\n            tasks: [],\r\n            createdAt: serverTimestamp(),\r\n            updatedAt: serverTimestamp(),\r\n            classCode: userDoc.classCode,\r\n          }\r\n        });\r\n\r\n        alert(` .`);\r\n        setAdminNewJobTitle(\"\");\r\n      }\r\n\r\n      //  \r\n      dataCache.invalidate(`jobs_${userDoc.classCode}`);\r\n    } catch (error) {\r\n      logger.error(\"handleSaveJob :\", error);\r\n      alert(\"    \");\r\n    } finally {\r\n      setAppLoading(false);\r\n    }\r\n  }, [adminNewJobTitle, editingJob, generateId, userDoc]);\r\n\r\n  const handleDeleteJob = useCallback(\r\n    async (jobIdToDelete) => {\r\n      if (!db) {\r\n        alert(\"  .\");\r\n        return;\r\n      }\r\n\r\n      if (\r\n        !window.confirm(\r\n          \"   ?    .\"\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      setAppLoading(true);\r\n      try {\r\n        //   \r\n        const jobRef = doc(db, \"jobs\", jobIdToDelete);\r\n        batchManager.addWrite({\r\n          type: 'delete',\r\n          ref: jobRef,\r\n          data: null\r\n        });\r\n\r\n        if (user && userDoc?.selectedJobIds?.includes(jobIdToDelete)) {\r\n          const updatedSelectedIds = userDoc.selectedJobIds.filter(\r\n            (id) => id !== jobIdToDelete\r\n          );\r\n          await updateUser({ selectedJobIds: updatedSelectedIds });\r\n        }\r\n\r\n        if (editingJob?.id === jobIdToDelete) {\r\n          setAdminNewJobTitle(\"\");\r\n          setEditingJob(null);\r\n        }\r\n\r\n        setShowAdminSettingsModal(false);\r\n        alert(\" .\");\r\n\r\n        //  \r\n        dataCache.invalidate(`jobs_${userDoc.classCode}`);\r\n      } catch (error) {\r\n        logger.error(\"handleDeleteJob :\", error);\r\n        alert(\"    \");\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    [user, userDoc, editingJob, updateUser]\r\n  );\r\n\r\n  const handleEditJob = useCallback((jobToEdit) => {\r\n    if (jobToEdit) {\r\n      setEditingJob(jobToEdit);\r\n      setAdminNewJobTitle(jobToEdit.title);\r\n      setAdminSelectedMenu(\"jobSettings\");\r\n      setShowAdminSettingsModal(true);\r\n    } else {\r\n      alert(\"    .\");\r\n    }\r\n  }, []);\r\n\r\n  // Task management handlers\r\n  const handleAddTaskClick = useCallback((jobId = null, isJobTask = false) => {\r\n    setIsJobTaskForForm(isJobTask);\r\n    setCurrentJobIdForTask(jobId);\r\n    setAdminNewTaskName(\"\");\r\n    setAdminNewTaskReward(\"\");\r\n    setAdminNewTaskMaxClicks(\"5\");\r\n    setEditingTask(null);\r\n    setAdminSelectedMenu(\"taskManagement\");\r\n    setShowAddTaskForm(true);\r\n    setShowAdminSettingsModal(true);\r\n  }, []);\r\n\r\n  const handleEditTask = useCallback((taskToEdit, jobId = null) => {\r\n    if (taskToEdit) {\r\n      setEditingTask(taskToEdit);\r\n      setAdminNewTaskName(taskToEdit.name);\r\n      setAdminNewTaskReward(String(taskToEdit.reward || 0));\r\n      setAdminNewTaskMaxClicks(String(taskToEdit.maxClicks || 5));\r\n      setAdminNewTaskRequiresApproval(!!taskToEdit.requiresApproval);\r\n      setIsJobTaskForForm(!!jobId);\r\n      setCurrentJobIdForTask(jobId);\r\n      setAdminSelectedMenu(\"taskManagement\");\r\n      setShowAddTaskForm(true);\r\n      setShowAdminSettingsModal(true);\r\n    } else {\r\n      alert(\"    .\");\r\n    }\r\n  }, []);\r\n\r\n  const handleSaveTask = useCallback(async () => {\r\n    if (!db || !userDoc?.classCode) {\r\n      alert(\"      .\");\r\n      return;\r\n    }\r\n\r\n    const name = adminNewTaskName.trim();\r\n    const reward = parseInt(adminNewTaskReward, 10);\r\n    const maxClicks = parseInt(adminNewTaskMaxClicks, 10);\r\n\r\n    if (\r\n      !name ||\r\n      isNaN(reward) ||\r\n      reward < 0 ||\r\n      isNaN(maxClicks) ||\r\n      maxClicks <= 0\r\n    ) {\r\n      alert(\r\n        \" . (, : 0  ,  : 1  )\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    setAppLoading(true);\r\n    const taskData = {\r\n      name,\r\n      reward,\r\n      maxClicks,\r\n      clicks: editingTask?.clicks || 0,\r\n      requiresApproval: adminNewTaskRequiresApproval,\r\n    };\r\n\r\n    try {\r\n      if (editingTask) {\r\n        const taskId = editingTask.id;\r\n        if (isJobTaskForForm && currentJobIdForTask) {\r\n          const jobRef = doc(db, \"jobs\", currentJobIdForTask);\r\n          const jobSnap = await getDoc(jobRef);\r\n          if (\r\n            !jobSnap.exists() ||\r\n            jobSnap.data().classCode !== userDoc.classCode\r\n          ) {\r\n            throw new Error(\"      .\");\r\n          }\r\n          const jobTasks = jobSnap.data().tasks || [];\r\n          const taskIndex = jobTasks.findIndex((t) => t.id === taskId);\r\n          if (taskIndex === -1) {\r\n            throw new Error(\"     .\");\r\n          }\r\n          const updatedTasks = [...jobTasks];\r\n          updatedTasks[taskIndex] = { ...updatedTasks[taskIndex], ...taskData };\r\n\r\n          //   \r\n          batchManager.addWrite({\r\n            type: 'update',\r\n            ref: jobRef,\r\n            data: {\r\n              tasks: updatedTasks,\r\n              updatedAt: serverTimestamp(),\r\n            }\r\n          });\r\n        } else {\r\n          const taskRef = doc(db, \"commonTasks\", taskId);\r\n          batchManager.addWrite({\r\n            type: 'update',\r\n            ref: taskRef,\r\n            data: {\r\n              ...taskData,\r\n              updatedAt: serverTimestamp(),\r\n            }\r\n          });\r\n        }\r\n        setShowAddTaskForm(false);\r\n        setEditingTask(null);\r\n        setShowAdminSettingsModal(false);\r\n        alert(` .`);\r\n      } else {\r\n        const newTaskId = generateId();\r\n        const newTaskDataWithId = { ...taskData, id: newTaskId, clicks: 0 };\r\n        if (isJobTaskForForm && currentJobIdForTask) {\r\n          const jobRef = doc(db, \"jobs\", currentJobIdForTask);\r\n          batchManager.addWrite({\r\n            type: 'update',\r\n            ref: jobRef,\r\n            data: {\r\n              tasks: arrayUnion(newTaskDataWithId),\r\n              updatedAt: serverTimestamp(),\r\n            }\r\n          });\r\n        } else {\r\n          const newTaskRef = doc(db, \"commonTasks\", newTaskId);\r\n          batchManager.addWrite({\r\n            type: 'set',\r\n            ref: newTaskRef,\r\n            data: {\r\n              ...newTaskDataWithId,\r\n              createdAt: serverTimestamp(),\r\n              updatedAt: serverTimestamp(),\r\n              classCode: userDoc.classCode,\r\n            }\r\n          });\r\n        }\r\n        setAdminNewTaskName(\"\");\r\n        setAdminNewTaskReward(\"\");\r\n        setAdminNewTaskMaxClicks(\"5\");\r\n        setAdminNewTaskRequiresApproval(false);\r\n        alert(` .`);\r\n      }\r\n\r\n      //  \r\n      if (isJobTaskForForm) {\r\n        dataCache.invalidate(`jobs_${userDoc.classCode}`);\r\n      } else {\r\n        dataCache.invalidate(`commonTasks_${userDoc.classCode}`);\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"handleSaveTask :\", error);\r\n      alert(\"    : \" + error.message);\r\n    } finally {\r\n      setAppLoading(false);\r\n    }\r\n  }, [\r\n    adminNewTaskName,\r\n    adminNewTaskReward,\r\n    adminNewTaskMaxClicks,\r\n    adminNewTaskRequiresApproval,\r\n    editingTask,\r\n    isJobTaskForForm,\r\n    currentJobIdForTask,\r\n    generateId,\r\n    userDoc,\r\n  ]);\r\n\r\n  const handleDeleteTask = useCallback(\r\n    async (taskIdToDelete, jobId = null) => {\r\n      if (!db) {\r\n        alert(\"  .\");\r\n        return;\r\n      }\r\n\r\n      if (!window.confirm(\"   ?\")) {\r\n        return;\r\n      }\r\n\r\n      setAppLoading(true);\r\n      try {\r\n        if (jobId) {\r\n          const jobRef = doc(db, \"jobs\", jobId);\r\n          const jobSnap = await getDoc(jobRef);\r\n          if (!jobSnap.exists()) {\r\n            throw new Error(\"    .\");\r\n          }\r\n          const tasks = jobSnap.data().tasks || [];\r\n          const updatedTasks = tasks.filter((t) => t.id !== taskIdToDelete);\r\n\r\n          //   \r\n          batchManager.addWrite({\r\n            type: 'update',\r\n            ref: jobRef,\r\n            data: {\r\n              tasks: updatedTasks,\r\n              updatedAt: serverTimestamp(),\r\n            }\r\n          });\r\n        } else {\r\n          const taskRef = doc(db, \"commonTasks\", taskIdToDelete);\r\n          batchManager.addWrite({\r\n            type: 'delete',\r\n            ref: taskRef,\r\n            data: null\r\n          });\r\n        }\r\n\r\n        if (editingTask?.id === taskIdToDelete) {\r\n          setShowAddTaskForm(false);\r\n          setEditingTask(null);\r\n        }\r\n\r\n        setShowAdminSettingsModal(false);\r\n        alert(\" .\");\r\n\r\n        //  \r\n        if (jobId) {\r\n          dataCache.invalidate(`jobs_${userDoc.classCode}`);\r\n        } else {\r\n          dataCache.invalidate(`commonTasks_${userDoc.classCode}`);\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"handleDeleteTask :\", error);\r\n        alert(\"    : \" + error.message);\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    [editingTask, userDoc]\r\n  );\r\n\r\n  // Job selection handlers\r\n  const handleSelectJobClick = useCallback(() => {\r\n    setViewMode(\"selectJob\");\r\n  }, []);\r\n\r\n  const handleConfirmJobSelection = useCallback(\r\n    async (newlySelectedJobIds) => {\r\n      if (!user?.uid) {\r\n        alert(\"  .\");\r\n        return;\r\n      }\r\n\r\n      const idsToSave = Array.isArray(newlySelectedJobIds)\r\n        ? newlySelectedJobIds\r\n        : [];\r\n      setAppLoading(true);\r\n\r\n      try {\r\n        const success = await updateUser({ selectedJobIds: idsToSave });\r\n        if (success) {\r\n          setUserDoc(prev => ({ ...prev, selectedJobIds: idsToSave })); // Optimistic update\r\n          setViewMode(\"list\");\r\n          alert(\"  .\");\r\n        } else {\r\n          alert(\"     .\");\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"handleConfirmJobSelection :\", error);\r\n        alert(\"       .\");\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [user, updateUser]\r\n  );\r\n\r\n  const handleCancelForm = useCallback(() => {\r\n    setViewMode(\"list\");\r\n  }, []);\r\n\r\n  const handleTaskEarnCoupon = useCallback(\r\n    async (taskId, jobId = null, isJobTask = false, cardType = null, rewardAmount = null) => {\r\n      if (isHandlingTask) return;\r\n      if (!userDoc?.id) {\r\n        alert(\"   .\");\r\n        return;\r\n      }\r\n\r\n      //   :    \r\n      if (isJobTask && jobId) {\r\n        const taskKey = `${jobId}_${taskId}`;\r\n        const currentClicks = (userDoc.completedJobTasks || {})[taskKey] || 0;\r\n        const jobTask = jobs\r\n          .find(j => j.id === jobId)\r\n          ?.tasks?.find(t => t.id === taskId);\r\n\r\n        if (jobTask && jobTask.maxClicks > 0 && currentClicks >= jobTask.maxClicks) {\r\n          logger.warn(\"[Dashboard]    :\", { taskKey, currentClicks, maxClicks: jobTask.maxClicks });\r\n          return;\r\n        }\r\n      } else if (!isJobTask) {\r\n        const currentClicks = (userDoc.completedTasks || {})[taskId] || 0;\r\n        const commonTask = commonTasks?.find(t => t.id === taskId);\r\n\r\n        if (commonTask && commonTask.maxClicks > 0 && currentClicks >= commonTask.maxClicks) {\r\n          logger.warn(\"[Dashboard]    :\", { taskId, currentClicks, maxClicks: commonTask.maxClicks });\r\n          return;\r\n        }\r\n      }\r\n\r\n      setIsHandlingTask(true);\r\n      logger.log(\"[Dashboard]    :\", { taskId, jobId, isJobTask, cardType, rewardAmount });\r\n\r\n      //   :   \r\n      let expectedCashReward = 0;\r\n      let expectedCouponReward = 0;\r\n\r\n      //    cardType rewardAmount \r\n      if (cardType && rewardAmount) {\r\n        if (cardType === \"cash\") {\r\n          expectedCashReward = rewardAmount;\r\n        } else if (cardType === \"coupon\") {\r\n          expectedCouponReward = rewardAmount;\r\n        }\r\n      }\r\n\r\n      const prevUserDoc = { ...userDoc };\r\n\r\n      //  UI \r\n      const optimisticCash = userDoc.cash + expectedCashReward;\r\n      const optimisticCoupons = userDoc.coupons + expectedCouponReward;\r\n\r\n      if (isJobTask && jobId) {\r\n        setUserDoc(prevDoc => ({\r\n          ...prevDoc,\r\n          cash: optimisticCash,\r\n          coupons: optimisticCoupons,\r\n          completedJobTasks: {\r\n            ...(prevDoc.completedJobTasks || {}),\r\n            [`${jobId}_${taskId}`]: ((prevDoc.completedJobTasks || {})[`${jobId}_${taskId}`] || 0) + 1,\r\n          }\r\n        }));\r\n      } else {\r\n        setUserDoc(prevDoc => ({\r\n          ...prevDoc,\r\n          cash: optimisticCash,\r\n          coupons: optimisticCoupons,\r\n          completedTasks: {\r\n            ...(prevDoc.completedTasks || {}),\r\n            [taskId]: (prevDoc.completedTasks?.[taskId] || 0) + 1,\r\n          }\r\n        }));\r\n      }\r\n\r\n      try {\r\n        const result = await completeTaskFunction({ taskId, jobId, isJobTask, cardType, rewardAmount });\r\n\r\n        const resultData = result.data;\r\n        logger.log(\" []   :\", resultData);\r\n\r\n        if (resultData.success) {\r\n          //     \r\n          const newCash = typeof resultData.updatedCash === 'number' ? resultData.updatedCash : optimisticCash;\r\n          const newCoupons = typeof resultData.updatedCoupons === 'number' ? resultData.updatedCoupons : optimisticCoupons;\r\n\r\n          logger.log(` []  :  ${optimisticCash},  ${optimisticCoupons}   :  ${newCash},  ${newCoupons}`);\r\n\r\n          setUserDoc(prevDoc => ({ ...prevDoc, cash: newCash, coupons: newCoupons }));\r\n\r\n          alert(resultData.message);\r\n        } else {\r\n          throw new Error(resultData.message || \"    \");\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"[Dashboard]      :\", error);\r\n        alert(`  : ${error.message}`);\r\n\r\n        // :   \r\n        setUserDoc(prevUserDoc);\r\n      } finally {\r\n        setIsHandlingTask(false);\r\n      }\r\n    },\r\n    [isHandlingTask, userDoc, commonTasks, jobs, setUserDoc, completeTaskFunction]\r\n  );\r\n\r\n  //      \r\n  const submitTaskApprovalFunction = useMemo(() => httpsCallable(functions, \"submitTaskApproval\"), []);\r\n\r\n  const handleTaskApprovalRequest = useCallback(\r\n    async (taskId, jobId = null, isJobTask = false, cardType = null, rewardAmount = null) => {\r\n      if (isHandlingTask) return;\r\n      if (!userDoc?.id) {\r\n        alert(\"   .\");\r\n        return;\r\n      }\r\n\r\n      setIsHandlingTask(true);\r\n      logger.log(\"[Dashboard]   :\", { taskId, jobId, isJobTask, cardType, rewardAmount });\r\n\r\n      //  :    ( )\r\n      const prevUserDoc = { ...userDoc };\r\n\r\n      if (isJobTask && jobId) {\r\n        setUserDoc(prevDoc => ({\r\n          ...prevDoc,\r\n          completedJobTasks: {\r\n            ...(prevDoc.completedJobTasks || {}),\r\n            [`${jobId}_${taskId}`]: ((prevDoc.completedJobTasks || {})[`${jobId}_${taskId}`] || 0) + 1,\r\n          }\r\n        }));\r\n      } else {\r\n        setUserDoc(prevDoc => ({\r\n          ...prevDoc,\r\n          completedTasks: {\r\n            ...(prevDoc.completedTasks || {}),\r\n            [taskId]: (prevDoc.completedTasks?.[taskId] || 0) + 1,\r\n          }\r\n        }));\r\n      }\r\n\r\n      try {\r\n        const result = await submitTaskApprovalFunction({ taskId, jobId, isJobTask, cardType, rewardAmount });\r\n        if (result.data.success) {\r\n          alert(result.data.message);\r\n        } else {\r\n          throw new Error(result.data.message || \"   \");\r\n        }\r\n      } catch (error) {\r\n        logger.error(\"[Dashboard]    :\", error);\r\n        alert(`  : ${error.message}`);\r\n        setUserDoc(prevUserDoc);\r\n      } finally {\r\n        setIsHandlingTask(false);\r\n      }\r\n    },\r\n    [isHandlingTask, userDoc, setUserDoc, submitTaskApprovalFunction]\r\n  );\r\n\r\n  // Admin settings handlers\r\n  const handleOpenAdminSettings = useCallback((tabName = \"generalSettings\") => {\r\n    setAdminGoalAmountInput(String(classCouponGoal));\r\n    setAdminCouponValueInput(String(couponValue));\r\n    setAdminSelectedMenu(tabName);\r\n    setShowAdminSettingsModal(true);\r\n  }, [classCouponGoal, couponValue]);\r\n\r\n  const handleSaveAdminSettings = useCallback(async () => {\r\n    logger.log(\"--- [DEBUG] EXECUTING handleSaveAdminSettings with LATEST code ---\");\r\n    if (!db) {\r\n      alert(\"  .\");\r\n      return;\r\n    }\r\n\r\n    const newGoal = parseInt(adminGoalAmountInput, 10);\r\n    const newValue = parseInt(adminCouponValueInput, 10);\r\n\r\n    if (isNaN(newGoal) || newGoal <= 0 || isNaN(newValue) || newValue <= 0) {\r\n      alert(\"      (0  ).\");\r\n      return;\r\n    }\r\n\r\n    setAppLoading(true);\r\n    try {\r\n      const settingsRef = doc(db, \"settings\", \"mainSettings\");\r\n      const settingsSnap = await getDoc(settingsRef);\r\n\r\n      if (\r\n        !settingsSnap.exists() ||\r\n        settingsSnap.data().couponValue !== newValue\r\n      ) {\r\n        batchManager.addWrite({\r\n          type: 'set',\r\n          ref: settingsRef,\r\n          data: { couponValue: newValue, updatedAt: serverTimestamp() }\r\n        });\r\n      }\r\n\r\n      if (currentGoalId && isAdmin?.()) {\r\n        try {\r\n          const goalRef = doc(db, \"goals\", currentGoalId);\r\n          // setDoc with merge: true ensures we don't overwrite existing fields like progress.\r\n          // This safely updates the target amount or creates the document if it doesn't exist.\r\n          await setDoc(goalRef, {\r\n            targetAmount: newGoal,\r\n            classCode: userDoc.classCode,\r\n            updatedAt: serverTimestamp(),\r\n          }, { merge: true });\r\n\r\n        } catch (goalError) {\r\n          logger.warn(\r\n            \"       :\",\r\n            goalError.code\r\n          );\r\n        }\r\n      }\r\n\r\n      setCouponValue(newValue);\r\n      if (currentGoalId && isAdmin?.()) {\r\n        setClassCouponGoal(newGoal);\r\n      }\r\n      setShowAdminSettingsModal(false);\r\n      alert(\"  .\");\r\n\r\n      //  \r\n      dataCache.invalidate('mainSettings');\r\n      if (currentGoalId) {\r\n        dataCache.invalidate(`goal_${currentGoalId}`);\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      alert(\"    : \" + error.message);\r\n    } finally {\r\n      setAppLoading(false);\r\n    }\r\n  }, [\r\n    adminGoalAmountInput,\r\n    adminCouponValueInput,\r\n    currentGoalId,\r\n    userDoc,\r\n    isAdmin,\r\n  ]);\r\n\r\n  // Class code management -     \r\n  const loadClassCodes = useCallback(async () => {\r\n    if (!db || !isAdmin?.()) return;\r\n\r\n    //  \r\n    const cached = dataCache.get('classCodes');\r\n    if (cached) {\r\n      setClassCodes(cached.validCodes || []);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const codeRef = doc(db, \"settings\", \"classCodes\");\r\n      const codeDoc = await getDoc(codeRef);\r\n\r\n      if (codeDoc.exists()) {\r\n        const codes = Array.isArray(codeDoc.data().validCodes)\r\n          ? codeDoc.data().validCodes\r\n          : [];\r\n        setClassCodes(codes);\r\n        dataCache.set('classCodes', codeDoc.data(), CACHE_TTL.CLASS_CODES);\r\n      } else {\r\n        batchManager.addWrite({\r\n          type: 'set',\r\n          ref: codeRef,\r\n          data: {\r\n            validCodes: [],\r\n            createdAt: serverTimestamp(),\r\n            updatedAt: serverTimestamp(),\r\n          }\r\n        });\r\n        setClassCodes([]);\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"   :\", error);\r\n      setClassCodes([]);\r\n    }\r\n  }, [isAdmin]);\r\n\r\n  useEffect(() => {\r\n    if (isAdmin?.()) {\r\n      loadClassCodes();\r\n    }\r\n  }, [isAdmin, loadClassCodes]);\r\n\r\n  const handleAddClassCode = useCallback(\r\n    async (codeToAdd) => {\r\n      if (!db) return false;\r\n\r\n      const trimmedCode = codeToAdd.trim();\r\n      if (!trimmedCode) {\r\n        alert(\"  .\");\r\n        return false;\r\n      }\r\n\r\n      if (classCodes.includes(trimmedCode)) {\r\n        alert(\"   .\");\r\n        return false;\r\n      }\r\n\r\n      setAppLoading(true);\r\n      try {\r\n        const codeRef = doc(db, \"settings\", \"classCodes\");\r\n        const codeSnap = await getDoc(codeRef);\r\n        const currentValidCodes = codeSnap.exists()\r\n          ? codeSnap.data().validCodes || []\r\n          : [];\r\n\r\n        batchManager.addWrite({\r\n          type: 'update',\r\n          ref: codeRef,\r\n          data: {\r\n            validCodes: [...currentValidCodes, trimmedCode],\r\n            updatedAt: serverTimestamp(),\r\n          }\r\n        });\r\n\r\n        //       (CLASS2025 ,  )\r\n        try {\r\n          const copyResult = await copyDefaultDataToNewClass(trimmedCode);\r\n          if (copyResult.success) {\r\n            alert(`  '${trimmedCode}' !\\n\\n   :\\n-  ${copyResult.results.jobs.copied}\\n-   ${copyResult.results.storeItems.copied}`);\r\n          } else {\r\n            alert(`  '${trimmedCode}' .\\n\\n     : ${copyResult.error}\\n(  )`);\r\n          }\r\n        } catch (copyError) {\r\n          logger.error(\"   :\", copyError);\r\n          alert(`  '${trimmedCode}' .\\n\\n    \\n(  )`);\r\n        }\r\n\r\n        //  \r\n        setClassCodes(prev => [...prev, trimmedCode]);\r\n\r\n        //  \r\n        dataCache.invalidate('classCodes');\r\n\r\n        return true;\r\n      } catch (error) {\r\n        logger.error(\"   :\", error);\r\n        alert(\"     \");\r\n        return false;\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    [classCodes]\r\n  );\r\n\r\n  const handleRemoveClassCode = useCallback(\r\n    async (codeToRemove) => {\r\n      if (!db) return false;\r\n\r\n      if (!window.confirm(`'${codeToRemove}'  ?`)) {\r\n        return false;\r\n      }\r\n\r\n      setAppLoading(true);\r\n      try {\r\n        const codeRef = doc(db, \"settings\", \"classCodes\");\r\n        const codeSnap = await getDoc(codeRef);\r\n\r\n        if (!codeSnap.exists()) {\r\n          throw new Error(\"     .\");\r\n        }\r\n\r\n        const currentValidCodes = codeSnap.data().validCodes || [];\r\n        const updatedCodes = currentValidCodes.filter(\r\n          (code) => code !== codeToRemove\r\n        );\r\n\r\n        batchManager.addWrite({\r\n          type: 'update',\r\n          ref: codeRef,\r\n          data: {\r\n            validCodes: updatedCodes,\r\n            updatedAt: serverTimestamp(),\r\n          }\r\n        });\r\n\r\n        alert(\"  .\");\r\n\r\n        //  \r\n        setClassCodes(prev => prev.filter(code => code !== codeToRemove));\r\n\r\n        //  \r\n        dataCache.invalidate('classCodes');\r\n\r\n        return true;\r\n      } catch (error) {\r\n        logger.error(\"   :\", error);\r\n        alert(\"     : \" + error.message);\r\n        return false;\r\n      } finally {\r\n        setAppLoading(false);\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  //   \r\n  const handleForceRefresh = useCallback(() => {\r\n    //  \r\n    dataCache.clear();\r\n\r\n    //  \r\n    realtimeManager.current.removeAllListeners();\r\n    if (userDoc?.classCode) {\r\n      setupPolling(userDoc.classCode);\r\n    }\r\n\r\n    //   \r\n    loadTasksData(true);\r\n  }, [loadTasksData, userDoc?.classCode, setupPolling]);\r\n\r\n  const handleManualTaskReset = useCallback(async () => {\r\n    logger.log(\"[Dashboard]    \");\r\n    if (!userDoc?.classCode) {\r\n      logger.error(\"[Dashboard]      .\");\r\n      alert(\"   .\");\r\n      return;\r\n    }\r\n\r\n    if (!window.confirm(`'${userDoc.classCode}'    ' '   ?\\n\\n    .`)) {\r\n      logger.log(\"[Dashboard]   .\");\r\n      return;\r\n    }\r\n\r\n    logger.log(`[Dashboard] ${userDoc.classCode}   ...`);\r\n    setAppLoading(true);\r\n    try {\r\n      const manualResetClassTasks = manualResetClassTasksFn;\r\n      const result = await manualResetClassTasks({ classCode: userDoc.classCode });\r\n      logger.log(\"[Dashboard]    :\", result.data);\r\n\r\n      if (result.data.success) {\r\n        //  ,        UI \r\n\r\n        //       \r\n        setUserDoc(prevDoc => ({\r\n          ...prevDoc,\r\n          completedTasks: {},      //   \r\n          completedJobTasks: {},   //   \r\n        }));\r\n\r\n        // localStorage    \r\n        const today = new Date().toDateString();\r\n        localStorage.setItem('lastTaskResetDate', today);\r\n\r\n        alert(` !\\n${result.data.message}`);\r\n        logger.log(`[Dashboard]  : ${result.data.message}`);\r\n\r\n      } else {\r\n        throw new Error(result.data.message || \"   \");\r\n      }\r\n    } catch (error) {\r\n      logger.error(\"[Dashboard]   :\", error);\r\n      alert(`:   .\\n\\n${error.message}`);\r\n    } finally {\r\n      setAppLoading(false);\r\n      logger.log(\"[Dashboard]    \");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userDoc?.classCode, setUserDoc]);\r\n\r\n  // Loading and error states\r\n  if (authLoading || appLoading) {\r\n    return (\r\n      <PageContainer className=\"flex items-center justify-center\">\r\n        <LoadingState message=\"  ...\" />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <PageContainer className=\"flex items-center justify-center\">\r\n        <EmptyState\r\n          icon={ListTodo}\r\n          title=\" \"\r\n          description=\"   .\"\r\n        />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  if (!userDoc?.id) {\r\n    return (\r\n      <PageContainer className=\"flex items-center justify-center\">\r\n        <EmptyState\r\n          icon={ListTodo}\r\n          title=\"   \"\r\n          description=\"    .   .\"\r\n        />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  if (!userDoc.classCode) {\r\n    return (\r\n      <PageContainer className=\"flex items-center justify-center\">\r\n        <EmptyState\r\n          icon={ListTodo}\r\n          title=\"  \"\r\n          description=\"   .     .\"\r\n        />\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  //    ( ->  -> displayName -> \"\")\r\n  const userNickname = userDoc?.name || userDoc?.nickname || user?.displayName || \"\";\r\n\r\n  return (\r\n    <div className=\"min-h-full w-full bg-[#0a0a12] px-2 pt-1 pb-0\">\r\n      {/*   -   (     ) */}\r\n      {!adminTabMode && (\r\n        <section className=\"bg-[#14142380] backdrop-blur-sm rounded-lg px-3 py-1.5 shadow-lg border border-cyan-900/30 flex flex-col md:flex-row md:items-center justify-between gap-1.5 mb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"w-7 h-7 bg-cyan-900/30 rounded-md flex items-center justify-center text-cyan-400 shrink-0 border border-cyan-500/30\">\r\n              <ListTodo className=\"w-4 h-4\" />\r\n            </div>\r\n            <div className=\"leading-tight\">\r\n              <h2 className=\"text-sm md:text-base font-bold text-white\"> </h2>\r\n              <p className=\"text-[11px] text-slate-400\">{userNickname},  !</p>\r\n            </div>\r\n          </div>\r\n          {isAdmin?.() && viewMode === \"list\" && !showAdminSettingsModal && (\r\n            <div className=\"flex flex-wrap gap-1.5\">\r\n              <ActionButton variant=\"primary\" icon={Settings} onClick={() => handleOpenAdminSettings(\"generalSettings\")} size=\"sm\" className=\"!bg-gradient-to-r !from-red-500 !to-orange-500 !text-white !font-bold !shadow-lg !shadow-red-500/30 !border-2 !border-red-400 !text-sm\">  </ActionButton>\r\n              <ActionButton variant=\"success\" icon={RefreshCw} onClick={handleForceRefresh} size=\"sm\"></ActionButton>\r\n              <ActionButton variant=\"danger\" icon={RotateCcw} onClick={handleManualTaskReset} size=\"sm\" title=\"     \"> </ActionButton>\r\n            </div>\r\n          )}\r\n          {viewMode === \"selectJob\" && (\r\n            <ActionButton variant=\"ghost\" icon={ChevronLeft} onClick={handleCancelForm}></ActionButton>\r\n          )}\r\n        </section>\r\n      )}\r\n\r\n      {viewMode === \"list\" && !showAdminSettingsModal && !adminTabMode && (\r\n        <>\r\n          {/*     */}\r\n          <div className=\"bg-[#14142380] backdrop-blur-sm rounded-2xl shadow-lg border border-cyan-900/30 overflow-hidden mb-6\">\r\n            {/*     -   */}\r\n            <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 px-4 md:px-6 py-3 md:py-4 flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Briefcase className=\"w-5 h-5 text-white\" />\r\n                <h3 className=\"text-base md:text-lg font-bold text-white\">  </h3>\r\n              </div>\r\n              <ActionButton\r\n                variant=\"outline\"\r\n                icon={Plus}\r\n                onClick={handleSelectJobClick}\r\n                size=\"sm\"\r\n                className=\"!bg-white/20 !text-white !border-white/30 hover:!bg-white/30\"\r\n              >\r\n                 /\r\n              </ActionButton>\r\n            </div>\r\n            <div className=\"p-4 md:p-6\">\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {jobsToShow.length > 0 ? (\r\n                  jobsToShow.map((job) => (\r\n                    <JobList\r\n                      key={job.id}\r\n                      job={job}\r\n                      isAdmin={isAdmin?.()}\r\n                      onEditJob={() => handleEditJob(job)}\r\n                      onDeleteJob={() => handleDeleteJob(job.id)}\r\n                      onAddTask={() => handleAddTaskClick(job.id, true)}\r\n                      onEarnCoupon={(taskId, jobId, isJobTask, cardType, rewardAmount) =>\r\n                        handleTaskEarnCoupon(taskId, jobId, isJobTask, cardType, rewardAmount)\r\n                      }\r\n                      onRequestApproval={(taskId, jobId, isJobTask, cardType, rewardAmount) =>\r\n                        handleTaskApprovalRequest(taskId, jobId, isJobTask, cardType, rewardAmount)\r\n                      }\r\n                      onEditTask={(task) => handleEditTask(task, job.id)}\r\n                      onDeleteTask={(taskId) =>\r\n                        handleDeleteTask(taskId, job.id)\r\n                      }\r\n                      isHandlingTask={isHandlingTask}\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <div className=\"col-span-full\">\r\n                    <EmptyState\r\n                      icon={Briefcase}\r\n                      title=\"  \"\r\n                      description=\"' /'    .\"\r\n                      action={\r\n                        <ActionButton\r\n                          variant=\"primary\"\r\n                          icon={Plus}\r\n                          onClick={handleSelectJobClick}\r\n                        >\r\n                           \r\n                        </ActionButton>\r\n                      }\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/*    */}\r\n              <div className=\"mt-6 rounded-xl overflow-hidden border border-emerald-900/30 bg-[#14142380] backdrop-blur-sm\">\r\n                {/*    -   */}\r\n                <div className=\"bg-gradient-to-r from-emerald-500 to-teal-500 px-4 md:px-6 py-3 md:py-4 flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <ListTodo className=\"w-5 h-5 text-white\" />\r\n                    <h3 className=\"text-base md:text-lg font-bold text-white\"> </h3>\r\n                  </div>\r\n                  {isAdmin?.() && (\r\n                    <ActionButton\r\n                      variant=\"outline\"\r\n                      icon={Plus}\r\n                      onClick={() => handleAddTaskClick(null, false)}\r\n                      size=\"sm\"\r\n                      className=\"!bg-white/20 !text-white !border-white/30 hover:!bg-white/30\"\r\n                    >\r\n                        \r\n                    </ActionButton>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"p-4 md:p-6 bg-[#0a0a12]/50\">\r\n                  <CommonTaskList\r\n                    tasks={commonTasksWithUserProgress}\r\n                    isAdmin={isAdmin?.()}\r\n                    onEarnCoupon={(taskId, jobId, isJobTask, cardType, rewardAmount) =>\r\n                      handleTaskEarnCoupon(taskId, jobId, isJobTask, cardType, rewardAmount)\r\n                    }\r\n                    onRequestApproval={(taskId, jobId, isJobTask, cardType, rewardAmount) =>\r\n                      handleTaskApprovalRequest(taskId, jobId, isJobTask, cardType, rewardAmount)\r\n                    }\r\n                    onEditTask={(taskId) => handleEditTask(commonTasks.find(t => t.id === taskId), null)}\r\n                    onDeleteTask={(taskId) => handleDeleteTask(taskId, null)}\r\n                    isHandlingTask={isHandlingTask}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {viewMode === \"selectJob\" && (\r\n        <SelectMultipleJobsView\r\n          availableJobs={jobs}\r\n          currentSelectedJobIds={currentSelectedJobIdsFromUserDoc}\r\n          onConfirmSelection={handleConfirmJobSelection}\r\n          onCancel={handleCancelForm}\r\n        />\r\n      )}\r\n\r\n      {isAdmin?.() && (\r\n        <AdminSettingsModal\r\n          isAdmin={isAdmin?.()}\r\n          isSuperAdmin={isSuperAdmin?.()}\r\n          userClassCode={userDoc?.classCode}\r\n          showAdminSettingsModal={showAdminSettingsModal}\r\n          setShowAdminSettingsModal={setShowAdminSettingsModal}\r\n          adminSelectedMenu={adminSelectedMenu}\r\n          setAdminSelectedMenu={setAdminSelectedMenu}\r\n          classCodes={classCodes}\r\n          onAddClassCode={handleAddClassCode}\r\n          onRemoveClassCode={handleRemoveClassCode}\r\n          newGoalAmount={adminGoalAmountInput}\r\n          setNewGoalAmount={setAdminGoalAmountInput}\r\n          adminCouponValue={adminCouponValueInput}\r\n          setAdminCouponValue={setAdminCouponValueInput}\r\n          handleSaveAdminSettings={handleSaveAdminSettings}\r\n          jobs={jobs}\r\n          adminNewJobTitle={adminNewJobTitle}\r\n          setAdminNewJobTitle={setAdminNewJobTitle}\r\n          adminEditingJob={editingJob}\r\n          setAdminEditingJob={setEditingJob}\r\n          handleSaveJob={handleSaveJob}\r\n          handleDeleteJob={handleDeleteJob}\r\n          handleEditJob={handleEditJob}\r\n          commonTasks={commonTasks}\r\n          showAddTaskForm={showAddTaskForm}\r\n          setShowAddTaskForm={setShowAddTaskForm}\r\n          adminNewTaskName={adminNewTaskName}\r\n          setAdminNewTaskName={setAdminNewTaskName}\r\n          adminNewTaskReward={adminNewTaskReward}\r\n          setAdminNewTaskReward={setAdminNewTaskReward}\r\n          adminNewTaskMaxClicks={adminNewTaskMaxClicks}\r\n          setAdminNewTaskMaxClicks={setAdminNewTaskMaxClicks}\r\n          adminNewTaskRequiresApproval={adminNewTaskRequiresApproval}\r\n          setAdminNewTaskRequiresApproval={setAdminNewTaskRequiresApproval}\r\n          adminEditingTask={editingTask}\r\n          setAdminEditingTask={setEditingTask}\r\n          handleSaveTask={handleSaveTask}\r\n          handleEditTask={handleEditTask}\r\n          handleDeleteTask={handleDeleteTask}\r\n          taskFormJobId={currentJobIdForTask}\r\n          taskFormIsJobTask={isJobTaskForForm}\r\n          handleAddTaskClick={handleAddTaskClick}\r\n        />\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;"],"names":["PageContainer","_ref","children","className","_jsx","concat","PageHeader","_ref2","title","subtitle","icon","Icon","badge","action","backButton","_jsxs","LoadingState","_ref4","message","EmptyState","_ref6","description","ActionButton","_ref1","variant","size","loading","disabled","onClick","primary","secondary","outline","danger","success","ghost","indigo","sm","md","lg","Loader2","memo","task","onEarnCoupon","onRequestApproval","isJobTask","isAdmin","onEditTask","onDeleteTask","taskId","jobId","showBubble","setShowBubble","useState","bubbleText","setBubbleText","showCardModal","setShowCardModal","rewardData","setRewardData","selectedCard","setSelectedCard","isFlipping","setIsFlipping","handleCardSelect","cardType","logger","log","requiresApproval","setTimeout","reward","cash","coupon","rewardText","toLocaleString","id","useEffect","timer","clearTimeout","isCompleted","maxClicks","clicks","isMobile","window","innerWidth","taskItemStyle","backgroundColor","border","opacity","padding","boxShadow","taskInfoStyle","gap","taskNameStyle","color","fontSize","lineHeight","taskActionsStyle","couponStyle","_Fragment","style","_objectSpread","cursor","handleInternalClick","taskName","name","error","rewards","generateJobTaskReward","weightedRandom","items","totalWeight","reduce","sum","item","weight","random","Math","amount","length","approvalBadgeStyle","e","stopPropagation","adminButtonStyles","bubbleStyle","bubbleTailStyle","renderCardModal","mobileModalContentStyle","modalContentStyle","mobileModalTitleStyle","modalTitleStyle","mobileModalSubtitleStyle","modalSubtitleStyle","mobileCardsContainerStyle","cardsContainerStyle","mobileCardStyle","cardStyle","width","height","mobileCardIconStyle","cardIconStyle","marginBottom","mobileCardTextStyle","cardTextStyle","mobileRewardAmountStyle","rewardAmountStyle","mobileRewardLabelStyle","rewardLabelStyle","createPortal","modalOverlayStyle","selectedCardStyle","cardInnerStyle","transform","cardFrontStyle","backfaceVisibility","cardBackStyle","cardBackVisibleStyle","document","body","background","bottom","content","top","left","marginLeft","borderWidth","borderStyle","borderColor","animation","textShadow","perspective","transition","transformStyle","job","onEditJob","onDeleteJob","onAddTask","addJobTaskButtonStyle","backdropFilter","borderBottom","letterSpacing","tasks","map","TaskItem","borderTop","fontWeight","CommonTaskList","Array","isArray","gridTemplateColumns","createOptimizedFunction","functionName","fn","httpsCallable","functions","async","result","data","Error","optimizedFirebaseService","getAdminSettingsData","batchPaySalaries","getItemContextData","queryKeys","adminSettings","classCode","tab","systemManagement","realtimeOptimizer","shouldUseRealtime","navigator","onLine","hidden","localBackup","save","key","localStorage","setItem","JSON","stringify","timestamp","Date","now","warn","maxAge","arguments","undefined","backup","getItem","parsed","parse","removeItem","isSuperAdmin","systemStatus","setSystemStatus","setLoading","setError","autoRefresh","setAutoRefresh","lastUpdate","setLastUpdate","errorCount","setErrorCount","getSystemStatus","resolveSystemAlert","fetchSystemStatus","useCallback","err","prev","handleResolveAlert","confirm","alertId","alert","intervalId","setInterval","clearInterval","type","checked","onChange","target","toLocaleTimeString","marginTop","borderRadius","margin","health","totalUsers","stats","lastMinute","reads","writes","errors","errorRate","toFixed","avgResponseTime","anomalies","anomaly","index","severity","alerts","_alert$timestamp","_alert$timestamp2","alertTime","toDate","seconds","errorLogs","slice","_log$timestamp","_log$timestamp2","logTime","last5Minutes","initialStocks","price","history","ClassDataDeletionSection","userClassCode","deleteConfirmText","setDeleteConfirmText","isDeleting","setIsDeleting","showConfirmation","setShowConfirmation","value","placeholder","usersRef","firestoreCollection","db","studentsQuery","firebaseQuery","firebaseWhere","studentsSnapshot","firebaseGetDocs","activityLogsRef","activityLogsQuery","activityLogsSnapshot","studentIds","docs","doc","transactionsToDelete","batches","i","push","batch","transactionsRef","transactionsQuery","transactionsSnapshot","allDocsToDelete","BATCH_SIZE","writeBatch","forEach","docSnap","delete","ref","commit","floor","_jobs$find","showAdminSettingsModal","setShowAdminSettingsModal","adminSelectedMenu","setAdminSelectedMenu","newGoalAmount","setNewGoalAmount","adminCouponValue","setAdminCouponValue","handleSaveAdminSettings","jobs","adminNewJobTitle","setAdminNewJobTitle","adminEditingJob","setAdminEditingJob","handleSaveJob","handleDeleteJob","handleEditJob","commonTasks","showAddTaskForm","setShowAddTaskForm","adminNewTaskName","setAdminNewTaskName","adminNewTaskReward","setAdminNewTaskReward","adminNewTaskMaxClicks","setAdminNewTaskMaxClicks","adminNewTaskRequiresApproval","setAdminNewTaskRequiresApproval","adminEditingTask","setAdminEditingTask","handleSaveTask","handleEditTask","handleDeleteTask","taskFormJobId","taskFormIsJobTask","handleAddTaskClick","classCodes","onAddClassCode","onRemoveClassCode","newClassCode","setNewClassCode","classCodeOperationLoading","setClassCodeOperationLoading","classMembers","setClassMembers","membersLoading","setMembersLoading","showEditStudentJobsModal","setShowEditStudentJobsModal","selectedStudent","setSelectedStudent","tempSelectedJobIds","setTempSelectedJobIds","students","setStudents","studentsLoading","setStudentsLoading","appLoading","setAppLoading","isPayingSalary","setIsPayingSalary","lastSalaryPaidDate","setLastSalaryPaidDate","selectedStudentIds","setSelectedStudentIds","selectAllStudents","setSelectAllStudents","depositProducts","setDepositProducts","savingProducts","setSavingProducts","loanProducts","setLoanProducts","newProductName","setNewProductName","newProductPeriod","setNewProductPeriod","newProductRate","setNewProductRate","financialSubTab","setFinancialSubTab","financialMessage","setFinancialMessage","jobTaskSubTab","setJobTaskSubTab","studentMemberSubTab","setStudentMemberSubTab","financeMarketSubTab","setFinanceMarketSubTab","systemSubTab","setSystemSubTab","marketStatus","setMarketStatus","isOpen","marketMessage","setMarketMessage","isMarketDataLoaded","setIsMarketDataLoaded","marketStatusCache","useRef","parkingInterestRate","setParkingInterestRate","newInterestRate","setNewInterestRate","parkingMessage","setParkingMessage","toggleMarketManually","salarySettings","setSalarySettings","taxRate","salaryIncreaseRate","tempTaxRate","setTempTaxRate","tempSalaryIncreaseRate","setTempSalaryIncreaseRate","salarySettingsLoading","setSalarySettingsLoading","useOptimizedStudents","userDoc","useAuth","useQuery","queryKey","queryFn","enabled","staleTime","gcTime","salarySettingsQuery","useOptimizedSalarySettings","batchPaySalariesMutation","useOptimizedSystemManagement","backupKey","retry","failureCount","code","refetchInterval","useOptimizedAdminSettings","useBatchPaySalaries","queryClient","useQueryClient","useMutation","mutationFn","payAll","onSuccess","invalidateQueries","onError","preloadAdminData","useAdminDataPreloader","preloadPromises","prefetchQuery","Promise","allSettled","loadSalarySettings","classSettingsRef","firebaseDoc","settingsSnap","firebaseGetSingleDoc","exists","settings","String","lastPaidDate","firebaseSetDoc","createdAt","serverTimestamp","updatedAt","handleSaveSalarySettings","taxRateNum","parseFloat","increaseRateNum","isNaN","newSettings","firebaseUpdateDoc","calculateSalary","selectedJobIds","includesTax","gross","tax","net","grossSalary","max","handleJobEdit","handleJobDelete","handleTaskEdit","handleTaskDelete","handleTaskAdd","loadStudents","studentsList","classStudentsRef","firebaseCollection","userData","nickname","email","money","lastSalaryDate","lastGrossSalary","lastTaxAmount","lastNetSalary","totalSalaryReceived","classError","queryRef","settingsDoc","settingsError","loadClassMembers","querySnapshot","usersList","adminResetUserPassword","handleResetPassword","newPassword","prompt","userId","toggleAdminStatus","currentStatus","userRef","prevMembers","member","loadFinancialProducts","savedDeposit","savedSaving","savedLoan","handleAddProduct","trim","text","parseInt","newProduct","period","rate","typeText","updatedProducts","storageKey","handleDeleteProduct","filter","p","fetchMarketStatus","current","marketStatusRef","getDoc","statusData","setDoc","handleMarketControl","actionText","newIsOpenState","optimisticStatus","handleInitializeStocks","stock","stockRef","set","loadParkingRate","savedRate","handleParkingRateChange","toString","handleAddClassCode","codeToAdd","handleRemoveClassCode","codeToRemove","mapped","taskManagement","jobSettings","studentManagement","memberManagement","financialProducts","parkingAccount","marketControl","databaseManagement","formatLastSalaryDate","date","getFullYear","getMonth","padStart","getDate","getHours","getMinutes","min","find","j","display","alignItems","_studentsQuery$data","_salarySettingsQuery$2","currentStudents","currentSalarySettings","mutateAsync","summary","totalStudentsPaid","totalGrossPaid","totalTaxDeducted","totalNetPaid","_salarySettingsQuery$","handleToggleSelectAll","student","salaryCalc","includes","handleToggleStudentSelection","studentId","Boolean","join","toLocaleDateString","handleEditStudentJobs","step","products","product","AdminDatabase","href","rel","SystemMonitoring","active","handleToggleJobSelection","htmlFor","prevStudents","CACHE_TTL","JOBS","TASKS","SETTINGS","GOALS","CLASS_CODES","dataCache","globalCacheService","get","ttl","invalidate","clear","clearAll","batchManager","constructor","this","pendingWrites","batchTimeout","BATCH_DELAY","MAX_BATCH_SIZE","addWrite","operation","executeBatch","scheduleBatch","operations","update","RealtimeManager","listeners","Map","addListener","unsubscribe","has","removeListener","removeAllListeners","SelectMultipleJobsView","availableJobs","currentSelectedJobIds","onConfirmSelection","onCancel","tempSelection","setTempSelection","activeJobs","useMemo","handleCheckboxChange","Briefcase","_ref3","adminTabMode","user","setUserDoc","authLoading","updateUser","refreshUserDocument","optimisticUpdate","realtimeManager","lastFetchTime","fetchPromise","viewMode","setViewMode","setJobs","setCommonTasks","editingJob","setEditingJob","editingTask","setEditingTask","currentJobIdForTask","setCurrentJobIdForTask","isJobTaskForForm","setIsJobTaskForForm","completeTaskFunction","manualResetClassTasksFn","isHandlingTask","setIsHandlingTask","classCouponGoal","setClassCouponGoal","couponValue","setCouponValue","adminCouponValueInput","setAdminCouponValueInput","adminGoalAmountInput","setAdminGoalAmountInput","setClassCodes","currentGoalId","currentSelectedJobIdsFromUserDoc","jobsToShow","completedJobTasks","commonTasksWithUserProgress","userCompletedTasks","completedTasks","generateId","substring","setupPolling","pollData","jobsQuery","query","where","limit","loadedJobs","getDocs","d","sort","a","b","_a$updatedAt","_a$updatedAt$toMillis","_b$updatedAt","_b$updatedAt$toMillis","timeA","toMillis","call","tasksQuery","loadedCommonTasks","_a$updatedAt2","_a$updatedAt2$toMilli","_b$updatedAt2","_b$updatedAt2$toMilli","loadCachedData","jobsCache","tasksCache","settingsCache","hasJobsCache","hasTasksCache","hasSettingsCache","loadTasksData","forceRefresh","cacheStatus","promises","then","snap","all","newCouponValue","targetAmount","validCodes","fetchData","refreshInProgressRef","refreshTasksAfterReset","today","toDateString","manager","dateCheckExecutedRef","lastCheckedDateRef","checkDateAndRefresh","lastResetDate","dateCheckInterval","jobRef","newJobId","_userDoc$selectedJobI","jobIdToDelete","updatedSelectedIds","jobToEdit","taskToEdit","taskData","jobSnap","jobTasks","taskIndex","findIndex","t","updatedTasks","taskRef","newTaskId","newTaskDataWithId","arrayUnion","newTaskRef","taskIdToDelete","handleSelectJobClick","handleConfirmJobSelection","uid","idsToSave","newlySelectedJobIds","handleCancelForm","handleTaskEarnCoupon","rewardAmount","_jobs$find$tasks","taskKey","currentClicks","jobTask","commonTask","expectedCashReward","expectedCouponReward","prevUserDoc","optimisticCash","optimisticCoupons","coupons","prevDoc","_prevDoc$completedTas","resultData","newCash","updatedCash","newCoupons","updatedCoupons","submitTaskApprovalFunction","handleTaskApprovalRequest","_prevDoc$completedTas2","handleOpenAdminSettings","tabName","newGoal","newValue","settingsRef","goalRef","merge","goalError","loadClassCodes","cached","codeRef","codeDoc","codes","trimmedCode","codeSnap","currentValidCodes","copyResult","copyDefaultDataToNewClass","results","copied","storeItems","copyError","updatedCodes","handleForceRefresh","handleManualTaskReset","manualResetClassTasks","ListTodo","userNickname","displayName","Settings","RefreshCw","RotateCcw","ChevronLeft","Plus","JobList","AdminSettingsModal"],"ignoreList":[],"sourceRoot":""}