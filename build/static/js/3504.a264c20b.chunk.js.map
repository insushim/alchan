{"version":3,"file":"static/js/3504.a264c20b.chunk.js","mappings":"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","sources":["pages/organization/OrganizationChart.js"],"sourcesContent":["// src/pages/organization/OrganizationChart.js\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport \"./OrganizationChart.css\";\nimport { db } from \"../../firebase\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport {\n  doc,\n  collection,\n  query,\n  where,\n  updateDoc,\n  setDoc,\n  getDoc,\n  getDocs,\n  serverTimestamp,\n  writeBatch,\n} from \"firebase/firestore\";\nimport { usePolling } from \"../../hooks/usePolling\";\n\nimport { logger } from \"../../utils/logger\";\n// ê¸°ë³¸ ê´€ë¦¬ì ì„¤ì • (Firestoreì— ì—†ì„ ê²½ìš° ì‚¬ìš©)\nconst DEFAULT_ADMIN_SETTINGS = {\n  vetoOverrideRequired: 17,\n  adminPassword: process.env.REACT_APP_ADMIN_DEFAULT_PASSWORD || \"\",\n  lastUpdated: null,\n};\n\nconst OrganizationChart = ({ classCode }) => {\n  const { isAdmin: isAuthAdmin, userDoc } = useAuth() || {};\n  const isPresident = userDoc?.job === \"ëŒ€í†µë ¹\";\n  const canManage = isAuthAdmin || isPresident; // ê´€ë¦¬ì ë˜ëŠ” ëŒ€í†µë ¹ ì§ì—…\n\n  const [approvedLaws, setApprovedLaws] = useState([]);\n  const [vetoPendingLaws, setVetoPendingLaws] = useState([]);\n  const [pendingGovLaws, setPendingGovLaws] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedLaw, setSelectedLaw] = useState(null);\n  const [vetoReason, setVetoReason] = useState(\"\");\n  const [adminSettings, setAdminSettings] = useState(DEFAULT_ADMIN_SETTINGS);\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\n  const [newSettings, setNewSettings] = useState({\n    vetoOverrideRequired: DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\n    adminPassword: \"\",\n  });\n  const [loadingSettings, setLoadingSettings] = useState(true);\n  const [loadingLaws, setLoadingLaws] = useState(true);\n\n  // Firestoreì—ì„œ ê´€ë¦¬ì ì„¤ì • ë¡œë“œ ë° ì´ˆê¸°í™”\n  const fetchSettings = useCallback(async () => {\n    if (!classCode) return;\n    setLoadingSettings(true);\n    const settingsDocRef = doc(db, \"governmentSettings\", classCode);\n\n    try {\n      const docSnap = await getDoc(settingsDocRef);\n      if (docSnap.exists()) {\n        setAdminSettings({ ...DEFAULT_ADMIN_SETTINGS, ...docSnap.data() });\n        setNewSettings({\n          // ëª¨ë‹¬ìš© ì„¤ì •ë„ ì—…ë°ì´íŠ¸\n          vetoOverrideRequired:\n            docSnap.data().vetoOverrideRequired ||\n            DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\n          adminPassword: \"\", // ë¹„ë°€ë²ˆí˜¸ëŠ” ì§ì ‘ ì…ë ¥ë°›ë„ë¡ ë¹„ì›Œë‘ \n        });\n      } else {\n        // í•´ë‹¹ classCodeì— ëŒ€í•œ ì„¤ì •ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ ìƒì„±\n        await setDoc(settingsDocRef, {\n          ...DEFAULT_ADMIN_SETTINGS,\n          lastUpdated: serverTimestamp(),\n        });\n        setAdminSettings(DEFAULT_ADMIN_SETTINGS);\n        setNewSettings({\n          vetoOverrideRequired: DEFAULT_ADMIN_SETTINGS.vetoOverrideRequired,\n          adminPassword: \"\",\n        });\n        logger.log(`[${classCode}] ì •ë¶€ ê¸°ë³¸ ì„¤ì • ìƒì„± ì™„ë£Œ`);\n      }\n    } catch (error) {\n      logger.error(\"ì •ë¶€ ì„¤ì • ë¡œë“œ ì˜¤ë¥˜:\", error);\n    } finally {\n      setLoadingSettings(false);\n    }\n  }, [classCode]);\n\n  // ğŸ”¥ [ë¹„ìš© ìµœì í™”] 5ë¶„ â†’ 1ì‹œê°„ (ì •ë¶€ ì„¤ì •ì€ ê±°ì˜ ì•ˆ ë°”ë€œ)\n  usePolling(fetchSettings, { interval: 60 * 60 * 1000, enabled: !!classCode });\n\n  // Firestoreì—ì„œ ë²•ì•ˆ ë°ì´í„° ë¡œë“œ\n  const fetchLaws = useCallback(async () => {\n    if (!classCode) return;\n    setLoadingLaws(true);\n    const lawsCollectionRef = collection(db, \"laws\"); // 'laws'ëŠ” êµ­íšŒì—ì„œ ì‚¬ìš©í•˜ëŠ” ë²•ì•ˆ ì»¬ë ‰ì…˜ëª…ê³¼ ë™ì¼í•´ì•¼ í•¨\n    const q = query(lawsCollectionRef, where(\"classCode\", \"==\", classCode));\n\n    try {\n      const querySnapshot = await getDocs(q);\n      const allLaws = querySnapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n\n      const approved = allLaws.filter(\n        (law) => law.status === \"approved\" && !law.presidentAction, // êµ­íšŒ í†µê³¼, ëŒ€í†µë ¹ ì¡°ì¹˜ ì „\n      );\n      const vetoPending = allLaws.filter((law) => law.status === \"vetoed\"); // ëŒ€í†µë ¹ ê±°ë¶€, ì¬ì˜ê²° ëŒ€ê¸°\n\n      setApprovedLaws(approved);\n      setVetoPendingLaws(vetoPending);\n    } catch (error) {\n      logger.error(\"ë²•ì•ˆ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:\", error);\n    } finally {\n      setLoadingLaws(false);\n    }\n  }, [classCode]);\n\n  // ğŸ”¥ [ë¹„ìš© ìµœì í™”] 5ë¶„ â†’ 30ë¶„ (ë²•ì•ˆ ë°ì´í„°ëŠ” ìì£¼ ì•ˆ ë°”ë€œ)\n  usePolling(fetchLaws, { interval: 30 * 60 * 1000, enabled: !!classCode });\n\n  // ì •ë¶€ ì´ì†¡ ë²•ì•ˆ (nationalAssemblyLaws ì»¬ë ‰ì…˜) ë¡œë“œ\n  const fetchGovLaws = useCallback(async () => {\n    if (!classCode) return;\n    try {\n      const lawsRef = collection(\n        db,\n        \"classes\",\n        classCode,\n        \"nationalAssemblyLaws\",\n      );\n      const q = query(\n        lawsRef,\n        where(\"status\", \"==\", \"pending_government_approval\"),\n      );\n      const snapshot = await getDocs(q);\n      setPendingGovLaws(snapshot.docs.map((d) => ({ id: d.id, ...d.data() })));\n    } catch (error) {\n      logger.error(\"ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ë¡œë“œ ì˜¤ë¥˜:\", error);\n    }\n  }, [classCode]);\n\n  usePolling(fetchGovLaws, { interval: 15 * 60 * 1000, enabled: !!classCode });\n\n  // ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ìŠ¹ì¸\n  const approveGovLaw = async (law) => {\n    if (!canManage || !classCode) {\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ìŠ¹ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    if (!window.confirm(\"ì´ ë²•ì•ˆì„ ìµœì¢… ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\")) return;\n    const lawDocRef = doc(\n      db,\n      \"classes\",\n      classCode,\n      \"nationalAssemblyLaws\",\n      law.id,\n    );\n    try {\n      await updateDoc(lawDocRef, {\n        status: \"approved\",\n        finalStatus: \"final_approved\",\n        finalApprovalDate: serverTimestamp(),\n      });\n      await fetchGovLaws();\n      alert(`\"${law.title}\" ë²•ì•ˆì´ ìµœì¢… ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.`);\n    } catch (error) {\n      logger.error(\"ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ìŠ¹ì¸ ì˜¤ë¥˜:\", error);\n      alert(\"ë²•ì•ˆ ìŠ¹ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ê±°ë¶€ê¶Œ\n  const vetoGovLaw = async (law) => {\n    if (!canManage || !classCode) {\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ê±°ë¶€ê¶Œì„ í–‰ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    const reason = prompt(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n    if (!reason || !reason.trim()) {\n      alert(\"ê±°ë¶€ ì‚¬ìœ ë¥¼ ë°˜ë“œì‹œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.\");\n      return;\n    }\n    const lawDocRef = doc(\n      db,\n      \"classes\",\n      classCode,\n      \"nationalAssemblyLaws\",\n      law.id,\n    );\n    const deadline = new Date();\n    deadline.setDate(deadline.getDate() + 7);\n    try {\n      await updateDoc(lawDocRef, {\n        status: \"vetoed\",\n        vetoReason: reason,\n        vetoDate: serverTimestamp(),\n        vetoDeadline: deadline,\n        approvals: 0,\n        disapprovals: 0,\n        voters: {},\n      });\n      await fetchGovLaws();\n      alert(`\"${law.title}\" ë²•ì•ˆì— ê±°ë¶€ê¶Œì´ í–‰ì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.`);\n    } catch (error) {\n      logger.error(\"ì •ë¶€ ì´ì†¡ ë²•ì•ˆ ê±°ë¶€ ì˜¤ë¥˜:\", error);\n      alert(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ê´€ë¦¬ì ì„¤ì • ì €ì¥ (Firestore)\n  const saveSettings = async () => {\n    if (!classCode) return;\n    if (\n      !newSettings.vetoOverrideRequired ||\n      newSettings.vetoOverrideRequired < 1\n    ) {\n      alert(\"ì¬ì˜ê²° í•„ìš” ì°¬ì„±ìˆ˜ëŠ” 1 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.\");\n      return;\n    }\n\n    const settingsDocRef = doc(db, \"governmentSettings\", classCode);\n    const updatedSettingsData = {\n      vetoOverrideRequired: parseInt(newSettings.vetoOverrideRequired),\n      lastUpdated: serverTimestamp(),\n    };\n\n    if (newSettings.adminPassword) {\n      updatedSettingsData.adminPassword = newSettings.adminPassword;\n    }\n\n    try {\n      await updateDoc(settingsDocRef, updatedSettingsData);\n      await fetchSettings();\n      setShowSettingsModal(false);\n      alert(\"ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n    } catch (error) {\n      logger.error(\"ì„¤ì • ì €ì¥ ì˜¤ë¥˜:\", error);\n      alert(\"ì„¤ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ë²•ì•ˆ ìŠ¹ì¸ ì²˜ë¦¬ (Firestore)\n  const approveLaw = async (law) => {\n    if (!canManage || !classCode) {\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ìŠ¹ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    const lawDocRef = doc(db, \"laws\", law.id);\n    try {\n      await updateDoc(lawDocRef, {\n        presidentAction: \"approved\", // ëŒ€í†µë ¹ ìŠ¹ì¸\n        finalStatus: \"final_approved\", // ìµœì¢… ìƒíƒœ: ìŠ¹ì¸\n        finalApprovalDate: serverTimestamp(),\n        status: \"final_approved\", // ìƒíƒœë„ ìµœì¢… ìŠ¹ì¸ìœ¼ë¡œ ë³€ê²½ (í˜¼ì„  ë°©ì§€)\n      });\n      await fetchLaws();\n      alert(`\"${law.title}\" ë²•ì•ˆì´ ìµœì¢… ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.`);\n    } catch (error) {\n      logger.error(\"ë²•ì•ˆ ìŠ¹ì¸ ì˜¤ë¥˜:\", error);\n      alert(\"ë²•ì•ˆ ìŠ¹ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ê±°ë¶€ê¶Œ í–‰ì‚¬ ëª¨ë‹¬ ì—´ê¸°\n  const openVetoModal = (law) => {\n    if (!canManage) {\n      alert(\"ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ê±°ë¶€ê¶Œì„ í–‰ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\");\n      return;\n    }\n    setSelectedLaw(law);\n    setVetoReason(\"\");\n    setShowModal(true);\n  };\n\n  // ê±°ë¶€ê¶Œ í–‰ì‚¬ ì²˜ë¦¬ (Firestore)\n  const vetoLaw = async () => {\n    if (!vetoReason) {\n      alert(\"ê±°ë¶€ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\");\n      return;\n    }\n    if (!selectedLaw || !classCode) return;\n\n    const lawDocRef = doc(db, \"laws\", selectedLaw.id);\n    // êµ­íšŒ ì»´í¬ë„ŒíŠ¸ì™€ ë™ì¼í•œ ë¡œì§ìœ¼ë¡œ ê±°ë¶€ê¶Œ í–‰ì‚¬ ì‹œ íˆ¬í‘œ ê´€ë ¨ í•„ë“œë„ ì—…ë°ì´íŠ¸\n    // (ì˜ˆ: nationalAssemblyVotes ì»¬ë ‰ì…˜ì—ì„œ í•´ë‹¹ ë²•ì•ˆ íˆ¬í‘œ ì´ë ¥ ì‚­ì œ ë“±ì€ NationalAssembly ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ê³¼ ì¤‘ë³µë  ìˆ˜ ìˆì–´, ì—¬ê¸°ì„œëŠ” ë²•ì•ˆ ìƒíƒœë§Œ ë³€ê²½)\n    // êµ­íšŒì—ì„œ ì¬ì˜ê²°ì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í•„ë“œë“¤ì„ ì´ˆê¸°í™”/ì„¤ì •í•´ì¤ë‹ˆë‹¤.\n    const vetoDeadline = new Date(\n      Date.now() + 24 * 60 * 60 * 1000,\n    ).toISOString(); // 24ì‹œê°„ í›„\n\n    try {\n      await updateDoc(lawDocRef, {\n        status: \"vetoed\", // ìƒíƒœ: ê±°ë¶€ë¨ (êµ­íšŒ ì¬ì˜ê²° ëŒ€ê¸°)\n        presidentAction: \"vetoed\", // ëŒ€í†µë ¹ ì¡°ì¹˜: ê±°ë¶€\n        vetoReason: vetoReason,\n        vetoDate: serverTimestamp(),\n        approvals: 0, // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\n        disapprovals: 0, // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\n        voters: [], // êµ­íšŒ ì¬íˆ¬í‘œë¥¼ ìœ„í•´ ì´ˆê¸°í™”\n        vetoDeadline: vetoDeadline, // ì¬ì˜ê²° ê¸°í•œ ì„¤ì •\n        finalStatus: null, // ìµœì¢… ìƒíƒœ ì´ˆê¸°í™”\n      });\n      await fetchLaws();\n\n      // êµ­íšŒ íˆ¬í‘œ ì´ë ¥(nationalAssemblyVotes)ì€ NationalAssembly ì»´í¬ë„ŒíŠ¸ì—ì„œ ê´€ë¦¬í•˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ì§ì ‘ ê±´ë“œë¦¬ì§€ ì•ŠìŒ\n      // í•„ìš”í•˜ë‹¤ë©´, Cloud Function ë“±ì„ í†µí•´ êµ­íšŒ íˆ¬í‘œ ì´ë ¥ë„ ì´ˆê¸°í™”í•˜ëŠ” ë¡œì§ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŒ\n\n      setShowModal(false);\n      setSelectedLaw(null);\n      alert(\n        `\"${selectedLaw.title}\" ë²•ì•ˆì— ê±°ë¶€ê¶Œì´ í–‰ì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. êµ­íšŒì—ì„œ ì¬ì˜ê²° ì ˆì°¨ê°€ ì‹œì‘ë©ë‹ˆë‹¤.`,\n      );\n    } catch (error) {\n      logger.error(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì˜¤ë¥˜:\", error);\n      alert(\"ê±°ë¶€ê¶Œ í–‰ì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\");\n    }\n  };\n\n  // ë‚ ì§œ í¬ë§· í•¨ìˆ˜\n  const formatDate = (dateStringOrTimestamp) => {\n    if (!dateStringOrTimestamp) return \"ë‚ ì§œ ì •ë³´ ì—†ìŒ\";\n    let date;\n    if (dateStringOrTimestamp.toDate) {\n      // Firestore Timestamp ê°ì²´ì¸ ê²½ìš°\n      date = dateStringOrTimestamp.toDate();\n    } else {\n      // ISO ë¬¸ìì—´ì¸ ê²½ìš°\n      date = new Date(dateStringOrTimestamp);\n    }\n    if (isNaN(date.getTime())) return \"ìœ íš¨í•˜ì§€ ì•Šì€ ë‚ ì§œ\";\n    return `${date.getFullYear()}ë…„ ${\n      date.getMonth() + 1\n    }ì›” ${date.getDate()}ì¼ ${date.getHours()}ì‹œ ${date.getMinutes()}ë¶„`;\n  };\n\n  // ë‚¨ì€ ì‹œê°„ ê³„ì‚° í•¨ìˆ˜\n  const getRemainingTime = (deadline) => {\n    if (!deadline) return \"ê¸°í•œ ì •ë³´ ì—†ìŒ\";\n    const now = new Date();\n    const deadlineDate = new Date(deadline);\n    const diff = deadlineDate - now;\n\n    if (diff <= 0) return \"ì‹œê°„ ë§Œë£Œ\";\n\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n\n    return `${hours}ì‹œê°„ ${minutes}ë¶„ ë‚¨ìŒ`;\n  };\n\n  // ìë™ ë¶€ê²° ì²˜ë¦¬ í™•ì¸ (Firestore ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, NationalAssembly ì»´í¬ë„ŒíŠ¸ì—ì„œ ì£¼ë¡œ ì²˜ë¦¬)\n  // OrganizationChartëŠ” vetoPendingLaws ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” ì—­í• ì— ì§‘ì¤‘í•˜ê³ ,\n  // ì‹¤ì œ ë²•ì•ˆì˜ ìµœì¢… ìƒíƒœ ë³€ê²½(auto_rejected ë“±)ì€ NationalAssembly ë˜ëŠ” ë³„ë„ì˜ ë¡œì§(ì˜ˆ: Cloud Function)ì—ì„œ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ë” ì ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n  // ì—¬ê¸°ì„œëŠ” UI í‘œì‹œì— í•„ìš”í•œ ì •ë³´ë§Œ í™œìš©í•©ë‹ˆë‹¤.\n  // ë§Œì•½ ì´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´, ì•„ë˜ ë¡œì§ì„ Firestore ì“°ê¸°ì™€ í•¨ê»˜ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.\n  // useEffect(() => {\n  //   if (!classCode || vetoPendingLaws.length === 0) return;\n\n  //   const now = new Date();\n  //   const batch = writeBatch(db);\n  //   let needsUpdate = false;\n\n  //   vetoPendingLaws.forEach(law => {\n  //     if (law.status === \"vetoed\" && law.vetoDeadline) {\n  //       const deadlineDate = new Date(law.vetoDeadline);\n  //       const currentApprovals = law.approvals || 0;\n\n  //       if (now > deadlineDate && currentApprovals < adminSettings.vetoOverrideRequired) {\n  //         const lawDocRef = doc(db, \"laws\", law.id);\n  //         batch.update(lawDocRef, {\n  //           status: \"auto_rejected\", // ìë™ ë¶€ê²°\n  //           finalStatus: \"rejected\", // ìµœì¢… ìƒíƒœ: ë¶€ê²°\n  //           rejectionReason: \"ì¬ì˜ê²° ê¸°í•œ ë§Œë£Œ ë° ì°¬ì„± ë¯¸ë‹¬\",\n  //           finalDecisionDate: serverTimestamp(),\n  //         });\n  //         needsUpdate = true;\n  //         logger.log(`ë²•ì•ˆ \"${law.title}\" ìë™ ë¶€ê²° ì²˜ë¦¬ë¨.`);\n  //       }\n  //     }\n  //   });\n\n  //   if (needsUpdate) {\n  //     batch.commit()\n  //       .then(() => logger.log(\"ìë™ ë¶€ê²° ë²•ì•ˆ ìƒíƒœ ì¼ê´„ ì—…ë°ì´íŠ¸ ì™„ë£Œ.\"))\n  //       .catch(error => logger.error(\"ìë™ ë¶€ê²° ë²•ì•ˆ ìƒíƒœ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:\", error));\n  //   }\n  //   // ì´ ë¡œì§ì€ NationalAssembly.jsì—ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê±°ë‚˜ Cloud Functionìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë” ì í•©í•©ë‹ˆë‹¤.\n  //   // ì—¬ê¸°ì„œëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ë‚¨ê²¨ë‘¡ë‹ˆë‹¤.\n  // }, [vetoPendingLaws, adminSettings.vetoOverrideRequired, classCode]);\n\n  if (!classCode) {\n    return (\n      <div className=\"org-chart-container\">\n        <p>ì„ íƒëœ í•™ê¸‰ì´ ì—†ìŠµë‹ˆë‹¤. í•™ê¸‰ì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.</p>\n      </div>\n    );\n  }\n\n  if (loadingSettings || loadingLaws) {\n    return (\n      <div className=\"org-chart-container\">\n        <p>ì •ë¶€ ì¡°ì§ë„ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"org-chart-container\">\n      <div className=\"org-header\">\n        <h1 className=\"org-title\">ì •ë¶€ ì¡°ì§ë„ (í•™ê¸‰: {classCode})</h1>\n        <div className=\"admin-controls\">\n          {canManage && (\n            <div className=\"admin-indicator\">\n              {isAuthAdmin ? \"ê´€ë¦¬ì\" : \"ëŒ€í†µë ¹\"} ê¶Œí•œ í™œì„±í™”\n            </div>\n          )}\n\n          {isAuthAdmin && (\n            <button\n              className=\"settings-button\"\n              onClick={() => {\n                setNewSettings({\n                  vetoOverrideRequired: adminSettings.vetoOverrideRequired,\n                  adminPassword: \"\",\n                });\n                setShowSettingsModal(true);\n              }}\n            >\n              ì„¤ì •\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"president-section\">\n        <div className=\"president-office\">\n          <h2>ëŒ€í†µë ¹ì‹¤</h2>\n          {canManage && (\n            <div className=\"admin-indicator\">\n              {isPresident ? \"ëŒ€í†µë ¹ ê¶Œí•œ\" : \"ê´€ë¦¬ì ê¶Œí•œ\"}\n            </div>\n          )}\n        </div>\n\n        {/* ì •ë¶€ ì´ì†¡ ë²•ì•ˆ (nationalAssemblyLaws ì»¬ë ‰ì…˜) */}\n        <div className=\"law-approval-section\">\n          <h3>ì •ë¶€ ì´ì†¡ ë²•ì•ˆ</h3>\n          {pendingGovLaws.length === 0 ? (\n            <div className=\"empty-state\">ì •ë¶€ë¡œ ì´ì†¡ëœ ë²•ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>\n          ) : (\n            <div className=\"pending-laws\">\n              {pendingGovLaws.map((law) => (\n                <div key={law.id} className=\"law-card\">\n                  <div className=\"law-header\">\n                    <h3 className=\"law-title\">{law.title}</h3>\n                    <div className=\"law-status\">ì •ë¶€ ì‹¬ì˜ì¤‘</div>\n                  </div>\n                  <div className=\"law-content\">\n                    <p>\n                      <strong>ì œì•ˆì:</strong> {law.proposerName || \"ì •ë³´ ì—†ìŒ\"}\n                    </p>\n                    <p>\n                      <strong>ì·¨ì§€:</strong> {law.purpose}\n                    </p>\n                    <p>\n                      <strong>ì„¤ëª…:</strong> {law.description}\n                    </p>\n                    <p>\n                      <strong>ë²Œê¸ˆ:</strong>{\" \"}\n                      {law.fine\n                        ? `${law.fine.toLocaleString()}ì›`\n                        : \"ì •ë³´ ì—†ìŒ\"}\n                    </p>\n                    <p>\n                      <strong>êµ­íšŒ í†µê³¼ì¼:</strong>{\" \"}\n                      {formatDate(law.approvalDate)}\n                    </p>\n                  </div>\n                  <div className=\"law-actions\">\n                    <button\n                      className=\"approve-button\"\n                      onClick={() => approveGovLaw(law)}\n                      disabled={!canManage}\n                    >\n                      ìŠ¹ì¸\n                    </button>\n                    <button\n                      className=\"veto-button\"\n                      onClick={() => vetoGovLaw(law)}\n                      disabled={!canManage}\n                    >\n                      ê±°ë¶€ê¶Œ í–‰ì‚¬\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* ìŠ¹ì¸ ëŒ€ê¸° ë²•ì•ˆ (laws ì»¬ë ‰ì…˜) */}\n        <div className=\"law-approval-section\">\n          <h3>ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ë²•ì•ˆ</h3>\n          {approvedLaws.length === 0 ? (\n            <div className=\"empty-state\">ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ë²•ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>\n          ) : (\n            <div className=\"pending-laws\">\n              {approvedLaws.map((law) => (\n                <div key={law.id} className=\"law-card\">\n                  <div className=\"law-header\">\n                    <h3 className=\"law-title\">{law.title}</h3>\n                    <div className=\"law-status\">êµ­íšŒ ê°€ê²° (ìŠ¹ì¸ ëŒ€ê¸°)</div>\n                  </div>\n                  <div className=\"law-content\">\n                    <p>\n                      <strong>ì·¨ì§€:</strong> {law.purpose}\n                    </p>\n                    <p>\n                      <strong>ì„¤ëª…:</strong> {law.description}\n                    </p>\n                    <p>\n                      <strong>ë²Œê¸ˆ:</strong>{\" \"}\n                      {law.fine\n                        ? `${law.fine.toLocaleString()}ì›`\n                        : \"ì •ë³´ ì—†ìŒ\"}\n                    </p>\n                    <p>\n                      <strong>êµ­íšŒ ìŠ¹ì¸:</strong> ì°¬ì„± {law.approvals || 0}ëª…,\n                      ë°˜ëŒ€ {law.disapprovals || 0}ëª…\n                    </p>\n                    <p>\n                      <strong>êµ­íšŒ ê°€ê²°ì¼:</strong>{\" \"}\n                      {formatDate(law.approvalDate)}\n                    </p>\n                  </div>\n                  <div className=\"law-actions\">\n                    <button\n                      className=\"approve-button\"\n                      onClick={() => approveLaw(law)}\n                      disabled={!canManage}\n                    >\n                      ìµœì¢… ìŠ¹ì¸\n                    </button>\n                    <button\n                      className=\"veto-button\"\n                      onClick={() => openVetoModal(law)}\n                      disabled={!canManage}\n                    >\n                      ê±°ë¶€ê¶Œ í–‰ì‚¬\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <div className=\"vetoed-laws-section\">\n          <h3>ì¬ì˜ê²° ì§„í–‰ ì¤‘ì¸ ë²•ì•ˆ (ëŒ€í†µë ¹ ê±°ë¶€)</h3>\n          {vetoPendingLaws.length === 0 ? (\n            <div className=\"empty-state\">ì¬ì˜ê²° ì§„í–‰ ì¤‘ì¸ ë²•ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>\n          ) : (\n            <div className=\"vetoed-laws\">\n              {vetoPendingLaws.map((law) => (\n                <div key={law.id} className=\"law-card vetoed\">\n                  <div className=\"law-header\">\n                    <h3 className=\"law-title\">{law.title}</h3>\n                    <div className=\"veto-status\">\n                      ê±°ë¶€ê¶Œ í–‰ì‚¬ë¨ (ì¬ì˜ê²° í•„ìš”)\n                    </div>\n                  </div>\n                  <div className=\"law-content\">\n                    <p>\n                      <strong>ì·¨ì§€:</strong> {law.purpose}\n                    </p>\n                    <p>\n                      <strong>ì„¤ëª…:</strong> {law.description}\n                    </p>\n                    <p>\n                      <strong>ë²Œê¸ˆ:</strong>{\" \"}\n                      {law.fine\n                        ? `${law.fine.toLocaleString()}ì›`\n                        : \"ì •ë³´ ì—†ìŒ\"}\n                    </p>\n                    <p>\n                      <strong>ê±°ë¶€ ì‚¬ìœ :</strong> {law.vetoReason}\n                    </p>\n                    <p>\n                      <strong>ê±°ë¶€ ì‹œê°„:</strong> {formatDate(law.vetoDate)}\n                    </p>\n                    <p>\n                      <strong>ì¬ì˜ê²° ë§ˆê°:</strong>{\" \"}\n                      {formatDate(law.vetoDeadline)} (\n                      {getRemainingTime(law.vetoDeadline)})\n                    </p>\n                    <p>\n                      <strong>í˜„ì¬ ì¬ì˜ê²° í˜„í™© (êµ­íšŒ):</strong> ì°¬ì„±{\" \"}\n                      {law.approvals || 0}ëª… / í•„ìš”{\" \"}\n                      {adminSettings.vetoOverrideRequired}ëª…\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* ê±°ë¶€ê¶Œ í–‰ì‚¬ ëª¨ë‹¬ */}\n      {showModal && selectedLaw && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-container\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">ê±°ë¶€ê¶Œ í–‰ì‚¬</h2>\n            </div>\n            <div className=\"modal-content\">\n              <h3>{selectedLaw.title}</h3>\n              <p>ì´ ë²•ì•ˆì— ëŒ€í•´ ê±°ë¶€ê¶Œì„ í–‰ì‚¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>\n              <p>\n                êµ­íšŒ ì¬ì˜ê²°ì„ ìœ„í•´ì„œëŠ”{\" \"}\n                <strong>{adminSettings.vetoOverrideRequired}ëª…</strong> ì´ìƒì˜\n                ì°¬ì„±ì´ í•„ìš”í•©ë‹ˆë‹¤.\n              </p>\n              <div className=\"form-group\">\n                <label className=\"form-label\">ê±°ë¶€ ì‚¬ìœ  (í•„ìˆ˜)</label>\n                <textarea\n                  className=\"form-textarea\"\n                  rows=\"4\"\n                  value={vetoReason}\n                  onChange={(e) => setVetoReason(e.target.value)}\n                  placeholder=\"ê±°ë¶€ ì‚¬ìœ ë¥¼ ìƒì„¸íˆ ì‘ì„±í•´ì£¼ì„¸ìš”.\"\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"modal-button cancel\"\n                onClick={() => {\n                  setShowModal(false);\n                  setSelectedLaw(null);\n                }}\n              >\n                ì·¨ì†Œ\n              </button>\n              <button\n                className=\"modal-button veto\"\n                onClick={vetoLaw}\n                disabled={!vetoReason}\n              >\n                ê±°ë¶€ê¶Œ í–‰ì‚¬\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ê´€ë¦¬ì ì„¤ì • ëª¨ë‹¬ */}\n      {showSettingsModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-container\">\n            <div className=\"modal-header\">\n              <h2 className=\"modal-title\">ê´€ë¦¬ì ì„¤ì •</h2>\n            </div>\n            <div className=\"modal-content\">\n              <div className=\"form-group\">\n                <label className=\"form-label\">ì¬ì˜ê²° í•„ìš” ì°¬ì„±ìˆ˜</label>\n                <input\n                  type=\"number\"\n                  className=\"form-input\"\n                  min=\"1\"\n                  value={newSettings.vetoOverrideRequired}\n                  onChange={(e) =>\n                    setNewSettings({\n                      ...newSettings,\n                      vetoOverrideRequired: parseInt(e.target.value) || 0,\n                    })\n                  }\n                />\n                <p className=\"form-hint\">\n                  ê±°ë¶€ê¶Œ í–‰ì‚¬ í›„ ë²•ì•ˆì´ ìµœì¢… ê°€ê²°ë˜ê¸° ìœ„í•´ í•„ìš”í•œ êµ­íšŒ ì°¬ì„±í‘œ ìˆ˜\n                </p>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"form-label\">\n                  ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (ì„ íƒ)\n                </label>\n                <input\n                  type=\"password\"\n                  className=\"form-input\"\n                  value={newSettings.adminPassword}\n                  onChange={(e) =>\n                    setNewSettings({\n                      ...newSettings,\n                      adminPassword: e.target.value,\n                    })\n                  }\n                  placeholder=\"ë³€ê²½í•˜ë ¤ë©´ ì…ë ¥, ì•„ë‹ˆë©´ ë¹„ì›Œë‘ì„¸ìš”\"\n                />\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"modal-button cancel\"\n                onClick={() => setShowSettingsModal(false)}\n              >\n                ì·¨ì†Œ\n              </button>\n              <button className=\"modal-button submit\" onClick={saveSettings}>\n                ì €ì¥\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OrganizationChart;\n"],"names":["DEFAULT_ADMIN_SETTINGS","vetoOverrideRequired","adminPassword","process","REACT_APP_ADMIN_DEFAULT_PASSWORD","lastUpdated","_ref","classCode","isAdmin","isAuthAdmin","userDoc","useAuth","isPresident","job","canManage","approvedLaws","setApprovedLaws","useState","vetoPendingLaws","setVetoPendingLaws","pendingGovLaws","setPendingGovLaws","showModal","setShowModal","selectedLaw","setSelectedLaw","vetoReason","setVetoReason","adminSettings","setAdminSettings","showSettingsModal","setShowSettingsModal","newSettings","setNewSettings","loadingSettings","setLoadingSettings","loadingLaws","setLoadingLaws","fetchSettings","useCallback","async","settingsDocRef","doc","db","docSnap","getDoc","exists","_objectSpread","data","setDoc","serverTimestamp","logger","log","concat","error","usePolling","interval","enabled","fetchLaws","lawsCollectionRef","collection","q","query","where","allLaws","getDocs","docs","map","id","approved","filter","law","status","presidentAction","vetoPending","fetchGovLaws","lawsRef","snapshot","d","formatDate","dateStringOrTimestamp","date","toDate","Date","isNaN","getTime","getFullYear","getMonth","getDate","getHours","getMinutes","getRemainingTime","deadline","now","diff","hours","Math","floor","minutes","_jsx","className","children","_jsxs","onClick","length","title","proposerName","purpose","description","fine","toLocaleString","approvalDate","alert","window","confirm","lawDocRef","updateDoc","finalStatus","finalApprovalDate","approveGovLaw","disabled","reason","prompt","trim","setDate","vetoDate","vetoDeadline","approvals","disapprovals","voters","vetoGovLaw","approveLaw","openVetoModal","rows","value","onChange","e","target","placeholder","toISOString","type","min","parseInt","updatedSettingsData"],"ignoreList":[],"sourceRoot":""}